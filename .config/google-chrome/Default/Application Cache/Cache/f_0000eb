(function(){// Input 0
function JSCompiler_identityFn() {
  return function(JSCompiler_identityFn_value) {
    return JSCompiler_identityFn_value;
  };
}
function JSCompiler_emptyFn() {
  return function() {
  };
}
function JSCompiler_returnArg(JSCompiler_returnArg_value) {
  return function() {
    return JSCompiler_returnArg_value;
  };
}
function $jscomp$inherits(childCtor, parentCtor) {
  function tempCtor() {
  }
  tempCtor.prototype = parentCtor.prototype;
  childCtor.prototype = new tempCtor;
  childCtor.prototype.constructor = childCtor;
  for (var p in parentCtor) {
    if (Object.defineProperties) {
      var descriptor = Object.getOwnPropertyDescriptor(parentCtor, p);
      descriptor && Object.defineProperty(childCtor, p, descriptor);
    } else {
      childCtor[p] = parentCtor[p];
    }
  }
}
var goog = goog || {}, goog$global = this;
function goog$isDef(val) {
  return void 0 !== val;
}
function goog$getObjectByName(name) {
  for (var parts = name.split("."), cur = goog$global, part;part = parts.shift();) {
    if (null != cur[part]) {
      cur = cur[part];
    } else {
      return null;
    }
  }
  return cur;
}
function goog$nullFunction() {
}
function goog$addSingletonGetter(ctor) {
  ctor.instance_ = void 0;
  ctor.getInstance = function $ctor$getInstance$() {
    return ctor.instance_ ? ctor.instance_ : ctor.instance_ = new ctor;
  };
}
function goog$typeOf(value) {
  var s = typeof value;
  if ("object" == s) {
    if (value) {
      if (value instanceof Array) {
        return "array";
      }
      if (value instanceof Object) {
        return s;
      }
      var className = Object.prototype.toString.call(value);
      if ("[object Window]" == className) {
        return "object";
      }
      if ("[object Array]" == className || "number" == typeof value.length && "undefined" != typeof value.splice && "undefined" != typeof value.propertyIsEnumerable && !value.propertyIsEnumerable("splice")) {
        return "array";
      }
      if ("[object Function]" == className || "undefined" != typeof value.call && "undefined" != typeof value.propertyIsEnumerable && !value.propertyIsEnumerable("call")) {
        return "function";
      }
    } else {
      return "null";
    }
  } else {
    if ("function" == s && "undefined" == typeof value.call) {
      return "object";
    }
  }
  return s;
}
function goog$isArray(val) {
  return "array" == goog$typeOf(val);
}
function goog$isArrayLike(val) {
  var type = goog$typeOf(val);
  return "array" == type || "object" == type && "number" == typeof val.length;
}
function goog$isString(val) {
  return "string" == typeof val;
}
function goog$isNumber(val) {
  return "number" == typeof val;
}
function goog$isFunction(val) {
  return "function" == goog$typeOf(val);
}
function goog$isObject(val) {
  var type = typeof val;
  return "object" == type && null != val || "function" == type;
}
var goog$UID_PROPERTY_ = "closure_uid_" + (1e9 * Math.random() >>> 0), goog$uidCounter_ = 0;
function goog$bindNative_(fn, selfObj, var_args) {
  return fn.call.apply(fn.bind, arguments);
}
function goog$bindJs_(fn, selfObj, var_args) {
  if (!fn) {
    throw Error();
  }
  if (2 < arguments.length) {
    var boundArgs = Array.prototype.slice.call(arguments, 2);
    return function() {
      var newArgs = Array.prototype.slice.call(arguments);
      Array.prototype.unshift.apply(newArgs, boundArgs);
      return fn.apply(selfObj, newArgs);
    };
  }
  return function() {
    return fn.apply(selfObj, arguments);
  };
}
function goog$bind(fn, selfObj, var_args) {
  goog$bind = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? goog$bindNative_ : goog$bindJs_;
  return goog$bind.apply(null, arguments);
}
function goog$partial(fn, var_args) {
  var args = Array.prototype.slice.call(arguments, 1);
  return function() {
    var newArgs = args.slice();
    newArgs.push.apply(newArgs, arguments);
    return fn.apply(this, newArgs);
  };
}
function goog$mixin(target, source) {
  for (var x in source) {
    target[x] = source[x];
  }
}
var goog$now = Date.now || function() {
  return +new Date;
};
function goog$globalEval(script) {
  if (goog$global.execScript) {
    goog$global.execScript(script, "JavaScript");
  } else {
    if (goog$global.eval) {
      if (null == goog$evalWorksForGlobals_) {
        if (goog$global.eval("var _evalTest_ = 1;"), "undefined" != typeof goog$global._evalTest_) {
          try {
            delete goog$global._evalTest_;
          } catch (ignore) {
          }
          goog$evalWorksForGlobals_ = !0;
        } else {
          goog$evalWorksForGlobals_ = !1;
        }
      }
      if (goog$evalWorksForGlobals_) {
        goog$global.eval(script);
      } else {
        var doc = goog$global.document, scriptElt = doc.createElement("SCRIPT");
        scriptElt.type = "text/javascript";
        scriptElt.defer = !1;
        scriptElt.appendChild(doc.createTextNode(script));
        doc.body.appendChild(scriptElt);
        doc.body.removeChild(scriptElt);
      }
    } else {
      throw Error("goog.globalEval not available");
    }
  }
}
var goog$evalWorksForGlobals_ = null;
function goog$inherits(childCtor, parentCtor) {
  function tempCtor() {
  }
  tempCtor.prototype = parentCtor.prototype;
  childCtor.superClass_ = parentCtor.prototype;
  childCtor.prototype = new tempCtor;
  childCtor.prototype.constructor = childCtor;
  childCtor.base = function $childCtor$base$(me, methodName, var_args) {
    for (var args = Array(arguments.length - 2), i = 2;i < arguments.length;i++) {
      args[i - 2] = arguments[i];
    }
    return parentCtor.prototype[methodName].apply(me, args);
  };
}
;
// Input 1
// Input 2
function goog$debug$Error(opt_msg) {
  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, goog$debug$Error);
  } else {
    var stack = Error().stack;
    stack && (this.stack = stack);
  }
  opt_msg && (this.message = String(opt_msg));
}
goog$inherits(goog$debug$Error, Error);
goog$debug$Error.prototype.name = "CustomError";
// Input 3
// Input 4
function goog$string$subs(str, var_args) {
  for (var splitParts = str.split("%s"), returnString = "", subsArguments = Array.prototype.slice.call(arguments, 1);subsArguments.length && 1 < splitParts.length;) {
    returnString += splitParts.shift() + subsArguments.shift();
  }
  return returnString + splitParts.join("%s");
}
var goog$string$trim = String.prototype.trim ? function(str) {
  return str.trim();
} : function(str) {
  return str.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "");
};
function goog$string$caseInsensitiveCompare(str1, str2) {
  var test1 = String(str1).toLowerCase(), test2 = String(str2).toLowerCase();
  return test1 < test2 ? -1 : test1 == test2 ? 0 : 1;
}
function goog$string$countOf(s, ss) {
  return s && ss ? s.split(ss).length - 1 : 0;
}
function goog$string$removeAt(s, index, stringLength) {
  var resultStr = s;
  0 <= index && index < s.length && 0 < stringLength && (resultStr = s.substr(0, index) + s.substr(index + stringLength, s.length - index - stringLength));
  return resultStr;
}
function goog$string$regExpEscape(s) {
  return String(s).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08");
}
var goog$string$repeat = String.prototype.repeat ? function(string, length) {
  return string.repeat(length);
} : function(string, length) {
  return Array(length + 1).join(string);
};
function goog$string$buildString(var_args) {
  return Array.prototype.join.call(arguments, "");
}
function goog$string$compareElements_(left, right) {
  return left < right ? -1 : left > right ? 1 : 0;
}
var goog$string$uniqueStringCounter_ = 2147483648 * Math.random() | 0;
// Input 5
function goog$asserts$AssertionError(messagePattern, messageArgs) {
  messageArgs.unshift(messagePattern);
  goog$debug$Error.call(this, goog$string$subs.apply(null, messageArgs));
  messageArgs.shift();
}
goog$inherits(goog$asserts$AssertionError, goog$debug$Error);
goog$asserts$AssertionError.prototype.name = "AssertionError";
function goog$asserts$doAssertFailure_(defaultMessage, defaultArgs, givenMessage, givenArgs) {
  var message = "Assertion failed";
  if (givenMessage) {
    var message = message + (": " + givenMessage), args = givenArgs;
  } else {
    defaultMessage && (message += ": " + defaultMessage, args = defaultArgs);
  }
  throw new goog$asserts$AssertionError("" + message, args || []);
}
function goog$asserts$assert(condition, opt_message, var_args) {
  condition || goog$asserts$doAssertFailure_("", null, opt_message, Array.prototype.slice.call(arguments, 2));
  return condition;
}
function goog$asserts$fail(opt_message, var_args) {
  throw new goog$asserts$AssertionError("Failure" + (opt_message ? ": " + opt_message : ""), Array.prototype.slice.call(arguments, 1));
}
function goog$asserts$assertNumber(value, opt_message, var_args) {
  goog$isNumber(value) || goog$asserts$doAssertFailure_("Expected number but got %s: %s.", [goog$typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  return value;
}
function goog$asserts$assertString(value, opt_message, var_args) {
  goog$isString(value) || goog$asserts$doAssertFailure_("Expected string but got %s: %s.", [goog$typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  return value;
}
function goog$asserts$assertFunction(value, opt_message, var_args) {
  goog$isFunction(value) || goog$asserts$doAssertFailure_("Expected function but got %s: %s.", [goog$typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  return value;
}
function goog$asserts$assertObject(value, opt_message, var_args) {
  goog$isObject(value) || goog$asserts$doAssertFailure_("Expected object but got %s: %s.", [goog$typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  return value;
}
function goog$asserts$assertArray(value, opt_message, var_args) {
  goog$isArray(value) || goog$asserts$doAssertFailure_("Expected array but got %s: %s.", [goog$typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  return value;
}
function goog$asserts$assertInstanceof(value, type, opt_message, var_args) {
  value instanceof type || goog$asserts$doAssertFailure_("Expected instanceof %s but got %s.", [goog$asserts$getType_(type), goog$asserts$getType_(value)], opt_message, Array.prototype.slice.call(arguments, 3));
}
function goog$asserts$getType_(value) {
  return value instanceof Function ? value.displayName || value.name || "unknown type name" : value instanceof Object ? value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value) : null === value ? "null" : typeof value;
}
;
// Input 6
// Input 7
function goog$object$forEach(obj, f, opt_obj) {
  for (var key in obj) {
    f.call(opt_obj, obj[key], key, obj);
  }
}
function goog$object$getValues(obj) {
  var res = [], i = 0, key;
  for (key in obj) {
    res[i++] = obj[key];
  }
  return res;
}
function goog$object$getKeys(obj) {
  var res = [], i = 0, key;
  for (key in obj) {
    res[i++] = key;
  }
  return res;
}
function goog$object$containsKey(obj, key) {
  return null !== obj && key in obj;
}
function goog$object$isEmpty(obj) {
  for (var key in obj) {
    return !1;
  }
  return !0;
}
function goog$object$clone(obj) {
  var res = {}, key;
  for (key in obj) {
    res[key] = obj[key];
  }
  return res;
}
function goog$object$unsafeClone(obj) {
  var type = goog$typeOf(obj);
  if ("object" == type || "array" == type) {
    if (goog$isFunction(obj.clone)) {
      return obj.clone();
    }
    var clone = "array" == type ? [] : {}, key;
    for (key in obj) {
      clone[key] = goog$object$unsafeClone(obj[key]);
    }
    return clone;
  }
  return obj;
}
var goog$object$PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function goog$object$extend(target, var_args) {
  for (var key, source, i = 1;i < arguments.length;i++) {
    source = arguments[i];
    for (key in source) {
      target[key] = source[key];
    }
    for (var j = 0;j < goog$object$PROTOTYPE_FIELDS_.length;j++) {
      key = goog$object$PROTOTYPE_FIELDS_[j], Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);
    }
  }
}
function goog$object$createSet(var_args) {
  var argLength = arguments.length;
  if (1 == argLength && goog$isArray(arguments[0])) {
    return goog$object$createSet.apply(null, arguments[0]);
  }
  for (var rv = {}, i = 0;i < argLength;i++) {
    rv[arguments[i]] = !0;
  }
  return rv;
}
function goog$object$createImmutableView(obj) {
  var result = obj;
  Object.isFrozen && !Object.isFrozen(obj) && (result = Object.create(obj), Object.freeze(result));
  return result;
}
;
// Input 8
function docs$flag$FlagService(opt_initialData) {
  this.flags_ = {};
  var initialData = opt_initialData || goog$global._docs_flag_initialData, afGlobalData = goog$global.WIZ_global_data;
  !initialData && afGlobalData && (initialData = afGlobalData.nWIH1e);
  initialData && goog$object$extend(this.flags_, initialData);
}
goog$addSingletonGetter(docs$flag$FlagService);
docs$flag$FlagService.prototype.get = function $docs$flag$FlagService$$get$(flag) {
  return this.flags_[flag];
};
function JSCompiler_StaticMethods_getBoolean(JSCompiler_StaticMethods_getBoolean$self, flag) {
  var value = JSCompiler_StaticMethods_getBoolean$self.get(flag);
  return goog$isString(value) ? "true" == value || "1" == value : !!value;
}
function JSCompiler_StaticMethods_getNumber(JSCompiler_StaticMethods_getNumber$self, flag) {
  return Number(JSCompiler_StaticMethods_getNumber$self.get(flag));
}
function JSCompiler_StaticMethods_docs_flag_FlagService_prototype$getString(flag) {
  var rawValue = docs$flag$getInstance().get(flag);
  return null != rawValue ? String(rawValue) : "";
}
;
// Input 9
function docs$flag$getInstance() {
  return docs$flag$FlagService.getInstance();
}
;
// Input 10
// Input 11
function docs$model$Comparable() {
}
;
// Input 12
function goog$array$indexOf(arr, obj) {
  goog$asserts$assert(null != arr.length);
  return Array.prototype.indexOf.call(arr, obj, void 0);
}
function goog$array$forEach(arr, f, opt_obj) {
  goog$asserts$assert(null != arr.length);
  Array.prototype.forEach.call(arr, f, opt_obj);
}
function goog$array$some(arr, f) {
  goog$asserts$assert(null != arr.length);
  return Array.prototype.some.call(arr, f, void 0);
}
function goog$array$every(arr, f, opt_obj) {
  goog$asserts$assert(null != arr.length);
  return Array.prototype.every.call(arr, f, opt_obj);
}
function goog$array$find(arr) {
  var i = goog$array$findIndex(arr, goog$net$XhrIo$isContentTypeHeader_);
  return 0 > i ? null : goog$isString(arr) ? arr.charAt(i) : arr[i];
}
function goog$array$findIndex(arr, f) {
  for (var l = arr.length, arr2 = goog$isString(arr) ? arr.split("") : arr, i = 0;i < l;i++) {
    if (i in arr2 && f.call(void 0, arr2[i], i, arr)) {
      return i;
    }
  }
  return -1;
}
function goog$array$contains(arr, obj) {
  return 0 <= goog$array$indexOf(arr, obj);
}
function goog$array$insertArrayAt(arr, elementsToAdd, opt_i) {
  goog$partial(goog$array$splice, arr, opt_i, 0).apply(null, elementsToAdd);
}
function goog$array$remove(arr, obj) {
  var i = goog$array$indexOf(arr, obj), rv;
  (rv = 0 <= i) && goog$array$removeAt(arr, i);
  return rv;
}
function goog$array$removeAt(arr, i) {
  goog$asserts$assert(null != arr.length);
  return 1 == Array.prototype.splice.call(arr, i, 1).length;
}
function goog$array$removeIf(arr, f) {
  var i = goog$array$findIndex(arr, f);
  0 <= i && goog$array$removeAt(arr, i);
}
function goog$array$concat(var_args) {
  return Array.prototype.concat.apply(Array.prototype, arguments);
}
function goog$array$extend(arr1, var_args) {
  for (var i = 1;i < arguments.length;i++) {
    var arr2 = arguments[i];
    if (goog$isArrayLike(arr2)) {
      var len1 = arr1.length || 0, len2 = arr2.length || 0;
      arr1.length = len1 + len2;
      for (var j = 0;j < len2;j++) {
        arr1[len1 + j] = arr2[j];
      }
    } else {
      arr1.push(arr2);
    }
  }
}
function goog$array$splice(arr, index, howMany, var_args) {
  goog$asserts$assert(null != arr.length);
  return Array.prototype.splice.apply(arr, goog$array$slice(arguments, 1));
}
function goog$array$slice(arr, start, opt_end) {
  goog$asserts$assert(null != arr.length);
  return 2 >= arguments.length ? Array.prototype.slice.call(arr, start) : Array.prototype.slice.call(arr, start, opt_end);
}
function goog$array$removeDuplicates(arr) {
  for (var seen = {}, cursorInsert = 0, cursorRead = 0;cursorRead < arr.length;) {
    var current = arr[cursorRead++], key, item = current;
    key = goog$isObject(item) ? "o" + (item[goog$UID_PROPERTY_] || (item[goog$UID_PROPERTY_] = ++goog$uidCounter_)) : (typeof item).charAt(0) + item;
    Object.prototype.hasOwnProperty.call(seen, key) || (seen[key] = !0, arr[cursorInsert++] = current);
  }
  arr.length = cursorInsert;
}
function goog$array$binarySearch(arr, target, opt_compareFn) {
  return goog$array$binarySearch_(arr, opt_compareFn || goog$array$defaultCompare, !1, target);
}
function goog$array$binarySelect(arr, evaluator) {
  return goog$array$binarySearch_(arr, evaluator, !0, void 0, void 0);
}
function goog$array$binarySearch_(arr, compareFn, isEvaluator, opt_target, opt_selfObj) {
  for (var left = 0, right = arr.length, found;left < right;) {
    var middle = left + right >> 1, compareResult;
    isEvaluator ? compareResult = compareFn.call(opt_selfObj, arr[middle], middle, arr) : compareResult = compareFn(opt_target, arr[middle]);
    0 < compareResult ? left = middle + 1 : (right = middle, found = !compareResult);
  }
  return found ? left : ~left;
}
function goog$array$sort(arr, opt_compareFn) {
  arr.sort(opt_compareFn || goog$array$defaultCompare);
}
function goog$array$equals(arr1, arr2, opt_equalsFn) {
  if (!goog$isArrayLike(arr1) || !goog$isArrayLike(arr2) || arr1.length != arr2.length) {
    return !1;
  }
  for (var l = arr1.length, equalsFn = opt_equalsFn || goog$array$defaultCompareEquality, i = 0;i < l;i++) {
    if (!equalsFn(arr1[i], arr2[i])) {
      return !1;
    }
  }
  return !0;
}
function goog$array$defaultCompare(a, b) {
  return a > b ? 1 : a < b ? -1 : 0;
}
function goog$array$defaultCompareEquality(a, b) {
  return a === b;
}
function goog$array$binaryInsert(array, value, opt_compareFn) {
  var index = goog$array$binarySearch(array, value, opt_compareFn);
  0 > index && goog$array$splice(array, -(index + 1), 0, value);
}
function goog$array$binaryRemove(array, value) {
  var index = goog$array$binarySearch(array, value, void 0);
  0 <= index && goog$array$removeAt(array, index);
}
;
// Input 13
function docs$text$protocol$DefaultStylesProvider(enabledStyleSpecsMap) {
  this.enabledStyleSpecsMap_ = enabledStyleSpecsMap;
  this.enabledStyleTypes_ = goog$object$getKeys(this.enabledStyleSpecsMap_);
  goog$array$sort(this.enabledStyleTypes_);
}
function JSCompiler_StaticMethods_getDefaultStyle(JSCompiler_StaticMethods_getDefaultStyle$self, styleType) {
  if (!(styleType in JSCompiler_StaticMethods_getDefaultStyle$self.enabledStyleSpecsMap_)) {
    throw Error("Call to getDefaultStyle for disabled style type: " + styleType);
  }
  return JSCompiler_StaticMethods_getDefaultStyle$self.enabledStyleSpecsMap_[styleType].docs_text_protocol_DefaultStyleSpec$styleProvider_();
}
docs$text$protocol$DefaultStylesProvider.prototype.equals = function $docs$text$protocol$DefaultStylesProvider$$equals$(other) {
  return other instanceof docs$text$protocol$DefaultStylesProvider ? goog$array$equals(this.enabledStyleTypes_, other.enabledStyleTypes_) : !1;
};
docs$text$protocol$DefaultStylesProvider.prototype.clone = function $docs$text$protocol$DefaultStylesProvider$$clone$() {
  return new docs$text$protocol$DefaultStylesProvider(goog$object$clone(this.enabledStyleSpecsMap_));
};
// Input 14
function docs$text$protocol$DefaultStyleSpec(styleType, styleProvider, propertyNamesProvider) {
  this.docs_text_protocol_DefaultStyleSpec$styleType_ = styleType;
  this.docs_text_protocol_DefaultStyleSpec$styleProvider_ = styleProvider;
  this.propertyNamesProvider_ = propertyNamesProvider;
}
;
// Input 15
function docs$structs$Bimap(opt_map) {
  this.map_ = {};
  this.inverseMap_ = {};
  if (opt_map) {
    for (var key in opt_map) {
      var key$jscomp$0 = key, value = opt_map[key];
      goog$asserts$assert(!goog$isDef(this.map_[key$jscomp$0]));
      goog$asserts$assert(!goog$isDef(this.inverseMap_[value]));
      this.map_[key$jscomp$0] = value;
      this.inverseMap_[value] = key$jscomp$0;
    }
  }
}
docs$structs$Bimap.prototype.inverse_ = null;
docs$structs$Bimap.prototype.get = function $docs$structs$Bimap$$get$(key) {
  return this.map_[key];
};
docs$structs$Bimap.prototype.getKeys = function $docs$structs$Bimap$$getKeys$() {
  return goog$object$getKeys(this.map_);
};
function JSCompiler_StaticMethods_inverseBimap(JSCompiler_StaticMethods_inverseBimap$self) {
  if (!JSCompiler_StaticMethods_inverseBimap$self.inverse_) {
    var inverse = new JSCompiler_StaticMethods_inverseBimap$self.constructor;
    inverse.map_ = JSCompiler_StaticMethods_inverseBimap$self.inverseMap_;
    inverse.inverseMap_ = JSCompiler_StaticMethods_inverseBimap$self.map_;
    inverse.inverse_ = JSCompiler_StaticMethods_inverseBimap$self;
    JSCompiler_StaticMethods_inverseBimap$self.inverse_ = inverse;
  }
  return JSCompiler_StaticMethods_inverseBimap$self.inverse_;
}
;
// Input 16
function docs$text$protocol$PropertyNames(nonInheritablePropertyNames, inheritablePropertyNameMap) {
  this.nonInheritablePropertyNames_ = nonInheritablePropertyNames;
  this.inheritablePropertyNames_ = [];
  this.companionInheritPropertyNames_ = [];
  for (var key in inheritablePropertyNameMap) {
    this.inheritablePropertyNames_.push(key), this.companionInheritPropertyNames_.push(inheritablePropertyNameMap[key]);
  }
  this.nonCompanionPropertyNames_ = this.inheritablePropertyNames_.concat(this.nonInheritablePropertyNames_);
  this.allPropertyNames_ = this.nonCompanionPropertyNames_.concat(this.companionInheritPropertyNames_);
  this.allPropertyNamesSet_ = goog$object$createSet(this.allPropertyNames_);
  goog$object$createSet(nonInheritablePropertyNames);
  this.inheritablePropertyNameMap_ = inheritablePropertyNameMap;
  this.inheritablePropertyBimap_ = new docs$structs$Bimap(inheritablePropertyNameMap);
  for (var i = 0;i < this.nonInheritablePropertyNames_.length;i++) {
    goog$asserts$assert(!goog$array$contains(this.inheritablePropertyNames_, this.nonInheritablePropertyNames_[i])), goog$asserts$assert(!goog$array$contains(this.companionInheritPropertyNames_, this.nonInheritablePropertyNames_[i]));
  }
  for (i = 0;i < this.inheritablePropertyNames_.length;i++) {
    goog$asserts$assert(!goog$array$contains(this.companionInheritPropertyNames_, this.inheritablePropertyNames_[i]));
  }
}
docs$text$protocol$PropertyNames.prototype.equals = function $docs$text$protocol$PropertyNames$$equals$(other) {
  return this == other ? !0 : other instanceof docs$text$protocol$PropertyNames && goog$array$equals(this.allPropertyNames_, other.allPropertyNames_);
};
var docs$text$protocol$PropertyNames$NO_PROPERTIES = new docs$text$protocol$PropertyNames([], {});
function docs$text$protocol$PropertyNames$fromNonInheritableEnum(nonInheritableEnum, opt_basePropertyNames) {
  var nonInheritablePropertyNames = goog$object$getValues(nonInheritableEnum);
  return opt_basePropertyNames ? docs$text$protocol$PropertyNames$fromBasePropertyNames(nonInheritablePropertyNames, opt_basePropertyNames) : new docs$text$protocol$PropertyNames(nonInheritablePropertyNames, {});
}
function docs$text$protocol$PropertyNames$fromBasePropertyNames(nonInheritablePropertyNames, basePropertyNames) {
  var inheritablePropertyNameMap = {};
  goog$array$extend(nonInheritablePropertyNames, basePropertyNames.nonInheritablePropertyNames_);
  var length = nonInheritablePropertyNames.length;
  goog$array$removeDuplicates(nonInheritablePropertyNames);
  goog$asserts$assert(nonInheritablePropertyNames.length == length, "Should not have any duplicates.");
  for (var key in inheritablePropertyNameMap) {
    goog$asserts$assert(!basePropertyNames.inheritablePropertyNameMap_[key], "Should not override a parent property.");
  }
  goog$object$extend(inheritablePropertyNameMap, basePropertyNames.inheritablePropertyNameMap_);
  return new docs$text$protocol$PropertyNames(nonInheritablePropertyNames, inheritablePropertyNameMap);
}
;
// Input 17
function docs$text$protocol$EqualsStrategyState(compareDefined) {
  this.compareDefined_ = compareDefined;
}
var docs$text$protocol$EqualsStrategy$COMPARE_VALUES = new docs$text$protocol$EqualsStrategyState(!1), docs$text$protocol$EqualsStrategy$COMPARE_DEFINED_AND_VALUES = new docs$text$protocol$EqualsStrategyState(!0);
// Input 18
function docs$text$protocol$SerializationStrategyState(onlyDefined, assumeNoInherit, onlyConcrete) {
  if (assumeNoInherit && onlyConcrete) {
    throw Error("Cannot serialize when both assumeNoInherit and onlyConcrete are true.");
  }
  this.docs_text_protocol_SerializationStrategyState$onlyDefined_ = onlyDefined;
  this.assumeNoInherit_ = assumeNoInherit;
  this.onlyConcrete_ = onlyConcrete;
}
function JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(JSCompiler_StaticMethods_shouldSerializeNestedAnnotation$self, serializedAnotation) {
  return !JSCompiler_StaticMethods_shouldSerializeNestedAnnotation$self.docs_text_protocol_SerializationStrategyState$onlyDefined_ || !goog$object$isEmpty(serializedAnotation);
}
function JSCompiler_StaticMethods_shouldSerializeInheritable(JSCompiler_StaticMethods_shouldSerializeInheritable$self, isDefined, isInherit) {
  return (!JSCompiler_StaticMethods_shouldSerializeInheritable$self.docs_text_protocol_SerializationStrategyState$onlyDefined_ || isDefined) && (!JSCompiler_StaticMethods_shouldSerializeInheritable$self.onlyConcrete_ || !isInherit);
}
function JSCompiler_StaticMethods_shouldSerializeCompanionInherit(JSCompiler_StaticMethods_shouldSerializeCompanionInherit$self, isDefined) {
  return !JSCompiler_StaticMethods_shouldSerializeCompanionInherit$self.assumeNoInherit_ && !JSCompiler_StaticMethods_shouldSerializeCompanionInherit$self.onlyConcrete_ && (!JSCompiler_StaticMethods_shouldSerializeCompanionInherit$self.docs_text_protocol_SerializationStrategyState$onlyDefined_ || isDefined);
}
var docs$text$protocol$SerializationStrategy$ASSUME_NO_INHERIT = new docs$text$protocol$SerializationStrategyState(!1, !0, !1), docs$text$protocol$SerializationStrategy$ASSUME_NO_INHERIT_ONLY_DEFINED = new docs$text$protocol$SerializationStrategyState(!0, !0, !1), docs$text$protocol$SerializationStrategy$FULL = new docs$text$protocol$SerializationStrategyState(!1, !1, !1);
new docs$text$protocol$SerializationStrategyState(!1, !1, !0);
new docs$text$protocol$SerializationStrategyState(!0, !1, !0);
var docs$text$protocol$SerializationStrategy$ONLY_DEFINED = new docs$text$protocol$SerializationStrategyState(!0, !1, !1);
// Input 19
function docs$text$protocol$Annotation(propertyNames) {
  this.propertyNames_ = propertyNames;
  this.immutable_ = !1;
  this.docs_text_protocol_Annotation$numInheritValues_ = 0;
}
docs$text$protocol$Annotation.prototype.setImmutable = function $docs$text$protocol$Annotation$$setImmutable$() {
  if (this.immutable_) {
    return this;
  }
  this.immutable_ = !0;
  for (var nestedAnnotationPropertyNames = this.getNestedAnnotationPropertyNames(), i = 0;i < nestedAnnotationPropertyNames.length;i++) {
    var nestedAnnotation = this.getValue(nestedAnnotationPropertyNames[i]);
    nestedAnnotation && nestedAnnotation.setImmutable();
  }
  this.setImmutableInternal();
  return this;
};
docs$text$protocol$Annotation.prototype.setImmutableInternal = goog$nullFunction;
docs$text$protocol$Annotation.prototype.copyTo = function $docs$text$protocol$Annotation$$copyTo$(other) {
  if (other.immutable_) {
    throw Error("Cannot call copyTo on an immutable annotation.");
  }
  other.propertyNames_ = this.propertyNames_;
  other.docs_text_protocol_Annotation$numInheritValues_ = this.docs_text_protocol_Annotation$numInheritValues_;
  this.copyToInternal(other);
};
docs$text$protocol$Annotation.prototype.getValue = function $docs$text$protocol$Annotation$$getValue$(propertyName) {
  return this.getValueInternal(propertyName);
};
docs$text$protocol$Annotation.prototype.isNestedAnnotation = JSCompiler_returnArg(!1);
docs$text$protocol$Annotation.prototype.update = function $docs$text$protocol$Annotation$$update$(propertyMap, opt_strategy) {
  if (this.immutable_) {
    throw Error("Cannot update an immutable annotation.");
  }
  this.updateInternal(propertyMap, opt_strategy);
};
docs$text$protocol$Annotation.prototype.serialize = function $docs$text$protocol$Annotation$$serialize$(opt_strategy) {
  return this.docs_text_protocol_Annotation_prototype$serializeInternal(opt_strategy || docs$text$protocol$SerializationStrategy$FULL);
};
docs$text$protocol$Annotation.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$Annotation$$getNestedAnnotationPropertyNames$() {
  return [];
};
function JSCompiler_StaticMethods_hasInheritValues(JSCompiler_StaticMethods_hasInheritValues$self) {
  if (0 < JSCompiler_StaticMethods_hasInheritValues$self.docs_text_protocol_Annotation$numInheritValues_) {
    return !0;
  }
  for (var nestedAnnotationPropertyNames = JSCompiler_StaticMethods_hasInheritValues$self.getNestedAnnotationPropertyNames(), i = 0;i < nestedAnnotationPropertyNames.length;i++) {
    var nestedAnnotation = JSCompiler_StaticMethods_hasInheritValues$self.getValue(nestedAnnotationPropertyNames[i]);
    if (nestedAnnotation && JSCompiler_StaticMethods_hasInheritValues(nestedAnnotation)) {
      return !0;
    }
  }
  return !1;
}
docs$text$protocol$Annotation.prototype.docs_text_protocol_Annotation_prototype$hasOverriddenValues = function $docs$text$protocol$Annotation$$docs_text_protocol_Annotation_prototype$hasOverriddenValues$() {
  if (0 < this.propertyNames_.companionInheritPropertyNames_.length - this.docs_text_protocol_Annotation$numInheritValues_) {
    return !0;
  }
  for (var nestedAnnotationPropertyNames = this.getNestedAnnotationPropertyNames(), i = 0;i < nestedAnnotationPropertyNames.length;i++) {
    var nestedAnnotation = this.getValue(nestedAnnotationPropertyNames[i]);
    if (nestedAnnotation && nestedAnnotation.docs_text_protocol_Annotation_prototype$hasOverriddenValues()) {
      return !0;
    }
  }
  return !1;
};
function JSCompiler_StaticMethods_updateNumInheritValues(JSCompiler_StaticMethods_updateNumInheritValues$self, oldPropertyValue, newPropertyValue) {
  JSCompiler_StaticMethods_updateNumInheritValues$self.docs_text_protocol_Annotation$numInheritValues_ += docs$text$protocol$Annotation$inheritValueDelta(oldPropertyValue, newPropertyValue);
}
function JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo(JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo$self, destination) {
  if (destination.immutable_) {
    throw Error("Cannot call copyInheritedPropertiesTo with a immutable annotation.");
  }
  JSCompiler_StaticMethods_hasInheritValues(destination) && JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo$self.copyInheritedPropertiesToInternal(destination);
}
docs$text$protocol$Annotation.prototype.copyInheritedPropertiesToInternal = function $docs$text$protocol$Annotation$$copyInheritedPropertiesToInternal$() {
  throw Error("All annotations with inheritable properties should implement its own version of copyInheritedPropertiesToInternal.");
};
docs$text$protocol$Annotation.prototype.subsetEquals = function $docs$text$protocol$Annotation$$subsetEquals$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_, propertyName;
  for (propertyName in propertyMap) {
    if (propertyName in this.propertyNames_.allPropertyNamesSet_ && (!requireDefined || this.docs_text_protocol_Annotation_prototype$isDefined(propertyName))) {
      var currentValue = this.getValue(propertyName), propertyValue = propertyMap[propertyName];
      if (currentValue != propertyValue && !(this.isNestedAnnotation(propertyName) && currentValue && propertyValue && currentValue.subsetEquals(propertyValue, opt_strategy))) {
        return !1;
      }
    }
  }
  return !0;
};
docs$text$protocol$Annotation.prototype.equals = function $docs$text$protocol$Annotation$$equals$(other) {
  return JSCompiler_StaticMethods_equalsWithStrategy(this, other, docs$text$protocol$EqualsStrategy$COMPARE_VALUES);
};
function JSCompiler_StaticMethods_equalsWithStrategy(JSCompiler_StaticMethods_equalsWithStrategy$self, other, strategy) {
  return JSCompiler_StaticMethods_equalsWithStrategy$self == other ? !0 : other && other instanceof docs$text$protocol$Annotation ? JSCompiler_StaticMethods_equalsWithStrategy$self.equalsInternal(other, strategy) : !1;
}
docs$text$protocol$Annotation.prototype.isEqualValue = function $docs$text$protocol$Annotation$$isEqualValue$(propertyName, value) {
  if (this.isNestedAnnotation(propertyName)) {
    var currentValue = this.getValue(propertyName);
    return currentValue ? currentValue.equals(value) : currentValue == value;
  }
  return this.getValue(propertyName) == value;
};
docs$text$protocol$Annotation.prototype.equalsOrInherit = function $docs$text$protocol$Annotation$$equalsOrInherit$(annotation) {
  if (this == annotation) {
    return !0;
  }
  var thisHasInherit = JSCompiler_StaticMethods_hasInheritValues(this), thatHasInherit = JSCompiler_StaticMethods_hasInheritValues(annotation);
  if (thisHasInherit != thatHasInherit) {
    return !1;
  }
  if (!thisHasInherit && !thatHasInherit) {
    return this.equals(annotation);
  }
  var thisPropertyNames = this.propertyNames_;
  if (!thisPropertyNames.equals(annotation.propertyNames_)) {
    return !1;
  }
  for (var nonInheritPropertyNames = thisPropertyNames.nonCompanionPropertyNames_, i = 0;i < nonInheritPropertyNames.length;i++) {
    var nonInheritPropertyName = nonInheritPropertyNames[i], inheritPropertyName = thisPropertyNames.inheritablePropertyBimap_.get(nonInheritPropertyName) || null;
    if (inheritPropertyName) {
      var inheritPropertyValue = this.getValue(inheritPropertyName), otherInheritPropertyValue = annotation.getValue(inheritPropertyName);
      if (inheritPropertyValue && otherInheritPropertyValue) {
        continue;
      } else {
        if (inheritPropertyValue != otherInheritPropertyValue) {
          return !1;
        }
      }
    }
    if (this.isNestedAnnotation(nonInheritPropertyName)) {
      var thisValueAnnotation = this.getValue(nonInheritPropertyName), thatValueAnnotation = annotation.getValue(nonInheritPropertyName);
      if (thisValueAnnotation != thatValueAnnotation && !(thisValueAnnotation && thatValueAnnotation && thisValueAnnotation.equalsOrInherit(thatValueAnnotation))) {
        return !1;
      }
    } else {
      if (!this.isEqualValue(nonInheritPropertyName, annotation.getValue(nonInheritPropertyName))) {
        return !1;
      }
    }
  }
  return !0;
};
function docs$text$protocol$Annotation$inheritValueDelta(oldPropertyValue, newPropertyValue) {
  return oldPropertyValue && !newPropertyValue ? -1 : !oldPropertyValue && newPropertyValue ? 1 : 0;
}
;
// Input 20
var docs$text$protocol$StyleType$ALL_STYLES = "autogen cell column_sector comment composing_decoration composing_region date_time document draft_comment equation equation_function footnote headings horizontal_rule ignore_word import_warnings link list language named_range paragraph revision_diff row smart_todo spellcheck suppress_feature tbl text voice_corrections voice_dotted_span".split(" ");
// Input 21
function docs$text$protocol$Spacers(errorReporter) {
  this.docs_text_protocol_Spacers$errorReporter_ = errorReporter;
}
var docs$text$protocol$Spacers$BREAKABLE_WHITESPACE = ["\t", "\n", "\ue906", "\x0B", "\f"].concat([" "]);
goog$asserts$assert(0 < docs$text$protocol$Spacers$BREAKABLE_WHITESPACE.length);
goog$string$regExpEscape(docs$text$protocol$Spacers$BREAKABLE_WHITESPACE.join(""));
docs$text$protocol$Spacers.prototype.docs_text_protocol_Spacers_prototype$getIndicesOf = function $docs$text$protocol$Spacers$$docs_text_protocol_Spacers_prototype$getIndicesOf$(spacer, opt_startIndex, opt_endIndex) {
  if ("\n" != spacer && "\f" != spacer && "\ue901" != spacer && "\ue900" != spacer && "\u0010" != spacer && "\u0012" != spacer && "\u001c" != spacer && "\u0011" != spacer && "\ue902" != spacer && "\uefff" != spacer && "\ueffe" != spacer && "\ue905" != spacer && "\ue906" != spacer && "\u001a" != spacer && "\u001e" != spacer && "\u0019" != spacer && "\u001b" != spacer && "\u001f" != spacer && "\u001d" != spacer && "\ue903" != spacer && "\ue904" != spacer) {
    throw Error('For performance reasons, get indices of arbitrary markers is not allow for marker "' + spacer + '"');
  }
  return JSCompiler_StaticMethods_getIndicesOf_(this, spacer, opt_startIndex || 0, goog$isDef(opt_endIndex) ? opt_endIndex : JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(this) - 1);
};
function JSCompiler_StaticMethods_getIndicesOf_(JSCompiler_StaticMethods_getIndicesOf_$self, spacer, startIndex, endIndex) {
  for (var indices = [], i = startIndex;i <= endIndex;i++) {
    i = JSCompiler_StaticMethods_getIndicesOf_$self.indexOf(spacer, i);
    if (-1 == i || i > endIndex) {
      break;
    }
    indices.push(i);
  }
  return indices;
}
function docs$text$protocol$Spacers$createSpacersRegExp(spacers) {
  return 0 < spacers.length ? new RegExp("[" + goog$string$regExpEscape(spacers.join("")) + "]", "g") : null;
}
;
// Input 22
function docs$text$protocol$StyleTypeInfo(builder) {
  goog$asserts$assert(!(builder.docs_text_protocol_StyleTypeInfo$Builder$isMetadata_ && builder.docs_text_protocol_StyleTypeInfo$Builder$isSuggestible_), "Metadata styles cannot be suggestible.");
  goog$asserts$assert(!builder.docs_text_protocol_StyleTypeInfo$Builder$isTetheredAfterSpacers_ || builder.docs_text_protocol_StyleTypeInfo$Builder$isTethered_, "Must be tethered to be tethered after spacers.");
  goog$asserts$assert(0 == builder.docs_text_protocol_StyleTypeInfo$Builder$defaultMarkers_.length || builder.docs_text_protocol_StyleTypeInfo$Builder$isTethered_, "Must be tethered to default markers.");
  this.docs_text_protocol_StyleTypeInfo$type_ = builder.docs_text_protocol_StyleTypeInfo$Builder$type_;
  this.docs_text_protocol_StyleTypeInfo$isTethered_ = builder.docs_text_protocol_StyleTypeInfo$Builder$isTethered_;
  this.docs_text_protocol_StyleTypeInfo$isSuggestible_ = builder.docs_text_protocol_StyleTypeInfo$Builder$isSuggestible_;
  this.docs_text_protocol_StyleTypeInfo$defaultMarkers_ = builder.docs_text_protocol_StyleTypeInfo$Builder$defaultMarkers_;
  this.docs_text_protocol_StyleTypeInfo$isTetheredAfterSpacers_ = builder.docs_text_protocol_StyleTypeInfo$Builder$isTetheredAfterSpacers_;
  this.docs_text_protocol_StyleTypeInfo$isMetadata_ = builder.docs_text_protocol_StyleTypeInfo$Builder$isMetadata_;
  this.docs_text_protocol_StyleTypeInfo$allowsPartialStyle_ = builder.docs_text_protocol_StyleTypeInfo$Builder$allowsPartialStyle_;
  this.docs_text_protocol_StyleTypeInfo$clearsIntersecting_ = builder.docs_text_protocol_StyleTypeInfo$Builder$clearsIntersecting_;
  this.docs_text_protocol_StyleTypeInfo$applyDefaultStyleToTetherMarkers_ = builder.docs_text_protocol_StyleTypeInfo$Builder$applyDefaultStyleToTetherMarkers_;
}
docs$text$protocol$StyleTypeInfo.prototype.getType = function $docs$text$protocol$StyleTypeInfo$$getType$() {
  return this.docs_text_protocol_StyleTypeInfo$type_;
};
function docs$text$protocol$StyleTypeInfo$builder(type) {
  return new docs$text$protocol$StyleTypeInfo$0Builder(type);
}
function docs$text$protocol$StyleTypeInfo$0Builder(type) {
  this.docs_text_protocol_StyleTypeInfo$Builder$type_ = type;
  this.docs_text_protocol_StyleTypeInfo$Builder$isSuggestible_ = this.docs_text_protocol_StyleTypeInfo$Builder$isTethered_ = !1;
  this.docs_text_protocol_StyleTypeInfo$Builder$defaultMarkers_ = [];
  this.docs_text_protocol_StyleTypeInfo$Builder$isMetadata_ = this.docs_text_protocol_StyleTypeInfo$Builder$isTetheredAfterSpacers_ = !1;
  this.docs_text_protocol_StyleTypeInfo$Builder$allowsPartialStyle_ = !0;
  this.docs_text_protocol_StyleTypeInfo$Builder$clearsIntersecting_ = !1;
  this.docs_text_protocol_StyleTypeInfo$Builder$applyDefaultStyleToTetherMarkers_ = !0;
}
function JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered$self) {
  JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered$self.docs_text_protocol_StyleTypeInfo$Builder$isTethered_ = !0;
  return JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered$self;
}
function JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible$self) {
  JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible$self.docs_text_protocol_StyleTypeInfo$Builder$isSuggestible_ = !0;
  return JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible$self;
}
function JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_defaultMarkers$self, defaultMarkers) {
  JSCompiler_StaticMethods_defaultMarkers$self.docs_text_protocol_StyleTypeInfo$Builder$defaultMarkers_ = defaultMarkers;
  return JSCompiler_StaticMethods_defaultMarkers$self;
}
function JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata$self) {
  JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata$self.docs_text_protocol_StyleTypeInfo$Builder$isMetadata_ = !0;
  return JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata$self;
}
function JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$allowsPartialStyle(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$allowsPartialStyle$self) {
  JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$allowsPartialStyle$self.docs_text_protocol_StyleTypeInfo$Builder$allowsPartialStyle_ = !1;
  return JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$allowsPartialStyle$self;
}
function JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$clearsIntersecting(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$clearsIntersecting$self) {
  JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$clearsIntersecting$self.docs_text_protocol_StyleTypeInfo$Builder$clearsIntersecting_ = !0;
  return JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$clearsIntersecting$self;
}
function JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$applyDefaultStyleToTetherMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$applyDefaultStyleToTetherMarkers$self, applyDefaultStyleToTetherMarkers) {
  JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$applyDefaultStyleToTetherMarkers$self.docs_text_protocol_StyleTypeInfo$Builder$applyDefaultStyleToTetherMarkers_ = applyDefaultStyleToTetherMarkers;
  return JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$applyDefaultStyleToTetherMarkers$self;
}
function JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build$self) {
  return new docs$text$protocol$StyleTypeInfo(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build$self);
}
;
// Input 23
var JSCompiler_temp_const$jscomp$2317 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$applyDefaultStyleToTetherMarkers(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("autogen"))), 
["\uefff"]), !1)), JSCompiler_temp_const$jscomp$2316 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("cell"))), ["\u001c"])), JSCompiler_temp_const$jscomp$2315 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$applyDefaultStyleToTetherMarkers(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("column_sector")), 
["\u0003", "\ue905"]), !0)), JSCompiler_temp_const$jscomp$2314 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(docs$text$protocol$StyleTypeInfo$builder("comment")), JSCompiler_temp_const$jscomp$2313 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$allowsPartialStyle(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata(docs$text$protocol$StyleTypeInfo$builder("composing_decoration")))), 
JSCompiler_temp_const$jscomp$2312 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$allowsPartialStyle(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata(docs$text$protocol$StyleTypeInfo$builder("composing_region")))), JSCompiler_temp_const$jscomp$2311 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("date_time"))), 
["\ue903"])), JSCompiler_temp_const$jscomp$2310 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("document"))), ["\u0003"])), JSCompiler_temp_const$jscomp$2309 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata(docs$text$protocol$StyleTypeInfo$builder("draft_comment"))), 
JSCompiler_temp_const$jscomp$2308 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("equation"))), ["\u001a"])), JSCompiler_temp_const$jscomp$2307 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("equation_function"))), 
["\u0019", "\u001f"])), JSCompiler_temp_const$jscomp$2306 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$applyDefaultStyleToTetherMarkers(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("footnote"))), 
["#"]), !1)), JSCompiler_temp_const$jscomp$2305 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("headings"))), ["\u0003"])), JSCompiler_temp_const$jscomp$2304 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$applyDefaultStyleToTetherMarkers(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("horizontal_rule"))), 
["-"]), !1)), JSCompiler_temp_const$jscomp$2303 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$clearsIntersecting(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$allowsPartialStyle(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata(docs$text$protocol$StyleTypeInfo$builder("ignore_word"))))), JSCompiler_temp_const$jscomp$2302 = 
JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(docs$text$protocol$StyleTypeInfo$builder("import_warnings"))), JSCompiler_temp_const$jscomp$2301 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(docs$text$protocol$StyleTypeInfo$builder("link"))), JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTetheredAfterSpacers$self$jscomp$inline_2376 = 
JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("list"))), ["\n"]);
JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTetheredAfterSpacers$self$jscomp$inline_2376.docs_text_protocol_StyleTypeInfo$Builder$isTetheredAfterSpacers_ = !0;
var JSCompiler_temp_const$jscomp$2321 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTetheredAfterSpacers$self$jscomp$inline_2376), JSCompiler_temp_const$jscomp$2320 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("language"))), 
JSCompiler_temp_const$jscomp$2319 = JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(docs$text$protocol$StyleTypeInfo$builder("named_range"))), JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTetheredAfterSpacers$self$jscomp$inline_2378 = JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("paragraph"))), 
["\n"]);
JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTetheredAfterSpacers$self$jscomp$inline_2378.docs_text_protocol_StyleTypeInfo$Builder$isTetheredAfterSpacers_ = !0;
var docs$text$protocol$StyleTypes$STYLE_TYPE_INFOS_ = [JSCompiler_temp_const$jscomp$2317, JSCompiler_temp_const$jscomp$2316, JSCompiler_temp_const$jscomp$2315, JSCompiler_temp_const$jscomp$2314, JSCompiler_temp_const$jscomp$2313, JSCompiler_temp_const$jscomp$2312, JSCompiler_temp_const$jscomp$2311, JSCompiler_temp_const$jscomp$2310, JSCompiler_temp_const$jscomp$2309, JSCompiler_temp_const$jscomp$2308, JSCompiler_temp_const$jscomp$2307, JSCompiler_temp_const$jscomp$2306, JSCompiler_temp_const$jscomp$2305, 
JSCompiler_temp_const$jscomp$2304, JSCompiler_temp_const$jscomp$2303, JSCompiler_temp_const$jscomp$2302, JSCompiler_temp_const$jscomp$2301, JSCompiler_temp_const$jscomp$2321, JSCompiler_temp_const$jscomp$2320, JSCompiler_temp_const$jscomp$2319, JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTetheredAfterSpacers$self$jscomp$inline_2378), JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata(docs$text$protocol$StyleTypeInfo$builder("revision_diff"))), 
JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("row"))), ["\u0012"])), JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata(docs$text$protocol$StyleTypeInfo$builder("smart_todo"))), 
JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$clearsIntersecting(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$allowsPartialStyle(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata(docs$text$protocol$StyleTypeInfo$builder("spellcheck"))))), JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(docs$text$protocol$StyleTypeInfo$builder("suppress_feature"))), 
JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_defaultMarkers(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isTethered(docs$text$protocol$StyleTypeInfo$builder("tbl"))), ["\u0010"])), JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isSuggestible(docs$text$protocol$StyleTypeInfo$builder("text"))), 
JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$clearsIntersecting(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$allowsPartialStyle(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata(docs$text$protocol$StyleTypeInfo$builder("voice_corrections"))))), JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$build(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$clearsIntersecting(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$allowsPartialStyle(JSCompiler_StaticMethods_docs_text_protocol_StyleTypeInfo$Builder_prototype$isMetadata(docs$text$protocol$StyleTypeInfo$builder("voice_dotted_span")))))], 
docs$text$protocol$StyleTypes$styleTypeInfos_ = {}, docs$text$protocol$StyleTypes$styleTypesForMarker_ = {}, docs$text$protocol$StyleTypes$markersWithDefaultStyles_ = [];
function docs$text$protocol$StyleTypes$isTethered(type) {
  return docs$text$protocol$StyleTypes$getStyleTypeInfo_(type).docs_text_protocol_StyleTypeInfo$isTethered_;
}
function docs$text$protocol$StyleTypes$getStyleTypeInfo_(type) {
  var typeInfo = docs$text$protocol$StyleTypes$styleTypeInfos_[type];
  if (!typeInfo) {
    throw Error("Style type info for type: " + type + " is not registered.");
  }
  return typeInfo;
}
for (var docs$text$protocol$StyleTypes$styleTypeInfos_ = {}, docs$text$protocol$StyleTypes$styleTypesForMarker_ = {}, i$jscomp$inline_2380 = 0;i$jscomp$inline_2380 < docs$text$protocol$StyleTypes$STYLE_TYPE_INFOS_.length;i$jscomp$inline_2380++) {
  var styleTypeInfo$jscomp$inline_3292 = docs$text$protocol$StyleTypes$STYLE_TYPE_INFOS_[i$jscomp$inline_2380];
  docs$text$protocol$StyleTypes$styleTypeInfos_[styleTypeInfo$jscomp$inline_3292.getType()] = styleTypeInfo$jscomp$inline_3292;
  if (styleTypeInfo$jscomp$inline_3292.docs_text_protocol_StyleTypeInfo$isTethered_ && styleTypeInfo$jscomp$inline_3292.docs_text_protocol_StyleTypeInfo$applyDefaultStyleToTetherMarkers_) {
    for (var markers$jscomp$inline_3293 = styleTypeInfo$jscomp$inline_3292.docs_text_protocol_StyleTypeInfo$defaultMarkers_, i$jscomp$inline_3294 = 0;i$jscomp$inline_3294 < markers$jscomp$inline_3293.length;i$jscomp$inline_3294++) {
      var marker$jscomp$inline_3295 = markers$jscomp$inline_3293[i$jscomp$inline_3294];
      docs$text$protocol$StyleTypes$styleTypesForMarker_[marker$jscomp$inline_3295] || (docs$text$protocol$StyleTypes$markersWithDefaultStyles_.push(marker$jscomp$inline_3295), docs$text$protocol$StyleTypes$styleTypesForMarker_[marker$jscomp$inline_3295] = []);
      docs$text$protocol$StyleTypes$styleTypesForMarker_[marker$jscomp$inline_3295].push(styleTypeInfo$jscomp$inline_3292.getType());
    }
  }
}
;
// Input 24
function docs$text$protocol$Style(type, propertyNames) {
  docs$text$protocol$Annotation.call(this, propertyNames);
  this.docs_text_protocol_Style$type_ = type;
}
goog$inherits(docs$text$protocol$Style, docs$text$protocol$Annotation);
var docs$text$protocol$Style$nestedAnnotationPropertyNames_ = {};
goog$object$createSet("cell document list headings tbl text".split(" "));
docs$text$protocol$Style.prototype.getType = function $docs$text$protocol$Style$$getType$() {
  return this.docs_text_protocol_Style$type_;
};
docs$text$protocol$Style.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$Style$$getNestedAnnotationPropertyNames$() {
  if (docs$text$protocol$Style$nestedAnnotationPropertyNames_[this.docs_text_protocol_Style$type_]) {
    return docs$text$protocol$Style$nestedAnnotationPropertyNames_[this.docs_text_protocol_Style$type_];
  }
  for (var allPropertyNames = this.propertyNames_.allPropertyNames_, names = [], i = 0;i < allPropertyNames.length;i++) {
    var propertyName = allPropertyNames[i];
    this.isNestedAnnotation(propertyName) && names.push(propertyName);
  }
  return docs$text$protocol$Style$nestedAnnotationPropertyNames_[this.docs_text_protocol_Style$type_] = names;
};
docs$text$protocol$Style.prototype.getRelatedSectionEntityIds = function $docs$text$protocol$Style$$getRelatedSectionEntityIds$() {
  return [];
};
docs$text$protocol$Style.prototype.getReferencedEntityIds = function $docs$text$protocol$Style$$getReferencedEntityIds$() {
  return [];
};
function JSCompiler_StaticMethods_getIntersection_(JSCompiler_StaticMethods_getIntersection_$self, style, opt_intersectionPropertyMap) {
  for (var intersectionPropertyMap = opt_intersectionPropertyMap || JSCompiler_StaticMethods_getIntersection_$self.serialize(), propertyNames = JSCompiler_StaticMethods_getIntersection_$self.propertyNames_.allPropertyNames_, i = 0;i < propertyNames.length;i++) {
    var propertyName = propertyNames[i];
    JSCompiler_StaticMethods_getIntersection_$self.isEqualValue(propertyName, style.getValue(propertyName)) || delete intersectionPropertyMap[propertyName];
  }
  return intersectionPropertyMap;
}
docs$text$protocol$Style.prototype.equalsOrInherit = function $docs$text$protocol$Style$$equalsOrInherit$(style) {
  return style instanceof docs$text$protocol$Style && this.getType() == style.getType() && docs$text$protocol$Style.superClass_.equalsOrInherit.call(this, style);
};
function JSCompiler_StaticMethods_getConcreteCopy(JSCompiler_StaticMethods_getConcreteCopy$self, parentStyle) {
  var copy = JSCompiler_StaticMethods_getConcreteCopy$self.clone();
  if (parentStyle.getType() != JSCompiler_StaticMethods_getConcreteCopy$self.getType()) {
    return copy;
  }
  JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo(parentStyle, copy);
  return copy;
}
;
// Input 25
function docs$text$protocol$AutogenRegionStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "autogen", docs$text$protocol$AutogenRegionStyle$propertyNames_);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$AutogenRegionStyle, docs$text$protocol$Style);
docs$text$protocol$AutogenRegionStyle.prototype.autogenType_ = 0;
docs$text$protocol$AutogenRegionStyle.prototype.autogenTypeDefined_ = !1;
var docs$text$protocol$AutogenRegionStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({TYPE:"autogen_type"});
docs$text$protocol$AutogenRegionStyle.prototype.updateInternal = function $docs$text$protocol$AutogenRegionStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("autogen_type" in propertyMap) {
    var value = propertyMap.autogen_type;
    if (!requireDefined || this.autogenTypeDefined_) {
      this.autogenTypeDefined_ = !0, this.autogenType_ = value;
    }
  }
};
docs$text$protocol$AutogenRegionStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$AutogenRegionStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.autogenTypeDefined_) {
    serializedObj.autogen_type = this.autogenType_;
  }
  return serializedObj;
};
docs$text$protocol$AutogenRegionStyle.prototype.getValueInternal = function $docs$text$protocol$AutogenRegionStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "autogen_type":
      return this.autogenType_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$AutogenRegionStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$AutogenRegionStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "autogen_type":
      return this.autogenTypeDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$AutogenRegionStyle.prototype.equalsInternal = function $docs$text$protocol$AutogenRegionStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$AutogenRegionStyle) || strategy.compareDefined_ && this.autogenTypeDefined_ != other.autogenTypeDefined_ ? !1 : this.autogenType_ == other.autogenType_;
};
docs$text$protocol$AutogenRegionStyle.prototype.clone = function $docs$text$protocol$AutogenRegionStyle$$clone$() {
  var style = new docs$text$protocol$AutogenRegionStyle;
  this.copyTo(style);
  return style;
};
docs$text$protocol$AutogenRegionStyle.prototype.copyToInternal = function $docs$text$protocol$AutogenRegionStyle$$copyToInternal$(other) {
  other.autogenType_ = this.autogenType_;
  other.autogenTypeDefined_ = this.autogenTypeDefined_;
};
var docs$text$protocol$AutogenRegionStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("autogen", function() {
  return new docs$text$protocol$AutogenRegionStyle;
}, function() {
  return docs$text$protocol$AutogenRegionStyle$propertyNames_;
});
// Input 26
// Input 27
// Input 28
var docs$text$util$PointsUtil$POINTS_PER_MM = 72 / 25.4;
// Input 29
function docs$text$protocol$AnnotationStateUpdateResult(state, updateInheritDelta) {
  this.docs_text_protocol_AnnotationStateUpdateResult$state_ = state;
  this.updateInheritDelta_ = updateInheritDelta;
}
;
// Input 30
function docs$text$protocol$Color(type, propertyNames) {
  docs$text$protocol$Annotation.call(this, propertyNames);
  this.docs_text_protocol_Color$type_ = type;
}
goog$inherits(docs$text$protocol$Color, docs$text$protocol$Annotation);
var docs$text$protocol$Color$propertyNames = docs$text$protocol$PropertyNames$fromNonInheritableEnum({TYPE:"clr_type"});
docs$text$protocol$Color.prototype.getType = function $docs$text$protocol$Color$$getType$() {
  return this.docs_text_protocol_Color$type_;
};
docs$text$protocol$Color.prototype.updateInternal = goog$nullFunction;
docs$text$protocol$Color.prototype.getValueInternal = function $docs$text$protocol$Color$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "clr_type":
      return this.docs_text_protocol_Color$type_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Color.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Color$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "clr_type":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Color.prototype.equalsInternal = function $docs$text$protocol$Color$$equalsInternal$(other) {
  return other instanceof docs$text$protocol$Color ? this.docs_text_protocol_Color$type_ == other.docs_text_protocol_Color$type_ : !1;
};
docs$text$protocol$Color.prototype.subsetEquals = function $docs$text$protocol$Color$$subsetEquals$(propertyMap, opt_strategy) {
  return this.docs_text_protocol_Color$type_ == propertyMap.clr_type && docs$text$protocol$Color.superClass_.subsetEquals.call(this, propertyMap, opt_strategy);
};
docs$text$protocol$Color.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Color$$docs_text_protocol_Annotation_prototype$serializeInternal$() {
  var serializedObj = {};
  serializedObj.clr_type = this.docs_text_protocol_Color$type_;
  return serializedObj;
};
// Input 31
function goog$functions$constant(retValue) {
  return function() {
    return retValue;
  };
}
var goog$functions$TRUE = goog$functions$constant(!0);
function goog$functions$identity(opt_returnValue) {
  return opt_returnValue;
}
function goog$functions$error(message) {
  return function() {
    throw Error(message);
  };
}
function goog$functions$lock(f) {
  var opt_numArgs;
  opt_numArgs = opt_numArgs || 0;
  return function() {
    return f.apply(this, Array.prototype.slice.call(arguments, 0, opt_numArgs));
  };
}
;
// Input 32
function docs$text$protocol$HexColor(opt_propertyMap) {
  docs$text$protocol$Color.call(this, 0, docs$text$protocol$HexColor$propertyNames_);
  opt_propertyMap && this.update(opt_propertyMap);
  this.setImmutable();
}
goog$inherits(docs$text$protocol$HexColor, docs$text$protocol$Color);
var docs$text$protocol$HexColor$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COLOR:"hclr_color"}, docs$text$protocol$Color$propertyNames);
docs$text$protocol$HexColor.prototype.hexColor_ = null;
docs$text$protocol$HexColor.prototype.clone = function $docs$text$protocol$HexColor$$clone$() {
  return this;
};
docs$text$protocol$HexColor.prototype.copyToInternal = goog$functions$error("Called HexColor.copyToInternal.");
docs$text$protocol$HexColor.prototype.updateInternal = function $docs$text$protocol$HexColor$$updateInternal$(propertyMap, opt_strategy) {
  docs$text$protocol$HexColor.superClass_.updateInternal.call(this, propertyMap, opt_strategy);
  "hclr_color" in propertyMap && (this.hexColor_ = propertyMap.hclr_color);
};
docs$text$protocol$HexColor.prototype.getValueInternal = function $docs$text$protocol$HexColor$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "hclr_color":
      return this.hexColor_;
  }
  return docs$text$protocol$HexColor.superClass_.getValueInternal.call(this, propertyName);
};
docs$text$protocol$HexColor.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$HexColor$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "hclr_color":
      return !0;
  }
  return docs$text$protocol$HexColor.superClass_.docs_text_protocol_Annotation_prototype$isDefined.call(this, propertyName);
};
docs$text$protocol$HexColor.prototype.equalsInternal = function $docs$text$protocol$HexColor$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$HexColor ? docs$text$protocol$HexColor.superClass_.equalsInternal.call(this, other, strategy) && this.hexColor_ == other.hexColor_ : !1;
};
docs$text$protocol$HexColor.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$HexColor$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = docs$text$protocol$HexColor.superClass_.docs_text_protocol_Annotation_prototype$serializeInternal.call(this, strategy);
  serializedObject.hclr_color = this.hexColor_;
  return serializedObject;
};
// Input 33
function docs$text$protocol$Border(opt_propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$Border$propertyNames_);
  this.docs_text_protocol_Border$state_ = docs$text$protocol$Border$0State_$DEFAULT_;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$Border, docs$text$protocol$Annotation);
var docs$text$protocol$Border$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COLOR:"brdr_c", WIDTH:"brdr_w", LINE_STYLE:"brdr_ls", SPACE:"brdr_s"});
docs$text$protocol$Border.prototype.updateInternal = function $docs$text$protocol$Border$$updateInternal$(propertyMap, opt_strategy) {
  this.docs_text_protocol_Border$state_ = this.docs_text_protocol_Border$state_.update(propertyMap, opt_strategy);
};
docs$text$protocol$Border.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Border$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  return this.docs_text_protocol_Border$state_.serialize(strategy);
};
docs$text$protocol$Border.prototype.equalsInternal = function $docs$text$protocol$Border$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$Border ? this.docs_text_protocol_Border$state_.equals(other.docs_text_protocol_Border$state_, strategy) : !1;
};
docs$text$protocol$Border.prototype.getValueInternal = function $docs$text$protocol$Border$$getValueInternal$(propertyName) {
  return this.docs_text_protocol_Border$state_.getValue(propertyName);
};
docs$text$protocol$Border.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Border$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  a: {
    switch(propertyName) {
      case "brdr_c":
      case "brdr_w":
      case "brdr_ls":
      case "brdr_s":
        break a;
    }
    throw Error("Unknown annotation property name " + propertyName);
  }
  return !0;
};
docs$text$protocol$Border.prototype.clone = function $docs$text$protocol$Border$$clone$() {
  var border = new docs$text$protocol$Border;
  this.copyTo(border);
  return border;
};
docs$text$protocol$Border.prototype.copyToInternal = function $docs$text$protocol$Border$$copyToInternal$(other) {
  other.docs_text_protocol_Border$state_ = this.docs_text_protocol_Border$state_;
};
function docs$text$protocol$Border$getColorString(color) {
  if (0 != color.getType()) {
    throw Error("Color is not a hex color.");
  }
  return color.hexColor_;
}
function docs$text$protocol$Border$0State_(color, width, lineStyle, space) {
  this.docs_text_protocol_Border$State_$color_ = color;
  this.docs_text_protocol_Border$State_$width_ = width;
  this.lineStyle_ = lineStyle;
  this.space_ = space;
}
docs$text$protocol$Border$0State_.prototype.update = function $docs$text$protocol$Border$0State_$$update$(propertyMap) {
  var color = this.docs_text_protocol_Border$State_$color_, width = this.docs_text_protocol_Border$State_$width_, lineStyle = this.lineStyle_, space = this.space_;
  if ("brdr_c" in propertyMap) {
    var value = propertyMap.brdr_c, updateMap = {clr_type:0};
    updateMap.hclr_color = value;
    color.subsetEquals(updateMap) || (color = new docs$text$protocol$HexColor(updateMap));
  }
  "brdr_w" in propertyMap && (width = value = propertyMap.brdr_w);
  "brdr_ls" in propertyMap && (lineStyle = value = propertyMap.brdr_ls);
  "brdr_s" in propertyMap && (space = value = propertyMap.brdr_s);
  return new docs$text$protocol$Border$0State_(color, width, lineStyle, space);
};
docs$text$protocol$Border$0State_.prototype.serialize = function $docs$text$protocol$Border$0State_$$serialize$() {
  var serializedObj = {};
  serializedObj.brdr_c = docs$text$protocol$Border$getColorString(this.docs_text_protocol_Border$State_$color_);
  serializedObj.brdr_w = this.docs_text_protocol_Border$State_$width_;
  serializedObj.brdr_ls = this.lineStyle_;
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-ebss") && (serializedObj.brdr_s = this.space_);
  return serializedObj;
};
docs$text$protocol$Border$0State_.prototype.getValue = function $docs$text$protocol$Border$0State_$$getValue$(propertyName) {
  switch(propertyName) {
    case "brdr_c":
      return docs$text$protocol$Border$getColorString(this.docs_text_protocol_Border$State_$color_);
    case "brdr_w":
      return this.docs_text_protocol_Border$State_$width_;
    case "brdr_ls":
      return this.lineStyle_;
    case "brdr_s":
      return this.space_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Border$0State_.prototype.equals = function $docs$text$protocol$Border$0State_$$equals$(other, strategy) {
  return other == this ? !0 : JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_Border$State_$color_, other.docs_text_protocol_Border$State_$color_, strategy) && this.docs_text_protocol_Border$State_$width_ == other.docs_text_protocol_Border$State_$width_ && this.lineStyle_ == other.lineStyle_ && this.space_ == other.space_;
};
var docs$text$protocol$Border$0State_$DEFAULT_ = new docs$text$protocol$Border$0State_(new docs$text$protocol$HexColor, 0, 0, 0);
goog$object$createImmutableView((new docs$text$protocol$Border).serialize());
// Input 34
function docs$text$protocol$CellStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "cell", docs$text$protocol$CellStyle$propertyNames_);
  this.docs_text_protocol_CellStyle$state_ = docs$text$protocol$CellStyle$0State_$default_;
  this.docs_text_protocol_CellStyle$borderBottom_ = new docs$text$protocol$Border;
  this.docs_text_protocol_CellStyle$borderBottomDefined_ = !1;
  this.docs_text_protocol_CellStyle$borderBottomInherit_ = !0;
  this.docs_text_protocol_CellStyle$borderLeft_ = new docs$text$protocol$Border;
  this.docs_text_protocol_CellStyle$borderLeftDefined_ = !1;
  this.docs_text_protocol_CellStyle$borderLeftInherit_ = !0;
  this.docs_text_protocol_CellStyle$borderRight_ = new docs$text$protocol$Border;
  this.docs_text_protocol_CellStyle$borderRightDefined_ = !1;
  this.docs_text_protocol_CellStyle$borderRightInherit_ = !0;
  this.docs_text_protocol_CellStyle$borderTop_ = new docs$text$protocol$Border;
  this.docs_text_protocol_CellStyle$borderTopDefined_ = !1;
  this.docs_text_protocol_CellStyle$borderTopInherit_ = !0;
  this.docs_text_protocol_Annotation$numInheritValues_ = 4;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$CellStyle, docs$text$protocol$Style);
var docs$text$protocol$CellStyle$propertyNames_, nonInheritablePropertyNames$jscomp$inline_187 = ["cell_cs", "cell_rs"];
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-tems") && (nonInheritablePropertyNames$jscomp$inline_187.push("cell_edc"), nonInheritablePropertyNames$jscomp$inline_187.push("cell_esc"));
docs$text$protocol$CellStyle$propertyNames_ = new docs$text$protocol$PropertyNames(nonInheritablePropertyNames$jscomp$inline_187, {cell_bgc:"cell_bgc_i", cell_pb:"cell_pb_i", cell_pl:"cell_pl_i", cell_pr:"cell_pr_i", cell_pt:"cell_pt_i", cell_va:"cell_va_i", cell_bb:"cell_bb_i", cell_bl:"cell_bl_i", cell_br:"cell_br_i", cell_bt:"cell_bt_i"});
docs$text$protocol$CellStyle.prototype.getRowSpan = function $docs$text$protocol$CellStyle$$getRowSpan$() {
  return this.docs_text_protocol_CellStyle$state_.getRowSpan();
};
function JSCompiler_StaticMethods_docs_text_protocol_CellStyle_prototype$getBorder(JSCompiler_StaticMethods_docs_text_protocol_CellStyle_prototype$getBorder$self, side) {
  switch(side) {
    case "cell_bb":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle_prototype$getBorder$self.docs_text_protocol_CellStyle$borderBottom_;
    case "cell_bl":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle_prototype$getBorder$self.docs_text_protocol_CellStyle$borderLeft_;
    case "cell_br":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle_prototype$getBorder$self.docs_text_protocol_CellStyle$borderRight_;
    case "cell_bt":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle_prototype$getBorder$self.docs_text_protocol_CellStyle$borderTop_;
  }
  throw Error("Invalid border side.");
}
docs$text$protocol$CellStyle.prototype.copyInheritedPropertiesToInternal = function $docs$text$protocol$CellStyle$$copyInheritedPropertiesToInternal$(destination) {
  var JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self = destination.docs_text_protocol_CellStyle$state_, source = this.docs_text_protocol_CellStyle$state_;
  destination.docs_text_protocol_CellStyle$state_ = new docs$text$protocol$CellStyle$0State_(JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.colSpan_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.colSpanDefined_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$rowSpan_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.rowSpanDefined_, 
  JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$backgroundColorInherit_ ? source.docs_text_protocol_CellStyle$State_$backgroundColor_ : JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$backgroundColor_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$backgroundColorInherit_ || 
  JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$backgroundColorDefined_, !1, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.embeddedDataChecksum_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.embeddedDataChecksumDefined_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.embeddedStyleChecksum_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.embeddedStyleChecksumDefined_, 
  JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingTopInherit_ ? source.docs_text_protocol_CellStyle$State_$paddingTop_ : JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingTop_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingTopInherit_ || JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingTopDefined_, 
  !1, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingBottomInherit_ ? source.docs_text_protocol_CellStyle$State_$paddingBottom_ : JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingBottom_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingBottomInherit_ || 
  JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingBottomDefined_, !1, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingLeftInherit_ ? source.docs_text_protocol_CellStyle$State_$paddingLeft_ : JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingLeft_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingLeftInherit_ || 
  JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingLeftDefined_, !1, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingRightInherit_ ? source.docs_text_protocol_CellStyle$State_$paddingRight_ : JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingRight_, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingRightInherit_ || 
  JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$paddingRightDefined_, !1, JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$verticalAlignInherit_ ? source.docs_text_protocol_CellStyle$State_$verticalAlign_ : JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$verticalAlign_, 
  JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$verticalAlignInherit_ || JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$copyConcrete$self.docs_text_protocol_CellStyle$State_$verticalAlignDefined_, !1);
  destination.docs_text_protocol_CellStyle$borderTopInherit_ && (destination.docs_text_protocol_CellStyle$borderTop_ = this.docs_text_protocol_CellStyle$borderTop_.clone(), destination.docs_text_protocol_CellStyle$borderTopInherit_ = !1, destination.docs_text_protocol_CellStyle$borderTopDefined_ = !0);
  destination.docs_text_protocol_CellStyle$borderBottomInherit_ && (destination.docs_text_protocol_CellStyle$borderBottom_ = this.docs_text_protocol_CellStyle$borderBottom_.clone(), destination.docs_text_protocol_CellStyle$borderBottomInherit_ = !1, destination.docs_text_protocol_CellStyle$borderBottomDefined_ = !0);
  destination.docs_text_protocol_CellStyle$borderRightInherit_ && (destination.docs_text_protocol_CellStyle$borderRight_ = this.docs_text_protocol_CellStyle$borderRight_.clone(), destination.docs_text_protocol_CellStyle$borderRightInherit_ = !1, destination.docs_text_protocol_CellStyle$borderRightDefined_ = !0);
  destination.docs_text_protocol_CellStyle$borderLeftInherit_ && (destination.docs_text_protocol_CellStyle$borderLeft_ = this.docs_text_protocol_CellStyle$borderLeft_.clone(), destination.docs_text_protocol_CellStyle$borderLeftInherit_ = !1, destination.docs_text_protocol_CellStyle$borderLeftDefined_ = !0);
  destination.docs_text_protocol_Annotation$numInheritValues_ = 0;
};
docs$text$protocol$CellStyle.prototype.updateInternal = function $docs$text$protocol$CellStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("cell_bt" in propertyMap) {
    var value = propertyMap.cell_bt;
    if (!requireDefined || this.docs_text_protocol_CellStyle$borderTopDefined_) {
      this.docs_text_protocol_CellStyle$borderTopDefined_ = !0, this.docs_text_protocol_CellStyle$borderTop_.update(value, opt_strategy);
    }
  }
  if ("cell_bt_i" in propertyMap && (value = propertyMap.cell_bt_i, !requireDefined || this.docs_text_protocol_CellStyle$borderTopDefined_) && (this.docs_text_protocol_CellStyle$borderTopDefined_ = !0, this.docs_text_protocol_CellStyle$borderTopInherit_ != value)) {
    var borderTopInherit = this.docs_text_protocol_CellStyle$borderTopInherit_;
    this.docs_text_protocol_CellStyle$borderTopInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, borderTopInherit, value);
  }
  "cell_bb" in propertyMap && (value = propertyMap.cell_bb, !requireDefined || this.docs_text_protocol_CellStyle$borderBottomDefined_) && (this.docs_text_protocol_CellStyle$borderBottomDefined_ = !0, this.docs_text_protocol_CellStyle$borderBottom_.update(value, opt_strategy));
  if ("cell_bb_i" in propertyMap && (value = propertyMap.cell_bb_i, !requireDefined || this.docs_text_protocol_CellStyle$borderBottomDefined_) && (this.docs_text_protocol_CellStyle$borderBottomDefined_ = !0, this.docs_text_protocol_CellStyle$borderBottomInherit_ != value)) {
    var borderBottomInherit = this.docs_text_protocol_CellStyle$borderBottomInherit_;
    this.docs_text_protocol_CellStyle$borderBottomInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, borderBottomInherit, value);
  }
  "cell_bl" in propertyMap && (value = propertyMap.cell_bl, !requireDefined || this.docs_text_protocol_CellStyle$borderLeftDefined_) && (this.docs_text_protocol_CellStyle$borderLeftDefined_ = !0, this.docs_text_protocol_CellStyle$borderLeft_.update(value, opt_strategy));
  if ("cell_bl_i" in propertyMap && (value = propertyMap.cell_bl_i, !requireDefined || this.docs_text_protocol_CellStyle$borderLeftDefined_) && (this.docs_text_protocol_CellStyle$borderLeftDefined_ = !0, this.docs_text_protocol_CellStyle$borderLeftInherit_ != value)) {
    var borderLeftInherit = this.docs_text_protocol_CellStyle$borderLeftInherit_;
    this.docs_text_protocol_CellStyle$borderLeftInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, borderLeftInherit, value);
  }
  "cell_br" in propertyMap && (value = propertyMap.cell_br, !requireDefined || this.docs_text_protocol_CellStyle$borderRightDefined_) && (this.docs_text_protocol_CellStyle$borderRightDefined_ = !0, this.docs_text_protocol_CellStyle$borderRight_.update(value, opt_strategy));
  if ("cell_br_i" in propertyMap && (value = propertyMap.cell_br_i, !requireDefined || this.docs_text_protocol_CellStyle$borderRightDefined_) && (this.docs_text_protocol_CellStyle$borderRightDefined_ = !0, this.docs_text_protocol_CellStyle$borderRightInherit_ != value)) {
    var borderRightInherit = this.docs_text_protocol_CellStyle$borderRightInherit_;
    this.docs_text_protocol_CellStyle$borderRightInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, borderRightInherit, value);
  }
  var updateResult = this.docs_text_protocol_CellStyle$state_.update(propertyMap, opt_strategy);
  this.docs_text_protocol_CellStyle$state_ = updateResult.docs_text_protocol_AnnotationStateUpdateResult$state_;
  this.docs_text_protocol_Annotation$numInheritValues_ += updateResult.updateInheritDelta_;
};
docs$text$protocol$CellStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$CellStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {}, JSCompiler_StaticMethods_serializeInto$self = this.docs_text_protocol_CellStyle$state_;
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$backgroundColorDefined_, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$backgroundColorInherit_) && (serializedObj.cell_bgc = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$backgroundColor_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingTopDefined_, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingTopInherit_) && (serializedObj.cell_pt = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingTop_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingBottomDefined_, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingBottomInherit_) && (serializedObj.cell_pb = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingBottom_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingLeftDefined_, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingLeftInherit_) && (serializedObj.cell_pl = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingLeft_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingRightDefined_, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingRightInherit_) && (serializedObj.cell_pr = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingRight_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$verticalAlignDefined_, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$verticalAlignInherit_) && (serializedObj.cell_va = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$verticalAlign_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$backgroundColorDefined_) && (serializedObj.cell_bgc_i = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$backgroundColorInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingTopDefined_) && (serializedObj.cell_pt_i = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingTopInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingBottomDefined_) && (serializedObj.cell_pb_i = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingBottomInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingLeftDefined_) && (serializedObj.cell_pl_i = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingLeftInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingRightDefined_) && (serializedObj.cell_pr_i = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$paddingRightInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$verticalAlignDefined_) && (serializedObj.cell_va_i = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$verticalAlignInherit_);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || JSCompiler_StaticMethods_serializeInto$self.colSpanDefined_) {
    serializedObj.cell_cs = JSCompiler_StaticMethods_serializeInto$self.colSpan_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || JSCompiler_StaticMethods_serializeInto$self.rowSpanDefined_) {
    serializedObj.cell_rs = JSCompiler_StaticMethods_serializeInto$self.docs_text_protocol_CellStyle$State_$rowSpan_;
  }
  if (JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-tems")) {
    if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || JSCompiler_StaticMethods_serializeInto$self.embeddedDataChecksumDefined_) {
      serializedObj.cell_edc = JSCompiler_StaticMethods_serializeInto$self.embeddedDataChecksum_;
    }
    if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || JSCompiler_StaticMethods_serializeInto$self.embeddedStyleChecksumDefined_) {
      serializedObj.cell_esc = JSCompiler_StaticMethods_serializeInto$self.embeddedStyleChecksum_;
    }
  }
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellStyle$borderTopDefined_, this.docs_text_protocol_CellStyle$borderTopInherit_) && (serializedObj.cell_bt = this.docs_text_protocol_CellStyle$borderTop_.serialize());
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellStyle$borderBottomDefined_, this.docs_text_protocol_CellStyle$borderBottomInherit_) && (serializedObj.cell_bb = this.docs_text_protocol_CellStyle$borderBottom_.serialize());
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellStyle$borderLeftDefined_, this.docs_text_protocol_CellStyle$borderLeftInherit_) && (serializedObj.cell_bl = this.docs_text_protocol_CellStyle$borderLeft_.serialize());
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellStyle$borderRightDefined_, this.docs_text_protocol_CellStyle$borderRightInherit_) && (serializedObj.cell_br = this.docs_text_protocol_CellStyle$borderRight_.serialize());
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellStyle$borderTopDefined_) && (serializedObj.cell_bt_i = this.docs_text_protocol_CellStyle$borderTopInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellStyle$borderBottomDefined_) && (serializedObj.cell_bb_i = this.docs_text_protocol_CellStyle$borderBottomInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellStyle$borderLeftDefined_) && (serializedObj.cell_bl_i = this.docs_text_protocol_CellStyle$borderLeftInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellStyle$borderRightDefined_) && (serializedObj.cell_br_i = this.docs_text_protocol_CellStyle$borderRightInherit_);
  return serializedObj;
};
docs$text$protocol$CellStyle.prototype.getValueInternal = function $docs$text$protocol$CellStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "cell_bt":
      return this.docs_text_protocol_CellStyle$borderTop_;
    case "cell_bt_i":
      return this.docs_text_protocol_CellStyle$borderTopInherit_;
    case "cell_bb":
      return this.docs_text_protocol_CellStyle$borderBottom_;
    case "cell_bb_i":
      return this.docs_text_protocol_CellStyle$borderBottomInherit_;
    case "cell_bl":
      return this.docs_text_protocol_CellStyle$borderLeft_;
    case "cell_bl_i":
      return this.docs_text_protocol_CellStyle$borderLeftInherit_;
    case "cell_br":
      return this.docs_text_protocol_CellStyle$borderRight_;
    case "cell_br_i":
      return this.docs_text_protocol_CellStyle$borderRightInherit_;
  }
  return this.docs_text_protocol_CellStyle$state_.getValue(propertyName);
};
docs$text$protocol$CellStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$CellStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "cell_bt":
    case "cell_bt_i":
      return this.docs_text_protocol_CellStyle$borderTopDefined_;
    case "cell_bb":
    case "cell_bb_i":
      return this.docs_text_protocol_CellStyle$borderBottomDefined_;
    case "cell_bl":
    case "cell_bl_i":
      return this.docs_text_protocol_CellStyle$borderLeftDefined_;
    case "cell_br":
    case "cell_br_i":
      return this.docs_text_protocol_CellStyle$borderRightDefined_;
  }
  return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined(this.docs_text_protocol_CellStyle$state_, propertyName);
};
docs$text$protocol$CellStyle.prototype.equalsInternal = function $docs$text$protocol$CellStyle$$equalsInternal$(other$jscomp$0, strategy) {
  var JSCompiler_temp;
  if (JSCompiler_temp = other$jscomp$0 instanceof docs$text$protocol$CellStyle) {
    var JSCompiler_temp$jscomp$0;
    if (!(JSCompiler_temp$jscomp$0 = !strategy.compareDefined_)) {
      var JSCompiler_StaticMethods_equalsDefined$self = this.docs_text_protocol_CellStyle$state_, other = other$jscomp$0.docs_text_protocol_CellStyle$state_;
      JSCompiler_temp$jscomp$0 = (other == JSCompiler_StaticMethods_equalsDefined$self ? !0 : JSCompiler_StaticMethods_equalsDefined$self.docs_text_protocol_CellStyle$State_$backgroundColorDefined_ == other.docs_text_protocol_CellStyle$State_$backgroundColorDefined_ && JSCompiler_StaticMethods_equalsDefined$self.colSpanDefined_ == other.colSpanDefined_ && JSCompiler_StaticMethods_equalsDefined$self.embeddedDataChecksumDefined_ == other.embeddedDataChecksumDefined_ && JSCompiler_StaticMethods_equalsDefined$self.embeddedStyleChecksumDefined_ == 
      other.embeddedStyleChecksumDefined_ && JSCompiler_StaticMethods_equalsDefined$self.docs_text_protocol_CellStyle$State_$paddingTopDefined_ == other.docs_text_protocol_CellStyle$State_$paddingTopDefined_ && JSCompiler_StaticMethods_equalsDefined$self.docs_text_protocol_CellStyle$State_$paddingBottomDefined_ == other.docs_text_protocol_CellStyle$State_$paddingBottomDefined_ && JSCompiler_StaticMethods_equalsDefined$self.docs_text_protocol_CellStyle$State_$paddingLeftDefined_ == other.docs_text_protocol_CellStyle$State_$paddingLeftDefined_ && 
      JSCompiler_StaticMethods_equalsDefined$self.docs_text_protocol_CellStyle$State_$paddingRightDefined_ == other.docs_text_protocol_CellStyle$State_$paddingRightDefined_ && JSCompiler_StaticMethods_equalsDefined$self.rowSpanDefined_ == other.rowSpanDefined_ && JSCompiler_StaticMethods_equalsDefined$self.docs_text_protocol_CellStyle$State_$verticalAlignDefined_ == other.docs_text_protocol_CellStyle$State_$verticalAlignDefined_) && this.docs_text_protocol_CellStyle$borderTopDefined_ == other$jscomp$0.docs_text_protocol_CellStyle$borderTopDefined_ && 
      this.docs_text_protocol_CellStyle$borderBottomDefined_ == other$jscomp$0.docs_text_protocol_CellStyle$borderBottomDefined_ && this.docs_text_protocol_CellStyle$borderLeftDefined_ == other$jscomp$0.docs_text_protocol_CellStyle$borderLeftDefined_ && this.docs_text_protocol_CellStyle$borderRightDefined_ == other$jscomp$0.docs_text_protocol_CellStyle$borderRightDefined_;
    }
    JSCompiler_temp = JSCompiler_temp$jscomp$0;
  }
  return JSCompiler_temp ? JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_CellStyle$borderLeft_, other$jscomp$0.docs_text_protocol_CellStyle$borderLeft_, strategy) && this.docs_text_protocol_CellStyle$borderLeftInherit_ == other$jscomp$0.docs_text_protocol_CellStyle$borderLeftInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_CellStyle$borderRight_, other$jscomp$0.docs_text_protocol_CellStyle$borderRight_, strategy) && this.docs_text_protocol_CellStyle$borderRightInherit_ == 
  other$jscomp$0.docs_text_protocol_CellStyle$borderRightInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_CellStyle$borderTop_, other$jscomp$0.docs_text_protocol_CellStyle$borderTop_, strategy) && this.docs_text_protocol_CellStyle$borderTopInherit_ == other$jscomp$0.docs_text_protocol_CellStyle$borderTopInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_CellStyle$borderBottom_, other$jscomp$0.docs_text_protocol_CellStyle$borderBottom_, strategy) && 
  this.docs_text_protocol_CellStyle$borderBottomInherit_ == other$jscomp$0.docs_text_protocol_CellStyle$borderBottomInherit_ && this.docs_text_protocol_CellStyle$state_.equals(other$jscomp$0.docs_text_protocol_CellStyle$state_) : !1;
};
docs$text$protocol$CellStyle.prototype.isNestedAnnotation = function $docs$text$protocol$CellStyle$$isNestedAnnotation$(propertyName) {
  switch(propertyName) {
    case "cell_bb":
    case "cell_bt":
    case "cell_bl":
    case "cell_br":
      return !0;
  }
  return !1;
};
docs$text$protocol$CellStyle.prototype.clone = function $docs$text$protocol$CellStyle$$clone$() {
  var cellStyle = new docs$text$protocol$CellStyle;
  this.copyTo(cellStyle);
  return cellStyle;
};
docs$text$protocol$CellStyle.prototype.copyToInternal = function $docs$text$protocol$CellStyle$$copyToInternal$(other) {
  other.docs_text_protocol_CellStyle$state_ = this.docs_text_protocol_CellStyle$state_;
  other.docs_text_protocol_CellStyle$borderTop_ = this.docs_text_protocol_CellStyle$borderTop_.clone();
  other.docs_text_protocol_CellStyle$borderTopDefined_ = this.docs_text_protocol_CellStyle$borderTopDefined_;
  other.docs_text_protocol_CellStyle$borderTopInherit_ = this.docs_text_protocol_CellStyle$borderTopInherit_;
  other.docs_text_protocol_CellStyle$borderBottom_ = this.docs_text_protocol_CellStyle$borderBottom_.clone();
  other.docs_text_protocol_CellStyle$borderBottomDefined_ = this.docs_text_protocol_CellStyle$borderBottomDefined_;
  other.docs_text_protocol_CellStyle$borderBottomInherit_ = this.docs_text_protocol_CellStyle$borderBottomInherit_;
  other.docs_text_protocol_CellStyle$borderLeft_ = this.docs_text_protocol_CellStyle$borderLeft_.clone();
  other.docs_text_protocol_CellStyle$borderLeftDefined_ = this.docs_text_protocol_CellStyle$borderLeftDefined_;
  other.docs_text_protocol_CellStyle$borderLeftInherit_ = this.docs_text_protocol_CellStyle$borderLeftInherit_;
  other.docs_text_protocol_CellStyle$borderRight_ = this.docs_text_protocol_CellStyle$borderRight_.clone();
  other.docs_text_protocol_CellStyle$borderRightDefined_ = this.docs_text_protocol_CellStyle$borderRightDefined_;
  other.docs_text_protocol_CellStyle$borderRightInherit_ = this.docs_text_protocol_CellStyle$borderRightInherit_;
};
function docs$text$protocol$CellStyle$0State_(colSpan, colSpanDefined, rowSpan, rowSpanDefined, backgroundColor, backgroundColorDefined, backgroundColorInherit, embeddedDataChecksum, embeddedDataChecksumDefined, embeddedStyleChecksum, embeddedStyleChecksumDefined, paddingTop, paddingTopDefined, paddingTopInherit, paddingBottom, paddingBottomDefined, paddingBottomInherit, paddingLeft, paddingLeftDefined, paddingLeftInherit, paddingRight, paddingRightDefined, paddingRightInherit, verticalAlign, verticalAlignDefined, 
verticalAlignInherit) {
  this.colSpan_ = colSpan;
  this.colSpanDefined_ = colSpanDefined;
  this.docs_text_protocol_CellStyle$State_$rowSpan_ = rowSpan;
  this.rowSpanDefined_ = rowSpanDefined;
  this.docs_text_protocol_CellStyle$State_$backgroundColor_ = backgroundColor;
  this.docs_text_protocol_CellStyle$State_$backgroundColorDefined_ = backgroundColorDefined;
  this.docs_text_protocol_CellStyle$State_$backgroundColorInherit_ = backgroundColorInherit;
  this.embeddedDataChecksum_ = embeddedDataChecksum;
  this.embeddedDataChecksumDefined_ = embeddedDataChecksumDefined;
  this.embeddedStyleChecksum_ = embeddedStyleChecksum;
  this.embeddedStyleChecksumDefined_ = embeddedStyleChecksumDefined;
  this.docs_text_protocol_CellStyle$State_$paddingTop_ = paddingTop;
  this.docs_text_protocol_CellStyle$State_$paddingTopDefined_ = paddingTopDefined;
  this.docs_text_protocol_CellStyle$State_$paddingTopInherit_ = paddingTopInherit;
  this.docs_text_protocol_CellStyle$State_$paddingBottom_ = paddingBottom;
  this.docs_text_protocol_CellStyle$State_$paddingBottomDefined_ = paddingBottomDefined;
  this.docs_text_protocol_CellStyle$State_$paddingBottomInherit_ = paddingBottomInherit;
  this.docs_text_protocol_CellStyle$State_$paddingLeft_ = paddingLeft;
  this.docs_text_protocol_CellStyle$State_$paddingLeftDefined_ = paddingLeftDefined;
  this.docs_text_protocol_CellStyle$State_$paddingLeftInherit_ = paddingLeftInherit;
  this.docs_text_protocol_CellStyle$State_$paddingRight_ = paddingRight;
  this.docs_text_protocol_CellStyle$State_$paddingRightDefined_ = paddingRightDefined;
  this.docs_text_protocol_CellStyle$State_$paddingRightInherit_ = paddingRightInherit;
  this.docs_text_protocol_CellStyle$State_$verticalAlign_ = verticalAlign;
  this.docs_text_protocol_CellStyle$State_$verticalAlignDefined_ = verticalAlignDefined;
  this.docs_text_protocol_CellStyle$State_$verticalAlignInherit_ = verticalAlignInherit;
}
docs$text$protocol$CellStyle$0State_.prototype.equals = function $docs$text$protocol$CellStyle$0State_$$equals$(other) {
  return other == this ? !0 : this.docs_text_protocol_CellStyle$State_$backgroundColor_ == other.docs_text_protocol_CellStyle$State_$backgroundColor_ && this.docs_text_protocol_CellStyle$State_$backgroundColorInherit_ == other.docs_text_protocol_CellStyle$State_$backgroundColorInherit_ && this.colSpan_ == other.colSpan_ && this.embeddedDataChecksum_ == other.embeddedDataChecksum_ && this.embeddedStyleChecksum_ == other.embeddedStyleChecksum_ && this.docs_text_protocol_CellStyle$State_$paddingTop_ == 
  other.docs_text_protocol_CellStyle$State_$paddingTop_ && this.docs_text_protocol_CellStyle$State_$paddingTopInherit_ == other.docs_text_protocol_CellStyle$State_$paddingTopInherit_ && this.docs_text_protocol_CellStyle$State_$paddingBottom_ == other.docs_text_protocol_CellStyle$State_$paddingBottom_ && this.docs_text_protocol_CellStyle$State_$paddingBottomInherit_ == other.docs_text_protocol_CellStyle$State_$paddingBottomInherit_ && this.docs_text_protocol_CellStyle$State_$paddingLeft_ == other.docs_text_protocol_CellStyle$State_$paddingLeft_ && 
  this.docs_text_protocol_CellStyle$State_$paddingLeftInherit_ == other.docs_text_protocol_CellStyle$State_$paddingLeftInherit_ && this.docs_text_protocol_CellStyle$State_$paddingRight_ == other.docs_text_protocol_CellStyle$State_$paddingRight_ && this.docs_text_protocol_CellStyle$State_$paddingRightInherit_ == other.docs_text_protocol_CellStyle$State_$paddingRightInherit_ && this.docs_text_protocol_CellStyle$State_$rowSpan_ == other.docs_text_protocol_CellStyle$State_$rowSpan_ && this.docs_text_protocol_CellStyle$State_$verticalAlign_ == 
  other.docs_text_protocol_CellStyle$State_$verticalAlign_ && this.docs_text_protocol_CellStyle$State_$verticalAlignInherit_ == other.docs_text_protocol_CellStyle$State_$verticalAlignInherit_;
};
docs$text$protocol$CellStyle$0State_.prototype.update = function $docs$text$protocol$CellStyle$0State_$$update$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_, numInheritChange = 0, colSpan = this.colSpan_, colSpanDefined = this.colSpanDefined_, rowSpan = this.docs_text_protocol_CellStyle$State_$rowSpan_, rowSpanDefined = this.rowSpanDefined_, backgroundColor = this.docs_text_protocol_CellStyle$State_$backgroundColor_, backgroundColorDefined = this.docs_text_protocol_CellStyle$State_$backgroundColorDefined_, backgroundColorInherit = this.docs_text_protocol_CellStyle$State_$backgroundColorInherit_, 
  embeddedDataChecksum = this.embeddedDataChecksum_, embeddedDataChecksumDefined = this.embeddedDataChecksumDefined_, embeddedStyleChecksum = this.embeddedStyleChecksum_, embeddedStyleChecksumDefined = this.embeddedStyleChecksumDefined_, paddingTop = this.docs_text_protocol_CellStyle$State_$paddingTop_, paddingTopDefined = this.docs_text_protocol_CellStyle$State_$paddingTopDefined_, paddingTopInherit = this.docs_text_protocol_CellStyle$State_$paddingTopInherit_, paddingBottom = this.docs_text_protocol_CellStyle$State_$paddingBottom_, 
  paddingBottomDefined = this.docs_text_protocol_CellStyle$State_$paddingBottomDefined_, paddingBottomInherit = this.docs_text_protocol_CellStyle$State_$paddingBottomInherit_, paddingLeft = this.docs_text_protocol_CellStyle$State_$paddingLeft_, paddingLeftDefined = this.docs_text_protocol_CellStyle$State_$paddingLeftDefined_, paddingLeftInherit = this.docs_text_protocol_CellStyle$State_$paddingLeftInherit_, paddingRight = this.docs_text_protocol_CellStyle$State_$paddingRight_, paddingRightDefined = 
  this.docs_text_protocol_CellStyle$State_$paddingRightDefined_, paddingRightInherit = this.docs_text_protocol_CellStyle$State_$paddingRightInherit_, verticalAlign = this.docs_text_protocol_CellStyle$State_$verticalAlign_, verticalAlignDefined = this.docs_text_protocol_CellStyle$State_$verticalAlignDefined_, verticalAlignInherit = this.docs_text_protocol_CellStyle$State_$verticalAlignInherit_;
  if ("cell_bgc" in propertyMap) {
    var value = propertyMap.cell_bgc;
    if (!requireDefined || backgroundColorDefined) {
      backgroundColorDefined = !0, backgroundColor = value;
    }
  }
  "cell_bgc_i" in propertyMap && (value = propertyMap.cell_bgc_i, !requireDefined || backgroundColorDefined) && (backgroundColorDefined = !0, backgroundColorInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(backgroundColorInherit, value), backgroundColorInherit = value));
  "cell_cs" in propertyMap && (value = propertyMap.cell_cs, !requireDefined || colSpanDefined) && (colSpanDefined = !0, colSpan = value);
  "cell_edc" in propertyMap && (!requireDefined || embeddedDataChecksumDefined) && (embeddedDataChecksumDefined = !0, embeddedDataChecksum = propertyMap.cell_edc);
  "cell_esc" in propertyMap && (!requireDefined || embeddedStyleChecksumDefined) && (embeddedStyleChecksumDefined = !0, embeddedStyleChecksum = propertyMap.cell_esc);
  "cell_pt" in propertyMap && (value = propertyMap.cell_pt, !requireDefined || paddingTopDefined) && (paddingTopDefined = !0, paddingTop = value);
  "cell_pt_i" in propertyMap && (value = propertyMap.cell_pt_i, !requireDefined || paddingTopDefined) && (paddingTopDefined = !0, paddingTopInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(paddingTopInherit, value), paddingTopInherit = value));
  "cell_pb" in propertyMap && (value = propertyMap.cell_pb, !requireDefined || paddingBottomDefined) && (paddingBottomDefined = !0, paddingBottom = value);
  "cell_pb_i" in propertyMap && (value = propertyMap.cell_pb_i, !requireDefined || paddingBottomDefined) && (paddingBottomDefined = !0, paddingBottomInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(paddingBottomInherit, value), paddingBottomInherit = value));
  "cell_pl" in propertyMap && (value = propertyMap.cell_pl, !requireDefined || paddingLeftDefined) && (paddingLeftDefined = !0, paddingLeft = value);
  "cell_pl_i" in propertyMap && (value = propertyMap.cell_pl_i, !requireDefined || paddingLeftDefined) && (paddingLeftDefined = !0, paddingLeftInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(paddingLeftInherit, value), paddingLeftInherit = value));
  "cell_pr" in propertyMap && (value = propertyMap.cell_pr, !requireDefined || paddingRightDefined) && (paddingRightDefined = !0, paddingRight = value);
  "cell_pr_i" in propertyMap && (value = propertyMap.cell_pr_i, !requireDefined || paddingRightDefined) && (paddingRightDefined = !0, paddingRightInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(paddingRightInherit, value), paddingRightInherit = value));
  "cell_rs" in propertyMap && (value = propertyMap.cell_rs, !requireDefined || rowSpanDefined) && (rowSpanDefined = !0, rowSpan = value);
  "cell_va" in propertyMap && (value = propertyMap.cell_va, !requireDefined || verticalAlignDefined) && (verticalAlignDefined = !0, verticalAlign = value);
  "cell_va_i" in propertyMap && (value = propertyMap.cell_va_i, !requireDefined || verticalAlignDefined) && (verticalAlignDefined = !0, verticalAlignInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(verticalAlignInherit, value), verticalAlignInherit = value));
  return new docs$text$protocol$AnnotationStateUpdateResult(new docs$text$protocol$CellStyle$0State_(colSpan, colSpanDefined, rowSpan, rowSpanDefined, backgroundColor, backgroundColorDefined, backgroundColorInherit, embeddedDataChecksum, embeddedDataChecksumDefined, embeddedStyleChecksum, embeddedStyleChecksumDefined, paddingTop, paddingTopDefined, paddingTopInherit, paddingBottom, paddingBottomDefined, paddingBottomInherit, paddingLeft, paddingLeftDefined, paddingLeftInherit, paddingRight, paddingRightDefined, 
  paddingRightInherit, verticalAlign, verticalAlignDefined, verticalAlignInherit), numInheritChange);
};
docs$text$protocol$CellStyle$0State_.prototype.getValue = function $docs$text$protocol$CellStyle$0State_$$getValue$(propertyName) {
  switch(propertyName) {
    case "cell_bgc":
      return this.docs_text_protocol_CellStyle$State_$backgroundColor_;
    case "cell_bgc_i":
      return this.docs_text_protocol_CellStyle$State_$backgroundColorInherit_;
    case "cell_cs":
      return this.colSpan_;
    case "cell_edc":
      return this.embeddedDataChecksum_;
    case "cell_esc":
      return this.embeddedStyleChecksum_;
    case "cell_pt":
      return this.docs_text_protocol_CellStyle$State_$paddingTop_;
    case "cell_pt_i":
      return this.docs_text_protocol_CellStyle$State_$paddingTopInherit_;
    case "cell_pb":
      return this.docs_text_protocol_CellStyle$State_$paddingBottom_;
    case "cell_pb_i":
      return this.docs_text_protocol_CellStyle$State_$paddingBottomInherit_;
    case "cell_pl":
      return this.docs_text_protocol_CellStyle$State_$paddingLeft_;
    case "cell_pl_i":
      return this.docs_text_protocol_CellStyle$State_$paddingLeftInherit_;
    case "cell_pr":
      return this.docs_text_protocol_CellStyle$State_$paddingRight_;
    case "cell_pr_i":
      return this.docs_text_protocol_CellStyle$State_$paddingRightInherit_;
    case "cell_rs":
      return this.docs_text_protocol_CellStyle$State_$rowSpan_;
    case "cell_va":
      return this.docs_text_protocol_CellStyle$State_$verticalAlign_;
    case "cell_va_i":
      return this.docs_text_protocol_CellStyle$State_$verticalAlignInherit_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
function JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined(JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self, propertyName) {
  switch(propertyName) {
    case "cell_bgc":
    case "cell_bgc_i":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self.docs_text_protocol_CellStyle$State_$backgroundColorDefined_;
    case "cell_cs":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self.colSpanDefined_;
    case "cell_edc":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self.embeddedDataChecksumDefined_;
    case "cell_esc":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self.embeddedStyleChecksumDefined_;
    case "cell_pt":
    case "cell_pt_i":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self.docs_text_protocol_CellStyle$State_$paddingTopDefined_;
    case "cell_pb":
    case "cell_pb_i":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self.docs_text_protocol_CellStyle$State_$paddingBottomDefined_;
    case "cell_pl":
    case "cell_pl_i":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self.docs_text_protocol_CellStyle$State_$paddingLeftDefined_;
    case "cell_pr":
    case "cell_pr_i":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self.docs_text_protocol_CellStyle$State_$paddingRightDefined_;
    case "cell_rs":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self.rowSpanDefined_;
    case "cell_va":
    case "cell_va_i":
      return JSCompiler_StaticMethods_docs_text_protocol_CellStyle$State__prototype$isDefined$self.docs_text_protocol_CellStyle$State_$verticalAlignDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
}
docs$text$protocol$CellStyle$0State_.prototype.getRowSpan = function $docs$text$protocol$CellStyle$0State_$$getRowSpan$() {
  return this.docs_text_protocol_CellStyle$State_$rowSpan_;
};
var docs$text$protocol$CellStyle$0State_$default_ = new docs$text$protocol$CellStyle$0State_(1, !1, 1, !1, "", !1, !1, null, !1, null, !1, 5, !1, !1, 5, !1, !1, 5, !1, !1, 5, !1, !1, 2, !1, !1), docs$text$protocol$CellStyle$0State_$allInherit_ = new function() {
  this.docs_text_protocol_CellStyle$StateAndNumInheritValues_$state_ = new docs$text$protocol$CellStyle$0State_(1, !1, 1, !1, "", !0, !0, null, !1, null, !1, 5, !0, !0, 5, !0, !0, 5, !0, !0, 5, !0, !0, 2, !0, !0);
  this.docs_text_protocol_CellStyle$StateAndNumInheritValues_$numInheritValues_ = 6;
}, cellStyle$jscomp$inline_208 = new docs$text$protocol$CellStyle;
cellStyle$jscomp$inline_208.docs_text_protocol_CellStyle$borderTopInherit_ = !0;
cellStyle$jscomp$inline_208.docs_text_protocol_CellStyle$borderTopDefined_ = !0;
cellStyle$jscomp$inline_208.docs_text_protocol_CellStyle$borderBottomInherit_ = !0;
cellStyle$jscomp$inline_208.docs_text_protocol_CellStyle$borderBottomDefined_ = !0;
cellStyle$jscomp$inline_208.docs_text_protocol_CellStyle$borderLeftInherit_ = !0;
cellStyle$jscomp$inline_208.docs_text_protocol_CellStyle$borderLeftDefined_ = !0;
cellStyle$jscomp$inline_208.docs_text_protocol_CellStyle$borderRightInherit_ = !0;
cellStyle$jscomp$inline_208.docs_text_protocol_CellStyle$borderRightDefined_ = !0;
cellStyle$jscomp$inline_208.docs_text_protocol_CellStyle$state_ = docs$text$protocol$CellStyle$0State_$allInherit_.docs_text_protocol_CellStyle$StateAndNumInheritValues_$state_;
cellStyle$jscomp$inline_208.docs_text_protocol_Annotation$numInheritValues_ = docs$text$protocol$CellStyle$0State_$allInherit_.docs_text_protocol_CellStyle$StateAndNumInheritValues_$numInheritValues_ + 4;
var docs$text$protocol$CellStyle$allInherit_ = cellStyle$jscomp$inline_208.setImmutable(), docs$text$protocol$CellStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("cell", function() {
  return new docs$text$protocol$CellStyle;
}, function() {
  return docs$text$protocol$CellStyle$propertyNames_;
});
// Input 35
// Input 36
function docs$text$protocol$AnnotationCollectionStrategy(deserializeFn) {
  this.deserializeFn_ = deserializeFn;
}
docs$text$protocol$AnnotationCollectionStrategy.prototype.elementsEqual = function $docs$text$protocol$AnnotationCollectionStrategy$$elementsEqual$(thisValue, thatValue, strategy) {
  return JSCompiler_StaticMethods_equalsWithStrategy(thisValue, thatValue, strategy);
};
docs$text$protocol$AnnotationCollectionStrategy.prototype.elementEqualsSerializedValue = function $docs$text$protocol$AnnotationCollectionStrategy$$elementEqualsSerializedValue$(value, serializedValue) {
  return value.subsetEquals(serializedValue);
};
docs$text$protocol$AnnotationCollectionStrategy.prototype.deserializeValue = function $docs$text$protocol$AnnotationCollectionStrategy$$deserializeValue$(serializedValue) {
  return this.deserializeFn_(serializedValue);
};
docs$text$protocol$AnnotationCollectionStrategy.prototype.docs_text_protocol_AnnotationCollectionStrategy_prototype$serializeValue = function $docs$text$protocol$AnnotationCollectionStrategy$$docs_text_protocol_AnnotationCollectionStrategy_prototype$serializeValue$(value, opt_strategy) {
  return value.serialize(opt_strategy);
};
docs$text$protocol$AnnotationCollectionStrategy.prototype.cloneValue = function $docs$text$protocol$AnnotationCollectionStrategy$$cloneValue$(value) {
  return value.clone();
};
docs$text$protocol$AnnotationCollectionStrategy.prototype.docs_text_protocol_AnnotationCollectionStrategy_prototype$defaultValue = function $docs$text$protocol$AnnotationCollectionStrategy$$docs_text_protocol_AnnotationCollectionStrategy_prototype$defaultValue$() {
  return this.deserializeFn_({});
};
docs$text$protocol$AnnotationCollectionStrategy.prototype.updateValue = function $docs$text$protocol$AnnotationCollectionStrategy$$updateValue$(value, update) {
  value.update(update);
  return value;
};
docs$text$protocol$AnnotationCollectionStrategy.prototype.isNoOpUpdate = function $docs$text$protocol$AnnotationCollectionStrategy$$isNoOpUpdate$(value, update, opt_strategy) {
  return value.subsetEquals(update, opt_strategy);
};
docs$text$protocol$AnnotationCollectionStrategy.prototype.setImmutable = function $docs$text$protocol$AnnotationCollectionStrategy$$setImmutable$(value) {
  return value.setImmutable();
};
// Input 37
function docs$text$protocol$Collection(strategy) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$Collection$propertyNames_);
  this.values_ = [];
  this.valuesDefined_ = [];
  this.collectionValueDefined_ = !1;
  this.strategy_ = strategy;
}
goog$inherits(docs$text$protocol$Collection, docs$text$protocol$Annotation);
var docs$text$protocol$Collection$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COLLECTION_VALUE:"cv"});
docs$text$protocol$Collection.prototype.clone = function $docs$text$protocol$Collection$$clone$() {
  var clone = new docs$text$protocol$Collection(this.strategy_);
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$Collection.prototype.setImmutableInternal = function $docs$text$protocol$Collection$$setImmutableInternal$() {
  for (var i = 0;i < this.values_.length;i++) {
    this.values_[i] = this.strategy_.setImmutable(this.values_[i]);
  }
};
docs$text$protocol$Collection.prototype.copyToInternal = function $docs$text$protocol$Collection$$copyToInternal$(other) {
  other.collectionValueDefined_ = this.collectionValueDefined_;
  other.strategy_ = this.strategy_;
  other.valuesDefined_ = this.valuesDefined_.concat();
  other.values_ = [];
  for (var i = 0;i < this.values_.length;i++) {
    other.values_[i] = this.strategy_.cloneValue(this.values_[i]);
  }
};
docs$text$protocol$Collection.prototype.getValues = function $docs$text$protocol$Collection$$getValues$() {
  return this.values_;
};
docs$text$protocol$Collection.prototype.getValueInternal = function $docs$text$protocol$Collection$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "cv":
      return this.getValues();
  }
  throw Error("Unknown collection property name " + propertyName);
};
docs$text$protocol$Collection.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Collection$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "cv":
      return !JSCompiler_StaticMethods_areNoValuesDefined_(this);
  }
  throw Error("Unknown collection property name " + propertyName);
};
docs$text$protocol$Collection.prototype.subsetEquals = function $docs$text$protocol$Collection$$subsetEquals$(propertyMap, opt_strategy) {
  for (var name in propertyMap) {
    switch(name) {
      case "cv":
        return JSCompiler_StaticMethods_isOperationNoOp_(this, propertyMap[name], opt_strategy);
    }
  }
  return !1;
};
docs$text$protocol$Collection.prototype.equalsInternal = function $docs$text$protocol$Collection$$equalsInternal$(other, strategy) {
  if (!(other instanceof docs$text$protocol$Collection) || strategy.compareDefined_ && !goog$array$equals(this.valuesDefined_, other.valuesDefined_) || this.values_.length != other.values_.length) {
    return !1;
  }
  for (var i = 0;i < this.values_.length;i++) {
    if (!this.strategy_.elementsEqual(this.values_[i], other.values_[i], strategy)) {
      return !1;
    }
  }
  return !0;
};
docs$text$protocol$Collection.prototype.updateInternal = function $docs$text$protocol$Collection$$updateInternal$(propertyMap, opt_strategy) {
  if ("cv" in propertyMap) {
    var operation = propertyMap.cv, requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_, index = operation.opIndex, operationValue = operation.opValue;
    switch(operation.op) {
      case "delete":
        if (!goog$array$removeAt(this.values_, index)) {
          throw Error("Invalid index for delete: " + index);
        }
        if (!goog$array$removeAt(this.valuesDefined_, index)) {
          throw Error("Invalid index for delete: " + index);
        }
        break;
      case "insert":
        var deserializedOperationValue = requireDefined ? this.strategy_.docs_text_protocol_AnnotationCollectionStrategy_prototype$defaultValue() : this.strategy_.deserializeValue(operationValue);
        this.values_.splice(index, 0, deserializedOperationValue);
        this.valuesDefined_.splice(index, 0, !requireDefined);
        this.collectionValueDefined_ = !0;
        break;
      case "reference":
        if (!requireDefined || this.valuesDefined_[index]) {
          if (index < this.values_.length) {
            this.values_[index] = this.strategy_.updateValue(this.values_[index], operationValue), this.collectionValueDefined_ = !0, this.valuesDefined_[index] = !0;
          } else {
            throw Error("Invalid index for reference: " + index);
          }
        }
        break;
      case "set":
        var arr = this.values_;
        if (!goog$isArray(arr)) {
          for (var i = arr.length - 1;0 <= i;i--) {
            delete arr[i];
          }
        }
        for (var i$jscomp$0 = arr.length = 0;i$jscomp$0 < operationValue.length;i$jscomp$0++) {
          var deserializedOperationValue$jscomp$0 = requireDefined ? this.strategy_.docs_text_protocol_AnnotationCollectionStrategy_prototype$defaultValue() : this.strategy_.deserializeValue(operationValue[i$jscomp$0]);
          this.values_.push(deserializedOperationValue$jscomp$0);
        }
        for (var value = !requireDefined, n = operationValue.length, array = [], i$jscomp$1 = 0;i$jscomp$1 < n;i$jscomp$1++) {
          array[i$jscomp$1] = value;
        }
        this.valuesDefined_ = array;
        this.collectionValueDefined_ = !0;
    }
  }
};
docs$text$protocol$Collection.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Collection$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  if (strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.collectionValueDefined_) {
    return {};
  }
  for (var serializedValues = [], i = 0;i < this.values_.length;i++) {
    serializedValues[i] = this.strategy_.docs_text_protocol_AnnotationCollectionStrategy_prototype$serializeValue(this.values_[i], strategy);
  }
  var operation = {op:"set"};
  null != serializedValues && (operation.opValue = serializedValues);
  var operationMap = {};
  operationMap.cv = operation;
  return operationMap;
};
function JSCompiler_StaticMethods_areNoValuesDefined_(JSCompiler_StaticMethods_areNoValuesDefined_$self) {
  for (var i = 0;i < JSCompiler_StaticMethods_areNoValuesDefined_$self.valuesDefined_.length;i++) {
    if (JSCompiler_StaticMethods_areNoValuesDefined_$self.valuesDefined_[i]) {
      return !1;
    }
  }
  return !0;
}
function JSCompiler_StaticMethods_isOperationNoOp_(JSCompiler_StaticMethods_isOperationNoOp_$self, operation, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_, operator = operation.op, index = operation.opIndex, operationValue = operation.opValue;
  switch(operator) {
    case "delete":
    case "insert":
      return !1;
    case "reference":
      return JSCompiler_StaticMethods_isOperationNoOp_$self.strategy_.isNoOpUpdate(JSCompiler_StaticMethods_isOperationNoOp_$self.values_[index], operationValue, opt_strategy);
    case "set":
      var values = JSCompiler_StaticMethods_isOperationNoOp_$self.values_;
      if (operationValue.length != values.length) {
        return !1;
      }
      if (requireDefined) {
        return JSCompiler_StaticMethods_areNoValuesDefined_(JSCompiler_StaticMethods_isOperationNoOp_$self);
      }
      for (var i = 0;i < values.length;i++) {
        if (!JSCompiler_StaticMethods_isOperationNoOp_$self.strategy_.elementEqualsSerializedValue(values[i], operationValue[i])) {
          return !1;
        }
      }
      return !0;
    case "mark_deleted":
    case "unmark_deleted":
      return !0;
    default:
      throw Error("Unknown collection operator " + operator);
  }
}
;
// Input 38
function docs$text$protocol$SectorColumn(propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$SectorColumn$propertyNames_);
  this.update(propertyMap);
}
goog$inherits(docs$text$protocol$SectorColumn, docs$text$protocol$Annotation);
var docs$text$protocol$SectorColumn$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({PADDING_END:"scol_pe", WIDTH:"scol_w"});
docs$text$protocol$SectorColumn.prototype.docs_text_protocol_SectorColumn_prototype$width_ = 36;
docs$text$protocol$SectorColumn.prototype.docs_text_protocol_SectorColumn_prototype$widthDefined_ = !1;
docs$text$protocol$SectorColumn.prototype.paddingEnd_ = 0;
docs$text$protocol$SectorColumn.prototype.paddingEndDefined_ = !1;
docs$text$protocol$SectorColumn.prototype.clone = function $docs$text$protocol$SectorColumn$$clone$() {
  var clone = new docs$text$protocol$SectorColumn({});
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$SectorColumn.prototype.copyToInternal = function $docs$text$protocol$SectorColumn$$copyToInternal$(other) {
  other.docs_text_protocol_SectorColumn_prototype$width_ = this.docs_text_protocol_SectorColumn_prototype$width_;
  other.docs_text_protocol_SectorColumn_prototype$widthDefined_ = this.docs_text_protocol_SectorColumn_prototype$widthDefined_;
  other.paddingEnd_ = this.paddingEnd_;
  other.paddingEndDefined_ = this.paddingEndDefined_;
};
docs$text$protocol$SectorColumn.prototype.updateInternal = function $docs$text$protocol$SectorColumn$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("scol_w" in propertyMap) {
    var value = propertyMap.scol_w;
    if (!requireDefined || this.docs_text_protocol_SectorColumn_prototype$widthDefined_) {
      this.docs_text_protocol_SectorColumn_prototype$widthDefined_ = !0, this.docs_text_protocol_SectorColumn_prototype$width_ = value;
    }
  }
  "scol_pe" in propertyMap && (value = propertyMap.scol_pe, !requireDefined || this.paddingEndDefined_) && (this.paddingEndDefined_ = !0, this.paddingEnd_ = value);
};
docs$text$protocol$SectorColumn.prototype.getValueInternal = function $docs$text$protocol$SectorColumn$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "scol_w":
      return this.docs_text_protocol_SectorColumn_prototype$width_;
    case "scol_pe":
      return this.paddingEnd_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$SectorColumn.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$SectorColumn$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "scol_w":
      return this.docs_text_protocol_SectorColumn_prototype$widthDefined_;
    case "scol_pe":
      return this.paddingEndDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$SectorColumn.prototype.equalsInternal = function $docs$text$protocol$SectorColumn$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$SectorColumn && (!strategy.compareDefined_ || this.docs_text_protocol_SectorColumn_prototype$widthDefined_ == other.docs_text_protocol_SectorColumn_prototype$widthDefined_ && this.paddingEndDefined_ == other.paddingEndDefined_) ? this.docs_text_protocol_SectorColumn_prototype$width_ == other.docs_text_protocol_SectorColumn_prototype$width_ && this.paddingEnd_ == other.paddingEnd_ : !1;
};
docs$text$protocol$SectorColumn.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$SectorColumn$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var propertyMap = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_SectorColumn_prototype$widthDefined_) {
    propertyMap.scol_w = this.docs_text_protocol_SectorColumn_prototype$width_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.paddingEndDefined_) {
    propertyMap.scol_pe = this.paddingEnd_;
  }
  return propertyMap;
};
function docs$text$protocol$SectorColumn$create(propertyMap) {
  return new docs$text$protocol$SectorColumn(propertyMap);
}
;
// Input 39
function docs$text$protocol$ColumnSectorStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "column_sector", docs$text$protocol$ColumnSectorStyle$propertyNames_);
  this.docs_text_protocol_ColumnSectorStyle$columns_ = new docs$text$protocol$Collection(new docs$text$protocol$AnnotationCollectionStrategy(docs$text$protocol$SectorColumn$create));
  this.docs_text_protocol_ColumnSectorStyle$ltr_ = !0;
  this.lineBetweenDefined_ = this.lineBetween_ = this.docs_text_protocol_ColumnSectorStyle$ltrDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$ColumnSectorStyle, docs$text$protocol$Style);
var docs$text$protocol$ColumnSectorStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COLUMNS:"css_cols", LINE_BETWEEN:"css_lb", LTR:"css_ltr"});
docs$text$protocol$ColumnSectorStyle.prototype.updateInternal = function $docs$text$protocol$ColumnSectorStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("css_cols" in propertyMap) {
    var value = propertyMap.css_cols;
    this.docs_text_protocol_ColumnSectorStyle$columns_.update(value, opt_strategy);
  }
  "css_ltr" in propertyMap && (value = propertyMap.css_ltr, !requireDefined || this.docs_text_protocol_ColumnSectorStyle$ltrDefined_) && (this.docs_text_protocol_ColumnSectorStyle$ltrDefined_ = !0, this.docs_text_protocol_ColumnSectorStyle$ltr_ = value);
  "css_lb" in propertyMap && (value = propertyMap.css_lb, !requireDefined || this.lineBetweenDefined_) && (this.lineBetweenDefined_ = !0, this.lineBetween_ = value);
};
docs$text$protocol$ColumnSectorStyle.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$ColumnSectorStyle$$getNestedAnnotationPropertyNames$() {
  return ["css_cols"];
};
docs$text$protocol$ColumnSectorStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$ColumnSectorStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {}, serializedColumns = this.docs_text_protocol_ColumnSectorStyle$columns_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedColumns) && (serializedObj.css_cols = serializedColumns);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.lineBetweenDefined_) {
    serializedObj.css_lb = this.lineBetween_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_ColumnSectorStyle$ltrDefined_) {
    serializedObj.css_ltr = this.docs_text_protocol_ColumnSectorStyle$ltr_;
  }
  return serializedObj;
};
docs$text$protocol$ColumnSectorStyle.prototype.getValueInternal = function $docs$text$protocol$ColumnSectorStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "css_cols":
      return this.docs_text_protocol_ColumnSectorStyle$columns_;
    case "css_lb":
      return this.lineBetween_;
    case "css_ltr":
      return this.docs_text_protocol_ColumnSectorStyle$ltr_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ColumnSectorStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$ColumnSectorStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "css_cols":
      return !0;
    case "css_lb":
      return this.lineBetweenDefined_;
    case "css_ltr":
      return this.docs_text_protocol_ColumnSectorStyle$ltrDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ColumnSectorStyle.prototype.equalsInternal = function $docs$text$protocol$ColumnSectorStyle$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$ColumnSectorStyle && (!strategy.compareDefined_ || this.lineBetweenDefined_ == other.lineBetweenDefined_ && this.docs_text_protocol_ColumnSectorStyle$ltrDefined_ == other.docs_text_protocol_ColumnSectorStyle$ltrDefined_) ? JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_ColumnSectorStyle$columns_, other.docs_text_protocol_ColumnSectorStyle$columns_, strategy) && this.lineBetween_ == other.lineBetween_ && this.docs_text_protocol_ColumnSectorStyle$ltr_ == 
  other.docs_text_protocol_ColumnSectorStyle$ltr_ : !1;
};
docs$text$protocol$ColumnSectorStyle.prototype.isNestedAnnotation = function $docs$text$protocol$ColumnSectorStyle$$isNestedAnnotation$(propertyName) {
  return "css_cols" == propertyName;
};
docs$text$protocol$ColumnSectorStyle.prototype.clone = function $docs$text$protocol$ColumnSectorStyle$$clone$() {
  var columnSectorStyle = new docs$text$protocol$ColumnSectorStyle;
  this.copyTo(columnSectorStyle);
  return columnSectorStyle;
};
docs$text$protocol$ColumnSectorStyle.prototype.copyToInternal = function $docs$text$protocol$ColumnSectorStyle$$copyToInternal$(other) {
  other.docs_text_protocol_ColumnSectorStyle$columns_ = this.docs_text_protocol_ColumnSectorStyle$columns_.clone();
  other.lineBetween_ = this.lineBetween_;
  other.lineBetweenDefined_ = this.lineBetweenDefined_;
  other.docs_text_protocol_ColumnSectorStyle$ltr_ = this.docs_text_protocol_ColumnSectorStyle$ltr_;
  other.docs_text_protocol_ColumnSectorStyle$ltrDefined_ = this.docs_text_protocol_ColumnSectorStyle$ltrDefined_;
};
var docs$text$protocol$ColumnSectorStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("column_sector", function() {
  return new docs$text$protocol$ColumnSectorStyle;
}, function() {
  return docs$text$protocol$ColumnSectorStyle$propertyNames_;
});
// Input 40
function docs$text$protocol$StringCollectionStrategy() {
}
docs$text$protocol$StringCollectionStrategy.prototype.elementsEqual = function $docs$text$protocol$StringCollectionStrategy$$elementsEqual$(thisValue, thatValue) {
  return thisValue == thatValue;
};
docs$text$protocol$StringCollectionStrategy.prototype.elementEqualsSerializedValue = function $docs$text$protocol$StringCollectionStrategy$$elementEqualsSerializedValue$(value, serializedValue) {
  return value == this.deserializeValue(serializedValue);
};
docs$text$protocol$StringCollectionStrategy.prototype.deserializeValue = JSCompiler_identityFn();
docs$text$protocol$StringCollectionStrategy.prototype.docs_text_protocol_AnnotationCollectionStrategy_prototype$serializeValue = JSCompiler_identityFn();
docs$text$protocol$StringCollectionStrategy.prototype.cloneValue = JSCompiler_identityFn();
docs$text$protocol$StringCollectionStrategy.prototype.docs_text_protocol_AnnotationCollectionStrategy_prototype$defaultValue = JSCompiler_returnArg("");
docs$text$protocol$StringCollectionStrategy.prototype.updateValue = function $docs$text$protocol$StringCollectionStrategy$$updateValue$(value, update) {
  return update;
};
docs$text$protocol$StringCollectionStrategy.prototype.isNoOpUpdate = function $docs$text$protocol$StringCollectionStrategy$$isNoOpUpdate$(value, update) {
  return value == update;
};
docs$text$protocol$StringCollectionStrategy.prototype.setImmutable = JSCompiler_identityFn();
// Input 41
function docs$text$protocol$StringCollectionStyle(propertyName, type, propertyNames, opt_propertyMap) {
  docs$text$protocol$Style.call(this, type, propertyNames);
  this.propertyName_ = propertyName;
  this.strings_ = new docs$text$protocol$Collection(new docs$text$protocol$StringCollectionStrategy);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$StringCollectionStyle, docs$text$protocol$Style);
docs$text$protocol$StringCollectionStyle.prototype.updateInternal = function $docs$text$protocol$StringCollectionStyle$$updateInternal$(propertyMap, opt_strategy) {
  this.propertyName_ in propertyMap && this.strings_.update(propertyMap[this.propertyName_], opt_strategy);
};
docs$text$protocol$StringCollectionStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$StringCollectionStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {}, serializedStrings = this.strings_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedStrings) && (serializedObj[this.propertyName_] = serializedStrings);
  return serializedObj;
};
docs$text$protocol$StringCollectionStyle.prototype.getValueInternal = function $docs$text$protocol$StringCollectionStyle$$getValueInternal$(propertyName) {
  if (propertyName == this.propertyName_) {
    return this.strings_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$StringCollectionStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$StringCollectionStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  if (propertyName == this.propertyName_) {
    return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$StringCollectionStyle.prototype.isNestedAnnotation = function $docs$text$protocol$StringCollectionStyle$$isNestedAnnotation$(name) {
  return name == this.propertyName_;
};
docs$text$protocol$StringCollectionStyle.prototype.equalsInternal = function $docs$text$protocol$StringCollectionStyle$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$StringCollectionStyle ? JSCompiler_StaticMethods_equalsWithStrategy(this.strings_, other.strings_, strategy) : !1;
};
docs$text$protocol$StringCollectionStyle.prototype.copyToInternal = function $docs$text$protocol$StringCollectionStyle$$copyToInternal$(other) {
  other.strings_ = this.strings_.clone();
};
// Input 42
function docs$text$protocol$CommentStyle(opt_propertyMap) {
  docs$text$protocol$StringCollectionStyle.call(this, "cs_cids", "comment", docs$text$protocol$CommentStyle$propertyNames_, opt_propertyMap);
}
goog$inherits(docs$text$protocol$CommentStyle, docs$text$protocol$StringCollectionStyle);
var docs$text$protocol$CommentStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COMMENT_IDS:"cs_cids"});
docs$text$protocol$CommentStyle.prototype.getRelatedSectionEntityIds = function $docs$text$protocol$CommentStyle$$getRelatedSectionEntityIds$() {
  return this.strings_.getValues();
};
docs$text$protocol$CommentStyle.prototype.clone = function $docs$text$protocol$CommentStyle$$clone$() {
  var style = new docs$text$protocol$CommentStyle;
  this.copyTo(style);
  return style;
};
var docs$text$protocol$CommentStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("comment", function() {
  return new docs$text$protocol$CommentStyle;
}, function() {
  return docs$text$protocol$CommentStyle$propertyNames_;
});
// Input 43
function docs$text$protocol$SchemeColor(opt_propertyMap) {
  docs$text$protocol$Color.call(this, 1, docs$text$protocol$SchemeColor$propertyNames_);
  opt_propertyMap && this.update(opt_propertyMap);
  this.setImmutable();
}
goog$inherits(docs$text$protocol$SchemeColor, docs$text$protocol$Color);
var docs$text$protocol$SchemeColor$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({INDEX:"sclr_index"}, docs$text$protocol$Color$propertyNames);
docs$text$protocol$SchemeColor.prototype.docs_text_protocol_SchemeColor_prototype$index_ = 0;
docs$text$protocol$SchemeColor.prototype.clone = function $docs$text$protocol$SchemeColor$$clone$() {
  return this;
};
docs$text$protocol$SchemeColor.prototype.copyToInternal = goog$functions$error("SchemeColor.copyToInternal called.");
docs$text$protocol$SchemeColor.prototype.updateInternal = function $docs$text$protocol$SchemeColor$$updateInternal$(propertyMap, opt_strategy) {
  docs$text$protocol$SchemeColor.superClass_.updateInternal.call(this, propertyMap, opt_strategy);
  "sclr_index" in propertyMap && (this.docs_text_protocol_SchemeColor_prototype$index_ = propertyMap.sclr_index);
};
docs$text$protocol$SchemeColor.prototype.getValueInternal = function $docs$text$protocol$SchemeColor$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "sclr_index":
      return this.docs_text_protocol_SchemeColor_prototype$index_;
  }
  return docs$text$protocol$SchemeColor.superClass_.getValueInternal.call(this, propertyName);
};
docs$text$protocol$SchemeColor.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$SchemeColor$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "sclr_index":
      return !0;
  }
  return docs$text$protocol$SchemeColor.superClass_.docs_text_protocol_Annotation_prototype$isDefined.call(this, propertyName);
};
docs$text$protocol$SchemeColor.prototype.equalsInternal = function $docs$text$protocol$SchemeColor$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$SchemeColor ? docs$text$protocol$SchemeColor.superClass_.equalsInternal.call(this, other, strategy) && this.docs_text_protocol_SchemeColor_prototype$index_ == other.docs_text_protocol_SchemeColor_prototype$index_ : !1;
};
docs$text$protocol$SchemeColor.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$SchemeColor$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = docs$text$protocol$SchemeColor.superClass_.docs_text_protocol_Annotation_prototype$serializeInternal.call(this, strategy);
  serializedObject.sclr_index = this.docs_text_protocol_SchemeColor_prototype$index_;
  return serializedObject;
};
// Input 44
function docs$text$protocol$ColorFactory$create(object) {
  switch(object.clr_type) {
    case 0:
      return new docs$text$protocol$HexColor(object);
    case 1:
      return new docs$text$protocol$SchemeColor(object);
  }
  return null;
}
;
// Input 45
function docs$text$protocol$ComposingDecorationStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "composing_decoration", docs$text$protocol$ComposingDecorationStyle$propertyNames_);
  this.isUnderlinedDefined_ = this.isUnderlined_ = !1;
  this.docs_text_protocol_ComposingDecorationStyle$backgroundColor_ = new docs$text$protocol$HexColor;
  this.isBackgroundColorDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$ComposingDecorationStyle, docs$text$protocol$Style);
var docs$text$protocol$ComposingDecorationStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({UNDERLINED:"cd_u", BACKGROUND_COLOR:"cd_bgc"});
docs$text$protocol$ComposingDecorationStyle.prototype.updateInternal = function $docs$text$protocol$ComposingDecorationStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  "cd_u" in propertyMap && (!requireDefined || this.isUnderlinedDefined_) && (this.isUnderlinedDefined_ = !0, this.isUnderlined_ = propertyMap.cd_u);
  if ("cd_bgc" in propertyMap && (!requireDefined || this.isBackgroundColorDefined_)) {
    this.isBackgroundColorDefined_ = !0;
    var value = goog$asserts$assertObject(propertyMap.cd_bgc);
    this.docs_text_protocol_ComposingDecorationStyle$backgroundColor_ = goog$asserts$assert(docs$text$protocol$ColorFactory$create(value), "The color type should always be known.");
  }
};
docs$text$protocol$ComposingDecorationStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$ComposingDecorationStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.isUnderlinedDefined_) {
    serializedObject.cd_u = this.isUnderlined_;
  }
  strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.isBackgroundColorDefined_ || (serializedObject.cd_bgc = this.docs_text_protocol_ComposingDecorationStyle$backgroundColor_.serialize(strategy));
  return serializedObject;
};
docs$text$protocol$ComposingDecorationStyle.prototype.getValueInternal = function $docs$text$protocol$ComposingDecorationStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "cd_u":
      return this.isUnderlined_;
    case "cd_bgc":
      return this.docs_text_protocol_ComposingDecorationStyle$backgroundColor_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ComposingDecorationStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$ComposingDecorationStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "cd_u":
      return this.isUnderlinedDefined_;
    case "cd_bgc":
      return this.isBackgroundColorDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ComposingDecorationStyle.prototype.equalsInternal = function $docs$text$protocol$ComposingDecorationStyle$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$ComposingDecorationStyle && (!strategy.compareDefined_ || this.isUnderlinedDefined_ == other.isUnderlinedDefined_ && this.isBackgroundColorDefined_ == other.isBackgroundColorDefined_) ? this.isUnderlined_ == other.isUnderlined_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_ComposingDecorationStyle$backgroundColor_, other.docs_text_protocol_ComposingDecorationStyle$backgroundColor_, strategy) : !1;
};
docs$text$protocol$ComposingDecorationStyle.prototype.clone = function $docs$text$protocol$ComposingDecorationStyle$$clone$() {
  var clone = new docs$text$protocol$ComposingDecorationStyle;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$ComposingDecorationStyle.prototype.copyToInternal = function $docs$text$protocol$ComposingDecorationStyle$$copyToInternal$(other) {
  other.isUnderlined_ = this.isUnderlined_;
  other.isUnderlinedDefined_ = this.isUnderlinedDefined_;
  other.docs_text_protocol_ComposingDecorationStyle$backgroundColor_ = this.docs_text_protocol_ComposingDecorationStyle$backgroundColor_;
  other.isBackgroundColorDefined_ = this.isBackgroundColorDefined_;
};
var docs$text$protocol$ComposingDecorationStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("composing_decoration", function() {
  return new docs$text$protocol$ComposingDecorationStyle;
}, function() {
  return docs$text$protocol$ComposingDecorationStyle$propertyNames_;
});
// Input 46
function docs$text$protocol$ComposingRegionStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "composing_region", docs$text$protocol$ComposingRegionStyle$propertyNames_);
  this.isComposingDefined_ = this.isComposing_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$ComposingRegionStyle, docs$text$protocol$Style);
var docs$text$protocol$ComposingRegionStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COMPOSING:"cr_c"});
docs$text$protocol$ComposingRegionStyle.prototype.updateInternal = function $docs$text$protocol$ComposingRegionStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  "cr_c" in propertyMap && (!requireDefined || this.isComposingDefined_) && (this.isComposingDefined_ = !0, this.isComposing_ = propertyMap.cr_c);
};
docs$text$protocol$ComposingRegionStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$ComposingRegionStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.isComposingDefined_) {
    serializedObject.cr_c = this.isComposing_;
  }
  return serializedObject;
};
docs$text$protocol$ComposingRegionStyle.prototype.getValueInternal = function $docs$text$protocol$ComposingRegionStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "cr_c":
      return this.isComposing_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ComposingRegionStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$ComposingRegionStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "cr_c":
      return this.isComposingDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ComposingRegionStyle.prototype.equalsInternal = function $docs$text$protocol$ComposingRegionStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$ComposingRegionStyle) || strategy.compareDefined_ && this.isComposingDefined_ != other.isComposingDefined_ ? !1 : this.isComposing_ == other.isComposing_;
};
docs$text$protocol$ComposingRegionStyle.prototype.clone = function $docs$text$protocol$ComposingRegionStyle$$clone$() {
  var clone = new docs$text$protocol$ComposingRegionStyle;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$ComposingRegionStyle.prototype.copyToInternal = function $docs$text$protocol$ComposingRegionStyle$$copyToInternal$(other) {
  other.isComposing_ = this.isComposing_;
  other.isComposingDefined_ = this.isComposingDefined_;
};
var docs$text$protocol$ComposingRegionStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("composing_region", function() {
  return new docs$text$protocol$ComposingRegionStyle;
}, function() {
  return docs$text$protocol$ComposingRegionStyle$propertyNames_;
});
// Input 47
function docs$text$protocol$DateTimeStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "date_time", docs$text$protocol$DateTimeStyle$propertyNames_);
  this.docs_text_protocol_DateTimeStyle$format_ = "EEEE, MMMM d, y";
  this.formatDefined_ = !1;
  this.docs_text_protocol_DateTimeStyle$locale_ = "en_US";
  this.docs_text_protocol_DateTimeStyle$localeDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$DateTimeStyle, docs$text$protocol$Style);
var docs$text$protocol$DateTimeStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({FORMAT:"dts_f", LOCALE:"dts_l"});
docs$text$protocol$DateTimeStyle.prototype.updateInternal = function $docs$text$protocol$DateTimeStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  "dts_f" in propertyMap && (!requireDefined || this.formatDefined_) && (this.formatDefined_ = !0, this.docs_text_protocol_DateTimeStyle$format_ = propertyMap.dts_f);
  "dts_l" in propertyMap && (!requireDefined || this.docs_text_protocol_DateTimeStyle$localeDefined_) && (this.docs_text_protocol_DateTimeStyle$localeDefined_ = !0, this.docs_text_protocol_DateTimeStyle$locale_ = propertyMap.dts_l);
};
docs$text$protocol$DateTimeStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$DateTimeStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.formatDefined_) {
    serializedObj.dts_f = this.docs_text_protocol_DateTimeStyle$format_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_DateTimeStyle$localeDefined_) {
    serializedObj.dts_l = this.docs_text_protocol_DateTimeStyle$locale_;
  }
  return serializedObj;
};
docs$text$protocol$DateTimeStyle.prototype.getValueInternal = function $docs$text$protocol$DateTimeStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "dts_f":
      return this.docs_text_protocol_DateTimeStyle$format_;
    case "dts_l":
      return this.docs_text_protocol_DateTimeStyle$locale_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$DateTimeStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$DateTimeStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "dts_f":
      return this.formatDefined_;
    case "dts_l":
      return this.docs_text_protocol_DateTimeStyle$localeDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$DateTimeStyle.prototype.equalsInternal = function $docs$text$protocol$DateTimeStyle$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$DateTimeStyle && (!strategy.compareDefined_ || this.formatDefined_ == other.formatDefined_ && this.docs_text_protocol_DateTimeStyle$localeDefined_ == other.docs_text_protocol_DateTimeStyle$localeDefined_) ? this.docs_text_protocol_DateTimeStyle$format_ == other.docs_text_protocol_DateTimeStyle$format_ && this.docs_text_protocol_DateTimeStyle$locale_ == other.docs_text_protocol_DateTimeStyle$locale_ : !1;
};
docs$text$protocol$DateTimeStyle.prototype.clone = function $docs$text$protocol$DateTimeStyle$$clone$() {
  var dateTimeStyle = new docs$text$protocol$DateTimeStyle;
  this.copyTo(dateTimeStyle);
  return dateTimeStyle;
};
docs$text$protocol$DateTimeStyle.prototype.copyToInternal = function $docs$text$protocol$DateTimeStyle$$copyToInternal$(other) {
  other.docs_text_protocol_DateTimeStyle$format_ = this.docs_text_protocol_DateTimeStyle$format_;
  other.formatDefined_ = this.formatDefined_;
  other.docs_text_protocol_DateTimeStyle$locale_ = this.docs_text_protocol_DateTimeStyle$locale_;
  other.docs_text_protocol_DateTimeStyle$localeDefined_ = this.docs_text_protocol_DateTimeStyle$localeDefined_;
};
var docs$text$protocol$DateTimeStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("date_time", function() {
  return new docs$text$protocol$DateTimeStyle;
}, function() {
  return docs$text$protocol$DateTimeStyle$propertyNames_;
});
// Input 48
// Input 49
function docs$text$util$PaperUtil() {
  this.paperTypes_ = [new docs$text$util$PaperUtil$0PaperType(612, 792), new docs$text$util$PaperUtil$0PaperType(792, 612), new docs$text$util$PaperUtil$0PaperType(792, 1224), new docs$text$util$PaperUtil$0PaperType(1224, 792), new docs$text$util$PaperUtil$0PaperType(612, 1008), new docs$text$util$PaperUtil$0PaperType(1008, 612), new docs$text$util$PaperUtil$0PaperType(396, 612), new docs$text$util$PaperUtil$0PaperType(612, 396), new docs$text$util$PaperUtil$0PaperType(522, 756), new docs$text$util$PaperUtil$0PaperType(756, 
  522), new docs$text$util$PaperUtil$0PaperType(612, 936), new docs$text$util$PaperUtil$0PaperType(936, 612), new docs$text$util$PaperUtil$0PaperType(297 * docs$text$util$PointsUtil$POINTS_PER_MM, 420 * docs$text$util$PointsUtil$POINTS_PER_MM), new docs$text$util$PaperUtil$0PaperType(420 * docs$text$util$PointsUtil$POINTS_PER_MM, 297 * docs$text$util$PointsUtil$POINTS_PER_MM), new docs$text$util$PaperUtil$0PaperType(210 * docs$text$util$PointsUtil$POINTS_PER_MM, 297 * docs$text$util$PointsUtil$POINTS_PER_MM), 
  new docs$text$util$PaperUtil$0PaperType(297 * docs$text$util$PointsUtil$POINTS_PER_MM, 210 * docs$text$util$PointsUtil$POINTS_PER_MM), new docs$text$util$PaperUtil$0PaperType(148 * docs$text$util$PointsUtil$POINTS_PER_MM, 210 * docs$text$util$PointsUtil$POINTS_PER_MM), new docs$text$util$PaperUtil$0PaperType(210 * docs$text$util$PointsUtil$POINTS_PER_MM, 148 * docs$text$util$PointsUtil$POINTS_PER_MM), new docs$text$util$PaperUtil$0PaperType(250 * docs$text$util$PointsUtil$POINTS_PER_MM, 353 * docs$text$util$PointsUtil$POINTS_PER_MM), 
  new docs$text$util$PaperUtil$0PaperType(353 * docs$text$util$PointsUtil$POINTS_PER_MM, 250 * docs$text$util$PointsUtil$POINTS_PER_MM), new docs$text$util$PaperUtil$0PaperType(176 * docs$text$util$PointsUtil$POINTS_PER_MM, 250 * docs$text$util$PointsUtil$POINTS_PER_MM), new docs$text$util$PaperUtil$0PaperType(250 * docs$text$util$PointsUtil$POINTS_PER_MM, 176 * docs$text$util$PointsUtil$POINTS_PER_MM)];
  this.paperTypeCache_ = {};
}
goog$addSingletonGetter(docs$text$util$PaperUtil);
function JSCompiler_StaticMethods_getPaperTypeInPoints(JSCompiler_StaticMethods_getPaperTypeInPoints$self, width, height) {
  if (JSCompiler_StaticMethods_getPaperTypeInPoints$self.paperTypeCache_[width] && goog$isDef(JSCompiler_StaticMethods_getPaperTypeInPoints$self.paperTypeCache_[width][height])) {
    return JSCompiler_StaticMethods_getPaperTypeInPoints$self.paperTypeCache_[width][height];
  }
  for (var paperType = null, i = 0;i < JSCompiler_StaticMethods_getPaperTypeInPoints$self.paperTypes_.length;i++) {
    var type = JSCompiler_StaticMethods_getPaperTypeInPoints$self.paperTypes_[i];
    5 >= Math.abs(type.docs_text_util_PaperUtil$PaperType$width_ - width) && 5 >= Math.abs(type.docs_text_util_PaperUtil$PaperType$height_ - height) && (paperType = type);
  }
  JSCompiler_StaticMethods_getPaperTypeInPoints$self.paperTypeCache_[width] || (JSCompiler_StaticMethods_getPaperTypeInPoints$self.paperTypeCache_[width] = {});
  return JSCompiler_StaticMethods_getPaperTypeInPoints$self.paperTypeCache_[width][height] = paperType;
}
function docs$text$util$PaperUtil$0PaperType(width, height) {
  this.docs_text_util_PaperUtil$PaperType$width_ = width;
  this.docs_text_util_PaperUtil$PaperType$height_ = height;
}
;
// Input 50
function docs$text$protocol$Background() {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$Background$propertyNames_);
}
goog$inherits(docs$text$protocol$Background, docs$text$protocol$Annotation);
var docs$text$protocol$Background$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COLOR:"bg_c"});
docs$text$protocol$Background.prototype.docs_text_protocol_Background_prototype$color_ = null;
docs$text$protocol$Background.prototype.docs_text_protocol_Background_prototype$colorDefined_ = !1;
docs$text$protocol$Background.prototype.clone = function $docs$text$protocol$Background$$clone$() {
  var clone = new docs$text$protocol$Background;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$Background.prototype.copyToInternal = function $docs$text$protocol$Background$$copyToInternal$(other) {
  other.docs_text_protocol_Background_prototype$color_ = this.docs_text_protocol_Background_prototype$color_;
  other.docs_text_protocol_Background_prototype$colorDefined_ = this.docs_text_protocol_Background_prototype$colorDefined_;
};
docs$text$protocol$Background.prototype.updateInternal = function $docs$text$protocol$Background$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("bg_c" in propertyMap) {
    var value = propertyMap.bg_c;
    if (!requireDefined || this.docs_text_protocol_Background_prototype$colorDefined_) {
      this.docs_text_protocol_Background_prototype$colorDefined_ = !0, this.docs_text_protocol_Background_prototype$color_ = value;
    }
  }
};
docs$text$protocol$Background.prototype.getValueInternal = function $docs$text$protocol$Background$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "bg_c":
      return this.docs_text_protocol_Background_prototype$color_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Background.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Background$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "bg_c":
      return this.docs_text_protocol_Background_prototype$colorDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Background.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Background$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_Background_prototype$colorDefined_) {
    serializedObj.bg_c = this.docs_text_protocol_Background_prototype$color_;
  }
  return serializedObj;
};
docs$text$protocol$Background.prototype.equalsInternal = function $docs$text$protocol$Background$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$Background) || strategy.compareDefined_ && this.docs_text_protocol_Background_prototype$colorDefined_ != other.docs_text_protocol_Background_prototype$colorDefined_ ? !1 : this.docs_text_protocol_Background_prototype$color_ == other.docs_text_protocol_Background_prototype$color_;
};
// Input 51
function docs$text$protocol$DocumentStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "document", docs$text$protocol$DocumentStyle$propertyNames_);
  this.background_ = new docs$text$protocol$Background;
  this.defaultFooterId_ = null;
  this.defaultFooterIdDefined_ = !1;
  this.defaultHeaderId_ = null;
  this.defaultHeaderIdDefined_ = !1;
  this.firstPageFooterId_ = null;
  this.firstPageFooterIdDefined_ = !1;
  this.firstPageHeaderId_ = null;
  this.useFirstPageHeaderFooterDefined_ = this.useFirstPageHeaderFooter_ = this.firstPageHeaderIdDefined_ = !1;
  this.pageNumberStartIndex_ = 1;
  this.pageNumberStartIndexDefined_ = !1;
  this.docs_text_protocol_DocumentStyle$roundtripData_ = "";
  this.docs_text_protocol_DocumentStyle$roundtripDataDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$DocumentStyle, docs$text$protocol$Style);
var docs$text$protocol$DocumentStyle$propertyNames_, enabledPropertyNames$jscomp$inline_224 = "ds_b ds_fi ds_hi ds_fpfi ds_fphi ds_mb ds_ml ds_mr ds_mt ds_pnsi ds_pw ds_ph ds_ufphf".split(" ");
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-esm") && (enabledPropertyNames$jscomp$inline_224 = enabledPropertyNames$jscomp$inline_224.concat(["ds_cf", "ds_ch"]));
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-erds") && (enabledPropertyNames$jscomp$inline_224 = enabledPropertyNames$jscomp$inline_224.concat(["ds_rtd"]));
docs$text$protocol$DocumentStyle$propertyNames_ = new docs$text$protocol$PropertyNames(enabledPropertyNames$jscomp$inline_224, {});
docs$text$protocol$DocumentStyle.prototype.docs_text_protocol_DocumentStyle_prototype$marginTop_ = 72;
docs$text$protocol$DocumentStyle.prototype.docs_text_protocol_DocumentStyle_prototype$marginTopDefined_ = !1;
docs$text$protocol$DocumentStyle.prototype.docs_text_protocol_DocumentStyle_prototype$marginRight_ = 72;
docs$text$protocol$DocumentStyle.prototype.docs_text_protocol_DocumentStyle_prototype$marginRightDefined_ = !1;
docs$text$protocol$DocumentStyle.prototype.docs_text_protocol_DocumentStyle_prototype$marginBottom_ = 72;
docs$text$protocol$DocumentStyle.prototype.docs_text_protocol_DocumentStyle_prototype$marginBottomDefined_ = !1;
docs$text$protocol$DocumentStyle.prototype.docs_text_protocol_DocumentStyle_prototype$marginLeft_ = 72;
docs$text$protocol$DocumentStyle.prototype.docs_text_protocol_DocumentStyle_prototype$marginLeftDefined_ = !1;
docs$text$protocol$DocumentStyle.prototype.pageWidth_ = 612;
docs$text$protocol$DocumentStyle.prototype.pageWidthDefined_ = !1;
docs$text$protocol$DocumentStyle.prototype.pageHeight_ = 792;
docs$text$protocol$DocumentStyle.prototype.pageHeightDefined_ = !1;
docs$text$protocol$DocumentStyle.prototype.continuousFooter_ = !0;
docs$text$protocol$DocumentStyle.prototype.continuousFooterDefined_ = !1;
docs$text$protocol$DocumentStyle.prototype.continuousHeader_ = !0;
docs$text$protocol$DocumentStyle.prototype.continuousHeaderDefined_ = !1;
docs$text$protocol$DocumentStyle.prototype.paperType_ = JSCompiler_StaticMethods_getPaperTypeInPoints(docs$text$util$PaperUtil.getInstance(), 612, 792);
docs$text$protocol$DocumentStyle.prototype.updateInternal = function $docs$text$protocol$DocumentStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("ds_b" in propertyMap) {
    var value = propertyMap.ds_b;
    this.background_.update(value, opt_strategy);
  }
  "ds_cf" in propertyMap && (value = propertyMap.ds_cf, !requireDefined || this.continuousFooterDefined_) && (this.continuousFooterDefined_ = !0, this.continuousFooter_ = value);
  "ds_ch" in propertyMap && (value = propertyMap.ds_ch, !requireDefined || this.continuousHeaderDefined_) && (this.continuousHeaderDefined_ = !0, this.continuousHeader_ = value);
  "ds_fi" in propertyMap && (value = propertyMap.ds_fi, !requireDefined || this.defaultFooterIdDefined_) && (this.defaultFooterIdDefined_ = !0, this.defaultFooterId_ = value);
  "ds_hi" in propertyMap && (value = propertyMap.ds_hi, !requireDefined || this.defaultHeaderIdDefined_) && (this.defaultHeaderIdDefined_ = !0, this.defaultHeaderId_ = value);
  "ds_fpfi" in propertyMap && (value = propertyMap.ds_fpfi, !requireDefined || this.firstPageFooterIdDefined_) && (this.firstPageFooterIdDefined_ = !0, this.firstPageFooterId_ = value);
  "ds_fphi" in propertyMap && (value = propertyMap.ds_fphi, !requireDefined || this.firstPageHeaderIdDefined_) && (this.firstPageHeaderIdDefined_ = !0, this.firstPageHeaderId_ = value);
  "ds_ufphf" in propertyMap && (value = propertyMap.ds_ufphf, !requireDefined || this.useFirstPageHeaderFooterDefined_) && (this.useFirstPageHeaderFooterDefined_ = !0, this.useFirstPageHeaderFooter_ = value);
  "ds_mb" in propertyMap && (value = propertyMap.ds_mb, !requireDefined || this.docs_text_protocol_DocumentStyle_prototype$marginBottomDefined_) && (this.docs_text_protocol_DocumentStyle_prototype$marginBottomDefined_ = !0, this.docs_text_protocol_DocumentStyle_prototype$marginBottom_ = value);
  "ds_ml" in propertyMap && (value = propertyMap.ds_ml, !requireDefined || this.docs_text_protocol_DocumentStyle_prototype$marginLeftDefined_) && (this.docs_text_protocol_DocumentStyle_prototype$marginLeftDefined_ = !0, this.docs_text_protocol_DocumentStyle_prototype$marginLeft_ = value);
  "ds_mr" in propertyMap && (value = propertyMap.ds_mr, !requireDefined || this.docs_text_protocol_DocumentStyle_prototype$marginRightDefined_) && (this.docs_text_protocol_DocumentStyle_prototype$marginRightDefined_ = !0, this.docs_text_protocol_DocumentStyle_prototype$marginRight_ = value);
  "ds_mt" in propertyMap && (value = propertyMap.ds_mt, !requireDefined || this.docs_text_protocol_DocumentStyle_prototype$marginTopDefined_) && (this.docs_text_protocol_DocumentStyle_prototype$marginTopDefined_ = !0, this.docs_text_protocol_DocumentStyle_prototype$marginTop_ = value);
  "ds_ph" in propertyMap && (value = propertyMap.ds_ph, !requireDefined || this.pageHeightDefined_) && (this.pageHeightDefined_ = !0, this.pageHeight_ = value, this.paperType_ = JSCompiler_StaticMethods_getPaperTypeInPoints(docs$text$util$PaperUtil.getInstance(), this.pageWidth_, this.pageHeight_));
  "ds_pw" in propertyMap && (value = propertyMap.ds_pw, !requireDefined || this.pageWidthDefined_) && (this.pageWidthDefined_ = !0, this.pageWidth_ = value, this.paperType_ = JSCompiler_StaticMethods_getPaperTypeInPoints(docs$text$util$PaperUtil.getInstance(), this.pageWidth_, this.pageHeight_));
  "ds_pnsi" in propertyMap && (value = propertyMap.ds_pnsi, !requireDefined || this.pageNumberStartIndexDefined_) && (this.pageNumberStartIndexDefined_ = !0, this.pageNumberStartIndex_ = goog$asserts$assertNumber(value));
  "ds_rtd" in propertyMap && (value = propertyMap.ds_rtd, !requireDefined || this.docs_text_protocol_DocumentStyle$roundtripDataDefined_) && (this.docs_text_protocol_DocumentStyle$roundtripDataDefined_ = !0, this.docs_text_protocol_DocumentStyle$roundtripData_ = value);
};
docs$text$protocol$DocumentStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$DocumentStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {}, serializedBackground = this.background_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedBackground) && (serializedObj.ds_b = serializedBackground);
  if (JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-esm")) {
    if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.continuousFooterDefined_) {
      serializedObj.ds_cf = this.continuousFooter_;
    }
    if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.continuousHeaderDefined_) {
      serializedObj.ds_ch = this.continuousHeader_;
    }
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.defaultFooterIdDefined_) {
    serializedObj.ds_fi = this.defaultFooterId_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.defaultHeaderIdDefined_) {
    serializedObj.ds_hi = this.defaultHeaderId_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.firstPageFooterIdDefined_) {
    serializedObj.ds_fpfi = this.firstPageFooterId_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.firstPageHeaderIdDefined_) {
    serializedObj.ds_fphi = this.firstPageHeaderId_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.useFirstPageHeaderFooterDefined_) {
    serializedObj.ds_ufphf = this.useFirstPageHeaderFooter_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.pageNumberStartIndexDefined_) {
    serializedObj.ds_pnsi = this.pageNumberStartIndex_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_DocumentStyle_prototype$marginBottomDefined_) {
    serializedObj.ds_mb = this.docs_text_protocol_DocumentStyle_prototype$marginBottom_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_DocumentStyle_prototype$marginLeftDefined_) {
    serializedObj.ds_ml = this.docs_text_protocol_DocumentStyle_prototype$marginLeft_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_DocumentStyle_prototype$marginRightDefined_) {
    serializedObj.ds_mr = this.docs_text_protocol_DocumentStyle_prototype$marginRight_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_DocumentStyle_prototype$marginTopDefined_) {
    serializedObj.ds_mt = this.docs_text_protocol_DocumentStyle_prototype$marginTop_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.pageHeightDefined_) {
    serializedObj.ds_ph = this.pageHeight_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.pageWidthDefined_) {
    serializedObj.ds_pw = this.pageWidth_;
  }
  !JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-erds") || strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.docs_text_protocol_DocumentStyle$roundtripDataDefined_ || (serializedObj.ds_rtd = this.docs_text_protocol_DocumentStyle$roundtripData_);
  return serializedObj;
};
docs$text$protocol$DocumentStyle.prototype.getValueInternal = function $docs$text$protocol$DocumentStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "ds_b":
      return this.background_;
    case "ds_cf":
      return this.continuousFooter_;
    case "ds_ch":
      return this.continuousHeader_;
    case "ds_fi":
      return this.defaultFooterId_;
    case "ds_hi":
      return this.defaultHeaderId_;
    case "ds_fpfi":
      return this.firstPageFooterId_;
    case "ds_fphi":
      return this.firstPageHeaderId_;
    case "ds_ufphf":
      return this.useFirstPageHeaderFooter_;
    case "ds_mb":
      return this.docs_text_protocol_DocumentStyle_prototype$marginBottom_;
    case "ds_ml":
      return this.docs_text_protocol_DocumentStyle_prototype$marginLeft_;
    case "ds_mr":
      return this.docs_text_protocol_DocumentStyle_prototype$marginRight_;
    case "ds_mt":
      return this.docs_text_protocol_DocumentStyle_prototype$marginTop_;
    case "ds_ph":
      return this.pageHeight_;
    case "ds_pw":
      return this.pageWidth_;
    case "ds_pnsi":
      return this.pageNumberStartIndex_;
    case "ds_rtd":
      return this.docs_text_protocol_DocumentStyle$roundtripData_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$DocumentStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$DocumentStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "ds_b":
      return !0;
    case "ds_cf":
      return this.continuousFooterDefined_;
    case "ds_ch":
      return this.continuousHeaderDefined_;
    case "ds_fi":
      return this.defaultFooterIdDefined_;
    case "ds_hi":
      return this.defaultHeaderIdDefined_;
    case "ds_fpfi":
      return this.firstPageFooterIdDefined_;
    case "ds_fphi":
      return this.firstPageHeaderIdDefined_;
    case "ds_ufphf":
      return this.useFirstPageHeaderFooterDefined_;
    case "ds_mb":
      return this.docs_text_protocol_DocumentStyle_prototype$marginBottomDefined_;
    case "ds_ml":
      return this.docs_text_protocol_DocumentStyle_prototype$marginLeftDefined_;
    case "ds_mr":
      return this.docs_text_protocol_DocumentStyle_prototype$marginRightDefined_;
    case "ds_mt":
      return this.docs_text_protocol_DocumentStyle_prototype$marginTopDefined_;
    case "ds_ph":
      return this.pageHeightDefined_;
    case "ds_pw":
      return this.pageWidthDefined_;
    case "ds_pnsi":
      return this.pageNumberStartIndexDefined_;
    case "ds_rtd":
      return this.docs_text_protocol_DocumentStyle$roundtripDataDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$DocumentStyle.prototype.isNestedAnnotation = function $docs$text$protocol$DocumentStyle$$isNestedAnnotation$(propertyName) {
  switch(propertyName) {
    case "ds_b":
      return !0;
  }
  return !1;
};
docs$text$protocol$DocumentStyle.prototype.equalsInternal = function $docs$text$protocol$DocumentStyle$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$DocumentStyle && (!strategy.compareDefined_ || this.continuousFooterDefined_ == other.continuousFooterDefined_ && this.continuousHeaderDefined_ == other.continuousHeaderDefined_ && this.docs_text_protocol_DocumentStyle_prototype$marginTopDefined_ == other.docs_text_protocol_DocumentStyle_prototype$marginTopDefined_ && this.docs_text_protocol_DocumentStyle_prototype$marginRightDefined_ == other.docs_text_protocol_DocumentStyle_prototype$marginRightDefined_ && 
  this.docs_text_protocol_DocumentStyle_prototype$marginBottomDefined_ == other.docs_text_protocol_DocumentStyle_prototype$marginBottomDefined_ && this.docs_text_protocol_DocumentStyle_prototype$marginLeftDefined_ == other.docs_text_protocol_DocumentStyle_prototype$marginLeftDefined_ && this.pageWidthDefined_ == other.pageWidthDefined_ && this.pageHeightDefined_ == other.pageHeightDefined_ && this.defaultFooterIdDefined_ == other.defaultFooterIdDefined_ && this.defaultHeaderIdDefined_ == other.defaultHeaderIdDefined_ && 
  this.firstPageFooterIdDefined_ == other.firstPageFooterIdDefined_ && this.firstPageHeaderIdDefined_ == other.firstPageHeaderIdDefined_ && this.useFirstPageHeaderFooterDefined_ == other.useFirstPageHeaderFooterDefined_ && this.pageNumberStartIndexDefined_ == other.pageNumberStartIndexDefined_ && this.docs_text_protocol_DocumentStyle$roundtripDataDefined_ == other.docs_text_protocol_DocumentStyle$roundtripDataDefined_) ? JSCompiler_StaticMethods_equalsWithStrategy(this.background_, other.background_, 
  strategy) && this.continuousFooter_ == other.continuousFooter_ && this.continuousHeader_ == other.continuousHeader_ && this.docs_text_protocol_DocumentStyle_prototype$marginTop_ == other.docs_text_protocol_DocumentStyle_prototype$marginTop_ && this.docs_text_protocol_DocumentStyle_prototype$marginRight_ == other.docs_text_protocol_DocumentStyle_prototype$marginRight_ && this.docs_text_protocol_DocumentStyle_prototype$marginBottom_ == other.docs_text_protocol_DocumentStyle_prototype$marginBottom_ && 
  this.docs_text_protocol_DocumentStyle_prototype$marginLeft_ == other.docs_text_protocol_DocumentStyle_prototype$marginLeft_ && this.pageWidth_ == other.pageWidth_ && this.pageHeight_ == other.pageHeight_ && this.defaultFooterId_ == other.defaultFooterId_ && this.defaultHeaderId_ == other.defaultHeaderId_ && this.firstPageFooterId_ == other.firstPageFooterId_ && this.firstPageHeaderId_ == other.firstPageHeaderId_ && this.useFirstPageHeaderFooter_ == other.useFirstPageHeaderFooter_ && this.pageNumberStartIndex_ == 
  other.pageNumberStartIndex_ && this.docs_text_protocol_DocumentStyle$roundtripData_ == other.docs_text_protocol_DocumentStyle$roundtripData_ : !1;
};
docs$text$protocol$DocumentStyle.prototype.clone = function $docs$text$protocol$DocumentStyle$$clone$() {
  var documentStyle = new docs$text$protocol$DocumentStyle;
  this.copyTo(documentStyle);
  return documentStyle;
};
docs$text$protocol$DocumentStyle.prototype.copyToInternal = function $docs$text$protocol$DocumentStyle$$copyToInternal$(other) {
  other.background_ = this.background_.clone();
  other.continuousFooter_ = this.continuousFooter_;
  other.continuousFooterDefined_ = this.continuousFooterDefined_;
  other.continuousHeader_ = this.continuousHeader_;
  other.continuousHeaderDefined_ = this.continuousHeaderDefined_;
  other.docs_text_protocol_DocumentStyle_prototype$marginTop_ = this.docs_text_protocol_DocumentStyle_prototype$marginTop_;
  other.docs_text_protocol_DocumentStyle_prototype$marginTopDefined_ = this.docs_text_protocol_DocumentStyle_prototype$marginTopDefined_;
  other.docs_text_protocol_DocumentStyle_prototype$marginRight_ = this.docs_text_protocol_DocumentStyle_prototype$marginRight_;
  other.docs_text_protocol_DocumentStyle_prototype$marginRightDefined_ = this.docs_text_protocol_DocumentStyle_prototype$marginRightDefined_;
  other.docs_text_protocol_DocumentStyle_prototype$marginBottom_ = this.docs_text_protocol_DocumentStyle_prototype$marginBottom_;
  other.docs_text_protocol_DocumentStyle_prototype$marginBottomDefined_ = this.docs_text_protocol_DocumentStyle_prototype$marginBottomDefined_;
  other.docs_text_protocol_DocumentStyle_prototype$marginLeft_ = this.docs_text_protocol_DocumentStyle_prototype$marginLeft_;
  other.docs_text_protocol_DocumentStyle_prototype$marginLeftDefined_ = this.docs_text_protocol_DocumentStyle_prototype$marginLeftDefined_;
  other.pageWidth_ = this.pageWidth_;
  other.pageWidthDefined_ = this.pageWidthDefined_;
  other.pageHeight_ = this.pageHeight_;
  other.pageHeightDefined_ = this.pageHeightDefined_;
  other.paperType_ = this.paperType_;
  other.defaultFooterId_ = this.defaultFooterId_;
  other.defaultFooterIdDefined_ = this.defaultFooterIdDefined_;
  other.defaultHeaderId_ = this.defaultHeaderId_;
  other.defaultHeaderIdDefined_ = this.defaultHeaderIdDefined_;
  other.firstPageFooterId_ = this.firstPageFooterId_;
  other.firstPageFooterIdDefined_ = this.firstPageFooterIdDefined_;
  other.firstPageHeaderId_ = this.firstPageHeaderId_;
  other.firstPageHeaderIdDefined_ = this.firstPageHeaderIdDefined_;
  other.useFirstPageHeaderFooter_ = this.useFirstPageHeaderFooter_;
  other.useFirstPageHeaderFooterDefined_ = this.useFirstPageHeaderFooterDefined_;
  other.pageNumberStartIndex_ = this.pageNumberStartIndex_;
  other.pageNumberStartIndexDefined_ = this.pageNumberStartIndexDefined_;
  other.docs_text_protocol_DocumentStyle$roundtripData_ = this.docs_text_protocol_DocumentStyle$roundtripData_;
  other.docs_text_protocol_DocumentStyle$roundtripDataDefined_ = this.docs_text_protocol_DocumentStyle$roundtripDataDefined_;
};
var docs$text$protocol$DocumentStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("document", function() {
  return new docs$text$protocol$DocumentStyle;
}, function() {
  return docs$text$protocol$DocumentStyle$propertyNames_;
});
// Input 52
function docs$text$protocol$DraftCommentStyle(opt_propertyMap) {
  docs$text$protocol$StringCollectionStyle.call(this, "dcs_cids", "draft_comment", docs$text$protocol$DraftCommentStyle$propertyNames_, opt_propertyMap);
}
goog$inherits(docs$text$protocol$DraftCommentStyle, docs$text$protocol$StringCollectionStyle);
var docs$text$protocol$DraftCommentStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COMMENT_IDS:"dcs_cids"});
docs$text$protocol$DraftCommentStyle.prototype.clone = function $docs$text$protocol$DraftCommentStyle$$clone$() {
  var style = new docs$text$protocol$DraftCommentStyle;
  this.copyTo(style);
  return style;
};
var docs$text$protocol$DraftCommentStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("draft_comment", function() {
  return new docs$text$protocol$DraftCommentStyle;
}, function() {
  return docs$text$protocol$DraftCommentStyle$propertyNames_;
});
// Input 53
function docs$text$protocol$EquationFunctionStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "equation_function", docs$text$protocol$EquationFunctionStyle$propertyNames_);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$EquationFunctionStyle, docs$text$protocol$Style);
var docs$text$protocol$EquationFunctionStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({CODE:"eqfs_c"});
docs$text$protocol$EquationFunctionStyle.prototype.docs_text_protocol_EquationFunctionStyle_prototype$code_ = "\\lambda";
docs$text$protocol$EquationFunctionStyle.prototype.codeDefined_ = !1;
docs$text$protocol$EquationFunctionStyle.prototype.updateInternal = function $docs$text$protocol$EquationFunctionStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("eqfs_c" in propertyMap) {
    var value = propertyMap.eqfs_c;
    if (!requireDefined || this.codeDefined_) {
      this.codeDefined_ = !0, this.docs_text_protocol_EquationFunctionStyle_prototype$code_ = value;
    }
  }
};
docs$text$protocol$EquationFunctionStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$EquationFunctionStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.codeDefined_) {
    serializedObj.eqfs_c = this.docs_text_protocol_EquationFunctionStyle_prototype$code_;
  }
  return serializedObj;
};
docs$text$protocol$EquationFunctionStyle.prototype.getValueInternal = function $docs$text$protocol$EquationFunctionStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "eqfs_c":
      return this.docs_text_protocol_EquationFunctionStyle_prototype$code_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$EquationFunctionStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$EquationFunctionStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "eqfs_c":
      return this.codeDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$EquationFunctionStyle.prototype.equalsInternal = function $docs$text$protocol$EquationFunctionStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$EquationFunctionStyle) || strategy.compareDefined_ && this.codeDefined_ != other.codeDefined_ ? !1 : this.docs_text_protocol_EquationFunctionStyle_prototype$code_ == other.docs_text_protocol_EquationFunctionStyle_prototype$code_;
};
docs$text$protocol$EquationFunctionStyle.prototype.clone = function $docs$text$protocol$EquationFunctionStyle$$clone$() {
  var style = new docs$text$protocol$EquationFunctionStyle;
  this.copyTo(style);
  return style;
};
docs$text$protocol$EquationFunctionStyle.prototype.copyToInternal = function $docs$text$protocol$EquationFunctionStyle$$copyToInternal$(other) {
  other.docs_text_protocol_EquationFunctionStyle_prototype$code_ = this.docs_text_protocol_EquationFunctionStyle_prototype$code_;
  other.codeDefined_ = this.codeDefined_;
};
var docs$text$protocol$EquationFunctionStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("equation_function", function() {
  return new docs$text$protocol$EquationFunctionStyle;
}, function() {
  return docs$text$protocol$EquationFunctionStyle$propertyNames_;
});
// Input 54
function docs$text$protocol$EquationStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "equation", docs$text$protocol$EquationStyle$propertyNames_);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$EquationStyle, docs$text$protocol$Style);
var docs$text$protocol$EquationStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({PRESENTATION_MODE:"eqs_p"});
docs$text$protocol$EquationStyle.prototype.presentationMode_ = "$";
docs$text$protocol$EquationStyle.prototype.presentationModeDefined_ = !1;
docs$text$protocol$EquationStyle.prototype.updateInternal = function $docs$text$protocol$EquationStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("eqs_p" in propertyMap) {
    var value = propertyMap.eqs_p;
    if (!requireDefined || this.presentationModeDefined_) {
      this.presentationModeDefined_ = !0, this.presentationMode_ = value;
    }
  }
};
docs$text$protocol$EquationStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$EquationStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.presentationModeDefined_) {
    serializedObj.eqs_p = this.presentationMode_;
  }
  return serializedObj;
};
docs$text$protocol$EquationStyle.prototype.getValueInternal = function $docs$text$protocol$EquationStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "eqs_p":
      return this.presentationMode_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$EquationStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$EquationStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "eqs_p":
      return this.presentationModeDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$EquationStyle.prototype.equalsInternal = function $docs$text$protocol$EquationStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$EquationStyle) || strategy.compareDefined_ && this.presentationModeDefined_ != other.presentationModeDefined_ ? !1 : this.presentationMode_ == other.presentationMode_;
};
docs$text$protocol$EquationStyle.prototype.clone = function $docs$text$protocol$EquationStyle$$clone$() {
  var equationStyle = new docs$text$protocol$EquationStyle;
  this.copyTo(equationStyle);
  return equationStyle;
};
docs$text$protocol$EquationStyle.prototype.copyToInternal = function $docs$text$protocol$EquationStyle$$copyToInternal$(other) {
  other.presentationMode_ = this.presentationMode_;
  other.presentationModeDefined_ = this.presentationModeDefined_;
};
var docs$text$protocol$EquationStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("equation", function() {
  return new docs$text$protocol$EquationStyle;
}, function() {
  return docs$text$protocol$EquationStyle$propertyNames_;
});
// Input 55
function docs$text$protocol$FootnoteStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "footnote", docs$text$protocol$FootnoteStyle$propertyNames_);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$FootnoteStyle, docs$text$protocol$Style);
docs$text$protocol$FootnoteStyle.prototype.footnoteId_ = null;
docs$text$protocol$FootnoteStyle.prototype.footnoteIdDefined_ = !1;
var docs$text$protocol$FootnoteStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({FOOTNOTE_ID:"fs_id"});
docs$text$protocol$FootnoteStyle.prototype.updateInternal = function $docs$text$protocol$FootnoteStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("fs_id" in propertyMap) {
    var value = propertyMap.fs_id;
    if (!requireDefined || this.footnoteIdDefined_) {
      this.footnoteIdDefined_ = !0, this.footnoteId_ = value;
    }
  }
};
docs$text$protocol$FootnoteStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$FootnoteStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.footnoteIdDefined_) {
    serializedObj.fs_id = this.footnoteId_;
  }
  return serializedObj;
};
docs$text$protocol$FootnoteStyle.prototype.getValueInternal = function $docs$text$protocol$FootnoteStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "fs_id":
      return this.footnoteId_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$FootnoteStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$FootnoteStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "fs_id":
      return this.footnoteIdDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$FootnoteStyle.prototype.equalsInternal = function $docs$text$protocol$FootnoteStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$FootnoteStyle) || strategy.compareDefined_ && this.footnoteIdDefined_ != other.footnoteIdDefined_ ? !1 : this.footnoteId_ == other.footnoteId_;
};
docs$text$protocol$FootnoteStyle.prototype.getRelatedSectionEntityIds = function $docs$text$protocol$FootnoteStyle$$getRelatedSectionEntityIds$() {
  return this.footnoteId_ ? [this.footnoteId_] : [];
};
docs$text$protocol$FootnoteStyle.prototype.clone = function $docs$text$protocol$FootnoteStyle$$clone$() {
  var footnoteStyle = new docs$text$protocol$FootnoteStyle;
  this.copyTo(footnoteStyle);
  return footnoteStyle;
};
docs$text$protocol$FootnoteStyle.prototype.copyToInternal = function $docs$text$protocol$FootnoteStyle$$copyToInternal$(other) {
  other.footnoteId_ = this.footnoteId_;
  other.footnoteIdDefined_ = this.footnoteIdDefined_;
};
var docs$text$protocol$FootnoteStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("footnote", function() {
  return new docs$text$protocol$FootnoteStyle;
}, function() {
  return docs$text$protocol$FootnoteStyle$propertyNames_;
});
// Input 56
function docs$text$protocol$ImmutableAnnotationReference(baseAnnotation, opt_actualAnnotation) {
  this.baseAnnotation_ = baseAnnotation.setImmutable();
  this.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_ = opt_actualAnnotation ? opt_actualAnnotation.setImmutable() : null;
}
docs$text$protocol$ImmutableAnnotationReference.prototype.serialize = function $docs$text$protocol$ImmutableAnnotationReference$$serialize$(opt_strategy) {
  return this.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_ ? this.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_.serialize(opt_strategy) : null;
};
docs$text$protocol$ImmutableAnnotationReference.prototype.update = function $docs$text$protocol$ImmutableAnnotationReference$$update$(propertyMap, opt_strategy) {
  if (!propertyMap) {
    return this.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_ ? new docs$text$protocol$ImmutableAnnotationReference(this.baseAnnotation_) : this;
  }
  var newActualAnnotation = (this.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_ || this.baseAnnotation_).clone();
  newActualAnnotation.update(propertyMap, opt_strategy);
  return new docs$text$protocol$ImmutableAnnotationReference(this.baseAnnotation_, newActualAnnotation);
};
docs$text$protocol$ImmutableAnnotationReference.prototype.get = function $docs$text$protocol$ImmutableAnnotationReference$$get$() {
  return this.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_ || this.baseAnnotation_;
};
// Input 57
function docs$text$protocol$Shading(opt_propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$Shading$propertyNames_);
  this.docs_text_protocol_Shading$backgroundColor_ = docs$text$protocol$Shading$DEFAULT_BACKGROUND_COLOR_;
  this.docs_text_protocol_Shading$backgroundColorDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$Shading, docs$text$protocol$Annotation);
var docs$text$protocol$Shading$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({BACKGROUND_COLOR:"sd_bgc"}), docs$text$protocol$Shading$DEFAULT_BACKGROUND_COLOR_ = new docs$text$protocol$HexColor;
docs$text$protocol$Shading.prototype.clone = function $docs$text$protocol$Shading$$clone$() {
  var clone = new docs$text$protocol$Shading;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$Shading.prototype.copyToInternal = function $docs$text$protocol$Shading$$copyToInternal$(other) {
  other.docs_text_protocol_Shading$backgroundColor_ = this.docs_text_protocol_Shading$backgroundColor_;
  other.docs_text_protocol_Shading$backgroundColorDefined_ = this.docs_text_protocol_Shading$backgroundColorDefined_;
};
function docs$text$protocol$Shading$getColorString(color) {
  if (0 != color.getType()) {
    throw Error("Color is not a hex color.");
  }
  return color.hexColor_;
}
docs$text$protocol$Shading.prototype.updateInternal = function $docs$text$protocol$Shading$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("sd_bgc" in propertyMap) {
    var value = propertyMap.sd_bgc;
    if (!requireDefined || this.docs_text_protocol_Shading$backgroundColorDefined_) {
      this.docs_text_protocol_Shading$backgroundColorDefined_ = !0;
      var colorMap = {clr_type:0};
      colorMap.hclr_color = value;
      this.docs_text_protocol_Shading$backgroundColor_.subsetEquals(colorMap) || (this.docs_text_protocol_Shading$backgroundColor_ = new docs$text$protocol$HexColor(colorMap));
    }
  }
};
docs$text$protocol$Shading.prototype.getValueInternal = function $docs$text$protocol$Shading$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "sd_bgc":
      return docs$text$protocol$Shading$getColorString(this.docs_text_protocol_Shading$backgroundColor_);
  }
  throw Error("Unknown shading property name " + propertyName);
};
docs$text$protocol$Shading.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Shading$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "sd_bgc":
      return this.docs_text_protocol_Shading$backgroundColorDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Shading.prototype.equalsInternal = function $docs$text$protocol$Shading$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$Shading) || strategy.compareDefined_ && this.docs_text_protocol_Shading$backgroundColorDefined_ != other.docs_text_protocol_Shading$backgroundColorDefined_ ? !1 : JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_Shading$backgroundColor_, other.docs_text_protocol_Shading$backgroundColor_, strategy);
};
docs$text$protocol$Shading.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Shading$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.docs_text_protocol_Shading$backgroundColorDefined_ || (serializedObj.sd_bgc = docs$text$protocol$Shading$getColorString(this.docs_text_protocol_Shading$backgroundColor_));
  return serializedObj;
};
goog$object$createImmutableView((new docs$text$protocol$Shading).serialize());
// Input 58
function docs$text$protocol$TabStop(propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$TabStop$propertyNames_);
  this.update(propertyMap);
}
goog$inherits(docs$text$protocol$TabStop, docs$text$protocol$Annotation);
var docs$text$protocol$TabStop$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({ALIGNMENT:"tbs_al", OFFSET:"tbs_of"});
docs$text$protocol$TabStop.prototype.docs_text_protocol_TabStop_prototype$alignment_ = 0;
docs$text$protocol$TabStop.prototype.docs_text_protocol_TabStop_prototype$alignmentDefined_ = !1;
docs$text$protocol$TabStop.prototype.offset_ = 0;
docs$text$protocol$TabStop.prototype.offsetDefined_ = !1;
docs$text$protocol$TabStop.prototype.clone = function $docs$text$protocol$TabStop$$clone$() {
  var clone = new docs$text$protocol$TabStop({});
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$TabStop.prototype.copyToInternal = function $docs$text$protocol$TabStop$$copyToInternal$(other) {
  other.docs_text_protocol_TabStop_prototype$alignment_ = this.docs_text_protocol_TabStop_prototype$alignment_;
  other.docs_text_protocol_TabStop_prototype$alignmentDefined_ = this.docs_text_protocol_TabStop_prototype$alignmentDefined_;
  other.offset_ = this.offset_;
  other.offsetDefined_ = this.offsetDefined_;
};
docs$text$protocol$TabStop.prototype.updateInternal = function $docs$text$protocol$TabStop$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("tbs_al" in propertyMap) {
    var value = propertyMap.tbs_al;
    if (!requireDefined || this.docs_text_protocol_TabStop_prototype$alignmentDefined_) {
      this.docs_text_protocol_TabStop_prototype$alignmentDefined_ = !0, this.docs_text_protocol_TabStop_prototype$alignment_ = value;
    }
  }
  "tbs_of" in propertyMap && (value = propertyMap.tbs_of, !requireDefined || this.offsetDefined_) && (this.offsetDefined_ = !0, this.offset_ = value);
};
docs$text$protocol$TabStop.prototype.getValueInternal = function $docs$text$protocol$TabStop$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "tbs_al":
      return this.docs_text_protocol_TabStop_prototype$alignment_;
    case "tbs_of":
      return this.offset_;
  }
  throw Error("Unknown tab stop property name " + propertyName);
};
docs$text$protocol$TabStop.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$TabStop$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "tbs_al":
      return this.docs_text_protocol_TabStop_prototype$alignmentDefined_;
    case "tbs_of":
      return this.offsetDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$TabStop.prototype.equalsInternal = function $docs$text$protocol$TabStop$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$TabStop && (!strategy.compareDefined_ || this.docs_text_protocol_TabStop_prototype$alignmentDefined_ == other.docs_text_protocol_TabStop_prototype$alignmentDefined_ && this.offsetDefined_ == other.offsetDefined_) ? this.docs_text_protocol_TabStop_prototype$alignment_ == other.docs_text_protocol_TabStop_prototype$alignment_ && this.offset_ == other.offset_ : !1;
};
docs$text$protocol$TabStop.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$TabStop$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_TabStop_prototype$alignmentDefined_) {
    serializedObj.tbs_al = this.docs_text_protocol_TabStop_prototype$alignment_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.offsetDefined_) {
    serializedObj.tbs_of = this.offset_;
  }
  return serializedObj;
};
function docs$text$protocol$TabStop$create(propertyMap) {
  return new docs$text$protocol$TabStop(propertyMap);
}
;
// Input 59
function docs$text$protocol$ParagraphStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "paragraph", docs$text$protocol$ParagraphStyle$propertyNames_);
  this.docs_text_protocol_ParagraphStyle$state_ = docs$text$protocol$ParagraphStyle$0State_$DEFAULT_;
  this.tabStops_ = new docs$text$protocol$Collection(new docs$text$protocol$AnnotationCollectionStrategy(docs$text$protocol$TabStop$create));
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$ParagraphStyle, docs$text$protocol$Style);
var propertyNameMap$jscomp$inline_230 = {ps_awao:"ps_awao_i", ps_al:"ps_al_i"};
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbcs") && (propertyNameMap$jscomp$inline_230.ps_sd = "ps_sd_i");
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbs") && (propertyNameMap$jscomp$inline_230.ps_bbtw = "ps_bbtw_i", propertyNameMap$jscomp$inline_230.ps_bb = "ps_bb_i", propertyNameMap$jscomp$inline_230.ps_bl = "ps_bl_i", propertyNameMap$jscomp$inline_230.ps_br = "ps_br_i", propertyNameMap$jscomp$inline_230.ps_bt = "ps_bt_i");
propertyNameMap$jscomp$inline_230.ps_ifl = "ps_ifl_i";
propertyNameMap$jscomp$inline_230.ps_il = "ps_il_i";
propertyNameMap$jscomp$inline_230.ps_ir = "ps_ir_i";
propertyNameMap$jscomp$inline_230.ps_klt = "ps_klt_i";
propertyNameMap$jscomp$inline_230.ps_kwn = "ps_kwn_i";
propertyNameMap$jscomp$inline_230.ps_ls = "ps_ls_i";
propertyNameMap$jscomp$inline_230.ps_sa = "ps_sa_i";
propertyNameMap$jscomp$inline_230.ps_sb = "ps_sb_i";
propertyNameMap$jscomp$inline_230.ps_sm = "ps_sm_i";
var docs$text$protocol$ParagraphStyle$propertyNames_, nonInheritablePropertyNames$jscomp$inline_232 = ["ps_hd", "ps_hdid", "ps_ltr", "ps_shd", "ps_ts"];
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epsrds") && (nonInheritablePropertyNames$jscomp$inline_232 = nonInheritablePropertyNames$jscomp$inline_232.concat("ps_rd"));
docs$text$protocol$ParagraphStyle$propertyNames_ = new docs$text$protocol$PropertyNames(nonInheritablePropertyNames$jscomp$inline_232, propertyNameMap$jscomp$inline_230);
var docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_ = new docs$text$protocol$ImmutableAnnotationReference(new docs$text$protocol$Border), docs$text$protocol$ParagraphStyle$DEFAULT_SHADING_REF_ = new docs$text$protocol$ImmutableAnnotationReference(new docs$text$protocol$Shading);
docs$text$protocol$ParagraphStyle.prototype.copyInheritedPropertiesToInternal = function $docs$text$protocol$ParagraphStyle$$copyInheritedPropertiesToInternal$(destination) {
  var JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self = destination.docs_text_protocol_ParagraphStyle$state_, parent = this.docs_text_protocol_ParagraphStyle$state_;
  destination.docs_text_protocol_ParagraphStyle$state_ = new docs$text$protocol$ParagraphStyle$0State_(JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$alignmentInherit_ ? parent.docs_text_protocol_ParagraphStyle$State_$alignment_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$alignment_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$alignmentInherit_ ? 
  !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$alignmentDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.avoidWidowAndOrphanInherit_ ? parent.avoidWidowAndOrphan_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.avoidWidowAndOrphan_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.avoidWidowAndOrphanInherit_ ? 
  !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.avoidWidowAndOrphanDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.borderBetweenInherit_ ? parent.borderBetweenRef_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.borderBetweenRef_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.borderBetweenInherit_ || 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.borderBetweenDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderBottomInherit_ ? parent.borderBottomRef_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.borderBottomRef_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderBottomInherit_ || 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderBottomDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderLeftInherit_ ? parent.borderLeftRef_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.borderLeftRef_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderLeftInherit_ || 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderLeftDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderRightInherit_ ? parent.borderRightRef_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.borderRightRef_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderRightInherit_ || 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderRightDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderTopInherit_ ? parent.borderTopRef_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.borderTopRef_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderTopInherit_ || 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$borderTopDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.heading_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.headingDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.headingId_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.headingIdDefined_, 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.indentEndInherit_ ? parent.indentEnd_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.indentEnd_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.indentEndInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.indentEndDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$indentFirstLineInherit_ ? 
  parent.docs_text_protocol_ParagraphStyle$State_$indentFirstLine_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$indentFirstLine_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$indentFirstLineInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$indentFirstLineDefined_, 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$indentStartInherit_ ? parent.docs_text_protocol_ParagraphStyle$State_$indentStart_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$indentStart_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$indentStartInherit_ ? 
  !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$indentStartDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.keepLinesTogetherInherit_ ? parent.keepLinesTogether_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.keepLinesTogether_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.keepLinesTogetherInherit_ ? 
  !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.keepLinesTogetherDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.keepWithNextInherit_ ? parent.keepWithNext_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.keepWithNext_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.keepWithNextInherit_ ? !0 : 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.keepWithNextDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.lineSpacingInherit_ ? parent.lineSpacing_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.lineSpacing_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.lineSpacingInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.lineSpacingDefined_, 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$ltr_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$ltrDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$roundtripData_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.docs_text_protocol_ParagraphStyle$State_$roundtripDataDefined_, 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.shadingInherit_ ? parent.shadingRef_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.shadingRef_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.shadingInherit_ || JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.shadingDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingAfterInherit_ ? 
  parent.spacingAfter_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingAfter_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingAfterInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingAfterDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingBeforeInherit_ ? parent.spacingBefore_ : 
  JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingBefore_, !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingBeforeInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingBeforeDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingModeInherit_ ? parent.spacingMode_ : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingMode_, 
  !1, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingModeInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.spacingModeDefined_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.suppressHeadingDetection_, JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$copyConcrete$self.suppressHeadingDetectionDefined_);
  destination.docs_text_protocol_Annotation$numInheritValues_ = 0;
};
docs$text$protocol$ParagraphStyle.prototype.updateInternal = function $docs$text$protocol$ParagraphStyle$$updateInternal$(propertyMap, opt_strategy) {
  "ps_ts" in propertyMap && this.tabStops_.update(propertyMap.ps_ts, opt_strategy);
  var updateResult = this.docs_text_protocol_ParagraphStyle$state_.update(propertyMap, opt_strategy);
  this.docs_text_protocol_ParagraphStyle$state_ = updateResult.docs_text_protocol_AnnotationStateUpdateResult$state_;
  this.docs_text_protocol_Annotation$numInheritValues_ += updateResult.updateInheritDelta_;
};
docs$text$protocol$ParagraphStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$ParagraphStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = this.docs_text_protocol_ParagraphStyle$state_.serialize(strategy), serializedTabStops = this.tabStops_.serialize(strategy);
  goog$object$isEmpty(serializedTabStops) || (serializedObj.ps_ts = serializedTabStops);
  if (strategy.assumeNoInherit_ && JSCompiler_StaticMethods_hasInheritValues(this)) {
    throw Error("serialize without inherit should not be called when the  style has inherit properties set to true.");
  }
  return serializedObj;
};
docs$text$protocol$ParagraphStyle.prototype.getValueInternal = function $docs$text$protocol$ParagraphStyle$$getValueInternal$(propertyName) {
  return "ps_ts" == propertyName ? this.tabStops_ : this.docs_text_protocol_ParagraphStyle$state_.getValue(propertyName);
};
docs$text$protocol$ParagraphStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$ParagraphStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  return "ps_ts" == propertyName ? !0 : JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined(this.docs_text_protocol_ParagraphStyle$state_, propertyName);
};
docs$text$protocol$ParagraphStyle.prototype.equalsInternal = function $docs$text$protocol$ParagraphStyle$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$ParagraphStyle ? this.docs_text_protocol_ParagraphStyle$state_.equals(other.docs_text_protocol_ParagraphStyle$state_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.tabStops_, other.tabStops_, strategy) : !1;
};
docs$text$protocol$ParagraphStyle.prototype.isNestedAnnotation = function $docs$text$protocol$ParagraphStyle$$isNestedAnnotation$(name) {
  return "ps_bbtw" == name || "ps_bb" == name || "ps_bl" == name || "ps_br" == name || "ps_bt" == name || "ps_sd" == name || "ps_ts" == name;
};
docs$text$protocol$ParagraphStyle.prototype.clone = function $docs$text$protocol$ParagraphStyle$$clone$() {
  var clone = new docs$text$protocol$ParagraphStyle;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$ParagraphStyle.prototype.copyToInternal = function $docs$text$protocol$ParagraphStyle$$copyToInternal$(other) {
  other.docs_text_protocol_ParagraphStyle$state_ = this.docs_text_protocol_ParagraphStyle$state_;
  other.tabStops_ = this.tabStops_.clone();
};
function docs$text$protocol$ParagraphStyle$getSpacingHeadingAnnotation_(spacingAfterParagraph, spacingBeforeParagraph) {
  var paragraphStyle = new docs$text$protocol$ParagraphStyle, updateResult, updateInheritDelta = 7;
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbcs") && (updateInheritDelta += 1);
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbs") && (updateInheritDelta += 5);
  updateResult = new docs$text$protocol$AnnotationStateUpdateResult(new docs$text$protocol$ParagraphStyle$0State_(0, !0, !1, !1, !0, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !1, 0, !1, "", !1, 0, !0, !1, 0, !0, !1, 0, !0, !1, !0, 
  !1, !1, !0, !1, !1, 1.15, !0, !1, !0, !1, "", !1, docs$text$protocol$ParagraphStyle$DEFAULT_SHADING_REF_, !0, !1, spacingAfterParagraph, !1, !1, spacingBeforeParagraph, !1, !1, 0, !0, !1, !1, !1), updateInheritDelta);
  paragraphStyle.docs_text_protocol_ParagraphStyle$state_ = updateResult.docs_text_protocol_AnnotationStateUpdateResult$state_;
  paragraphStyle.docs_text_protocol_Annotation$numInheritValues_ = updateResult.updateInheritDelta_;
  return paragraphStyle;
}
function docs$text$protocol$ParagraphStyle$createWithDefaultAllInherit() {
  var paragraphStyle = new docs$text$protocol$ParagraphStyle;
  paragraphStyle.docs_text_protocol_ParagraphStyle$state_ = docs$text$protocol$ParagraphStyle$0State_$defaultAllInherit_;
  var numInheritValues = 11;
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbcs") && (numInheritValues += 1);
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbs") && (numInheritValues += 5);
  paragraphStyle.docs_text_protocol_Annotation$numInheritValues_ = numInheritValues;
  return paragraphStyle;
}
function docs$text$protocol$ParagraphStyle$0State_(alignment, alignmentInherit, alignmentDefined, avoidWidowAndOrphan, avoidWidowAndOrphanInherit, avoidWidowAndOrphanDefined, borderBetweenRef, borderBetweenInherit, borderBetweenDefined, borderBottomRef, borderBottomInherit, borderBottomDefined, borderLeftRef, borderLeftInherit, borderLeftDefined, borderRightRef, borderRightInherit, borderRightDefined, borderTopRef, borderTopInherit, borderTopDefined, heading, headingDefined, headingId, headingIdDefined, 
indentEnd, indentEndInherit, indentEndDefined, indentFirstLine, indentFirstLineInherit, indentFirstLineDefined, indentStart, indentStartInherit, indentStartDefined, keepLinesTogether, keepLinesTogetherInherit, keepLinesTogetherDefined, keepWithNext, keepWithNextInherit, keepWithNextDefined, lineSpacing, lineSpacingInherit, lineSpacingDefined, ltr, ltrDefined, roundtripData, roundtripDataDefined, shadingRef, shadingInherit, shadingDefined, spacingAfter, spacingAfterInherit, spacingAfterDefined, spacingBefore, 
spacingBeforeInherit, spacingBeforeDefined, spacingMode, spacingModeInherit, spacingModeDefined, suppressHeadingDetection, suppressHeadingDetectionDefined) {
  this.docs_text_protocol_ParagraphStyle$State_$alignment_ = alignment;
  this.docs_text_protocol_ParagraphStyle$State_$alignmentInherit_ = alignmentInherit;
  this.docs_text_protocol_ParagraphStyle$State_$alignmentDefined_ = alignmentDefined;
  this.avoidWidowAndOrphan_ = avoidWidowAndOrphan;
  this.avoidWidowAndOrphanInherit_ = avoidWidowAndOrphanInherit;
  this.avoidWidowAndOrphanDefined_ = avoidWidowAndOrphanDefined;
  this.borderBetweenRef_ = borderBetweenRef;
  this.borderBetweenInherit_ = borderBetweenInherit;
  this.borderBetweenDefined_ = borderBetweenDefined;
  this.borderBottomRef_ = borderBottomRef;
  this.docs_text_protocol_ParagraphStyle$State_$borderBottomInherit_ = borderBottomInherit;
  this.docs_text_protocol_ParagraphStyle$State_$borderBottomDefined_ = borderBottomDefined;
  this.borderLeftRef_ = borderLeftRef;
  this.docs_text_protocol_ParagraphStyle$State_$borderLeftInherit_ = borderLeftInherit;
  this.docs_text_protocol_ParagraphStyle$State_$borderLeftDefined_ = borderLeftDefined;
  this.borderRightRef_ = borderRightRef;
  this.docs_text_protocol_ParagraphStyle$State_$borderRightInherit_ = borderRightInherit;
  this.docs_text_protocol_ParagraphStyle$State_$borderRightDefined_ = borderRightDefined;
  this.borderTopRef_ = borderTopRef;
  this.docs_text_protocol_ParagraphStyle$State_$borderTopInherit_ = borderTopInherit;
  this.docs_text_protocol_ParagraphStyle$State_$borderTopDefined_ = borderTopDefined;
  this.heading_ = heading;
  this.headingDefined_ = headingDefined;
  this.headingId_ = headingId;
  this.headingIdDefined_ = headingIdDefined;
  this.docs_text_protocol_ParagraphStyle$State_$indentFirstLine_ = indentFirstLine;
  this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineInherit_ = indentFirstLineInherit;
  this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineDefined_ = indentFirstLineDefined;
  this.docs_text_protocol_ParagraphStyle$State_$indentStart_ = indentStart;
  this.docs_text_protocol_ParagraphStyle$State_$indentStartInherit_ = indentStartInherit;
  this.docs_text_protocol_ParagraphStyle$State_$indentStartDefined_ = indentStartDefined;
  this.indentEnd_ = indentEnd;
  this.indentEndInherit_ = indentEndInherit;
  this.indentEndDefined_ = indentEndDefined;
  this.keepLinesTogether_ = keepLinesTogether;
  this.keepLinesTogetherInherit_ = keepLinesTogetherInherit;
  this.keepLinesTogetherDefined_ = keepLinesTogetherDefined;
  this.keepWithNext_ = keepWithNext;
  this.keepWithNextInherit_ = keepWithNextInherit;
  this.keepWithNextDefined_ = keepWithNextDefined;
  this.lineSpacing_ = lineSpacing;
  this.lineSpacingInherit_ = lineSpacingInherit;
  this.lineSpacingDefined_ = lineSpacingDefined;
  this.docs_text_protocol_ParagraphStyle$State_$ltr_ = ltr;
  this.docs_text_protocol_ParagraphStyle$State_$ltrDefined_ = ltrDefined;
  this.docs_text_protocol_ParagraphStyle$State_$roundtripData_ = roundtripData;
  this.docs_text_protocol_ParagraphStyle$State_$roundtripDataDefined_ = roundtripDataDefined;
  this.shadingRef_ = shadingRef;
  this.shadingInherit_ = shadingInherit;
  this.shadingDefined_ = shadingDefined;
  this.spacingAfter_ = spacingAfter;
  this.spacingAfterInherit_ = spacingAfterInherit;
  this.spacingAfterDefined_ = spacingAfterDefined;
  this.spacingBefore_ = spacingBefore;
  this.spacingBeforeInherit_ = spacingBeforeInherit;
  this.spacingBeforeDefined_ = spacingBeforeDefined;
  this.spacingMode_ = spacingMode;
  this.spacingModeInherit_ = spacingModeInherit;
  this.spacingModeDefined_ = spacingModeDefined;
  this.suppressHeadingDetection_ = suppressHeadingDetection;
  this.suppressHeadingDetectionDefined_ = suppressHeadingDetectionDefined;
}
var docs$text$protocol$ParagraphStyle$0State_$defaultAllInherit_ = new docs$text$protocol$ParagraphStyle$0State_(0, !0, !1, !1, !0, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !1, 0, !1, "", !1, 0, !0, !1, 0, !0, !1, 0, !0, !1, !1, 
!0, !1, !1, !0, !1, 1.15, !0, !1, !0, !1, "", !1, docs$text$protocol$ParagraphStyle$DEFAULT_SHADING_REF_, !0, !1, 0, !0, !1, 0, !0, !1, 0, !0, !1, !1, !1), docs$text$protocol$ParagraphStyle$0State_$allInherit_ = new docs$text$protocol$ParagraphStyle$0State_(0, !0, !0, !1, !0, !0, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !0, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !0, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !0, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, 
!0, !0, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !0, !0, 0, !0, "", !0, 0, !0, !0, 0, !0, !0, 0, !0, !0, !1, !0, !0, !1, !0, !0, 1.15, !0, !0, !0, !1, "", !1, docs$text$protocol$ParagraphStyle$DEFAULT_SHADING_REF_, !0, !0, 0, !0, !0, 0, !0, !0, 0, !0, !0, !1, !0);
docs$text$protocol$ParagraphStyle$0State_.prototype.equals = function $docs$text$protocol$ParagraphStyle$0State_$$equals$(other, strategy) {
  return other == this ? !0 : !strategy.compareDefined_ || this.docs_text_protocol_ParagraphStyle$State_$alignmentDefined_ == other.docs_text_protocol_ParagraphStyle$State_$alignmentDefined_ && this.avoidWidowAndOrphanDefined_ == other.avoidWidowAndOrphanDefined_ && this.borderBetweenDefined_ == other.borderBetweenDefined_ && this.docs_text_protocol_ParagraphStyle$State_$borderBottomDefined_ == other.docs_text_protocol_ParagraphStyle$State_$borderBottomDefined_ && this.docs_text_protocol_ParagraphStyle$State_$borderLeftDefined_ == 
  other.docs_text_protocol_ParagraphStyle$State_$borderLeftDefined_ && this.docs_text_protocol_ParagraphStyle$State_$borderRightDefined_ == other.docs_text_protocol_ParagraphStyle$State_$borderRightDefined_ && this.docs_text_protocol_ParagraphStyle$State_$borderTopDefined_ == other.docs_text_protocol_ParagraphStyle$State_$borderTopDefined_ && this.headingDefined_ == other.headingDefined_ && this.headingIdDefined_ == other.headingIdDefined_ && this.indentEndDefined_ == other.indentEndDefined_ && this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineDefined_ == 
  other.docs_text_protocol_ParagraphStyle$State_$indentFirstLineDefined_ && this.docs_text_protocol_ParagraphStyle$State_$indentStartDefined_ == other.docs_text_protocol_ParagraphStyle$State_$indentStartDefined_ && this.keepLinesTogetherDefined_ == other.keepLinesTogetherDefined_ && this.keepWithNextDefined_ == other.keepWithNextDefined_ && this.lineSpacingDefined_ == other.lineSpacingDefined_ && this.docs_text_protocol_ParagraphStyle$State_$ltrDefined_ == other.docs_text_protocol_ParagraphStyle$State_$ltrDefined_ && 
  this.docs_text_protocol_ParagraphStyle$State_$roundtripDataDefined_ == other.docs_text_protocol_ParagraphStyle$State_$roundtripDataDefined_ && this.shadingDefined_ == other.shadingDefined_ && this.spacingAfterDefined_ == other.spacingAfterDefined_ && this.spacingBeforeDefined_ == other.spacingBeforeDefined_ && this.spacingModeDefined_ == other.spacingModeDefined_ && this.suppressHeadingDetectionDefined_ == other.suppressHeadingDetectionDefined_ ? this.docs_text_protocol_ParagraphStyle$State_$alignment_ == 
  other.docs_text_protocol_ParagraphStyle$State_$alignment_ && this.docs_text_protocol_ParagraphStyle$State_$alignmentInherit_ == other.docs_text_protocol_ParagraphStyle$State_$alignmentInherit_ && this.avoidWidowAndOrphan_ == other.avoidWidowAndOrphan_ && this.avoidWidowAndOrphanInherit_ == other.avoidWidowAndOrphanInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.borderBetweenRef_.get(), other.borderBetweenRef_.get(), strategy) && this.borderBetweenInherit_ == other.borderBetweenInherit_ && 
  JSCompiler_StaticMethods_equalsWithStrategy(this.borderBottomRef_.get(), other.borderBottomRef_.get(), strategy) && this.docs_text_protocol_ParagraphStyle$State_$borderBottomInherit_ == other.docs_text_protocol_ParagraphStyle$State_$borderBottomInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.borderLeftRef_.get(), other.borderLeftRef_.get(), strategy) && this.docs_text_protocol_ParagraphStyle$State_$borderLeftInherit_ == other.docs_text_protocol_ParagraphStyle$State_$borderLeftInherit_ && 
  JSCompiler_StaticMethods_equalsWithStrategy(this.borderRightRef_.get(), other.borderRightRef_.get(), strategy) && this.docs_text_protocol_ParagraphStyle$State_$borderRightInherit_ == other.docs_text_protocol_ParagraphStyle$State_$borderRightInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.borderTopRef_.get(), other.borderTopRef_.get(), strategy) && this.docs_text_protocol_ParagraphStyle$State_$borderTopInherit_ == other.docs_text_protocol_ParagraphStyle$State_$borderTopInherit_ && this.heading_ == 
  other.heading_ && this.headingId_ == other.headingId_ && this.indentEnd_ == other.indentEnd_ && this.indentEndInherit_ == other.indentEndInherit_ && this.docs_text_protocol_ParagraphStyle$State_$indentFirstLine_ == other.docs_text_protocol_ParagraphStyle$State_$indentFirstLine_ && this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineInherit_ == other.docs_text_protocol_ParagraphStyle$State_$indentFirstLineInherit_ && this.docs_text_protocol_ParagraphStyle$State_$indentStart_ == other.docs_text_protocol_ParagraphStyle$State_$indentStart_ && 
  this.docs_text_protocol_ParagraphStyle$State_$indentStartInherit_ == other.docs_text_protocol_ParagraphStyle$State_$indentStartInherit_ && this.keepLinesTogether_ == other.keepLinesTogether_ && this.keepLinesTogetherInherit_ == other.keepLinesTogetherInherit_ && this.keepWithNext_ == other.keepWithNext_ && this.keepWithNextInherit_ == other.keepWithNextInherit_ && this.lineSpacing_ == other.lineSpacing_ && this.lineSpacingInherit_ == other.lineSpacingInherit_ && this.docs_text_protocol_ParagraphStyle$State_$ltr_ == 
  other.docs_text_protocol_ParagraphStyle$State_$ltr_ && this.docs_text_protocol_ParagraphStyle$State_$roundtripData_ == other.docs_text_protocol_ParagraphStyle$State_$roundtripData_ && JSCompiler_StaticMethods_equalsWithStrategy(this.shadingRef_.get(), other.shadingRef_.get(), strategy) && this.shadingInherit_ == other.shadingInherit_ && this.spacingAfter_ == other.spacingAfter_ && this.spacingAfterInherit_ == other.spacingAfterInherit_ && this.spacingBefore_ == other.spacingBefore_ && this.spacingBeforeInherit_ == 
  other.spacingBeforeInherit_ && this.spacingMode_ == other.spacingMode_ && this.spacingModeInherit_ == other.spacingModeInherit_ && this.suppressHeadingDetection_ == other.suppressHeadingDetection_ : !1;
};
docs$text$protocol$ParagraphStyle$0State_.prototype.serialize = function $docs$text$protocol$ParagraphStyle$0State_$$serialize$(strategy) {
  var serializedObj = {};
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_ParagraphStyle$State_$alignmentDefined_, this.docs_text_protocol_ParagraphStyle$State_$alignmentInherit_) && (serializedObj.ps_al = this.docs_text_protocol_ParagraphStyle$State_$alignment_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.avoidWidowAndOrphanDefined_, this.avoidWidowAndOrphanInherit_) && (serializedObj.ps_awao = this.avoidWidowAndOrphan_);
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbcs") && JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.shadingDefined_, this.shadingInherit_) && (serializedObj.ps_sd = this.shadingRef_.serialize(strategy));
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbs") && (JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.borderBetweenDefined_, this.borderBetweenInherit_) && (serializedObj.ps_bbtw = this.borderBetweenRef_.serialize(strategy)), JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_ParagraphStyle$State_$borderBottomDefined_, this.docs_text_protocol_ParagraphStyle$State_$borderBottomInherit_) && (serializedObj.ps_bb = this.borderBottomRef_.serialize(strategy)), 
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_ParagraphStyle$State_$borderLeftDefined_, this.docs_text_protocol_ParagraphStyle$State_$borderLeftInherit_) && (serializedObj.ps_bl = this.borderLeftRef_.serialize(strategy)), JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_ParagraphStyle$State_$borderRightDefined_, this.docs_text_protocol_ParagraphStyle$State_$borderRightInherit_) && (serializedObj.ps_br = this.borderRightRef_.serialize(strategy)), 
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_ParagraphStyle$State_$borderTopDefined_, this.docs_text_protocol_ParagraphStyle$State_$borderTopInherit_) && (serializedObj.ps_bt = this.borderTopRef_.serialize(strategy)));
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.headingDefined_) {
    serializedObj.ps_hd = this.heading_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.headingIdDefined_) {
    serializedObj.ps_hdid = this.headingId_;
  }
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineDefined_, this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineInherit_) && (serializedObj.ps_ifl = this.docs_text_protocol_ParagraphStyle$State_$indentFirstLine_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_ParagraphStyle$State_$indentStartDefined_, this.docs_text_protocol_ParagraphStyle$State_$indentStartInherit_) && (serializedObj.ps_il = this.docs_text_protocol_ParagraphStyle$State_$indentStart_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.indentEndDefined_, this.indentEndInherit_) && (serializedObj.ps_ir = this.indentEnd_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.keepLinesTogetherDefined_, this.keepLinesTogetherInherit_) && (serializedObj.ps_klt = this.keepLinesTogether_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.keepWithNextDefined_, this.keepWithNextInherit_) && (serializedObj.ps_kwn = this.keepWithNext_);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_ParagraphStyle$State_$ltrDefined_) {
    serializedObj.ps_ltr = this.docs_text_protocol_ParagraphStyle$State_$ltr_;
  }
  !JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epsrds") || strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.docs_text_protocol_ParagraphStyle$State_$roundtripDataDefined_ || (serializedObj.ps_rd = this.docs_text_protocol_ParagraphStyle$State_$roundtripData_);
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbs") && (JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.borderBetweenDefined_) && (serializedObj.ps_bbtw_i = this.borderBetweenInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_ParagraphStyle$State_$borderBottomDefined_) && (serializedObj.ps_bb_i = this.docs_text_protocol_ParagraphStyle$State_$borderBottomInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, 
  this.docs_text_protocol_ParagraphStyle$State_$borderLeftDefined_) && (serializedObj.ps_bl_i = this.docs_text_protocol_ParagraphStyle$State_$borderLeftInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_ParagraphStyle$State_$borderRightDefined_) && (serializedObj.ps_br_i = this.docs_text_protocol_ParagraphStyle$State_$borderRightInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_ParagraphStyle$State_$borderTopDefined_) && 
  (serializedObj.ps_bt_i = this.docs_text_protocol_ParagraphStyle$State_$borderTopInherit_));
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.lineSpacingDefined_, this.lineSpacingInherit_) && (serializedObj.ps_ls = this.lineSpacing_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.spacingModeDefined_, this.spacingModeInherit_) && (serializedObj.ps_sm = this.spacingMode_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.spacingAfterDefined_, this.spacingAfterInherit_) && (serializedObj.ps_sa = this.spacingAfter_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.spacingBeforeDefined_, this.spacingBeforeInherit_) && (serializedObj.ps_sb = this.spacingBefore_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_ParagraphStyle$State_$alignmentDefined_) && (serializedObj.ps_al_i = this.docs_text_protocol_ParagraphStyle$State_$alignmentInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.avoidWidowAndOrphanDefined_) && (serializedObj.ps_awao_i = this.avoidWidowAndOrphanInherit_);
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbcs") && JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.shadingDefined_) && (serializedObj.ps_sd_i = this.shadingInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineDefined_) && (serializedObj.ps_ifl_i = this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_ParagraphStyle$State_$indentStartDefined_) && (serializedObj.ps_il_i = this.docs_text_protocol_ParagraphStyle$State_$indentStartInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.indentEndDefined_) && (serializedObj.ps_ir_i = this.indentEndInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.keepLinesTogetherDefined_) && (serializedObj.ps_klt_i = this.keepLinesTogetherInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.keepWithNextDefined_) && (serializedObj.ps_kwn_i = this.keepWithNextInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.lineSpacingDefined_) && (serializedObj.ps_ls_i = this.lineSpacingInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.spacingModeDefined_) && (serializedObj.ps_sm_i = this.spacingModeInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.spacingAfterDefined_) && (serializedObj.ps_sa_i = this.spacingAfterInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.spacingBeforeDefined_) && (serializedObj.ps_sb_i = this.spacingBeforeInherit_);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.suppressHeadingDetectionDefined_) {
    serializedObj.ps_shd = this.suppressHeadingDetection_;
  }
  return serializedObj;
};
docs$text$protocol$ParagraphStyle$0State_.prototype.update = function $docs$text$protocol$ParagraphStyle$0State_$$update$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_, numInheritChange = 0, alignment = this.docs_text_protocol_ParagraphStyle$State_$alignment_, alignmentInherit = this.docs_text_protocol_ParagraphStyle$State_$alignmentInherit_, alignmentDefined = this.docs_text_protocol_ParagraphStyle$State_$alignmentDefined_, avoidWidowAndOrphan = this.avoidWidowAndOrphan_, avoidWidowAndOrphanInherit = this.avoidWidowAndOrphanInherit_, avoidWidowAndOrphanDefined = 
  this.avoidWidowAndOrphanDefined_, borderBetweenRef = this.borderBetweenRef_, borderBetweenDefined = this.borderBetweenDefined_, borderBetweenInherit = this.borderBetweenInherit_, borderBottomRef = this.borderBottomRef_, borderBottomDefined = this.docs_text_protocol_ParagraphStyle$State_$borderBottomDefined_, borderBottomInherit = this.docs_text_protocol_ParagraphStyle$State_$borderBottomInherit_, borderLeftRef = this.borderLeftRef_, borderLeftDefined = this.docs_text_protocol_ParagraphStyle$State_$borderLeftDefined_, 
  borderLeftInherit = this.docs_text_protocol_ParagraphStyle$State_$borderLeftInherit_, borderRightRef = this.borderRightRef_, borderRightDefined = this.docs_text_protocol_ParagraphStyle$State_$borderRightDefined_, borderRightInherit = this.docs_text_protocol_ParagraphStyle$State_$borderRightInherit_, borderTopRef = this.borderTopRef_, borderTopDefined = this.docs_text_protocol_ParagraphStyle$State_$borderTopDefined_, borderTopInherit = this.docs_text_protocol_ParagraphStyle$State_$borderTopInherit_, 
  heading = this.heading_, headingDefined = this.headingDefined_, headingId = this.headingId_, headingIdDefined = this.headingIdDefined_, indentEnd = this.indentEnd_, indentEndInherit = this.indentEndInherit_, indentEndDefined = this.indentEndDefined_, indentFirstLine = this.docs_text_protocol_ParagraphStyle$State_$indentFirstLine_, indentFirstLineInherit = this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineInherit_, indentFirstLineDefined = this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineDefined_, 
  indentStart = this.docs_text_protocol_ParagraphStyle$State_$indentStart_, indentStartInherit = this.docs_text_protocol_ParagraphStyle$State_$indentStartInherit_, indentStartDefined = this.docs_text_protocol_ParagraphStyle$State_$indentStartDefined_, keepLinesTogether = this.keepLinesTogether_, keepLinesTogetherInherit = this.keepLinesTogetherInherit_, keepLinesTogetherDefined = this.keepLinesTogetherDefined_, keepWithNext = this.keepWithNext_, keepWithNextInherit = this.keepWithNextInherit_, keepWithNextDefined = 
  this.keepWithNextDefined_, lineSpacing = this.lineSpacing_, lineSpacingInherit = this.lineSpacingInherit_, lineSpacingDefined = this.lineSpacingDefined_, ltr = this.docs_text_protocol_ParagraphStyle$State_$ltr_, ltrDefined = this.docs_text_protocol_ParagraphStyle$State_$ltrDefined_, roundtripData = this.docs_text_protocol_ParagraphStyle$State_$roundtripData_, roundtripDataDefined = this.docs_text_protocol_ParagraphStyle$State_$roundtripDataDefined_, shadingRef = this.shadingRef_, shadingInherit = 
  this.shadingInherit_, shadingDefined = this.shadingDefined_, spacingAfter = this.spacingAfter_, spacingAfterInherit = this.spacingAfterInherit_, spacingAfterDefined = this.spacingAfterDefined_, spacingBefore = this.spacingBefore_, spacingBeforeInherit = this.spacingBeforeInherit_, spacingBeforeDefined = this.spacingBeforeDefined_, spacingMode = this.spacingMode_, spacingModeInherit = this.spacingModeInherit_, spacingModeDefined = this.spacingModeDefined_, suppressHeadingDetection = this.suppressHeadingDetection_, 
  suppressHeadingDetectionDefined = this.suppressHeadingDetectionDefined_;
  if ("ps_al" in propertyMap) {
    var value = propertyMap.ps_al;
    if (!requireDefined || this.docs_text_protocol_ParagraphStyle$State_$alignmentDefined_) {
      alignmentDefined = !0, alignment = value;
    }
  }
  "ps_al_i" in propertyMap && (value = propertyMap.ps_al_i, !requireDefined || this.docs_text_protocol_ParagraphStyle$State_$alignmentDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.docs_text_protocol_ParagraphStyle$State_$alignmentInherit_, value), alignmentDefined = !0, alignmentInherit = value);
  "ps_awao" in propertyMap && (value = propertyMap.ps_awao, !requireDefined || this.avoidWidowAndOrphanDefined_) && (avoidWidowAndOrphanDefined = !0, avoidWidowAndOrphan = value);
  "ps_awao_i" in propertyMap && (value = propertyMap.ps_awao_i, !requireDefined || this.avoidWidowAndOrphanDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.avoidWidowAndOrphanInherit_, value), avoidWidowAndOrphanDefined = !0, avoidWidowAndOrphanInherit = value);
  "ps_sd" in propertyMap && (value = propertyMap.ps_sd, !requireDefined || shadingDefined) && (shadingDefined = !0, shadingRef = shadingRef.update(value, opt_strategy));
  "ps_sd_i" in propertyMap && (value = propertyMap.ps_sd_i, !requireDefined || shadingDefined) && (shadingDefined = !0, shadingInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(shadingInherit, value), shadingInherit = value));
  "ps_bbtw" in propertyMap && (value = propertyMap.ps_bbtw, !requireDefined || borderBetweenDefined) && (borderBetweenDefined = !0, borderBetweenRef = borderBetweenRef.update(value, opt_strategy));
  "ps_bbtw_i" in propertyMap && (value = propertyMap.ps_bbtw_i, !requireDefined || borderBetweenDefined) && (borderBetweenDefined = !0, borderBetweenInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(borderBetweenInherit, value), borderBetweenInherit = value));
  "ps_bb" in propertyMap && (value = propertyMap.ps_bb, !requireDefined || borderBottomDefined) && (borderBottomDefined = !0, borderBottomRef = borderBottomRef.update(value, opt_strategy));
  "ps_bb_i" in propertyMap && (value = propertyMap.ps_bb_i, !requireDefined || borderBottomDefined) && (borderBottomDefined = !0, borderBottomInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(borderBottomInherit, value), borderBottomInherit = value));
  "ps_bl" in propertyMap && (value = propertyMap.ps_bl, !requireDefined || borderLeftDefined) && (borderLeftDefined = !0, borderLeftRef = borderLeftRef.update(value, opt_strategy));
  "ps_bl_i" in propertyMap && (value = propertyMap.ps_bl_i, !requireDefined || borderLeftDefined) && (borderLeftDefined = !0, borderLeftInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(borderLeftInherit, value), borderLeftInherit = value));
  "ps_br" in propertyMap && (value = propertyMap.ps_br, !requireDefined || borderRightDefined) && (borderRightDefined = !0, borderRightRef = borderRightRef.update(value, opt_strategy));
  "ps_br_i" in propertyMap && (value = propertyMap.ps_br_i, !requireDefined || borderRightDefined) && (borderRightDefined = !0, borderRightInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(borderRightInherit, value), borderRightInherit = value));
  "ps_bt" in propertyMap && (value = propertyMap.ps_bt, !requireDefined || borderTopDefined) && (borderTopDefined = !0, borderTopRef = borderTopRef.update(value, opt_strategy));
  "ps_bt_i" in propertyMap && (value = propertyMap.ps_bt_i, !requireDefined || borderTopDefined) && (borderTopDefined = !0, borderTopInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(borderTopInherit, value), borderTopInherit = value));
  "ps_hd" in propertyMap && (value = propertyMap.ps_hd, !requireDefined || this.headingDefined_) && (headingDefined = !0, heading = value);
  "ps_hdid" in propertyMap && (value = propertyMap.ps_hdid, !requireDefined || this.headingIdDefined_) && (headingIdDefined = !0, headingId = value);
  "ps_ifl" in propertyMap && (value = propertyMap.ps_ifl, !requireDefined || this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineDefined_) && (indentFirstLineDefined = !0, indentFirstLine = value);
  "ps_ifl_i" in propertyMap && (value = propertyMap.ps_ifl_i, !requireDefined || this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineInherit_, value), indentFirstLineDefined = !0, indentFirstLineInherit = value);
  "ps_il" in propertyMap && (value = propertyMap.ps_il, !requireDefined || this.docs_text_protocol_ParagraphStyle$State_$indentStartDefined_) && (indentStartDefined = !0, indentStart = value);
  "ps_il_i" in propertyMap && (value = propertyMap.ps_il_i, !requireDefined || this.docs_text_protocol_ParagraphStyle$State_$indentStartDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.docs_text_protocol_ParagraphStyle$State_$indentStartInherit_, value), indentStartDefined = !0, indentStartInherit = value);
  "ps_ir" in propertyMap && (value = propertyMap.ps_ir, !requireDefined || this.indentEndDefined_) && (indentEndDefined = !0, indentEnd = value);
  "ps_ir_i" in propertyMap && (value = propertyMap.ps_ir_i, !requireDefined || this.indentEndDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.indentEndInherit_, value), indentEndDefined = !0, indentEndInherit = value);
  "ps_klt" in propertyMap && (value = propertyMap.ps_klt, !requireDefined || this.keepLinesTogetherDefined_) && (keepLinesTogetherDefined = !0, keepLinesTogether = value);
  "ps_klt_i" in propertyMap && (value = propertyMap.ps_klt_i, !requireDefined || this.keepLinesTogetherDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.keepLinesTogetherInherit_, value), keepLinesTogetherDefined = !0, keepLinesTogetherInherit = value);
  "ps_kwn" in propertyMap && (value = propertyMap.ps_kwn, !requireDefined || this.keepWithNextDefined_) && (keepWithNextDefined = !0, keepWithNext = value);
  "ps_kwn_i" in propertyMap && (value = propertyMap.ps_kwn_i, !requireDefined || this.keepWithNextDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.keepWithNextInherit_, value), keepWithNextDefined = !0, keepWithNextInherit = value);
  "ps_ls" in propertyMap && (value = propertyMap.ps_ls, !requireDefined || this.lineSpacingDefined_) && (lineSpacingDefined = !0, lineSpacing = value);
  "ps_ls_i" in propertyMap && (value = propertyMap.ps_ls_i, !requireDefined || this.lineSpacingDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.lineSpacingInherit_, value), lineSpacingDefined = !0, lineSpacingInherit = value);
  "ps_ltr" in propertyMap && (value = propertyMap.ps_ltr, !requireDefined || this.docs_text_protocol_ParagraphStyle$State_$ltrDefined_) && (ltrDefined = !0, ltr = value);
  "ps_rd" in propertyMap && (value = propertyMap.ps_rd, !requireDefined || this.docs_text_protocol_ParagraphStyle$State_$roundtripDataDefined_) && (roundtripDataDefined = !0, roundtripData = value);
  "ps_sm" in propertyMap && (value = propertyMap.ps_sm, !requireDefined || this.spacingModeDefined_) && (spacingModeDefined = !0, spacingMode = value);
  "ps_sm_i" in propertyMap && (value = propertyMap.ps_sm_i, !requireDefined || this.spacingModeDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.spacingModeInherit_, value), spacingModeDefined = !0, spacingModeInherit = value);
  "ps_sa" in propertyMap && (value = propertyMap.ps_sa, !requireDefined || this.spacingAfterDefined_) && (spacingAfterDefined = !0, spacingAfter = value);
  "ps_sa_i" in propertyMap && (value = propertyMap.ps_sa_i, !requireDefined || this.spacingAfterDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.spacingAfterInherit_, value), spacingAfterDefined = !0, spacingAfterInherit = value);
  "ps_sb" in propertyMap && (value = propertyMap.ps_sb, !requireDefined || this.spacingBeforeDefined_) && (spacingBeforeDefined = !0, spacingBefore = value);
  "ps_sb_i" in propertyMap && (value = propertyMap.ps_sb_i, !requireDefined || this.spacingBeforeDefined_) && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(this.spacingBeforeInherit_, value), spacingBeforeDefined = !0, spacingBeforeInherit = value);
  "ps_shd" in propertyMap && (value = propertyMap.ps_shd, !requireDefined || this.suppressHeadingDetectionDefined_) && (suppressHeadingDetectionDefined = !0, suppressHeadingDetection = value);
  return new docs$text$protocol$AnnotationStateUpdateResult(new docs$text$protocol$ParagraphStyle$0State_(alignment, alignmentInherit, alignmentDefined, avoidWidowAndOrphan, avoidWidowAndOrphanInherit, avoidWidowAndOrphanDefined, borderBetweenRef, borderBetweenInherit, borderBetweenDefined, borderBottomRef, borderBottomInherit, borderBottomDefined, borderLeftRef, borderLeftInherit, borderLeftDefined, borderRightRef, borderRightInherit, borderRightDefined, borderTopRef, borderTopInherit, borderTopDefined, 
  heading, headingDefined, headingId, headingIdDefined, indentEnd, indentEndInherit, indentEndDefined, indentFirstLine, indentFirstLineInherit, indentFirstLineDefined, indentStart, indentStartInherit, indentStartDefined, keepLinesTogether, keepLinesTogetherInherit, keepLinesTogetherDefined, keepWithNext, keepWithNextInherit, keepWithNextDefined, lineSpacing, lineSpacingInherit, lineSpacingDefined, ltr, ltrDefined, roundtripData, roundtripDataDefined, shadingRef, shadingInherit, shadingDefined, spacingAfter, 
  spacingAfterInherit, spacingAfterDefined, spacingBefore, spacingBeforeInherit, spacingBeforeDefined, spacingMode, spacingModeInherit, spacingModeDefined, suppressHeadingDetection, suppressHeadingDetectionDefined), numInheritChange);
};
docs$text$protocol$ParagraphStyle$0State_.prototype.getValue = function $docs$text$protocol$ParagraphStyle$0State_$$getValue$(propertyName) {
  switch(propertyName) {
    case "ps_al":
      return this.docs_text_protocol_ParagraphStyle$State_$alignment_;
    case "ps_al_i":
      return this.docs_text_protocol_ParagraphStyle$State_$alignmentInherit_;
    case "ps_awao":
      return this.avoidWidowAndOrphan_;
    case "ps_awao_i":
      return this.avoidWidowAndOrphanInherit_;
    case "ps_bbtw":
      return this.borderBetweenRef_.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_;
    case "ps_bbtw_i":
      return this.borderBetweenInherit_;
    case "ps_bb":
      return this.borderBottomRef_.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_;
    case "ps_bb_i":
      return this.docs_text_protocol_ParagraphStyle$State_$borderBottomInherit_;
    case "ps_bl":
      return this.borderLeftRef_.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_;
    case "ps_bl_i":
      return this.docs_text_protocol_ParagraphStyle$State_$borderLeftInherit_;
    case "ps_br":
      return this.borderRightRef_.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_;
    case "ps_br_i":
      return this.docs_text_protocol_ParagraphStyle$State_$borderRightInherit_;
    case "ps_bt":
      return this.borderTopRef_.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_;
    case "ps_bt_i":
      return this.docs_text_protocol_ParagraphStyle$State_$borderTopInherit_;
    case "ps_hd":
      return this.heading_;
    case "ps_hdid":
      return this.headingId_;
    case "ps_ifl":
      return this.docs_text_protocol_ParagraphStyle$State_$indentFirstLine_;
    case "ps_ifl_i":
      return this.docs_text_protocol_ParagraphStyle$State_$indentFirstLineInherit_;
    case "ps_il":
      return this.docs_text_protocol_ParagraphStyle$State_$indentStart_;
    case "ps_il_i":
      return this.docs_text_protocol_ParagraphStyle$State_$indentStartInherit_;
    case "ps_ir":
      return this.indentEnd_;
    case "ps_ir_i":
      return this.indentEndInherit_;
    case "ps_klt":
      return this.keepLinesTogether_;
    case "ps_klt_i":
      return this.keepLinesTogetherInherit_;
    case "ps_kwn":
      return this.keepWithNext_;
    case "ps_kwn_i":
      return this.keepWithNextInherit_;
    case "ps_ls":
      return this.lineSpacing_;
    case "ps_ls_i":
      return this.lineSpacingInherit_;
    case "ps_ltr":
      return this.docs_text_protocol_ParagraphStyle$State_$ltr_;
    case "ps_rd":
      return this.docs_text_protocol_ParagraphStyle$State_$roundtripData_;
    case "ps_sd":
      return this.shadingRef_.docs_text_protocol_ImmutableAnnotationReference$actualAnnotation_;
    case "ps_sd_i":
      return this.shadingInherit_;
    case "ps_sa":
      return this.spacingAfter_;
    case "ps_sa_i":
      return this.spacingAfterInherit_;
    case "ps_sb":
      return this.spacingBefore_;
    case "ps_sb_i":
      return this.spacingBeforeInherit_;
    case "ps_sm":
      return this.spacingMode_;
    case "ps_sm_i":
      return this.spacingModeInherit_;
    case "ps_shd":
      return this.suppressHeadingDetection_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
function JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined(JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self, propertyName) {
  switch(propertyName) {
    case "ps_al":
    case "ps_al_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.docs_text_protocol_ParagraphStyle$State_$alignmentDefined_;
    case "ps_awao":
    case "ps_awao_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.avoidWidowAndOrphanDefined_;
    case "ps_bbtw":
    case "ps_bbtw_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.borderBetweenDefined_;
    case "ps_bb":
    case "ps_bb_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.docs_text_protocol_ParagraphStyle$State_$borderBottomDefined_;
    case "ps_bl":
    case "ps_bl_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.docs_text_protocol_ParagraphStyle$State_$borderLeftDefined_;
    case "ps_br":
    case "ps_br_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.docs_text_protocol_ParagraphStyle$State_$borderRightDefined_;
    case "ps_bt":
    case "ps_bt_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.docs_text_protocol_ParagraphStyle$State_$borderTopDefined_;
    case "ps_hd":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.headingDefined_;
    case "ps_hdid":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.headingIdDefined_;
    case "ps_ifl":
    case "ps_ifl_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.docs_text_protocol_ParagraphStyle$State_$indentFirstLineDefined_;
    case "ps_il":
    case "ps_il_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.docs_text_protocol_ParagraphStyle$State_$indentStartDefined_;
    case "ps_ir":
    case "ps_ir_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.indentEndDefined_;
    case "ps_klt":
    case "ps_klt_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.keepLinesTogetherDefined_;
    case "ps_kwn":
    case "ps_kwn_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.keepWithNextDefined_;
    case "ps_ls":
    case "ps_ls_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.lineSpacingDefined_;
    case "ps_ltr":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.docs_text_protocol_ParagraphStyle$State_$ltrDefined_;
    case "ps_rd":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.docs_text_protocol_ParagraphStyle$State_$roundtripDataDefined_;
    case "ps_sd":
    case "ps_sd_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.shadingDefined_;
    case "ps_sa":
    case "ps_sa_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.spacingAfterDefined_;
    case "ps_sb":
    case "ps_sb_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.spacingBeforeDefined_;
    case "ps_sm":
    case "ps_sm_i":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.spacingModeDefined_;
    case "ps_shd":
      return JSCompiler_StaticMethods_docs_text_protocol_ParagraphStyle$State__prototype$isDefined$self.suppressHeadingDetectionDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
}
var docs$text$protocol$ParagraphStyle$0State_$DEFAULT_ = new docs$text$protocol$ParagraphStyle$0State_(0, !1, !1, !1, !1, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !1, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !1, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !1, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !1, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !1, !1, 0, !1, "", !1, 0, !1, !1, 0, !1, !1, 0, !1, !1, !1, !1, !1, 
!1, !1, !1, 1.15, !1, !1, !0, !1, "", !1, docs$text$protocol$ParagraphStyle$DEFAULT_SHADING_REF_, !1, !1, 0, !1, !1, 0, !1, !1, 0, !1, !1, !1, !1), docs$text$protocol$ParagraphStyle$0State_$NORMAL_TEXT_ANNOTATION_ = new docs$text$protocol$ParagraphStyle$0State_(0, !1, !1, !0, !1, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !1, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !1, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !1, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, 
!1, !1, docs$text$protocol$ParagraphStyle$DEFAULT_BORDER_REF_, !1, !1, 0, !1, "", !1, 0, !1, !1, 0, !1, !1, 0, !1, !1, !1, !1, !1, !1, !1, !1, 1.15, !1, !1, !0, !1, "", !1, docs$text$protocol$ParagraphStyle$DEFAULT_SHADING_REF_, !1, !1, 0, !1, !1, 0, !1, !1, 1, !1, !1, !1, !1), docs$text$protocol$ParagraphStyle$defaultAllInherit_ = docs$text$protocol$ParagraphStyle$createWithDefaultAllInherit().setImmutable(), paragraphStyle$jscomp$inline_256 = new docs$text$protocol$ParagraphStyle;
paragraphStyle$jscomp$inline_256.docs_text_protocol_ParagraphStyle$state_ = docs$text$protocol$ParagraphStyle$0State_$NORMAL_TEXT_ANNOTATION_;
paragraphStyle$jscomp$inline_256.docs_text_protocol_Annotation$numInheritValues_ = 0;
var docs$text$protocol$ParagraphStyle$defaultHeadingMap_ = {0:paragraphStyle$jscomp$inline_256.setImmutable(), 1:docs$text$protocol$ParagraphStyle$getSpacingHeadingAnnotation_(6, 24).setImmutable(), 2:docs$text$protocol$ParagraphStyle$getSpacingHeadingAnnotation_(4, 18).setImmutable(), 3:docs$text$protocol$ParagraphStyle$getSpacingHeadingAnnotation_(4, 14).setImmutable(), 4:docs$text$protocol$ParagraphStyle$getSpacingHeadingAnnotation_(2, 12).setImmutable(), 5:docs$text$protocol$ParagraphStyle$getSpacingHeadingAnnotation_(2, 
11).setImmutable(), 6:docs$text$protocol$ParagraphStyle$getSpacingHeadingAnnotation_(2, 10).setImmutable(), 100:docs$text$protocol$ParagraphStyle$getSpacingHeadingAnnotation_(6, 24).setImmutable(), 101:docs$text$protocol$ParagraphStyle$getSpacingHeadingAnnotation_(4, 18).setImmutable()}, paragraphStyle$jscomp$inline_261 = new docs$text$protocol$ParagraphStyle;
paragraphStyle$jscomp$inline_261.docs_text_protocol_ParagraphStyle$state_ = docs$text$protocol$ParagraphStyle$0State_$allInherit_;
var numInheritValues$jscomp$inline_262 = 11;
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbcs") && (numInheritValues$jscomp$inline_262 += 1);
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-epbs") && (numInheritValues$jscomp$inline_262 += 5);
paragraphStyle$jscomp$inline_261.docs_text_protocol_Annotation$numInheritValues_ = numInheritValues$jscomp$inline_262;
var docs$text$protocol$ParagraphStyle$allInherit_ = paragraphStyle$jscomp$inline_261.setImmutable(), docs$text$protocol$ParagraphStyle$defaultAllInheritMap_ = goog$object$createImmutableView(docs$text$protocol$ParagraphStyle$defaultAllInherit_.serialize()), docs$text$protocol$ParagraphStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("paragraph", function() {
  return new docs$text$protocol$ParagraphStyle;
}, function() {
  return docs$text$protocol$ParagraphStyle$propertyNames_;
});
// Input 60
function docs$text$util$ColorProperties$useNewProperties() {
  return JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-encp");
}
;
// Input 61
function docs$text$protocol$TextStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "text", docs$text$protocol$TextStyle$propertyNames_);
  this.styleStringHash_ = null;
  this.docs_text_protocol_TextStyle$state_ = docs$text$protocol$TextStyle$0State_$default_;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$TextStyle, docs$text$protocol$Style);
var propertyNameMap$jscomp$inline_264 = {ts_bd:"ts_bd_i", ts_it:"ts_it_i", ts_sc:"ts_sc_i", ts_st:"ts_st_i", ts_un:"ts_un_i", ts_ff:"ts_ff_i", ts_fs:"ts_fs_i", ts_va:"ts_va_i"};
docs$text$util$ColorProperties$useNewProperties() ? (propertyNameMap$jscomp$inline_264.ts_bgc2 = "ts_bgc2_i", propertyNameMap$jscomp$inline_264.ts_fgc2 = "ts_fgc2_i") : (propertyNameMap$jscomp$inline_264.ts_bgc = "ts_bgc_i", propertyNameMap$jscomp$inline_264.ts_fgc = "ts_fgc_i");
var docs$text$protocol$TextStyle$propertyNames_, nonInheritablePropertyNames$jscomp$inline_266 = [];
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-etsrdpn") && nonInheritablePropertyNames$jscomp$inline_266.push("ts_rtd");
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-ettws") && nonInheritablePropertyNames$jscomp$inline_266.push("ts_tw");
docs$text$protocol$TextStyle$propertyNames_ = new docs$text$protocol$PropertyNames(nonInheritablePropertyNames$jscomp$inline_266, propertyNameMap$jscomp$inline_264);
goog$object$createSet(["ts_fgc2", "ts_bgc2"]);
var docs$text$protocol$TextStyle$DEFAULT_FOREGROUND_COLOR_PROPERTY_MAP_ = {hclr_color:"#000000"};
docs$text$protocol$TextStyle.prototype.getFontFamily = function $docs$text$protocol$TextStyle$$getFontFamily$() {
  return this.docs_text_protocol_TextStyle$state_.getFontFamily();
};
function docs$text$protocol$TextStyle$getColorString_(color) {
  if (0 != color.getType()) {
    throw Error("Color is not a hex color.");
  }
  return color.hexColor_;
}
docs$text$protocol$TextStyle.prototype.copyInheritedPropertiesToInternal = function $docs$text$protocol$TextStyle$$copyInheritedPropertiesToInternal$(destination) {
  var JSCompiler_inline_result, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self = destination.docs_text_protocol_TextStyle$state_, source = this.docs_text_protocol_TextStyle$state_;
  JSCompiler_inline_result = new docs$text$protocol$TextStyle$0State_(JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.boldInherit_ ? source.bold_ : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.bold_, !1, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.boldInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.boldDefined_, 
  JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.docs_text_protocol_TextStyle$State_$backgroundColorInherit_ ? source.docs_text_protocol_TextStyle$State_$backgroundColor_ : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.docs_text_protocol_TextStyle$State_$backgroundColor_, !1, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.docs_text_protocol_TextStyle$State_$backgroundColorInherit_ ? 
  !0 : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.docs_text_protocol_TextStyle$State_$backgroundColorDefined_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.foregroundColorInherit_ ? source.foregroundColor_ : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.foregroundColor_, !1, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.foregroundColorInherit_ ? 
  !0 : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.foregroundColorDefined_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.fontFamilyInherit_ ? source.fontFamily_ : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.fontFamily_, !1, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.fontFamilyInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.fontFamilyDefined_, 
  JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.fontSizeInherit_ ? source.fontSize_ : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.fontSize_, !1, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.fontSizeInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.fontSizeDefined_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.italicInherit_ ? 
  source.italic_ : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.italic_, !1, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.italicInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.italicDefined_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.smallCapsInherit_ ? source.smallCaps_ : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.smallCaps_, 
  !1, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.smallCapsInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.smallCapsDefined_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.strikethroughInherit_ ? source.strikethrough_ : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.strikethrough_, !1, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.strikethroughInherit_ ? 
  !0 : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.strikethroughDefined_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.toggleWeight_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.toggleWeightDefined_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.underlineInherit_ ? source.underline_ : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.underline_, 
  !1, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.underlineInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.underlineDefined_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.docs_text_protocol_TextStyle$State_$verticalAlignInherit_ ? source.docs_text_protocol_TextStyle$State_$verticalAlign_ : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.docs_text_protocol_TextStyle$State_$verticalAlign_, 
  !1, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.docs_text_protocol_TextStyle$State_$verticalAlignInherit_ ? !0 : JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.docs_text_protocol_TextStyle$State_$verticalAlignDefined_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.docs_text_protocol_TextStyle$State_$roundtripData_, JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$copyConcrete$self.docs_text_protocol_TextStyle$State_$roundtripDataDefined_);
  destination.docs_text_protocol_TextStyle$state_ = JSCompiler_inline_result;
  destination.docs_text_protocol_Annotation$numInheritValues_ = 0;
  destination.styleStringHash_ = null;
};
docs$text$protocol$TextStyle.prototype.updateInternal = function $docs$text$protocol$TextStyle$$updateInternal$(propertyMap, opt_strategy) {
  var updateResult = this.docs_text_protocol_TextStyle$state_.update(propertyMap, opt_strategy);
  this.docs_text_protocol_TextStyle$state_ = updateResult.docs_text_protocol_AnnotationStateUpdateResult$state_;
  this.docs_text_protocol_Annotation$numInheritValues_ += updateResult.updateInheritDelta_;
  this.styleStringHash_ = null;
};
function docs$text$protocol$TextStyle$assertCorrectColorProperty_(propertyName) {
  switch(propertyName) {
    case "ts_bgc2":
    case "ts_bgc2_i":
    case "ts_fgc2":
    case "ts_fgc2_i":
      if (!docs$text$util$ColorProperties$useNewProperties()) {
        throw Error("Using new color properties when not enabled.");
      }
      break;
    case "ts_bgc":
    case "ts_bgc_i":
    case "ts_fgc":
    case "ts_fgc_i":
      if (docs$text$util$ColorProperties$useNewProperties()) {
        throw Error("Using legacy color properties.");
      }
  }
}
docs$text$protocol$TextStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$TextStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  return this.docs_text_protocol_TextStyle$state_.serialize(strategy);
};
docs$text$protocol$TextStyle.prototype.getValueInternal = function $docs$text$protocol$TextStyle$$getValueInternal$(propertyName) {
  docs$text$protocol$TextStyle$assertCorrectColorProperty_(propertyName);
  return this.docs_text_protocol_TextStyle$state_.getValue(propertyName);
};
docs$text$protocol$TextStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$TextStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  docs$text$protocol$TextStyle$assertCorrectColorProperty_(propertyName);
  return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined(this.docs_text_protocol_TextStyle$state_, propertyName);
};
docs$text$protocol$TextStyle.prototype.equalsInternal = function $docs$text$protocol$TextStyle$$equalsInternal$(other, strategy) {
  if (!(other instanceof docs$text$protocol$TextStyle)) {
    return !1;
  }
  var thisStringStyleHash = this.styleStringHash_, otherStringStyleHash = other.styleStringHash_;
  return thisStringStyleHash && otherStringStyleHash && !JSCompiler_StaticMethods_hasInheritValues(this) && !JSCompiler_StaticMethods_hasInheritValues(other) && this.docs_text_protocol_TextStyle$state_.foregroundColor_.getType() == other.docs_text_protocol_TextStyle$state_.foregroundColor_.getType() && this.docs_text_protocol_TextStyle$state_.docs_text_protocol_TextStyle$State_$backgroundColor_.getType() == other.docs_text_protocol_TextStyle$state_.docs_text_protocol_TextStyle$State_$backgroundColor_.getType() ? 
  thisStringStyleHash.equals(otherStringStyleHash) : this.docs_text_protocol_TextStyle$state_.equals(other.docs_text_protocol_TextStyle$state_, strategy);
};
docs$text$protocol$TextStyle.prototype.isNestedAnnotation = function $docs$text$protocol$TextStyle$$isNestedAnnotation$(propertyName) {
  return "ts_bgc2" == propertyName || "ts_fgc2" == propertyName;
};
docs$text$protocol$TextStyle.prototype.clone = function $docs$text$protocol$TextStyle$$clone$() {
  var clone = new docs$text$protocol$TextStyle;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$TextStyle.prototype.copyToInternal = function $docs$text$protocol$TextStyle$$copyToInternal$(other) {
  other.docs_text_protocol_TextStyle$state_ = this.docs_text_protocol_TextStyle$state_;
  other.styleStringHash_ = this.styleStringHash_;
};
function docs$text$protocol$TextStyle$getFontSizeHeadingAnnotation_(fontSize) {
  var textStyle = new docs$text$protocol$TextStyle, updateResult;
  updateResult = new docs$text$protocol$AnnotationStateUpdateResult(new docs$text$protocol$TextStyle$0State_(!0, !1, !1, new docs$text$protocol$HexColor, !0, !1, new docs$text$protocol$HexColor(docs$text$protocol$TextStyle$DEFAULT_FOREGROUND_COLOR_PROPERTY_MAP_), !0, !1, "Arial", !0, !1, fontSize, !1, !1, !1, !0, !1, !1, !0, !1, !1, !0, !1, 400, !1, !1, !0, !1, "nor", !0, !1, "", !1), 8);
  textStyle.docs_text_protocol_TextStyle$state_ = updateResult.docs_text_protocol_AnnotationStateUpdateResult$state_;
  textStyle.docs_text_protocol_Annotation$numInheritValues_ = updateResult.updateInheritDelta_;
  return textStyle;
}
function docs$text$protocol$TextStyle$create() {
  return new docs$text$protocol$TextStyle;
}
function docs$text$protocol$TextStyle$0State_(bold, boldInherit, boldDefined, backgroundColor, backgroundColorInherit, backgroundColorDefined, foregroundColor, foregroundColorInherit, foregroundColorDefined, fontFamily$jscomp$0, fontFamilyInherit, fontFamilyDefined, fontSize, fontSizeInherit, fontSizeDefined, italic, italicInherit, italicDefined, smallCaps, smallCapsInherit, smallCapsDefined, strikethrough, strikethroughInherit, strikethroughDefined, toggleWeight, toggleWeightDefined, underline, 
underlineInherit, underlineDefined, verticalAlign, verticalAlignInherit, verticalAlignDefined, roundtripData, roundtripDataDefined) {
  this.bold_ = bold;
  this.boldInherit_ = boldInherit;
  this.boldDefined_ = boldDefined;
  this.docs_text_protocol_TextStyle$State_$backgroundColor_ = backgroundColor;
  this.docs_text_protocol_TextStyle$State_$backgroundColorInherit_ = backgroundColorInherit;
  this.docs_text_protocol_TextStyle$State_$backgroundColorDefined_ = backgroundColorDefined;
  this.foregroundColor_ = foregroundColor;
  this.foregroundColorInherit_ = foregroundColorInherit;
  this.foregroundColorDefined_ = foregroundColorDefined;
  this.fontFamily_ = fontFamily$jscomp$0;
  this.fontFamilyInherit_ = fontFamilyInherit;
  this.fontFamilyDefined_ = fontFamilyDefined;
  this.fontSize_ = fontSize;
  this.fontSizeInherit_ = fontSizeInherit;
  this.fontSizeDefined_ = fontSizeDefined;
  this.italic_ = italic;
  this.italicInherit_ = italicInherit;
  this.italicDefined_ = italicDefined;
  this.smallCaps_ = smallCaps;
  this.smallCapsInherit_ = smallCapsInherit;
  this.smallCapsDefined_ = smallCapsDefined;
  this.strikethrough_ = strikethrough;
  this.strikethroughInherit_ = strikethroughInherit;
  this.strikethroughDefined_ = strikethroughDefined;
  this.toggleWeight_ = toggleWeight;
  this.toggleWeightDefined_ = toggleWeightDefined;
  this.underline_ = underline;
  this.underlineInherit_ = underlineInherit;
  this.underlineDefined_ = underlineDefined;
  this.docs_text_protocol_TextStyle$State_$verticalAlign_ = verticalAlign;
  this.docs_text_protocol_TextStyle$State_$verticalAlignInherit_ = verticalAlignInherit;
  this.docs_text_protocol_TextStyle$State_$verticalAlignDefined_ = verticalAlignDefined;
  var JSCompiler_temp;
  if (JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-ewffp")) {
    var fontFamily = fontFamily$jscomp$0, tokens = fontFamily$jscomp$0.split(";");
    tokens.length && (fontFamily = tokens[0]);
    JSCompiler_temp = new docs$text$protocol$TextStyle$0WeightedFontFamily(fontFamily);
  } else {
    JSCompiler_temp = new docs$text$protocol$TextStyle$0WeightedFontFamily(fontFamily$jscomp$0);
  }
  this.weightedFontFamily_ = JSCompiler_temp;
  this.docs_text_protocol_TextStyle$State_$roundtripData_ = roundtripData;
  this.docs_text_protocol_TextStyle$State_$roundtripDataDefined_ = roundtripDataDefined;
}
docs$text$protocol$TextStyle$0State_.prototype.equals = function $docs$text$protocol$TextStyle$0State_$$equals$(other, strategy) {
  return other == this ? !0 : !strategy.compareDefined_ || this.docs_text_protocol_TextStyle$State_$backgroundColorDefined_ == other.docs_text_protocol_TextStyle$State_$backgroundColorDefined_ && this.boldDefined_ == other.boldDefined_ && this.fontFamilyDefined_ == other.fontFamilyDefined_ && this.fontSizeDefined_ == other.fontSizeDefined_ && this.foregroundColorDefined_ == other.foregroundColorDefined_ && this.italicDefined_ == other.italicDefined_ && this.smallCapsDefined_ == other.smallCapsDefined_ && 
  this.strikethroughDefined_ == other.strikethroughDefined_ && this.toggleWeightDefined_ == other.toggleWeightDefined_ && this.underlineDefined_ == other.underlineDefined_ && this.docs_text_protocol_TextStyle$State_$verticalAlignDefined_ == other.docs_text_protocol_TextStyle$State_$verticalAlignDefined_ && this.docs_text_protocol_TextStyle$State_$roundtripDataDefined_ == other.docs_text_protocol_TextStyle$State_$roundtripDataDefined_ ? JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_TextStyle$State_$backgroundColor_, 
  other.docs_text_protocol_TextStyle$State_$backgroundColor_, strategy) && this.docs_text_protocol_TextStyle$State_$backgroundColorInherit_ == other.docs_text_protocol_TextStyle$State_$backgroundColorInherit_ && this.bold_ == other.bold_ && this.boldInherit_ == other.boldInherit_ && this.fontFamily_ == other.fontFamily_ && this.fontFamilyInherit_ == other.fontFamilyInherit_ && this.fontSize_ == other.fontSize_ && this.fontSizeInherit_ == other.fontSizeInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.foregroundColor_, 
  other.foregroundColor_, strategy) && this.foregroundColorInherit_ == other.foregroundColorInherit_ && this.italic_ == other.italic_ && this.italicInherit_ == other.italicInherit_ && this.smallCaps_ == other.smallCaps_ && this.smallCapsInherit_ == other.smallCapsInherit_ && this.strikethrough_ == other.strikethrough_ && this.strikethroughInherit_ == other.strikethroughInherit_ && this.toggleWeight_ == other.toggleWeight_ && this.underline_ == other.underline_ && this.underlineInherit_ == other.underlineInherit_ && 
  this.docs_text_protocol_TextStyle$State_$verticalAlign_ == other.docs_text_protocol_TextStyle$State_$verticalAlign_ && this.docs_text_protocol_TextStyle$State_$verticalAlignInherit_ == other.docs_text_protocol_TextStyle$State_$verticalAlignInherit_ && this.docs_text_protocol_TextStyle$State_$roundtripData_ == other.docs_text_protocol_TextStyle$State_$roundtripData_ : !1;
};
docs$text$protocol$TextStyle$0State_.prototype.serialize = function $docs$text$protocol$TextStyle$0State_$$serialize$(strategy) {
  var serializedObj = {};
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.boldDefined_, this.boldInherit_) && (serializedObj.ts_bd = this.bold_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.fontSizeDefined_, this.fontSizeInherit_) && (serializedObj.ts_fs = this.fontSize_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.fontFamilyDefined_, this.fontFamilyInherit_) && (serializedObj.ts_ff = this.fontFamily_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.italicDefined_, this.italicInherit_) && (serializedObj.ts_it = this.italic_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.smallCapsDefined_, this.smallCapsInherit_) && (serializedObj.ts_sc = this.smallCaps_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.strikethroughDefined_, this.strikethroughInherit_) && (serializedObj.ts_st = this.strikethrough_);
  !JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-ettws") || strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.toggleWeightDefined_ || (serializedObj.ts_tw = this.toggleWeight_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.underlineDefined_, this.underlineInherit_) && (serializedObj.ts_un = this.underline_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_TextStyle$State_$verticalAlignDefined_, this.docs_text_protocol_TextStyle$State_$verticalAlignInherit_) && (serializedObj.ts_va = this.docs_text_protocol_TextStyle$State_$verticalAlign_);
  docs$text$util$ColorProperties$useNewProperties() ? (JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_TextStyle$State_$backgroundColorDefined_, this.docs_text_protocol_TextStyle$State_$backgroundColorInherit_) && (serializedObj.ts_bgc2 = this.docs_text_protocol_TextStyle$State_$backgroundColor_.serialize(strategy)), JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.foregroundColorDefined_, this.foregroundColorInherit_) && (serializedObj.ts_fgc2 = 
  this.foregroundColor_.serialize(strategy))) : (JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_TextStyle$State_$backgroundColorDefined_, this.docs_text_protocol_TextStyle$State_$backgroundColorInherit_) && (serializedObj.ts_bgc = docs$text$protocol$TextStyle$getColorString_(this.docs_text_protocol_TextStyle$State_$backgroundColor_)), JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.foregroundColorDefined_, this.foregroundColorInherit_) && 
  (serializedObj.ts_fgc = docs$text$protocol$TextStyle$getColorString_(this.foregroundColor_)));
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.boldDefined_) && (serializedObj.ts_bd_i = this.boldInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.fontSizeDefined_) && (serializedObj.ts_fs_i = this.fontSizeInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.fontFamilyDefined_) && (serializedObj.ts_ff_i = this.fontFamilyInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.italicDefined_) && (serializedObj.ts_it_i = this.italicInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.smallCapsDefined_) && (serializedObj.ts_sc_i = this.smallCapsInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.strikethroughDefined_) && (serializedObj.ts_st_i = this.strikethroughInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.underlineDefined_) && (serializedObj.ts_un_i = this.underlineInherit_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_TextStyle$State_$verticalAlignDefined_) && (serializedObj.ts_va_i = this.docs_text_protocol_TextStyle$State_$verticalAlignInherit_);
  docs$text$util$ColorProperties$useNewProperties() ? (JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_TextStyle$State_$backgroundColorDefined_) && (serializedObj.ts_bgc2_i = this.docs_text_protocol_TextStyle$State_$backgroundColorInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.foregroundColorDefined_) && (serializedObj.ts_fgc2_i = this.foregroundColorInherit_)) : (JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, 
  this.docs_text_protocol_TextStyle$State_$backgroundColorDefined_) && (serializedObj.ts_bgc_i = this.docs_text_protocol_TextStyle$State_$backgroundColorInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.foregroundColorDefined_) && (serializedObj.ts_fgc_i = this.foregroundColorInherit_));
  !JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-etsrds") || strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.docs_text_protocol_TextStyle$State_$roundtripDataDefined_ || (serializedObj.ts_rtd = this.docs_text_protocol_TextStyle$State_$roundtripData_);
  return serializedObj;
};
docs$text$protocol$TextStyle$0State_.prototype.update = function $docs$text$protocol$TextStyle$0State_$$update$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_, numInheritChange = 0, bold = this.bold_, boldInherit = this.boldInherit_, boldDefined = this.boldDefined_, backgroundColor = this.docs_text_protocol_TextStyle$State_$backgroundColor_, backgroundColorInherit = this.docs_text_protocol_TextStyle$State_$backgroundColorInherit_, backgroundColorDefined = this.docs_text_protocol_TextStyle$State_$backgroundColorDefined_, foregroundColor = this.foregroundColor_, 
  foregroundColorInherit = this.foregroundColorInherit_, foregroundColorDefined = this.foregroundColorDefined_, fontFamily = this.fontFamily_, fontFamilyInherit = this.fontFamilyInherit_, fontFamilyDefined = this.fontFamilyDefined_, fontSize = this.fontSize_, fontSizeInherit = this.fontSizeInherit_, fontSizeDefined = this.fontSizeDefined_, italic = this.italic_, italicInherit = this.italicInherit_, italicDefined = this.italicDefined_, smallCaps = this.smallCaps_, smallCapsInherit = this.smallCapsInherit_, 
  smallCapsDefined = this.smallCapsDefined_, strikethrough = this.strikethrough_, strikethroughInherit = this.strikethroughInherit_, strikethroughDefined = this.strikethroughDefined_, toggleWeight = this.toggleWeight_, toggleWeightDefined = this.toggleWeightDefined_, underline = this.underline_, underlineInherit = this.underlineInherit_, underlineDefined = this.underlineDefined_, verticalAlign = this.docs_text_protocol_TextStyle$State_$verticalAlign_, verticalAlignInherit = this.docs_text_protocol_TextStyle$State_$verticalAlignInherit_, 
  verticalAlignDefined = this.docs_text_protocol_TextStyle$State_$verticalAlignDefined_, roundtripData = this.docs_text_protocol_TextStyle$State_$roundtripData_, roundtripDataDefined = this.docs_text_protocol_TextStyle$State_$roundtripDataDefined_;
  if ("ts_bgc2" in propertyMap) {
    docs$text$protocol$TextStyle$assertCorrectColorProperty_("ts_bgc2");
    var value = propertyMap.ts_bgc2;
    if (!requireDefined || backgroundColorDefined) {
      var backgroundColorDefined = !0, colorMap, backgroundColor = docs$text$protocol$ColorFactory$create(value);
    }
  }
  "ts_bgc2_i" in propertyMap && (docs$text$protocol$TextStyle$assertCorrectColorProperty_("ts_bgc2_i"), value = propertyMap.ts_bgc2_i, !requireDefined || backgroundColorDefined) && (backgroundColorDefined = !0, backgroundColorInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(backgroundColorInherit, value), backgroundColorInherit = value));
  "ts_bgc_i" in propertyMap && (docs$text$protocol$TextStyle$assertCorrectColorProperty_("ts_bgc_i"), value = propertyMap.ts_bgc_i, !requireDefined || backgroundColorDefined) && (backgroundColorDefined = !0, backgroundColorInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(backgroundColorInherit, value), backgroundColorInherit = value));
  "ts_bd" in propertyMap && (value = propertyMap.ts_bd, !requireDefined || boldDefined) && (boldDefined = !0, bold = value);
  "ts_bd_i" in propertyMap && (value = propertyMap.ts_bd_i, !requireDefined || boldDefined) && (boldDefined = !0, boldInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(boldInherit, value), boldInherit = value));
  "ts_ff" in propertyMap && (value = propertyMap.ts_ff, !requireDefined || fontFamilyDefined) && (fontFamilyDefined = !0, fontFamily = value);
  "ts_ff_i" in propertyMap && (value = propertyMap.ts_ff_i, !requireDefined || fontFamilyDefined) && (fontFamilyDefined = !0, fontFamilyInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(fontFamilyInherit, value), fontFamilyInherit = value));
  "ts_fs" in propertyMap && (value = propertyMap.ts_fs, !requireDefined || fontSizeDefined) && (fontSizeDefined = !0, fontSize = value);
  "ts_fs_i" in propertyMap && (value = propertyMap.ts_fs_i, !requireDefined || fontSizeDefined) && (fontSizeDefined = !0, fontSizeInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(fontSizeInherit, value), fontSizeInherit = value));
  "ts_fgc2" in propertyMap && (docs$text$protocol$TextStyle$assertCorrectColorProperty_("ts_fgc2"), value = propertyMap.ts_fgc2, !requireDefined || foregroundColorDefined) && (foregroundColorDefined = !0, foregroundColor = docs$text$protocol$ColorFactory$create(value));
  "ts_fgc2_i" in propertyMap && (docs$text$protocol$TextStyle$assertCorrectColorProperty_("ts_fgc2_i"), value = propertyMap.ts_fgc2_i, !requireDefined || foregroundColorDefined) && (foregroundColorDefined = !0, foregroundColorInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(foregroundColorInherit, value), foregroundColorInherit = value));
  "ts_fgc_i" in propertyMap && (docs$text$protocol$TextStyle$assertCorrectColorProperty_("ts_fgc_i"), value = propertyMap.ts_fgc_i, !requireDefined || foregroundColorDefined) && (foregroundColorDefined = !0, foregroundColorInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(foregroundColorInherit, value), foregroundColorInherit = value));
  "ts_it" in propertyMap && (value = propertyMap.ts_it, !requireDefined || italicDefined) && (italicDefined = !0, italic = value);
  "ts_it_i" in propertyMap && (value = propertyMap.ts_it_i, !requireDefined || italicDefined) && (italicDefined = !0, italicInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(italicInherit, value), italicInherit = value));
  "ts_bgc" in propertyMap && (docs$text$protocol$TextStyle$assertCorrectColorProperty_("ts_bgc"), value = propertyMap.ts_bgc, !requireDefined || backgroundColorDefined) && (backgroundColorDefined = !0, colorMap = {clr_type:0}, colorMap.hclr_color = value, this.docs_text_protocol_TextStyle$State_$backgroundColor_.subsetEquals(colorMap) || (backgroundColor = new docs$text$protocol$HexColor(colorMap)));
  "ts_fgc" in propertyMap && (docs$text$protocol$TextStyle$assertCorrectColorProperty_("ts_fgc"), value = propertyMap.ts_fgc, !requireDefined || foregroundColorDefined) && (foregroundColorDefined = !0, colorMap = {clr_type:0}, colorMap.hclr_color = value, this.foregroundColor_.subsetEquals(colorMap) || (foregroundColor = new docs$text$protocol$HexColor(colorMap)));
  "ts_sc" in propertyMap && (value = propertyMap.ts_sc, !requireDefined || smallCapsDefined) && (smallCapsDefined = !0, smallCaps = value);
  "ts_sc_i" in propertyMap && (value = propertyMap.ts_sc_i, !requireDefined || smallCapsDefined) && (smallCapsDefined = !0, smallCapsInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(smallCapsInherit, value), smallCapsInherit = value));
  "ts_st" in propertyMap && (value = propertyMap.ts_st, !requireDefined || strikethroughDefined) && (strikethroughDefined = !0, strikethrough = value);
  "ts_st_i" in propertyMap && (value = propertyMap.ts_st_i, !requireDefined || strikethroughDefined) && (strikethroughDefined = !0, strikethroughInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(strikethroughInherit, value), strikethroughInherit = value));
  "ts_tw" in propertyMap && (value = propertyMap.ts_tw, !requireDefined || toggleWeightDefined) && (toggleWeightDefined = !0, toggleWeight = value);
  "ts_un" in propertyMap && (value = propertyMap.ts_un, !requireDefined || underlineDefined) && (underlineDefined = !0, underline = value);
  "ts_un_i" in propertyMap && (value = propertyMap.ts_un_i, !requireDefined || underlineDefined) && (underlineDefined = !0, underlineInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(underlineInherit, value), underlineInherit = value));
  "ts_va" in propertyMap && (value = propertyMap.ts_va, !requireDefined || verticalAlignDefined) && (verticalAlignDefined = !0, verticalAlign = value);
  "ts_va_i" in propertyMap && (value = propertyMap.ts_va_i, !requireDefined || verticalAlignDefined) && (verticalAlignDefined = !0, verticalAlignInherit != value && (numInheritChange += docs$text$protocol$Annotation$inheritValueDelta(verticalAlignInherit, value), verticalAlignInherit = value));
  "ts_rtd" in propertyMap && (value = propertyMap.ts_rtd, !requireDefined || roundtripDataDefined) && (roundtripDataDefined = !0, roundtripData = value);
  return new docs$text$protocol$AnnotationStateUpdateResult(new docs$text$protocol$TextStyle$0State_(bold, boldInherit, boldDefined, backgroundColor, backgroundColorInherit, backgroundColorDefined, foregroundColor, foregroundColorInherit, foregroundColorDefined, fontFamily, fontFamilyInherit, fontFamilyDefined, fontSize, fontSizeInherit, fontSizeDefined, italic, italicInherit, italicDefined, smallCaps, smallCapsInherit, smallCapsDefined, strikethrough, strikethroughInherit, strikethroughDefined, 
  toggleWeight, toggleWeightDefined, underline, underlineInherit, underlineDefined, verticalAlign, verticalAlignInherit, verticalAlignDefined, roundtripData, roundtripDataDefined), numInheritChange);
};
docs$text$protocol$TextStyle$0State_.prototype.getValue = function $docs$text$protocol$TextStyle$0State_$$getValue$(propertyName) {
  switch(propertyName) {
    case "ts_bgc2":
      return this.docs_text_protocol_TextStyle$State_$backgroundColor_;
    case "ts_bgc2_i":
    case "ts_bgc_i":
      return this.docs_text_protocol_TextStyle$State_$backgroundColorInherit_;
    case "ts_bd":
      return this.bold_;
    case "ts_bd_i":
      return this.boldInherit_;
    case "ts_ff":
      return this.fontFamily_;
    case "ts_ff_i":
      return this.fontFamilyInherit_;
    case "ts_fs":
      return this.fontSize_;
    case "ts_fs_i":
      return this.fontSizeInherit_;
    case "ts_fgc2":
      return this.foregroundColor_;
    case "ts_fgc2_i":
    case "ts_fgc_i":
      return this.foregroundColorInherit_;
    case "ts_it":
      return this.italic_;
    case "ts_it_i":
      return this.italicInherit_;
    case "ts_bgc":
      return docs$text$protocol$TextStyle$getColorString_(this.docs_text_protocol_TextStyle$State_$backgroundColor_);
    case "ts_fgc":
      return docs$text$protocol$TextStyle$getColorString_(this.foregroundColor_);
    case "ts_rtd":
      return this.docs_text_protocol_TextStyle$State_$roundtripData_;
    case "ts_sc":
      return this.smallCaps_;
    case "ts_sc_i":
      return this.smallCapsInherit_;
    case "ts_st":
      return this.strikethrough_;
    case "ts_st_i":
      return this.strikethroughInherit_;
    case "ts_tw":
      return this.toggleWeight_;
    case "ts_un":
      return this.underline_;
    case "ts_un_i":
      return this.underlineInherit_;
    case "ts_va":
      return this.docs_text_protocol_TextStyle$State_$verticalAlign_;
    case "ts_va_i":
      return this.docs_text_protocol_TextStyle$State_$verticalAlignInherit_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
function JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined(JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self, propertyName) {
  switch(propertyName) {
    case "ts_bgc2":
    case "ts_bgc2_i":
    case "ts_bgc":
    case "ts_bgc_i":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.docs_text_protocol_TextStyle$State_$backgroundColorDefined_;
    case "ts_bd":
    case "ts_bd_i":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.boldDefined_;
    case "ts_ff":
    case "ts_ff_i":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.fontFamilyDefined_;
    case "ts_fs":
    case "ts_fs_i":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.fontSizeDefined_;
    case "ts_fgc2":
    case "ts_fgc2_i":
    case "ts_fgc":
    case "ts_fgc_i":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.foregroundColorDefined_;
    case "ts_it":
    case "ts_it_i":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.italicDefined_;
    case "ts_sc":
    case "ts_sc_i":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.smallCapsDefined_;
    case "ts_st":
    case "ts_st_i":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.strikethroughDefined_;
    case "ts_tw":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.toggleWeightDefined_;
    case "ts_un":
    case "ts_un_i":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.underlineDefined_;
    case "ts_va":
    case "ts_va_i":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.docs_text_protocol_TextStyle$State_$verticalAlignDefined_;
    case "ts_rtd":
      return JSCompiler_StaticMethods_docs_text_protocol_TextStyle$State__prototype$isDefined$self.docs_text_protocol_TextStyle$State_$roundtripDataDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
}
docs$text$protocol$TextStyle$0State_.prototype.getFontFamily = function $docs$text$protocol$TextStyle$0State_$$getFontFamily$() {
  return this.weightedFontFamily_.fontFamily;
};
function docs$text$protocol$TextStyle$0WeightedFontFamily(fontFamily) {
  this.fontFamily = fontFamily;
}
var docs$text$protocol$TextStyle$0State_$default_ = new docs$text$protocol$TextStyle$0State_(!1, !1, !1, new docs$text$protocol$HexColor, !1, !1, new docs$text$protocol$HexColor(docs$text$protocol$TextStyle$DEFAULT_FOREGROUND_COLOR_PROPERTY_MAP_), !1, !1, "Arial", !1, !1, 11, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, 400, !1, !1, !1, !1, "nor", !1, !1, "", !1), textStyle$jscomp$inline_298 = new docs$text$protocol$TextStyle;
textStyle$jscomp$inline_298.docs_text_protocol_TextStyle$state_ = new docs$text$protocol$TextStyle$0State_(!1, !0, !1, new docs$text$protocol$HexColor, !0, !1, new docs$text$protocol$HexColor(docs$text$protocol$TextStyle$DEFAULT_FOREGROUND_COLOR_PROPERTY_MAP_), !0, !1, "Arial", !0, !1, 11, !0, !1, !1, !0, !1, !1, !0, !1, !1, !0, !1, 400, !1, !1, !0, !1, "nor", !0, !1, "", !1);
textStyle$jscomp$inline_298.docs_text_protocol_Annotation$numInheritValues_ = 10;
var docs$text$protocol$TextStyle$defaultAllInherit_ = textStyle$jscomp$inline_298.setImmutable(), JSCompiler_temp_const$jscomp$2331 = (new docs$text$protocol$TextStyle).setImmutable(), JSCompiler_temp_const$jscomp$2330 = docs$text$protocol$TextStyle$getFontSizeHeadingAnnotation_(24).setImmutable(), JSCompiler_temp_const$jscomp$2329 = docs$text$protocol$TextStyle$getFontSizeHeadingAnnotation_(18).setImmutable(), JSCompiler_temp_const$jscomp$2328 = docs$text$protocol$TextStyle$getFontSizeHeadingAnnotation_(14).setImmutable(), 
JSCompiler_temp_const$jscomp$2327 = docs$text$protocol$TextStyle$getFontSizeHeadingAnnotation_(12).setImmutable(), JSCompiler_temp_const$jscomp$2326 = docs$text$protocol$TextStyle$getFontSizeHeadingAnnotation_(11).setImmutable(), JSCompiler_temp_const$jscomp$2325 = docs$text$protocol$TextStyle$getFontSizeHeadingAnnotation_(10).setImmutable(), JSCompiler_temp_const$jscomp$2324 = docs$text$protocol$TextStyle$getFontSizeHeadingAnnotation_(36).setImmutable(), textStyle$jscomp$inline_2424 = new docs$text$protocol$TextStyle, 
updateResult$jscomp$inline_2425, foregroundColor$jscomp$inline_3297 = new docs$text$protocol$HexColor({hclr_color:"#666666"});
updateResult$jscomp$inline_2425 = new docs$text$protocol$AnnotationStateUpdateResult(new docs$text$protocol$TextStyle$0State_(!1, !0, !1, new docs$text$protocol$HexColor, !0, !1, foregroundColor$jscomp$inline_3297, !1, !1, "Georgia", !1, !1, 24, !1, !1, !0, !1, !1, !1, !0, !1, !1, !0, !1, 400, !1, !1, !0, !1, "nor", !0, !1, "", !1), 6);
textStyle$jscomp$inline_2424.docs_text_protocol_TextStyle$state_ = updateResult$jscomp$inline_2425.docs_text_protocol_AnnotationStateUpdateResult$state_;
textStyle$jscomp$inline_2424.docs_text_protocol_Annotation$numInheritValues_ = updateResult$jscomp$inline_2425.updateInheritDelta_;
var docs$text$protocol$TextStyle$defaultHeadingMap_ = {0:JSCompiler_temp_const$jscomp$2331, 1:JSCompiler_temp_const$jscomp$2330, 2:JSCompiler_temp_const$jscomp$2329, 3:JSCompiler_temp_const$jscomp$2328, 4:JSCompiler_temp_const$jscomp$2327, 5:JSCompiler_temp_const$jscomp$2326, 6:JSCompiler_temp_const$jscomp$2325, 100:JSCompiler_temp_const$jscomp$2324, 101:textStyle$jscomp$inline_2424.setImmutable()}, textStyle$jscomp$inline_303 = new docs$text$protocol$TextStyle;
textStyle$jscomp$inline_303.docs_text_protocol_TextStyle$state_ = new docs$text$protocol$TextStyle$0State_(!1, !0, !0, new docs$text$protocol$HexColor, !0, !0, new docs$text$protocol$HexColor(docs$text$protocol$TextStyle$DEFAULT_FOREGROUND_COLOR_PROPERTY_MAP_), !0, !0, "Arial", !0, !0, 11, !0, !0, !1, !0, !0, !1, !0, !0, !1, !0, !0, 400, !1, !1, !0, !0, "nor", !0, !0, "", !1);
textStyle$jscomp$inline_303.docs_text_protocol_Annotation$numInheritValues_ = 10;
var docs$text$protocol$TextStyle$allInherit_ = textStyle$jscomp$inline_303.setImmutable(), docs$text$protocol$TextStyle$allInheritMap_ = goog$object$createImmutableView(docs$text$protocol$TextStyle$defaultAllInherit_.serialize()), docs$text$protocol$TextStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("text", docs$text$protocol$TextStyle$create, function() {
  return docs$text$protocol$TextStyle$propertyNames_;
});
// Input 62
function docs$text$protocol$StylesDef(opt_propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$StylesDef$propertyNames_);
  this.docs_text_protocol_StylesDef$textStyle_ = new docs$text$protocol$TextStyle;
  this.paragraphStyle_ = new docs$text$protocol$ParagraphStyle;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$StylesDef, docs$text$protocol$Annotation);
var docs$text$protocol$StylesDef$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({PARAGRAPH_STYLE:"sdef_ps", TEXT_STYLE:"sdef_ts"}), docs$text$protocol$StylesDef$NESTING_ANNOTATION_PROPERTY_NAMES_ = ["sdef_ps", "sdef_ts"];
docs$text$protocol$StylesDef.prototype.clone = function $docs$text$protocol$StylesDef$$clone$() {
  var clone = new docs$text$protocol$StylesDef({});
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$StylesDef.prototype.copyToInternal = function $docs$text$protocol$StylesDef$$copyToInternal$(other) {
  other.docs_text_protocol_StylesDef$textStyle_ = this.docs_text_protocol_StylesDef$textStyle_.clone();
  other.paragraphStyle_ = this.paragraphStyle_.clone();
};
function JSCompiler_StaticMethods_docs_text_protocol_StylesDef_prototype$getStyle(JSCompiler_StaticMethods_docs_text_protocol_StylesDef_prototype$getStyle$self, styleType) {
  switch(styleType) {
    case "text":
      return JSCompiler_StaticMethods_docs_text_protocol_StylesDef_prototype$getStyle$self.docs_text_protocol_StylesDef$textStyle_;
    case "paragraph":
      return JSCompiler_StaticMethods_docs_text_protocol_StylesDef_prototype$getStyle$self.paragraphStyle_;
    default:
      throw Error("Invalid style type: " + styleType);
  }
}
docs$text$protocol$StylesDef.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$StylesDef$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {}, serializedParagraphStyle = this.paragraphStyle_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedParagraphStyle) && (serializedObj.sdef_ps = serializedParagraphStyle);
  var serializedTextStyle = this.docs_text_protocol_StylesDef$textStyle_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedTextStyle) && (serializedObj.sdef_ts = serializedTextStyle);
  return serializedObj;
};
docs$text$protocol$StylesDef.prototype.updateInternal = function $docs$text$protocol$StylesDef$$updateInternal$(propertyMap, opt_strategy) {
  if ("sdef_ps" in propertyMap) {
    var value = propertyMap.sdef_ps;
    this.paragraphStyle_.update(value, opt_strategy);
  }
  "sdef_ts" in propertyMap && (value = propertyMap.sdef_ts, this.docs_text_protocol_StylesDef$textStyle_.update(value, opt_strategy));
};
docs$text$protocol$StylesDef.prototype.getValueInternal = function $docs$text$protocol$StylesDef$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "sdef_ps":
      return this.paragraphStyle_;
    case "sdef_ts":
      return this.docs_text_protocol_StylesDef$textStyle_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$StylesDef.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$StylesDef$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "sdef_ps":
    case "sdef_ts":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$StylesDef.prototype.equalsInternal = function $docs$text$protocol$StylesDef$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$StylesDef ? JSCompiler_StaticMethods_equalsWithStrategy(this.paragraphStyle_, other.paragraphStyle_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_StylesDef$textStyle_, other.docs_text_protocol_StylesDef$textStyle_, strategy) : !1;
};
docs$text$protocol$StylesDef.prototype.isNestedAnnotation = function $docs$text$protocol$StylesDef$$isNestedAnnotation$(name) {
  return "sdef_ps" == name || "sdef_ts" == name;
};
docs$text$protocol$StylesDef.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$StylesDef$$getNestedAnnotationPropertyNames$() {
  return docs$text$protocol$StylesDef$NESTING_ANNOTATION_PROPERTY_NAMES_;
};
function docs$text$protocol$StylesDef$getDefaultStylesDef(heading) {
  var stylesDef = new docs$text$protocol$StylesDef;
  0 <= heading && 6 >= heading || 100 == heading || 101 == heading || (heading = 6);
  stylesDef.docs_text_protocol_StylesDef$textStyle_ = docs$text$protocol$TextStyle$defaultHeadingMap_[heading].clone();
  stylesDef.paragraphStyle_ = docs$text$protocol$ParagraphStyle$defaultHeadingMap_[heading].clone();
  return stylesDef;
}
;
// Input 63
function docs$text$protocol$HeadingsStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "headings", docs$text$protocol$HeadingsStyle$propertyNames_);
  this.normalTextDef_ = docs$text$protocol$StylesDef$getDefaultStylesDef(0);
  this.titleDef_ = docs$text$protocol$StylesDef$getDefaultStylesDef(100);
  this.subtitleDef_ = docs$text$protocol$StylesDef$getDefaultStylesDef(101);
  this.heading1Def_ = docs$text$protocol$StylesDef$getDefaultStylesDef(1);
  this.heading2Def_ = docs$text$protocol$StylesDef$getDefaultStylesDef(2);
  this.heading3Def_ = docs$text$protocol$StylesDef$getDefaultStylesDef(3);
  this.heading4Def_ = docs$text$protocol$StylesDef$getDefaultStylesDef(4);
  this.heading5Def_ = docs$text$protocol$StylesDef$getDefaultStylesDef(5);
  this.heading6Def_ = docs$text$protocol$StylesDef$getDefaultStylesDef(6);
  this.inheritedStylesCache_ = [];
  JSCompiler_StaticMethods_resetInheritedStylesCache_(this);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$HeadingsStyle, docs$text$protocol$Style);
var docs$text$protocol$HeadingsStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({NORMAL_TEXT:"hs_nt", HEADING_1:"hs_h1", HEADING_2:"hs_h2", HEADING_3:"hs_h3", HEADING_4:"hs_h4", HEADING_5:"hs_h5", HEADING_6:"hs_h6", TITLE:"hs_t", SUBTITLE:"hs_st"});
docs$text$protocol$HeadingsStyle.prototype.updateInternal = function $docs$text$protocol$HeadingsStyle$$updateInternal$(propertyMap, opt_strategy) {
  if ("hs_nt" in propertyMap) {
    var value = propertyMap.hs_nt;
    this.normalTextDef_.update(value, opt_strategy);
    JSCompiler_StaticMethods_resetInheritedStylesCache_(this);
  }
  "hs_t" in propertyMap && (value = propertyMap.hs_t, this.titleDef_.update(value, opt_strategy), JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(this, 100));
  "hs_st" in propertyMap && (value = propertyMap.hs_st, this.subtitleDef_.update(value, opt_strategy), JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(this, 101));
  "hs_h1" in propertyMap && (value = propertyMap.hs_h1, this.heading1Def_.update(value, opt_strategy), JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(this, 1));
  "hs_h2" in propertyMap && (value = propertyMap.hs_h2, this.heading2Def_.update(value, opt_strategy), JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(this, 2));
  "hs_h3" in propertyMap && (value = propertyMap.hs_h3, this.heading3Def_.update(value, opt_strategy), JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(this, 3));
  "hs_h4" in propertyMap && (value = propertyMap.hs_h4, this.heading4Def_.update(value, opt_strategy), JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(this, 4));
  "hs_h5" in propertyMap && (value = propertyMap.hs_h5, this.heading5Def_.update(value, opt_strategy), JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(this, 5));
  "hs_h6" in propertyMap && (value = propertyMap.hs_h6, this.heading6Def_.update(value, opt_strategy), JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(this, 6));
};
docs$text$protocol$HeadingsStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$HeadingsStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  strategy == docs$text$protocol$SerializationStrategy$ASSUME_NO_INHERIT ? strategy = docs$text$protocol$SerializationStrategy$FULL : strategy == docs$text$protocol$SerializationStrategy$ASSUME_NO_INHERIT_ONLY_DEFINED && (strategy = docs$text$protocol$SerializationStrategy$ONLY_DEFINED);
  var serializedObj = {}, serializedNormalTextDef = this.normalTextDef_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedNormalTextDef) && (serializedObj.hs_nt = serializedNormalTextDef);
  var serializedHeading1Def = this.heading1Def_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedHeading1Def) && (serializedObj.hs_h1 = serializedHeading1Def);
  var serializedHeading2Def = this.heading2Def_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedHeading2Def) && (serializedObj.hs_h2 = serializedHeading2Def);
  var serializedHeading3Def = this.heading3Def_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedHeading3Def) && (serializedObj.hs_h3 = serializedHeading3Def);
  var serializedHeading4Def = this.heading4Def_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedHeading4Def) && (serializedObj.hs_h4 = serializedHeading4Def);
  var serializedHeading5Def = this.heading5Def_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedHeading5Def) && (serializedObj.hs_h5 = serializedHeading5Def);
  var serializedHeading6Def = this.heading6Def_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedHeading6Def) && (serializedObj.hs_h6 = serializedHeading6Def);
  var serializedTitleDef = this.titleDef_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedTitleDef) && (serializedObj.hs_t = serializedTitleDef);
  var serializedSubtitleDef = this.subtitleDef_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedSubtitleDef) && (serializedObj.hs_st = serializedSubtitleDef);
  return serializedObj;
};
docs$text$protocol$HeadingsStyle.prototype.getValueInternal = function $docs$text$protocol$HeadingsStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "hs_nt":
      return this.normalTextDef_;
    case "hs_t":
      return this.titleDef_;
    case "hs_st":
      return this.subtitleDef_;
    case "hs_h1":
      return this.heading1Def_;
    case "hs_h2":
      return this.heading2Def_;
    case "hs_h3":
      return this.heading3Def_;
    case "hs_h4":
      return this.heading4Def_;
    case "hs_h5":
      return this.heading5Def_;
    case "hs_h6":
      return this.heading6Def_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$HeadingsStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$HeadingsStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "hs_nt":
    case "hs_t":
    case "hs_st":
    case "hs_h1":
    case "hs_h2":
    case "hs_h3":
    case "hs_h4":
    case "hs_h5":
    case "hs_h6":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$HeadingsStyle.prototype.equalsInternal = function $docs$text$protocol$HeadingsStyle$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$HeadingsStyle ? JSCompiler_StaticMethods_equalsWithStrategy(this.normalTextDef_, other.normalTextDef_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.titleDef_, other.titleDef_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.subtitleDef_, other.subtitleDef_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.heading1Def_, other.heading1Def_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.heading2Def_, 
  other.heading2Def_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.heading3Def_, other.heading3Def_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.heading4Def_, other.heading4Def_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.heading5Def_, other.heading5Def_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.heading6Def_, other.heading6Def_, strategy) : !1;
};
docs$text$protocol$HeadingsStyle.prototype.isNestedAnnotation = function $docs$text$protocol$HeadingsStyle$$isNestedAnnotation$(name) {
  return "hs_nt" == name || "hs_t" == name || "hs_st" == name || "hs_h1" == name || "hs_h2" == name || "hs_h3" == name || "hs_h4" == name || "hs_h5" == name || "hs_h6" == name;
};
function JSCompiler_StaticMethods_resetInheritedStylesCache_(JSCompiler_StaticMethods_resetInheritedStylesCache_$self) {
  JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(JSCompiler_StaticMethods_resetInheritedStylesCache_$self, 0);
  JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(JSCompiler_StaticMethods_resetInheritedStylesCache_$self, 1);
  JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(JSCompiler_StaticMethods_resetInheritedStylesCache_$self, 2);
  JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(JSCompiler_StaticMethods_resetInheritedStylesCache_$self, 3);
  JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(JSCompiler_StaticMethods_resetInheritedStylesCache_$self, 4);
  JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(JSCompiler_StaticMethods_resetInheritedStylesCache_$self, 5);
  JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(JSCompiler_StaticMethods_resetInheritedStylesCache_$self, 6);
  JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(JSCompiler_StaticMethods_resetInheritedStylesCache_$self, 100);
  JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(JSCompiler_StaticMethods_resetInheritedStylesCache_$self, 101);
}
function JSCompiler_StaticMethods_getNormalStyle(JSCompiler_StaticMethods_getNormalStyle$self, styleType) {
  var cachedNormalStyle = JSCompiler_StaticMethods_getNormalStyle$self.inheritedStylesCache_[0][styleType];
  if (cachedNormalStyle) {
    return cachedNormalStyle;
  }
  var rawNormalStyle = JSCompiler_StaticMethods_docs_text_protocol_StylesDef_prototype$getStyle(JSCompiler_StaticMethods_getNormalStyle$self.getValue(docs$text$protocol$HeadingsStyle$getHeadingPropertyName(0)), styleType), defaultStyle;
  switch(styleType) {
    case "text":
      defaultStyle = new docs$text$protocol$TextStyle;
      break;
    case "paragraph":
      defaultStyle = new docs$text$protocol$ParagraphStyle;
      break;
    default:
      throw Error("Invalid style type: " + styleType);
  }
  var normalStyle = JSCompiler_StaticMethods_getConcreteCopy(rawNormalStyle, defaultStyle);
  return JSCompiler_StaticMethods_getNormalStyle$self.inheritedStylesCache_[0][styleType] = normalStyle;
}
function JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_(JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_$self, heading) {
  JSCompiler_StaticMethods_resetInheritedStylesCacheForHeading_$self.inheritedStylesCache_[heading] = {text:null, paragraph:null};
}
docs$text$protocol$HeadingsStyle.prototype.clone = function $docs$text$protocol$HeadingsStyle$$clone$() {
  var headingsStyle = new docs$text$protocol$HeadingsStyle;
  this.copyTo(headingsStyle);
  return headingsStyle;
};
docs$text$protocol$HeadingsStyle.prototype.copyToInternal = function $docs$text$protocol$HeadingsStyle$$copyToInternal$(other) {
  other.normalTextDef_ = this.normalTextDef_.clone();
  other.titleDef_ = this.titleDef_.clone();
  other.subtitleDef_ = this.subtitleDef_.clone();
  other.heading1Def_ = this.heading1Def_.clone();
  other.heading2Def_ = this.heading2Def_.clone();
  other.heading3Def_ = this.heading3Def_.clone();
  other.heading4Def_ = this.heading4Def_.clone();
  other.heading5Def_ = this.heading5Def_.clone();
  other.heading6Def_ = this.heading6Def_.clone();
};
function docs$text$protocol$HeadingsStyle$getHeadingPropertyName(heading) {
  switch(heading) {
    case 1:
      return "hs_h1";
    case 2:
      return "hs_h2";
    case 3:
      return "hs_h3";
    case 4:
      return "hs_h4";
    case 5:
      return "hs_h5";
    case 6:
      return "hs_h6";
    case 100:
      return "hs_t";
    case 101:
      return "hs_st";
    default:
      return "hs_nt";
  }
}
function docs$text$protocol$HeadingsStyle$getHeading(headingPropertyName) {
  switch(headingPropertyName) {
    case "hs_h1":
      return 1;
    case "hs_h2":
      return 2;
    case "hs_h3":
      return 3;
    case "hs_h4":
      return 4;
    case "hs_h5":
      return 5;
    case "hs_h6":
      return 6;
    case "hs_t":
      return 100;
    case "hs_st":
      return 101;
    default:
      return 0;
  }
}
var docs$text$protocol$HeadingsStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("headings", function() {
  return new docs$text$protocol$HeadingsStyle;
}, function() {
  return docs$text$protocol$HeadingsStyle$propertyNames_;
});
// Input 64
function docs$text$protocol$HorizontalRuleStyle() {
  docs$text$protocol$Style.call(this, "horizontal_rule", docs$text$protocol$PropertyNames$NO_PROPERTIES);
}
goog$inherits(docs$text$protocol$HorizontalRuleStyle, docs$text$protocol$Style);
docs$text$protocol$HorizontalRuleStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$HorizontalRuleStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$() {
  return {};
};
docs$text$protocol$HorizontalRuleStyle.prototype.updateInternal = goog$nullFunction;
docs$text$protocol$HorizontalRuleStyle.prototype.getValueInternal = function $docs$text$protocol$HorizontalRuleStyle$$getValueInternal$(propertyName) {
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$HorizontalRuleStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$HorizontalRuleStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$HorizontalRuleStyle.prototype.equalsInternal = function $docs$text$protocol$HorizontalRuleStyle$$equalsInternal$(other) {
  return other instanceof docs$text$protocol$HorizontalRuleStyle;
};
docs$text$protocol$HorizontalRuleStyle.prototype.clone = function $docs$text$protocol$HorizontalRuleStyle$$clone$() {
  return new docs$text$protocol$HorizontalRuleStyle(this.serialize());
};
docs$text$protocol$HorizontalRuleStyle.prototype.copyToInternal = JSCompiler_emptyFn();
var docs$text$protocol$HorizontalRuleStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("horizontal_rule", function() {
  return new docs$text$protocol$HorizontalRuleStyle;
}, function() {
  return docs$text$protocol$PropertyNames$NO_PROPERTIES;
});
// Input 65
function docs$text$protocol$IgnoreWordStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "ignore_word", docs$text$protocol$IgnoreWordStyle$propertyNames_);
  this.isIgnoredDefined_ = this.isIgnored_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$IgnoreWordStyle, docs$text$protocol$Style);
var docs$text$protocol$IgnoreWordStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({IGNORED:"iwos_i"});
docs$text$protocol$IgnoreWordStyle.prototype.updateInternal = function $docs$text$protocol$IgnoreWordStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  "iwos_i" in propertyMap && (!requireDefined || this.isIgnoredDefined_) && (this.isIgnoredDefined_ = !0, this.isIgnored_ = propertyMap.iwos_i);
};
docs$text$protocol$IgnoreWordStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$IgnoreWordStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.isIgnoredDefined_) {
    serializedObject.iwos_i = this.isIgnored_;
  }
  return serializedObject;
};
docs$text$protocol$IgnoreWordStyle.prototype.getValueInternal = function $docs$text$protocol$IgnoreWordStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "iwos_i":
      return this.isIgnored_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$IgnoreWordStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$IgnoreWordStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "iwos_i":
      return this.isIgnoredDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$IgnoreWordStyle.prototype.equalsInternal = function $docs$text$protocol$IgnoreWordStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$IgnoreWordStyle) || strategy.compareDefined_ && this.isIgnoredDefined_ != other.isIgnoredDefined_ ? !1 : this.isIgnored_ == other.isIgnored_;
};
docs$text$protocol$IgnoreWordStyle.prototype.clone = function $docs$text$protocol$IgnoreWordStyle$$clone$() {
  var clone = new docs$text$protocol$IgnoreWordStyle;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$IgnoreWordStyle.prototype.copyToInternal = function $docs$text$protocol$IgnoreWordStyle$$copyToInternal$(other) {
  other.isIgnored_ = this.isIgnored_;
  other.isIgnoredDefined_ = this.isIgnoredDefined_;
};
var docs$text$protocol$IgnoreWordStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("ignore_word", function() {
  return new docs$text$protocol$IgnoreWordStyle;
}, function() {
  return docs$text$protocol$IgnoreWordStyle$propertyNames_;
});
// Input 66
function docs$text$protocol$ImportWarningsStyle(opt_propertyMap) {
  docs$text$protocol$StringCollectionStyle.call(this, "iws_iwids", "import_warnings", docs$text$protocol$ImportWarningsStyle$propertyNames_, opt_propertyMap);
}
goog$inherits(docs$text$protocol$ImportWarningsStyle, docs$text$protocol$StringCollectionStyle);
var docs$text$protocol$ImportWarningsStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({IMPORT_WARNINGS_IDS:"iws_iwids"});
docs$text$protocol$ImportWarningsStyle.prototype.clone = function $docs$text$protocol$ImportWarningsStyle$$clone$() {
  var style = new docs$text$protocol$ImportWarningsStyle;
  this.copyTo(style);
  return style;
};
var docs$text$protocol$ImportWarningsStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("import_warnings", function() {
  return new docs$text$protocol$ImportWarningsStyle;
}, function() {
  return docs$text$protocol$ImportWarningsStyle$propertyNames_;
});
// Input 67
function docs$text$protocol$Link(type, propertyNames) {
  docs$text$protocol$Annotation.call(this, propertyNames);
  this.docs_text_protocol_Link$type_ = type;
}
goog$inherits(docs$text$protocol$Link, docs$text$protocol$Annotation);
var docs$text$protocol$Link$propertyNames = docs$text$protocol$PropertyNames$fromNonInheritableEnum({TYPE:"lnk_type"});
docs$text$protocol$Link.prototype.getType = function $docs$text$protocol$Link$$getType$() {
  return this.docs_text_protocol_Link$type_;
};
docs$text$protocol$Link.prototype.updateInternal = goog$nullFunction;
docs$text$protocol$Link.prototype.getValueInternal = function $docs$text$protocol$Link$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "lnk_type":
      return this.docs_text_protocol_Link$type_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Link.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Link$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "lnk_type":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Link.prototype.equalsInternal = function $docs$text$protocol$Link$$equalsInternal$(other) {
  return other instanceof docs$text$protocol$Link ? this.docs_text_protocol_Link$type_ == other.docs_text_protocol_Link$type_ : !1;
};
docs$text$protocol$Link.prototype.subsetEquals = function $docs$text$protocol$Link$$subsetEquals$(propertyMap, opt_strategy) {
  return this.docs_text_protocol_Link$type_ == propertyMap.lnk_type && docs$text$protocol$Link.superClass_.subsetEquals.call(this, propertyMap, opt_strategy);
};
docs$text$protocol$Link.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Link$$docs_text_protocol_Annotation_prototype$serializeInternal$() {
  var serializedObj = {};
  serializedObj.lnk_type = this.docs_text_protocol_Link$type_;
  return serializedObj;
};
// Input 68
var goog$uri$utils$splitRe_ = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;
function goog$uri$utils$decodeIfPossible_(uri) {
  return uri ? decodeURI(uri) : uri;
}
function goog$uri$utils$appendQueryData_(buffer) {
  if (buffer[1]) {
    var baseUri = buffer[0], hashIndex = baseUri.indexOf("#");
    0 <= hashIndex && (buffer.push(baseUri.substr(hashIndex)), buffer[0] = baseUri = baseUri.substr(0, hashIndex));
    var questionIndex = baseUri.indexOf("?");
    0 > questionIndex ? buffer[1] = "?" : questionIndex == baseUri.length - 1 && (buffer[1] = void 0);
  }
  return buffer.join("");
}
function goog$uri$utils$appendKeyValuePairs_(key, value, pairs) {
  if (goog$isArray(value)) {
    goog$asserts$assertArray(value);
    for (var j = 0;j < value.length;j++) {
      goog$uri$utils$appendKeyValuePairs_(key, String(value[j]), pairs);
    }
  } else {
    null != value && pairs.push("&", key, "" === value ? "" : "=", encodeURIComponent(String(value)));
  }
}
function goog$uri$utils$buildQueryDataBuffer_(buffer, keysAndValues, opt_startIndex) {
  goog$asserts$assert(0 == Math.max(keysAndValues.length - (opt_startIndex || 0), 0) % 2, "goog.uri.utils: Key/value lists must be even in length.");
  for (var i = opt_startIndex || 0;i < keysAndValues.length;i += 2) {
    goog$uri$utils$appendKeyValuePairs_(keysAndValues[i], keysAndValues[i + 1], buffer);
  }
  return buffer;
}
function goog$uri$utils$buildQueryDataBufferFromMap_(buffer, map) {
  for (var key in map) {
    goog$uri$utils$appendKeyValuePairs_(key, map[key], buffer);
  }
  return buffer;
}
function goog$uri$utils$appendParams(uri, var_args) {
  return goog$uri$utils$appendQueryData_(2 == arguments.length ? goog$uri$utils$buildQueryDataBuffer_([uri], arguments[1], 0) : goog$uri$utils$buildQueryDataBuffer_([uri], arguments, 1));
}
var goog$uri$utils$hashOrEndRe_ = /#|$/;
function goog$uri$utils$getParamValue(uri, keyEncoded) {
  var hashOrEndIndex = uri.search(goog$uri$utils$hashOrEndRe_), foundIndex;
  a: {
    for (var index = 0, keyLength = keyEncoded.length;0 <= (index = uri.indexOf(keyEncoded, index)) && index < hashOrEndIndex;) {
      var precedingChar = uri.charCodeAt(index - 1);
      if (38 == precedingChar || 63 == precedingChar) {
        var followingChar = uri.charCodeAt(index + keyLength);
        if (!followingChar || 61 == followingChar || 38 == followingChar || 35 == followingChar) {
          foundIndex = index;
          break a;
        }
      }
      index += keyLength + 1;
    }
    foundIndex = -1;
  }
  if (0 > foundIndex) {
    return null;
  }
  var endPosition = uri.indexOf("&", foundIndex);
  if (0 > endPosition || endPosition > hashOrEndIndex) {
    endPosition = hashOrEndIndex;
  }
  foundIndex += keyEncoded.length + 1;
  return decodeURIComponent(uri.substr(foundIndex, endPosition - foundIndex).replace(/\+/g, " "));
}
;
// Input 69
function docs$text$protocol$UrlLink(propertyMap) {
  docs$text$protocol$Link.call(this, 0, docs$text$protocol$UrlLink$propertyNames_);
  this.update(propertyMap);
  this.setImmutable();
}
goog$inherits(docs$text$protocol$UrlLink, docs$text$protocol$Link);
var docs$text$protocol$UrlLink$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({URL:"ulnk_url"}, docs$text$protocol$Link$propertyNames);
docs$text$protocol$UrlLink.prototype.uri_ = "";
docs$text$protocol$UrlLink.prototype.clone = function $docs$text$protocol$UrlLink$$clone$() {
  return this;
};
docs$text$protocol$UrlLink.prototype.copyToInternal = goog$functions$error("UrlLink.copyToInternal called.");
docs$text$protocol$UrlLink.prototype.getValueInternal = function $docs$text$protocol$UrlLink$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "ulnk_url":
      return this.uri_;
  }
  return docs$text$protocol$UrlLink.superClass_.getValueInternal.call(this, propertyName);
};
docs$text$protocol$UrlLink.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$UrlLink$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "ulnk_url":
      return !0;
  }
  return docs$text$protocol$UrlLink.superClass_.docs_text_protocol_Annotation_prototype$isDefined.call(this, propertyName);
};
docs$text$protocol$UrlLink.prototype.updateInternal = function $docs$text$protocol$UrlLink$$updateInternal$(propertyMap, opt_strategy) {
  docs$text$protocol$UrlLink.superClass_.updateInternal.call(this, propertyMap, opt_strategy);
  if ("ulnk_url" in propertyMap) {
    var value = propertyMap.ulnk_url, url = "";
    value && (url = goog$asserts$assertString(value), "#" == url.charAt(0) || url.match(goog$uri$utils$splitRe_)[1] || (url = "http://" + url));
    this.uri_ = url;
  }
};
docs$text$protocol$UrlLink.prototype.equalsInternal = function $docs$text$protocol$UrlLink$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$UrlLink ? docs$text$protocol$UrlLink.superClass_.equalsInternal.call(this, other, strategy) && this.uri_ == other.uri_ : !1;
};
docs$text$protocol$UrlLink.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$UrlLink$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = docs$text$protocol$UrlLink.superClass_.docs_text_protocol_Annotation_prototype$serializeInternal.call(this, strategy);
  serializedObject.ulnk_url = this.uri_;
  return serializedObject;
};
// Input 70
// Input 71
function docs$text$protocol$LinkStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "link", docs$text$protocol$LinkStyle$propertyNames_);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$LinkStyle, docs$text$protocol$Style);
var docs$text$protocol$LinkStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum(["lnks_link"]);
docs$text$protocol$LinkStyle.prototype.link_ = null;
docs$text$protocol$LinkStyle.prototype.linkDefined_ = !1;
docs$text$protocol$LinkStyle.prototype.updateInternal = function $docs$text$protocol$LinkStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("lnks_link" in propertyMap) {
    var value = propertyMap.lnks_link;
    if (!requireDefined || this.linkDefined_) {
      if (this.linkDefined_ = !0, value) {
        if (!goog$isDef(value.lnk_type)) {
          throw Error("Updating a link must be called with a type");
        }
        var JSCompiler_inline_result;
        a: {
          switch(value.lnk_type) {
            case 0:
              JSCompiler_inline_result = new docs$text$protocol$UrlLink(value);
              break a;
          }
          JSCompiler_inline_result = null;
        }
        this.link_ = JSCompiler_inline_result;
      } else {
        this.link_ = null;
      }
    }
  }
};
docs$text$protocol$LinkStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$LinkStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.linkDefined_ || (serializedObj.lnks_link = this.link_ ? this.link_.serialize(strategy) : null);
  return serializedObj;
};
docs$text$protocol$LinkStyle.prototype.getValueInternal = function $docs$text$protocol$LinkStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "lnks_link":
      return this.link_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$LinkStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$LinkStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "lnks_link":
      return this.linkDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$LinkStyle.prototype.isNestedAnnotation = function $docs$text$protocol$LinkStyle$$isNestedAnnotation$(propertyName) {
  switch(propertyName) {
    case "lnks_link":
      return !0;
  }
  return !1;
};
docs$text$protocol$LinkStyle.prototype.subsetEquals = function $docs$text$protocol$LinkStyle$$subsetEquals$(styleObject, opt_strategy) {
  if (!("lnks_link" in styleObject) || opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_ && !this.linkDefined_) {
    return !0;
  }
  var value = styleObject.lnks_link;
  return value && this.link_ && !this.link_.subsetEquals(value) || this.link_ && !value || !this.link_ && value ? !1 : !0;
};
docs$text$protocol$LinkStyle.prototype.isEqualValue = function $docs$text$protocol$LinkStyle$$isEqualValue$(propertyName, value) {
  var myValue = this.getValue(propertyName);
  return "lnks_link" == propertyName ? myValue == value ? !0 : myValue && !value || !myValue && value ? !1 : null == myValue && null == value || myValue.equals(value) : docs$text$protocol$LinkStyle.superClass_.isEqualValue.call(this, propertyName, value);
};
docs$text$protocol$LinkStyle.prototype.equalsInternal = function $docs$text$protocol$LinkStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$LinkStyle) || strategy.compareDefined_ && this.linkDefined_ != other.linkDefined_ ? !1 : this.link_ && other.link_ ? JSCompiler_StaticMethods_equalsWithStrategy(this.link_, other.link_, strategy) : this.link_ == other.link_;
};
docs$text$protocol$LinkStyle.prototype.clone = function $docs$text$protocol$LinkStyle$$clone$() {
  var linkStyle = new docs$text$protocol$LinkStyle;
  this.copyTo(linkStyle);
  return linkStyle;
};
docs$text$protocol$LinkStyle.prototype.copyToInternal = function $docs$text$protocol$LinkStyle$$copyToInternal$(other) {
  other.link_ = this.link_;
  other.linkDefined_ = this.linkDefined_;
};
var docs$text$protocol$LinkStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("link", function() {
  return new docs$text$protocol$LinkStyle;
}, function() {
  return docs$text$protocol$LinkStyle$propertyNames_;
});
// Input 72
function docs$text$protocol$Bullet(opt_propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$Bullet$propertyNames_);
  this.glyphType_ = 16;
  this.glyphTypeDefined_ = this.glyphTypeInherit_ = !1;
  this.docs_text_protocol_Bullet$alignment_ = 0;
  this.docs_text_protocol_Bullet$alignmentDefined_ = this.docs_text_protocol_Bullet$alignmentInherit_ = !1;
  this.docs_text_protocol_Bullet$glyphFormat_ = "";
  this.glyphFormatDefined_ = this.glyphFormatInherit_ = !1;
  this.glyphSymbol_ = "";
  this.glyphSymbolDefined_ = this.glyphSymbolInherit_ = !1;
  this.docs_text_protocol_Bullet$indentFirstLine_ = 0;
  this.docs_text_protocol_Bullet$indentFirstLineDefined_ = this.docs_text_protocol_Bullet$indentFirstLineInherit_ = !1;
  this.docs_text_protocol_Bullet$indentStart_ = 0;
  this.docs_text_protocol_Bullet$indentStartDefined_ = this.docs_text_protocol_Bullet$indentStartInherit_ = !1;
  this.startNumber_ = 1;
  this.startNumberDefined_ = this.startNumberInherit_ = !1;
  this.docs_text_protocol_Bullet$textStyle_ = new docs$text$protocol$TextStyle;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$Bullet, docs$text$protocol$Annotation);
function docs$text$protocol$Bullet$0Indents(indentFirstLine, indentStart) {
  this.docs_text_protocol_Bullet$Indents$indentFirstLine_ = indentFirstLine;
  this.docs_text_protocol_Bullet$Indents$indentStart_ = indentStart;
}
var docs$text$protocol$Bullet$DEFAULT_ORDERED_GLYPH_TYPES_ = [3, 5, 7], docs$text$protocol$Bullet$propertyNames_, inheritablePropertyMap$jscomp$inline_316 = {}, nonInheritablePropertyNames$jscomp$inline_317;
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-elei") ? (inheritablePropertyMap$jscomp$inline_316.b_a = "b_a_i", inheritablePropertyMap$jscomp$inline_316.b_gt = "b_gt_i", inheritablePropertyMap$jscomp$inline_316.b_gf = "b_gf_i", inheritablePropertyMap$jscomp$inline_316.b_gs = "b_gs_i", inheritablePropertyMap$jscomp$inline_316.b_ifl = "b_ifl_i", inheritablePropertyMap$jscomp$inline_316.b_il = "b_il_i", inheritablePropertyMap$jscomp$inline_316.b_sn = "b_sn_i", nonInheritablePropertyNames$jscomp$inline_317 = 
["b_ts"]) : nonInheritablePropertyNames$jscomp$inline_317 = "b_a b_gt b_gf b_gs b_ifl b_il b_sn b_ts".split(" ");
docs$text$protocol$Bullet$propertyNames_ = new docs$text$protocol$PropertyNames(nonInheritablePropertyNames$jscomp$inline_317, inheritablePropertyMap$jscomp$inline_316);
var docs$text$protocol$Bullet$NESTED_ANNOTATION_PROPERTY_NAMES_ = ["b_ts"];
docs$text$protocol$Bullet.prototype.clone = function $docs$text$protocol$Bullet$$clone$() {
  var clone = new docs$text$protocol$Bullet({});
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$Bullet.prototype.copyToInternal = function $docs$text$protocol$Bullet$$copyToInternal$(other) {
  other.docs_text_protocol_Bullet$alignment_ = this.docs_text_protocol_Bullet$alignment_;
  other.docs_text_protocol_Bullet$alignmentInherit_ = this.docs_text_protocol_Bullet$alignmentInherit_;
  other.docs_text_protocol_Bullet$alignmentDefined_ = this.docs_text_protocol_Bullet$alignmentDefined_;
  other.glyphType_ = this.glyphType_;
  other.glyphTypeInherit_ = this.glyphTypeInherit_;
  other.glyphTypeDefined_ = this.glyphTypeDefined_;
  other.docs_text_protocol_Bullet$glyphFormat_ = this.docs_text_protocol_Bullet$glyphFormat_;
  other.glyphFormatInherit_ = this.glyphFormatInherit_;
  other.glyphFormatDefined_ = this.glyphFormatDefined_;
  other.glyphSymbol_ = this.glyphSymbol_;
  other.glyphSymbolInherit_ = this.glyphSymbolInherit_;
  other.glyphSymbolDefined_ = this.glyphSymbolDefined_;
  other.docs_text_protocol_Bullet$indentFirstLine_ = this.docs_text_protocol_Bullet$indentFirstLine_;
  other.docs_text_protocol_Bullet$indentFirstLineInherit_ = this.docs_text_protocol_Bullet$indentFirstLineInherit_;
  other.docs_text_protocol_Bullet$indentFirstLineDefined_ = this.docs_text_protocol_Bullet$indentFirstLineDefined_;
  other.docs_text_protocol_Bullet$indentStart_ = this.docs_text_protocol_Bullet$indentStart_;
  other.docs_text_protocol_Bullet$indentStartInherit_ = this.docs_text_protocol_Bullet$indentStartInherit_;
  other.docs_text_protocol_Bullet$indentStartDefined_ = this.docs_text_protocol_Bullet$indentStartDefined_;
  other.startNumber_ = this.startNumber_;
  other.startNumberInherit_ = this.startNumberInherit_;
  other.startNumberDefined_ = this.startNumberDefined_;
  other.docs_text_protocol_Bullet$textStyle_ = this.docs_text_protocol_Bullet$textStyle_.clone();
};
docs$text$protocol$Bullet.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$Bullet$$getNestedAnnotationPropertyNames$() {
  return docs$text$protocol$Bullet$NESTED_ANNOTATION_PROPERTY_NAMES_;
};
docs$text$protocol$Bullet.prototype.getValueInternal = function $docs$text$protocol$Bullet$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "b_a":
      return this.docs_text_protocol_Bullet$alignment_;
    case "b_a_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.docs_text_protocol_Bullet$alignmentInherit_;
    case "b_ifl":
      return this.docs_text_protocol_Bullet$indentFirstLine_;
    case "b_ifl_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.docs_text_protocol_Bullet$indentFirstLineInherit_;
    case "b_il":
      return this.docs_text_protocol_Bullet$indentStart_;
    case "b_il_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.docs_text_protocol_Bullet$indentStartInherit_;
    case "b_gt":
      return this.glyphType_;
    case "b_gt_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.glyphTypeInherit_;
    case "b_gf":
      return this.docs_text_protocol_Bullet$glyphFormat_;
    case "b_gf_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.glyphFormatInherit_;
    case "b_gs":
      return this.glyphSymbol_;
    case "b_gs_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.glyphSymbolInherit_;
    case "b_sn":
      return this.startNumber_;
    case "b_sn_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.startNumberInherit_;
    case "b_ts":
      return this.docs_text_protocol_Bullet$textStyle_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Bullet.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Bullet$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "b_a":
      return this.docs_text_protocol_Bullet$alignmentDefined_;
    case "b_a_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.docs_text_protocol_Bullet$alignmentDefined_;
    case "b_ifl":
      return this.docs_text_protocol_Bullet$indentFirstLineDefined_;
    case "b_ifl_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.docs_text_protocol_Bullet$indentFirstLineDefined_;
    case "b_il":
      return this.docs_text_protocol_Bullet$indentStartDefined_;
    case "b_il_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.docs_text_protocol_Bullet$indentStartDefined_;
    case "b_gt":
      return this.glyphTypeDefined_;
    case "b_gt_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.glyphTypeDefined_;
    case "b_gf":
      return this.glyphFormatDefined_;
    case "b_gf_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.glyphFormatDefined_;
    case "b_gs":
      return this.glyphSymbolDefined_;
    case "b_gs_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.glyphSymbolDefined_;
    case "b_sn":
      return this.startNumberDefined_;
    case "b_sn_i":
      return JSCompiler_StaticMethods_assertInheritEnabled_(), this.startNumberDefined_;
    case "b_ts":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Bullet.prototype.equalsInternal = function $docs$text$protocol$Bullet$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$Bullet && (!strategy.compareDefined_ || this.docs_text_protocol_Bullet$alignmentDefined_ == other.docs_text_protocol_Bullet$alignmentDefined_ && this.docs_text_protocol_Bullet$indentFirstLineDefined_ == other.docs_text_protocol_Bullet$indentFirstLineDefined_ && this.docs_text_protocol_Bullet$indentStartDefined_ == other.docs_text_protocol_Bullet$indentStartDefined_ && this.glyphTypeDefined_ == other.glyphTypeDefined_ && this.glyphFormatDefined_ == other.glyphFormatDefined_ && 
  this.glyphSymbolDefined_ == other.glyphSymbolDefined_ && this.startNumberDefined_ == other.startNumberDefined_) ? this.docs_text_protocol_Bullet$alignment_ == other.docs_text_protocol_Bullet$alignment_ && this.docs_text_protocol_Bullet$alignmentInherit_ == other.docs_text_protocol_Bullet$alignmentInherit_ && this.docs_text_protocol_Bullet$indentFirstLine_ == other.docs_text_protocol_Bullet$indentFirstLine_ && this.docs_text_protocol_Bullet$indentFirstLineInherit_ == other.docs_text_protocol_Bullet$indentFirstLineInherit_ && 
  this.docs_text_protocol_Bullet$indentStart_ == other.docs_text_protocol_Bullet$indentStart_ && this.docs_text_protocol_Bullet$indentStartInherit_ == other.docs_text_protocol_Bullet$indentStartInherit_ && this.glyphType_ == other.glyphType_ && this.glyphTypeInherit_ == other.glyphTypeInherit_ && this.docs_text_protocol_Bullet$glyphFormat_ == other.docs_text_protocol_Bullet$glyphFormat_ && this.glyphFormatInherit_ == other.glyphFormatInherit_ && this.glyphSymbol_ == other.glyphSymbol_ && this.glyphSymbolInherit_ == 
  other.glyphSymbolInherit_ && this.startNumber_ == other.startNumber_ && this.startNumberInherit_ == other.startNumberInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_Bullet$textStyle_, other.docs_text_protocol_Bullet$textStyle_, strategy) : !1;
};
docs$text$protocol$Bullet.prototype.isNestedAnnotation = function $docs$text$protocol$Bullet$$isNestedAnnotation$(propertyName) {
  switch(propertyName) {
    case "b_ts":
      return !0;
  }
  return !1;
};
docs$text$protocol$Bullet.prototype.copyInheritedPropertiesToInternal = function $docs$text$protocol$Bullet$$copyInheritedPropertiesToInternal$(destination) {
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-elei") && (destination.docs_text_protocol_Bullet$alignmentInherit_ && (destination.docs_text_protocol_Bullet$alignment_ = this.docs_text_protocol_Bullet$alignment_, destination.docs_text_protocol_Bullet$alignmentInherit_ = !1, destination.docs_text_protocol_Bullet$alignmentDefined_ = !0), destination.docs_text_protocol_Bullet$indentFirstLineInherit_ && (destination.docs_text_protocol_Bullet$indentFirstLine_ = this.docs_text_protocol_Bullet$indentFirstLine_, 
  destination.docs_text_protocol_Bullet$indentFirstLineInherit_ = !1, destination.docs_text_protocol_Bullet$indentFirstLineDefined_ = !0), destination.docs_text_protocol_Bullet$indentStartInherit_ && (destination.docs_text_protocol_Bullet$indentStart_ = this.docs_text_protocol_Bullet$indentStart_, destination.docs_text_protocol_Bullet$indentStartInherit_ = !1, destination.docs_text_protocol_Bullet$indentStartDefined_ = !0), destination.glyphTypeInherit_ && (destination.glyphType_ = this.glyphType_, 
  destination.glyphTypeInherit_ = !1, destination.glyphTypeDefined_ = !0), destination.glyphFormatInherit_ && (destination.docs_text_protocol_Bullet$glyphFormat_ = this.docs_text_protocol_Bullet$glyphFormat_, destination.glyphFormatInherit_ = !1, destination.glyphFormatDefined_ = !0), destination.glyphSymbolInherit_ && (destination.glyphSymbol_ = this.glyphSymbol_, destination.glyphSymbolInherit_ = !1, destination.glyphSymbolDefined_ = !0), destination.startNumberInherit_ && (destination.startNumber_ = 
  this.startNumber_, destination.startNumberInherit_ = !1, destination.startNumberDefined_ = !0), destination.docs_text_protocol_Annotation$numInheritValues_ = 0);
  JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo(this.docs_text_protocol_Bullet$textStyle_, destination.docs_text_protocol_Bullet$textStyle_);
};
docs$text$protocol$Bullet.prototype.updateInternal = function $docs$text$protocol$Bullet$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("b_a" in propertyMap) {
    var value = propertyMap.b_a;
    if (!requireDefined || this.docs_text_protocol_Bullet$alignmentDefined_) {
      this.docs_text_protocol_Bullet$alignmentDefined_ = !0, this.docs_text_protocol_Bullet$alignment_ = value;
    }
  }
  if ("b_a_i" in propertyMap && (value = propertyMap.b_a_i, !requireDefined || this.docs_text_protocol_Bullet$alignmentDefined_)) {
    this.docs_text_protocol_Bullet$alignmentDefined_ = !0;
    JSCompiler_StaticMethods_assertInheritEnabled_();
    var alignmentInherit = this.docs_text_protocol_Bullet$alignmentInherit_;
    this.docs_text_protocol_Bullet$alignmentInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, alignmentInherit, value);
  }
  "b_ifl" in propertyMap && (value = propertyMap.b_ifl, !requireDefined || this.docs_text_protocol_Bullet$indentFirstLineDefined_) && (this.docs_text_protocol_Bullet$indentFirstLineDefined_ = !0, this.docs_text_protocol_Bullet$indentFirstLine_ = value);
  if ("b_ifl_i" in propertyMap && (value = propertyMap.b_ifl_i, !requireDefined || this.docs_text_protocol_Bullet$indentFirstLineDefined_)) {
    this.docs_text_protocol_Bullet$indentFirstLineDefined_ = !0;
    JSCompiler_StaticMethods_assertInheritEnabled_();
    var indentFirstLineInherit = this.docs_text_protocol_Bullet$indentFirstLineInherit_;
    this.docs_text_protocol_Bullet$indentFirstLineInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, indentFirstLineInherit, value);
  }
  "b_il" in propertyMap && (value = propertyMap.b_il, !requireDefined || this.docs_text_protocol_Bullet$indentStartDefined_) && (this.docs_text_protocol_Bullet$indentStartDefined_ = !0, this.docs_text_protocol_Bullet$indentStart_ = value);
  if ("b_il_i" in propertyMap && (value = propertyMap.b_il_i, !requireDefined || this.docs_text_protocol_Bullet$indentStartDefined_)) {
    this.docs_text_protocol_Bullet$indentStartDefined_ = !0;
    JSCompiler_StaticMethods_assertInheritEnabled_();
    var indentStartInherit = this.docs_text_protocol_Bullet$indentStartInherit_;
    this.docs_text_protocol_Bullet$indentStartInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, indentStartInherit, value);
  }
  "b_gt" in propertyMap && (value = propertyMap.b_gt, !requireDefined || this.glyphTypeDefined_) && (this.glyphTypeDefined_ = !0, this.glyphType_ = value);
  if ("b_gt_i" in propertyMap && (value = propertyMap.b_gt_i, !requireDefined || this.glyphTypeDefined_)) {
    this.glyphTypeDefined_ = !0;
    JSCompiler_StaticMethods_assertInheritEnabled_();
    var glyphTypeInherit = this.glyphTypeInherit_;
    this.glyphTypeInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, glyphTypeInherit, value);
  }
  "b_gf" in propertyMap && (value = propertyMap.b_gf, !requireDefined || this.glyphFormatDefined_) && (this.glyphFormatDefined_ = !0, this.docs_text_protocol_Bullet$glyphFormat_ = value);
  if ("b_gf_i" in propertyMap && (value = propertyMap.b_gf_i, !requireDefined || this.glyphFormatDefined_)) {
    this.glyphFormatDefined_ = !0;
    JSCompiler_StaticMethods_assertInheritEnabled_();
    var glyphFormatInherit = this.glyphFormatInherit_;
    this.glyphFormatInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, glyphFormatInherit, value);
  }
  "b_gs" in propertyMap && (value = propertyMap.b_gs, !requireDefined || this.glyphSymbolDefined_) && (this.glyphSymbolDefined_ = !0, this.glyphSymbol_ = value);
  if ("b_gs_i" in propertyMap && (value = propertyMap.b_gs_i, !requireDefined || this.glyphSymbolDefined_)) {
    this.glyphSymbolDefined_ = !0;
    JSCompiler_StaticMethods_assertInheritEnabled_();
    var glyphSymbolInherit = this.glyphSymbolInherit_;
    this.glyphSymbolInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, glyphSymbolInherit, value);
  }
  "b_sn" in propertyMap && (value = propertyMap.b_sn, !requireDefined || this.startNumberDefined_) && (this.startNumberDefined_ = !0, this.startNumber_ = value);
  if ("b_sn_i" in propertyMap && (value = propertyMap.b_sn_i, !requireDefined || this.startNumberDefined_)) {
    this.startNumberDefined_ = !0;
    JSCompiler_StaticMethods_assertInheritEnabled_();
    var startNumberInherit = this.startNumberInherit_;
    this.startNumberInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, startNumberInherit, value);
  }
  "b_ts" in propertyMap && (value = propertyMap.b_ts, this.docs_text_protocol_Bullet$textStyle_.update(value, opt_strategy));
};
function JSCompiler_StaticMethods_assertInheritEnabled_() {
  if (!JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-elei")) {
    throw Error("Cannot access bullet inherit properties when disabled .");
  }
}
docs$text$protocol$Bullet.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Bullet$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_Bullet$alignmentDefined_, this.docs_text_protocol_Bullet$alignmentInherit_) && (serializedObj.b_a = this.docs_text_protocol_Bullet$alignment_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_Bullet$indentFirstLineDefined_, this.docs_text_protocol_Bullet$indentFirstLineInherit_) && (serializedObj.b_ifl = this.docs_text_protocol_Bullet$indentFirstLine_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_Bullet$indentStartDefined_, this.docs_text_protocol_Bullet$indentStartInherit_) && (serializedObj.b_il = this.docs_text_protocol_Bullet$indentStart_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.glyphTypeDefined_, this.glyphTypeInherit_) && (serializedObj.b_gt = this.glyphType_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.startNumberDefined_, this.startNumberInherit_) && (serializedObj.b_sn = this.startNumber_);
  var serializedTextStyle = this.docs_text_protocol_Bullet$textStyle_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedTextStyle) && (serializedObj.b_ts = serializedTextStyle);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.glyphFormatDefined_, this.glyphFormatInherit_) && (serializedObj.b_gf = this.docs_text_protocol_Bullet$glyphFormat_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.glyphSymbolDefined_, this.glyphSymbolInherit_) && (serializedObj.b_gs = this.glyphSymbol_);
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-elei") && (JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_Bullet$alignmentDefined_) && (serializedObj.b_a_i = this.docs_text_protocol_Bullet$alignmentInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_Bullet$indentFirstLineDefined_) && (serializedObj.b_ifl_i = this.docs_text_protocol_Bullet$indentFirstLineInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, 
  this.docs_text_protocol_Bullet$indentStartDefined_) && (serializedObj.b_il_i = this.docs_text_protocol_Bullet$indentStartInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.glyphTypeDefined_) && (serializedObj.b_gt_i = this.glyphTypeInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.startNumberDefined_) && (serializedObj.b_sn_i = this.startNumberInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.glyphFormatDefined_) && 
  (serializedObj.b_gf_i = this.glyphFormatInherit_), JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.glyphSymbolDefined_) && (serializedObj.b_gs_i = this.glyphSymbolInherit_));
  return serializedObj;
};
function docs$text$protocol$Bullet$createDefault(level) {
  var bullet = new docs$text$protocol$Bullet, indents, indent = 36 * level;
  indents = new docs$text$protocol$Bullet$0Indents(indent + 18, indent + 36);
  bullet.glyphType_ = docs$text$protocol$Bullet$DEFAULT_ORDERED_GLYPH_TYPES_[level % docs$text$protocol$Bullet$DEFAULT_ORDERED_GLYPH_TYPES_.length];
  bullet.docs_text_protocol_Bullet$indentStart_ = indents.docs_text_protocol_Bullet$Indents$indentStart_;
  bullet.docs_text_protocol_Bullet$indentFirstLine_ = indents.docs_text_protocol_Bullet$Indents$indentFirstLine_;
  return bullet;
}
;
// Input 73
function docs$text$protocol$NestingBullets(opt_nestingBullets) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$NestingBullets$propertyNames_);
  var JSCompiler_temp;
  if (!(JSCompiler_temp = opt_nestingBullets)) {
    for (var bullets = [], level = 0;8 >= level;level++) {
      bullets.push(docs$text$protocol$Bullet$createDefault(level));
    }
    JSCompiler_temp = (new docs$text$protocol$NestingBullets(bullets)).docs_text_protocol_NestingBullets$nestingBullets_;
  }
  this.docs_text_protocol_NestingBullets$nestingBullets_ = JSCompiler_temp;
}
goog$inherits(docs$text$protocol$NestingBullets, docs$text$protocol$Annotation);
var docs$text$protocol$NestingBullets$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({LEVEL_0:"nl_0", LEVEL_1:"nl_1", LEVEL_2:"nl_2", LEVEL_3:"nl_3", LEVEL_4:"nl_4", LEVEL_5:"nl_5", LEVEL_6:"nl_6", LEVEL_7:"nl_7", LEVEL_8:"nl_8"}), docs$text$protocol$NestingBullets$nestingLevelMap_ = new docs$structs$Bimap({nl_0:0, nl_1:1, nl_2:2, nl_3:3, nl_4:4, nl_5:5, nl_6:6, nl_7:7, nl_8:8}), docs$text$protocol$NestingBullets$nestingLevelPropertyNames_ = "nl_0 nl_1 nl_2 nl_3 nl_4 nl_5 nl_6 nl_7 nl_8".split(" ");
docs$text$protocol$NestingBullets.prototype.clone = function $docs$text$protocol$NestingBullets$$clone$() {
  var clone = new docs$text$protocol$NestingBullets([]);
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$NestingBullets.prototype.copyToInternal = function $docs$text$protocol$NestingBullets$$copyToInternal$(other) {
  other.docs_text_protocol_NestingBullets$nestingBullets_ = [];
  for (var i = 0;i < this.docs_text_protocol_NestingBullets$nestingBullets_.length;i++) {
    other.docs_text_protocol_NestingBullets$nestingBullets_[i] = this.docs_text_protocol_NestingBullets$nestingBullets_[i].clone();
  }
};
docs$text$protocol$NestingBullets.prototype.copyInheritedPropertiesToInternal = function $docs$text$protocol$NestingBullets$$copyInheritedPropertiesToInternal$(destination) {
  for (var i = 0;i < this.docs_text_protocol_NestingBullets$nestingBullets_.length;i++) {
    destination.docs_text_protocol_NestingBullets$nestingBullets_[i] && JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo(this.docs_text_protocol_NestingBullets$nestingBullets_[i], destination.docs_text_protocol_NestingBullets$nestingBullets_[i]);
  }
};
docs$text$protocol$NestingBullets.prototype.updateInternal = function $docs$text$protocol$NestingBullets$$updateInternal$(propertyMap, opt_strategy) {
  for (var nestingLevel = 0;8 >= nestingLevel;nestingLevel++) {
    var propertyName, nestingLevel$jscomp$0 = nestingLevel;
    propertyName = goog$asserts$assert(JSCompiler_StaticMethods_inverseBimap(docs$text$protocol$NestingBullets$nestingLevelMap_).get(nestingLevel$jscomp$0));
    propertyName in propertyMap && this.docs_text_protocol_NestingBullets$nestingBullets_[nestingLevel].update(propertyMap[propertyName], opt_strategy);
  }
};
docs$text$protocol$NestingBullets.prototype.getValueInternal = function $docs$text$protocol$NestingBullets$$getValueInternal$(propertyName) {
  var nestingLevel = docs$text$protocol$NestingBullets$nestingLevelMap_.get(propertyName);
  if (null != nestingLevel) {
    return this.docs_text_protocol_NestingBullets$nestingBullets_[nestingLevel];
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$NestingBullets.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$NestingBullets$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  if (null != docs$text$protocol$NestingBullets$nestingLevelMap_.get(propertyName)) {
    return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$NestingBullets.prototype.isNestedAnnotation = JSCompiler_returnArg(!0);
docs$text$protocol$NestingBullets.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$NestingBullets$$getNestedAnnotationPropertyNames$() {
  return docs$text$protocol$NestingBullets$nestingLevelPropertyNames_;
};
docs$text$protocol$NestingBullets.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$NestingBullets$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var nestingBullets = this.docs_text_protocol_NestingBullets$nestingBullets_, serializedObj = {}, serializedBullet0 = nestingBullets[0].serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedBullet0) && (serializedObj.nl_0 = serializedBullet0);
  var serializedBullet1 = nestingBullets[1].serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedBullet1) && (serializedObj.nl_1 = serializedBullet1);
  var serializedBullet2 = nestingBullets[2].serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedBullet2) && (serializedObj.nl_2 = serializedBullet2);
  var serializedBullet3 = nestingBullets[3].serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedBullet3) && (serializedObj.nl_3 = serializedBullet3);
  var serializedBullet4 = nestingBullets[4].serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedBullet4) && (serializedObj.nl_4 = serializedBullet4);
  var serializedBullet5 = nestingBullets[5].serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedBullet5) && (serializedObj.nl_5 = serializedBullet5);
  var serializedBullet6 = nestingBullets[6].serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedBullet6) && (serializedObj.nl_6 = serializedBullet6);
  var serializedBullet7 = nestingBullets[7].serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedBullet7) && (serializedObj.nl_7 = serializedBullet7);
  var serializedBullet8 = nestingBullets[8].serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedBullet8) && (serializedObj.nl_8 = serializedBullet8);
  return serializedObj;
};
docs$text$protocol$NestingBullets.prototype.equalsInternal = function $docs$text$protocol$NestingBullets$$equalsInternal$(other, strategy) {
  if (!(other instanceof docs$text$protocol$NestingBullets)) {
    return !1;
  }
  var nestingBullets = this.docs_text_protocol_NestingBullets$nestingBullets_;
  if (nestingBullets.length != other.docs_text_protocol_NestingBullets$nestingBullets_.length) {
    return !1;
  }
  for (var i = 0;i < nestingBullets.length;i++) {
    if (!JSCompiler_StaticMethods_equalsWithStrategy(nestingBullets[i], other.docs_text_protocol_NestingBullets$nestingBullets_[i], strategy)) {
      return !1;
    }
  }
  return !0;
};
// Input 74
function docs$text$protocol$NullableAnnotationReference(undefinedBaseAnnotation, definedBaseAnnotation, opt_actualAnnotation, opt_isDefined) {
  goog$asserts$assert(!(opt_isDefined && !opt_actualAnnotation), "Cannot set the defined bit without an actual annotation");
  this.undefinedBaseAnnotation_ = undefinedBaseAnnotation.setImmutable();
  this.definedBaseAnnotation_ = definedBaseAnnotation.setImmutable();
  this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_ = opt_actualAnnotation || null;
  this.cachedImmutableActualAnnotation_ = null;
  this.isDefined_ = goog$isDef(opt_isDefined) ? opt_isDefined : !1;
}
function JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$hasOverriddenValues(JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$hasOverriddenValues$self) {
  return !!JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$hasOverriddenValues$self.docs_text_protocol_NullableAnnotationReference$actualAnnotation_ && JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$hasOverriddenValues$self.docs_text_protocol_NullableAnnotationReference$actualAnnotation_.docs_text_protocol_Annotation_prototype$hasOverriddenValues();
}
function JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$copyInheritedPropertiesTo(JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$copyInheritedPropertiesTo$self, destination) {
  var annotation = JSCompiler_StaticMethods_getNonNullAnnotation_(JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$copyInheritedPropertiesTo$self);
  destination.docs_text_protocol_NullableAnnotationReference$actualAnnotation_ = JSCompiler_StaticMethods_getNonNullAnnotation_(destination);
  destination.cachedImmutableActualAnnotation_ = null;
  destination.isDefined_ = !0;
  JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo(annotation, destination.docs_text_protocol_NullableAnnotationReference$actualAnnotation_);
}
docs$text$protocol$NullableAnnotationReference.prototype.update = function $docs$text$protocol$NullableAnnotationReference$$update$(value, opt_strategy) {
  opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_ && !this.isDefined_ || (value ? (this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_ = JSCompiler_StaticMethods_getNonNullAnnotation_(this), this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_.update(value, opt_strategy)) : this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_ = null, this.isDefined_ = !0, this.cachedImmutableActualAnnotation_ = null);
};
docs$text$protocol$NullableAnnotationReference.prototype.serialize = function $docs$text$protocol$NullableAnnotationReference$$serialize$(strategy, serializedObj, propertyName) {
  if (strategy.assumeNoInherit_ && !this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_) {
    throw Error("Cannot omit inherit values when the annotation is null.");
  }
  if (this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_) {
    var serializedAnnotation = this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_.serialize(strategy);
    JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedAnnotation) && (serializedObj[propertyName] = serializedAnnotation);
  } else {
    JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.isDefined_, !0) && (serializedObj[propertyName] = null);
  }
};
docs$text$protocol$NullableAnnotationReference.prototype.get = function $docs$text$protocol$NullableAnnotationReference$$get$() {
  return this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_ ? (this.cachedImmutableActualAnnotation_ || (this.cachedImmutableActualAnnotation_ = this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_.clone().setImmutable()), this.cachedImmutableActualAnnotation_) : this.isDefined_ ? this.definedBaseAnnotation_ : this.undefinedBaseAnnotation_;
};
docs$text$protocol$NullableAnnotationReference.prototype.copyTo = function $docs$text$protocol$NullableAnnotationReference$$copyTo$(other) {
  goog$asserts$assert(this.definedBaseAnnotation_.equals(other.definedBaseAnnotation_), "The undefined base annotations must be equal.");
  goog$asserts$assert(this.undefinedBaseAnnotation_.equals(other.undefinedBaseAnnotation_), "The defined base annotations must be equal.");
  other.docs_text_protocol_NullableAnnotationReference$actualAnnotation_ = this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_ ? this.docs_text_protocol_NullableAnnotationReference$actualAnnotation_.clone() : null;
  other.isDefined_ = this.isDefined_;
};
function JSCompiler_StaticMethods_getNonNullAnnotation_(JSCompiler_StaticMethods_getNonNullAnnotation_$self) {
  return JSCompiler_StaticMethods_getNonNullAnnotation_$self.docs_text_protocol_NullableAnnotationReference$actualAnnotation_ ? JSCompiler_StaticMethods_getNonNullAnnotation_$self.docs_text_protocol_NullableAnnotationReference$actualAnnotation_ : JSCompiler_StaticMethods_getNonNullAnnotation_$self.isDefined_ ? JSCompiler_StaticMethods_getNonNullAnnotation_$self.definedBaseAnnotation_.clone() : JSCompiler_StaticMethods_getNonNullAnnotation_$self.undefinedBaseAnnotation_.clone();
}
;
// Input 75
function docs$text$protocol$ListStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "list", docs$text$protocol$ListStyle$propertyNames_);
  this.textStyleRef_ = new docs$text$protocol$NullableAnnotationReference(docs$text$protocol$TextStyle$defaultAllInherit_, docs$text$protocol$TextStyle$allInherit_);
  this.docs_text_protocol_ListStyle$state_ = docs$text$protocol$ListStyle$0State_$DEFAULT_;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$ListStyle, docs$text$protocol$Style);
var docs$text$protocol$ListStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({LIST_ID:"ls_id", NESTING_LEVEL:"ls_nest", TEXT_STYLE:"ls_ts"});
function JSCompiler_StaticMethods_docs_text_protocol_ListStyle_prototype$getNestingLevel(JSCompiler_StaticMethods_docs_text_protocol_ListStyle_prototype$getNestingLevel$self) {
  return Math.min(Math.max(JSCompiler_StaticMethods_docs_text_protocol_ListStyle_prototype$getNestingLevel$self.docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$nestingLevel_, 0), 8);
}
docs$text$protocol$ListStyle.prototype.copyInheritedPropertiesToInternal = function $docs$text$protocol$ListStyle$$copyInheritedPropertiesToInternal$(destination) {
  JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$copyInheritedPropertiesTo(this.textStyleRef_, destination.textStyleRef_);
};
docs$text$protocol$ListStyle.prototype.updateInternal = function $docs$text$protocol$ListStyle$$updateInternal$(propertyMap, opt_strategy) {
  "ls_ts" in propertyMap && this.textStyleRef_.update(propertyMap.ls_ts, opt_strategy);
  var updateResult = this.docs_text_protocol_ListStyle$state_.update(propertyMap, opt_strategy);
  this.docs_text_protocol_ListStyle$state_ = updateResult.docs_text_protocol_AnnotationStateUpdateResult$state_;
  this.docs_text_protocol_Annotation$numInheritValues_ += updateResult.updateInheritDelta_;
};
docs$text$protocol$ListStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$ListStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = this.docs_text_protocol_ListStyle$state_.serialize(strategy);
  this.textStyleRef_.serialize(strategy, serializedObj, "ls_ts");
  return serializedObj;
};
docs$text$protocol$ListStyle.prototype.getValueInternal = function $docs$text$protocol$ListStyle$$getValueInternal$(propertyName) {
  return "ls_ts" == propertyName ? this.textStyleRef_.get() : this.docs_text_protocol_ListStyle$state_.getValue(propertyName);
};
docs$text$protocol$ListStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$ListStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  var JSCompiler_temp;
  if ("ls_ts" == propertyName) {
    JSCompiler_temp = this.textStyleRef_.isDefined_;
  } else {
    a: {
      var JSCompiler_StaticMethods_docs_text_protocol_ListStyle$State__prototype$isDefined$self = this.docs_text_protocol_ListStyle$state_;
      switch(propertyName) {
        case "ls_nest":
          JSCompiler_temp = JSCompiler_StaticMethods_docs_text_protocol_ListStyle$State__prototype$isDefined$self.nestingLevelDefined_;
          break a;
        case "ls_id":
          JSCompiler_temp = JSCompiler_StaticMethods_docs_text_protocol_ListStyle$State__prototype$isDefined$self.listIdDefined_;
          break a;
      }
      throw Error("Unknown annotation property name " + propertyName);
    }
  }
  return JSCompiler_temp;
};
docs$text$protocol$ListStyle.prototype.getReferencedEntityIds = function $docs$text$protocol$ListStyle$$getReferencedEntityIds$() {
  return this.docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$listId_ ? [this.docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$listId_] : [];
};
docs$text$protocol$ListStyle.prototype.clone = function $docs$text$protocol$ListStyle$$clone$() {
  var clone = new docs$text$protocol$ListStyle;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$ListStyle.prototype.copyToInternal = function $docs$text$protocol$ListStyle$$copyToInternal$(other) {
  other.docs_text_protocol_ListStyle$state_ = this.docs_text_protocol_ListStyle$state_;
  this.textStyleRef_.copyTo(other.textStyleRef_);
};
docs$text$protocol$ListStyle.prototype.isNestedAnnotation = function $docs$text$protocol$ListStyle$$isNestedAnnotation$(propertyName) {
  return "ls_ts" == propertyName;
};
docs$text$protocol$ListStyle.prototype.subsetEquals = function $docs$text$protocol$ListStyle$$subsetEquals$(propertyMap, opt_strategy) {
  if ("ls_ts" in propertyMap && !propertyMap.ls_ts) {
    var adjustedPropertyMap = goog$object$clone(propertyMap);
    adjustedPropertyMap.ls_ts = docs$text$protocol$TextStyle$allInheritMap_;
    propertyMap = adjustedPropertyMap;
  }
  return docs$text$protocol$ListStyle.superClass_.subsetEquals.call(this, propertyMap, opt_strategy);
};
docs$text$protocol$ListStyle.prototype.equalsInternal = function $docs$text$protocol$ListStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$ListStyle) || strategy.compareDefined_ && this.textStyleRef_.isDefined_ != other.textStyleRef_.isDefined_ ? !1 : this.docs_text_protocol_ListStyle$state_.equals(other.docs_text_protocol_ListStyle$state_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.textStyleRef_.get(), other.textStyleRef_.get(), strategy);
};
function docs$text$protocol$ListStyle$createWithTextStyle(textStyle) {
  var listStyle = new docs$text$protocol$ListStyle;
  listStyle.textStyleRef_ = new docs$text$protocol$NullableAnnotationReference(docs$text$protocol$TextStyle$defaultAllInherit_, docs$text$protocol$TextStyle$allInherit_, textStyle, !0);
  return listStyle;
}
function docs$text$protocol$ListStyle$0State_(listId, listIdDefined, nestingLevel, nestingLevelDefined) {
  this.docs_text_protocol_ListStyle$State_$listId_ = listId;
  this.listIdDefined_ = listIdDefined;
  this.docs_text_protocol_ListStyle$State_$nestingLevel_ = nestingLevel;
  this.nestingLevelDefined_ = nestingLevelDefined;
}
docs$text$protocol$ListStyle$0State_.prototype.update = function $docs$text$protocol$ListStyle$0State_$$update$(propertyMap, opt_strategy) {
  var listId = this.docs_text_protocol_ListStyle$State_$listId_, listIdDefined = this.listIdDefined_, nestingLevel = this.docs_text_protocol_ListStyle$State_$nestingLevel_, nestingLevelDefined = this.nestingLevelDefined_, requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("ls_id" in propertyMap) {
    var value = propertyMap.ls_id;
    if (!requireDefined || listIdDefined) {
      listIdDefined = !0, listId = value;
    }
  }
  "ls_nest" in propertyMap && (value = propertyMap.ls_nest, !requireDefined || nestingLevelDefined) && (nestingLevelDefined = !0, nestingLevel = value);
  return new docs$text$protocol$AnnotationStateUpdateResult(new docs$text$protocol$ListStyle$0State_(listId, listIdDefined, nestingLevel, nestingLevelDefined), 0);
};
docs$text$protocol$ListStyle$0State_.prototype.serialize = function $docs$text$protocol$ListStyle$0State_$$serialize$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.nestingLevelDefined_) {
    serializedObj.ls_nest = this.docs_text_protocol_ListStyle$State_$nestingLevel_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.listIdDefined_) {
    serializedObj.ls_id = this.docs_text_protocol_ListStyle$State_$listId_;
  }
  return serializedObj;
};
docs$text$protocol$ListStyle$0State_.prototype.getValue = function $docs$text$protocol$ListStyle$0State_$$getValue$(propertyName) {
  switch(propertyName) {
    case "ls_nest":
      return this.docs_text_protocol_ListStyle$State_$nestingLevel_;
    case "ls_id":
      return this.docs_text_protocol_ListStyle$State_$listId_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ListStyle$0State_.prototype.equals = function $docs$text$protocol$ListStyle$0State_$$equals$(other, strategy) {
  return other == this ? !0 : !strategy.compareDefined_ || this.nestingLevelDefined_ == other.nestingLevelDefined_ && this.listIdDefined_ == other.listIdDefined_ ? this.docs_text_protocol_ListStyle$State_$nestingLevel_ == other.docs_text_protocol_ListStyle$State_$nestingLevel_ && this.docs_text_protocol_ListStyle$State_$listId_ == other.docs_text_protocol_ListStyle$State_$listId_ : !1;
};
var docs$text$protocol$ListStyle$0State_$DEFAULT_ = new docs$text$protocol$ListStyle$0State_(null, !1, 0, !1), docs$text$protocol$ListStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("list", function() {
  return new docs$text$protocol$ListStyle;
}, function() {
  return docs$text$protocol$ListStyle$propertyNames_;
});
// Input 76
function docs$text$protocol$LocaleStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "language", docs$text$protocol$LocaleStyle$propertyNames_);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$LocaleStyle, docs$text$protocol$Style);
var docs$text$protocol$LocaleStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({LOCALE:"lgs_l"});
docs$text$protocol$LocaleStyle.prototype.docs_text_protocol_LocaleStyle_prototype$locale_ = null;
docs$text$protocol$LocaleStyle.prototype.docs_text_protocol_LocaleStyle_prototype$localeDefined_ = !1;
docs$text$protocol$LocaleStyle.prototype.updateInternal = function $docs$text$protocol$LocaleStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  "lgs_l" in propertyMap && (!requireDefined || this.docs_text_protocol_LocaleStyle_prototype$localeDefined_) && (this.docs_text_protocol_LocaleStyle_prototype$localeDefined_ = !0, this.docs_text_protocol_LocaleStyle_prototype$locale_ = propertyMap.lgs_l);
};
docs$text$protocol$LocaleStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$LocaleStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_LocaleStyle_prototype$localeDefined_) {
    serializedObj.lgs_l = this.docs_text_protocol_LocaleStyle_prototype$locale_;
  }
  return serializedObj;
};
docs$text$protocol$LocaleStyle.prototype.getValueInternal = function $docs$text$protocol$LocaleStyle$$getValueInternal$(propertyName) {
  if ("lgs_l" == propertyName) {
    return this.docs_text_protocol_LocaleStyle_prototype$locale_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$LocaleStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$LocaleStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  if ("lgs_l" == propertyName) {
    return this.docs_text_protocol_LocaleStyle_prototype$localeDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$LocaleStyle.prototype.equalsInternal = function $docs$text$protocol$LocaleStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$LocaleStyle) || strategy.compareDefined_ && this.docs_text_protocol_LocaleStyle_prototype$localeDefined_ != other.docs_text_protocol_LocaleStyle_prototype$localeDefined_ ? !1 : this.docs_text_protocol_LocaleStyle_prototype$locale_ == other.docs_text_protocol_LocaleStyle_prototype$locale_;
};
docs$text$protocol$LocaleStyle.prototype.clone = function $docs$text$protocol$LocaleStyle$$clone$() {
  var localeStyle = new docs$text$protocol$LocaleStyle;
  this.copyTo(localeStyle);
  return localeStyle;
};
docs$text$protocol$LocaleStyle.prototype.copyToInternal = function $docs$text$protocol$LocaleStyle$$copyToInternal$(other) {
  other.docs_text_protocol_LocaleStyle_prototype$locale_ = this.docs_text_protocol_LocaleStyle_prototype$locale_;
  other.docs_text_protocol_LocaleStyle_prototype$localeDefined_ = this.docs_text_protocol_LocaleStyle_prototype$localeDefined_;
};
var docs$text$protocol$LocaleStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("language", function() {
  return new docs$text$protocol$LocaleStyle;
}, function() {
  return docs$text$protocol$LocaleStyle$propertyNames_;
});
// Input 77
function docs$text$protocol$NamedRangeStyle(opt_propertyMap) {
  docs$text$protocol$StringCollectionStyle.call(this, "nrs_ei", "named_range", docs$text$protocol$NamedRangeStyle$PROPERTY_NAMES_, opt_propertyMap);
}
goog$inherits(docs$text$protocol$NamedRangeStyle, docs$text$protocol$StringCollectionStyle);
var docs$text$protocol$NamedRangeStyle$PROPERTY_NAMES_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({ENTITY_IDS:"nrs_ei"});
docs$text$protocol$NamedRangeStyle.prototype.getReferencedEntityIds = function $docs$text$protocol$NamedRangeStyle$$getReferencedEntityIds$() {
  return this.strings_.getValues();
};
docs$text$protocol$NamedRangeStyle.prototype.clone = function $docs$text$protocol$NamedRangeStyle$$clone$() {
  var clonedStyle = new docs$text$protocol$NamedRangeStyle;
  this.copyTo(clonedStyle);
  return clonedStyle;
};
var docs$text$protocol$NamedRangeStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("named_range", function() {
  return new docs$text$protocol$NamedRangeStyle;
}, function() {
  return docs$text$protocol$NamedRangeStyle$PROPERTY_NAMES_;
});
// Input 78
function docs$text$protocol$RevisionDiffStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "revision_diff", docs$text$protocol$RevisionDiffStyle$propertyNames_);
  this.diffType_ = 0;
  this.diffTypeDefined_ = !1;
  this.author_ = "";
  this.authorDefined_ = !1;
  this.authorId_ = "";
  this.authorIdDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$RevisionDiffStyle, docs$text$protocol$Style);
var docs$text$protocol$RevisionDiffStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({DIFF_TYPE:"revdiff_dt", AUTHOR:"revdiff_a", AUTHOR_ID:"revdiff_aid"});
docs$text$protocol$RevisionDiffStyle.prototype.updateInternal = function $docs$text$protocol$RevisionDiffStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("revdiff_dt" in propertyMap) {
    var value = propertyMap.revdiff_dt;
    if (!requireDefined || this.diffTypeDefined_) {
      this.diffTypeDefined_ = !0, this.diffType_ = null != value ? value : 0;
    }
  }
  "revdiff_a" in propertyMap && (value = propertyMap.revdiff_a, !requireDefined || this.authorDefined_) && (this.authorDefined_ = !0, this.author_ = value);
  "revdiff_aid" in propertyMap && (value = propertyMap.revdiff_aid, !requireDefined || this.authorIdDefined_) && (this.authorIdDefined_ = !0, this.authorId_ = value);
};
docs$text$protocol$RevisionDiffStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$RevisionDiffStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.diffTypeDefined_) {
    serializedObject.revdiff_dt = this.diffType_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.authorDefined_) {
    serializedObject.revdiff_a = this.author_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.authorIdDefined_) {
    serializedObject.revdiff_aid = this.authorId_;
  }
  return serializedObject;
};
docs$text$protocol$RevisionDiffStyle.prototype.getValueInternal = function $docs$text$protocol$RevisionDiffStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "revdiff_dt":
      return this.diffType_;
    case "revdiff_a":
      return this.author_;
    case "revdiff_aid":
      return this.authorId_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$RevisionDiffStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$RevisionDiffStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "revdiff_dt":
      return this.diffTypeDefined_;
    case "revdiff_a":
      return this.authorDefined_;
    case "revdiff_aid":
      return this.authorIdDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$RevisionDiffStyle.prototype.equalsInternal = function $docs$text$protocol$RevisionDiffStyle$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$RevisionDiffStyle && (!strategy.compareDefined_ || this.diffTypeDefined_ == other.diffTypeDefined_ && this.authorDefined_ == other.authorDefined_ && this.authorIdDefined_ == other.authorIdDefined_) ? this.diffType_ == other.diffType_ && this.author_ == other.author_ && this.authorId_ == other.authorId_ : !1;
};
docs$text$protocol$RevisionDiffStyle.prototype.clone = function $docs$text$protocol$RevisionDiffStyle$$clone$() {
  var clone = new docs$text$protocol$RevisionDiffStyle;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$RevisionDiffStyle.prototype.copyToInternal = function $docs$text$protocol$RevisionDiffStyle$$copyToInternal$(other) {
  other.diffType_ = this.diffType_;
  other.diffTypeDefined_ = this.diffTypeDefined_;
  other.author_ = this.author_;
  other.authorDefined_ = this.authorDefined_;
  other.authorId_ = this.authorId_;
  other.authorIdDefined_ = this.authorIdDefined_;
};
var docs$text$protocol$RevisionDiffStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("revision_diff", function() {
  return new docs$text$protocol$RevisionDiffStyle;
}, function() {
  return docs$text$protocol$RevisionDiffStyle$propertyNames_;
});
// Input 79
function docs$text$protocol$RowStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "row", docs$text$protocol$RowStyle$propertyNames_);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$RowStyle, docs$text$protocol$Style);
var docs$text$protocol$RowStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({MIN_HEIGHT:"row_mh"});
docs$text$protocol$RowStyle.prototype.minHeight_ = 0;
docs$text$protocol$RowStyle.prototype.minHeightDefined_ = !1;
docs$text$protocol$RowStyle.prototype.updateInternal = function $docs$text$protocol$RowStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("row_mh" in propertyMap) {
    var value = propertyMap.row_mh;
    if (!requireDefined || this.minHeightDefined_) {
      this.minHeightDefined_ = !0, this.minHeight_ = value;
    }
  }
};
docs$text$protocol$RowStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$RowStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var propertyMap = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.minHeightDefined_) {
    propertyMap.row_mh = this.minHeight_;
  }
  return propertyMap;
};
docs$text$protocol$RowStyle.prototype.getValueInternal = function $docs$text$protocol$RowStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "row_mh":
      return this.minHeight_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$RowStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$RowStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "row_mh":
      return this.minHeightDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$RowStyle.prototype.equalsInternal = function $docs$text$protocol$RowStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$RowStyle) || strategy.compareDefined_ && this.minHeightDefined_ != other.minHeightDefined_ ? !1 : this.minHeight_ == other.minHeight_;
};
docs$text$protocol$RowStyle.prototype.clone = function $docs$text$protocol$RowStyle$$clone$() {
  var rowStyle = new docs$text$protocol$RowStyle;
  this.copyTo(rowStyle);
  return rowStyle;
};
docs$text$protocol$RowStyle.prototype.copyToInternal = function $docs$text$protocol$RowStyle$$copyToInternal$(other) {
  other.minHeight_ = this.minHeight_;
  other.minHeightDefined_ = this.minHeightDefined_;
};
var docs$text$protocol$RowStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("row", function() {
  return new docs$text$protocol$RowStyle;
}, function() {
  return docs$text$protocol$RowStyle$propertyNames_;
});
// Input 80
var goog$labs$userAgent$util$userAgent_;
a: {
  var navigator$jscomp$inline_341 = goog$global.navigator;
  if (navigator$jscomp$inline_341) {
    var userAgent$jscomp$inline_342 = navigator$jscomp$inline_341.userAgent;
    if (userAgent$jscomp$inline_342) {
      goog$labs$userAgent$util$userAgent_ = userAgent$jscomp$inline_342;
      break a;
    }
  }
  goog$labs$userAgent$util$userAgent_ = "";
}
function goog$labs$userAgent$util$matchUserAgent(str) {
  return -1 != goog$labs$userAgent$util$userAgent_.indexOf(str);
}
;
// Input 81
function goog$labs$userAgent$browser$matchChrome_() {
  return (goog$labs$userAgent$util$matchUserAgent("Chrome") || goog$labs$userAgent$util$matchUserAgent("CriOS")) && !goog$labs$userAgent$util$matchUserAgent("Edge");
}
;
// Input 82
function goog$labs$userAgent$platform$isIphone() {
  return goog$labs$userAgent$util$matchUserAgent("iPhone") && !goog$labs$userAgent$util$matchUserAgent("iPod") && !goog$labs$userAgent$util$matchUserAgent("iPad");
}
;
// Input 83
// Input 84
function goog$reflect$cache(valueFn) {
  var cacheObj = goog$userAgent$isVersionOrHigherCache_;
  Object.prototype.hasOwnProperty.call(cacheObj, "528") || (cacheObj["528"] = valueFn("528"));
}
;
// Input 85
goog$labs$userAgent$util$matchUserAgent("Mobile");
goog$labs$userAgent$util$matchUserAgent("Macintosh");
goog$labs$userAgent$util$matchUserAgent("Windows");
goog$labs$userAgent$util$matchUserAgent("Linux") || goog$labs$userAgent$util$matchUserAgent("CrOS");
var navigator$jscomp$inline_344 = goog$global.navigator || null;
navigator$jscomp$inline_344 && (navigator$jscomp$inline_344.appVersion || "").indexOf("X11");
goog$labs$userAgent$util$matchUserAgent("Android");
goog$labs$userAgent$platform$isIphone();
goog$labs$userAgent$util$matchUserAgent("iPad");
goog$labs$userAgent$util$matchUserAgent("iPod");
goog$labs$userAgent$platform$isIphone() || goog$labs$userAgent$util$matchUserAgent("iPad") || goog$labs$userAgent$util$matchUserAgent("iPod");
var version$jscomp$inline_346 = "", arr$jscomp$inline_347 = /WebKit\/(\S+)/.exec(goog$labs$userAgent$util$userAgent_);
arr$jscomp$inline_347 && (version$jscomp$inline_346 = arr$jscomp$inline_347 ? arr$jscomp$inline_347[1] : "");
var goog$userAgent$VERSION = version$jscomp$inline_346, goog$userAgent$isVersionOrHigherCache_ = {};
function goog$userAgent$isVersionOrHigher() {
  goog$reflect$cache(function() {
    for (var order = 0, v1Subs = goog$string$trim(String(goog$userAgent$VERSION)).split("."), v2Subs = goog$string$trim("528").split("."), subCount = Math.max(v1Subs.length, v2Subs.length), subIdx = 0;0 == order && subIdx < subCount;subIdx++) {
      var v1Sub = v1Subs[subIdx] || "", v2Sub = v2Subs[subIdx] || "";
      do {
        var v1Comp = /(\d*)(\D*)(.*)/.exec(v1Sub) || ["", "", "", ""], v2Comp = /(\d*)(\D*)(.*)/.exec(v2Sub) || ["", "", "", ""];
        if (0 == v1Comp[0].length && 0 == v2Comp[0].length) {
          break;
        }
        order = goog$string$compareElements_(0 == v1Comp[1].length ? 0 : parseInt(v1Comp[1], 10), 0 == v2Comp[1].length ? 0 : parseInt(v2Comp[1], 10)) || goog$string$compareElements_(0 == v1Comp[2].length, 0 == v2Comp[2].length) || goog$string$compareElements_(v1Comp[2], v2Comp[2]);
        v1Sub = v1Comp[3];
        v2Sub = v2Comp[3];
      } while (0 == order);
    }
    return 0 <= order;
  });
}
;
// Input 86
goog$labs$userAgent$util$matchUserAgent("Firefox");
goog$labs$userAgent$platform$isIphone() || goog$labs$userAgent$util$matchUserAgent("iPod");
goog$labs$userAgent$util$matchUserAgent("iPad");
!goog$labs$userAgent$util$matchUserAgent("Android") || goog$labs$userAgent$browser$matchChrome_() || goog$labs$userAgent$util$matchUserAgent("Firefox") || goog$labs$userAgent$util$matchUserAgent("Opera") || goog$labs$userAgent$util$matchUserAgent("Silk");
var goog$userAgent$product$CHROME = goog$labs$userAgent$browser$matchChrome_(), goog$userAgent$product$SAFARI = goog$labs$userAgent$util$matchUserAgent("Safari") && !(goog$labs$userAgent$browser$matchChrome_() || goog$labs$userAgent$util$matchUserAgent("Coast") || goog$labs$userAgent$util$matchUserAgent("Opera") || goog$labs$userAgent$util$matchUserAgent("Edge") || goog$labs$userAgent$util$matchUserAgent("Silk") || goog$labs$userAgent$util$matchUserAgent("Android")) && !(goog$labs$userAgent$platform$isIphone() || 
goog$labs$userAgent$util$matchUserAgent("iPad") || goog$labs$userAgent$util$matchUserAgent("iPod"));
// Input 87
// Input 88
var goog$crypt$base64$byteToCharMap_ = null;
// Input 89
// Input 90
// Input 91
// Input 92
// Input 93
// Input 94
// Input 95
// Input 96
function goog$json$isValid(s) {
  return /^\s*$/.test(s) ? !1 : /^[\],:{}\s\u2028\u2029]*$/.test(s.replace(/\\["\\\/bfnrtu]/g, "@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g, "]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g, ""));
}
function goog$json$parse(s) {
  var o = String(s);
  if (goog$json$isValid(o)) {
    try {
      return eval("(" + o + ")");
    } catch (ex) {
    }
  }
  throw Error("Invalid JSON string: " + o);
}
function goog$json$serialize(object, opt_replacer) {
  return (new goog$json$Serializer(opt_replacer)).serialize(object);
}
function goog$json$Serializer(opt_replacer) {
  this.replacer_ = opt_replacer;
}
goog$json$Serializer.prototype.serialize = function $goog$json$Serializer$$serialize$(object) {
  var sb = [];
  JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal(this, object, sb);
  return sb.join("");
};
function JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal(JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal$self, object, sb) {
  if (null == object) {
    sb.push("null");
  } else {
    if ("object" == typeof object) {
      if (goog$isArray(object)) {
        var arr = object, l = arr.length;
        sb.push("[");
        for (var sep = "", i = 0;i < l;i++) {
          sb.push(sep);
          var value = arr[i];
          JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal(JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal$self, JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal$self.replacer_ ? JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal$self.replacer_.call(arr, String(i), value) : value, sb);
          sep = ",";
        }
        sb.push("]");
        return;
      }
      if (object instanceof String || object instanceof Number || object instanceof Boolean) {
        object = object.valueOf();
      } else {
        var obj = object;
        sb.push("{");
        var sep$jscomp$0 = "", key;
        for (key in obj) {
          if (Object.prototype.hasOwnProperty.call(obj, key)) {
            var value$jscomp$0 = obj[key];
            "function" != typeof value$jscomp$0 && (sb.push(sep$jscomp$0), JSCompiler_StaticMethods_serializeString_(key, sb), sb.push(":"), JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal(JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal$self, JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal$self.replacer_ ? JSCompiler_StaticMethods_goog_json_Serializer_prototype$serializeInternal$self.replacer_.call(obj, key, value$jscomp$0) : 
            value$jscomp$0, sb), sep$jscomp$0 = ",");
          }
        }
        sb.push("}");
        return;
      }
    }
    switch(typeof object) {
      case "string":
        JSCompiler_StaticMethods_serializeString_(object, sb);
        break;
      case "number":
        sb.push(isFinite(object) && !isNaN(object) ? String(object) : "null");
        break;
      case "boolean":
        sb.push(String(object));
        break;
      case "function":
        sb.push("null");
        break;
      default:
        throw Error("Unknown type: " + typeof object);
    }
  }
}
var goog$json$Serializer$charToJsonCharCache_ = {'"':'\\"', "\\":"\\\\", "/":"\\/", "\b":"\\b", "\f":"\\f", "\n":"\\n", "\r":"\\r", "\t":"\\t", "\x0B":"\\u000b"}, goog$json$Serializer$charsToReplace_ = /\uffff/.test("\uffff") ? /[\\\"\x00-\x1f\x7f-\uffff]/g : /[\\\"\x00-\x1f\x7f-\xff]/g;
function JSCompiler_StaticMethods_serializeString_(s, sb) {
  sb.push('"', s.replace(goog$json$Serializer$charsToReplace_, function(c) {
    var rv = goog$json$Serializer$charToJsonCharCache_[c];
    rv || (rv = "\\u" + (c.charCodeAt(0) | 65536).toString(16).substr(1), goog$json$Serializer$charToJsonCharCache_[c] = rv);
    return rv;
  }), '"');
}
;
// Input 97
// Input 98
function jspb$ExtensionFieldInfo(fieldNumber, fieldName, ctor, toObjectFn) {
  this.fieldIndex = fieldNumber;
  this.fieldName = fieldName;
  this.ctor = ctor;
  this.toObjectFn = toObjectFn;
  this.isRepeated = 0;
}
function jspb$Message() {
}
var jspb$Message$SUPPORTS_UINT8ARRAY_ = "function" == typeof Uint8Array;
function jspb$Message$initialize(msg, data, suggestedPivot, repeatedFields) {
  msg.wrappers_ = null;
  data || (data = []);
  msg.messageId_ = void 0;
  msg.arrayIndexOffset_ = -1;
  msg.array = data;
  a: {
    if (msg.array.length) {
      var foundIndex = msg.array.length - 1, obj = msg.array[foundIndex];
      if (obj && "object" == typeof obj && !goog$isArray(obj) && !(jspb$Message$SUPPORTS_UINT8ARRAY_ && obj instanceof Uint8Array)) {
        msg.pivot_ = foundIndex - msg.arrayIndexOffset_;
        msg.extensionObject_ = obj;
        break a;
      }
    }
    -1 < suggestedPivot ? (msg.pivot_ = suggestedPivot, msg.extensionObject_ = null) : msg.pivot_ = Number.MAX_VALUE;
  }
  msg.convertedFloatingPointFields_ = {};
  if (repeatedFields) {
    for (var i = 0;i < repeatedFields.length;i++) {
      var fieldNumber = repeatedFields[i];
      if (fieldNumber < msg.pivot_) {
        var index = fieldNumber + msg.arrayIndexOffset_;
        msg.array[index] = msg.array[index] || jspb$Message$EMPTY_LIST_SENTINEL_;
      } else {
        msg.extensionObject_[fieldNumber] = msg.extensionObject_[fieldNumber] || jspb$Message$EMPTY_LIST_SENTINEL_;
      }
    }
  }
}
var jspb$Message$EMPTY_LIST_SENTINEL_ = Object.freeze ? Object.freeze([]) : [];
function jspb$Message$toObjectList(field, toObjectFn, opt_includeInstance) {
  for (var result = [], i = 0;i < field.length;i++) {
    result[i] = toObjectFn.call(field[i], opt_includeInstance, field[i]);
  }
  return result;
}
function jspb$Message$getField(msg, fieldNumber) {
  if (fieldNumber < msg.pivot_) {
    var index = fieldNumber + msg.arrayIndexOffset_, val = msg.array[index];
    return val === jspb$Message$EMPTY_LIST_SENTINEL_ ? msg.array[index] = [] : val;
  }
  val = msg.extensionObject_[fieldNumber];
  return val === jspb$Message$EMPTY_LIST_SENTINEL_ ? msg.extensionObject_[fieldNumber] = [] : val;
}
function jspb$Message$setField(msg, fieldNumber, value) {
  fieldNumber < msg.pivot_ ? msg.array[fieldNumber + msg.arrayIndexOffset_] = value : msg.extensionObject_[fieldNumber] = value;
}
function jspb$Message$getWrapperField(msg, ctor) {
  msg.wrappers_ || (msg.wrappers_ = {});
  if (!msg.wrappers_[2]) {
    var data = jspb$Message$getField(msg, 2);
    data && (msg.wrappers_[2] = new ctor(data));
  }
  return msg.wrappers_[2];
}
function jspb$Message$setWrapperField(msg, fieldNumber, value) {
  msg.wrappers_ || (msg.wrappers_ = {});
  var data = value ? JSCompiler_StaticMethods_toArray(value) : value;
  msg.wrappers_[fieldNumber] = value;
  jspb$Message$setField(msg, fieldNumber, data);
}
function JSCompiler_StaticMethods_syncMapFields_(JSCompiler_StaticMethods_syncMapFields_$self) {
  if (JSCompiler_StaticMethods_syncMapFields_$self.wrappers_) {
    for (var fieldNumber in JSCompiler_StaticMethods_syncMapFields_$self.wrappers_) {
      var val = JSCompiler_StaticMethods_syncMapFields_$self.wrappers_[fieldNumber];
      if (goog$isArray(val)) {
        for (var i = 0;i < val.length;i++) {
          val[i] && JSCompiler_StaticMethods_toArray(val[i]);
        }
      } else {
        val && JSCompiler_StaticMethods_toArray(val);
      }
    }
  }
}
function JSCompiler_StaticMethods_toArray(JSCompiler_StaticMethods_toArray$self) {
  JSCompiler_StaticMethods_syncMapFields_(JSCompiler_StaticMethods_toArray$self);
  return JSCompiler_StaticMethods_toArray$self.array;
}
var jspb$Message$NATIVE_STRINGIFY_ = goog$global.JSON && goog$global.JSON.stringify || "object" === typeof JSON && JSON.stringify;
jspb$Message.prototype.serialize = jspb$Message$SUPPORTS_UINT8ARRAY_ ? function() {
  goog$asserts$assert(jspb$Message$NATIVE_STRINGIFY_);
  var old_toJSON = Uint8Array.prototype.toJSON;
  Uint8Array.prototype.toJSON = function $Uint8Array$$toJSON$() {
    goog$asserts$assert(goog$isArrayLike(this), "encodeByteArray takes an array as a parameter");
    if (!goog$crypt$base64$byteToCharMap_) {
      goog$crypt$base64$byteToCharMap_ = {};
      for (var i = 0;65 > i;i++) {
        goog$crypt$base64$byteToCharMap_[i] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i);
      }
    }
    for (var byteToCharMap = goog$crypt$base64$byteToCharMap_, output = [], i$jscomp$0 = 0;i$jscomp$0 < this.length;i$jscomp$0 += 3) {
      var byte1 = this[i$jscomp$0], haveByte2 = i$jscomp$0 + 1 < this.length, byte2 = haveByte2 ? this[i$jscomp$0 + 1] : 0, haveByte3 = i$jscomp$0 + 2 < this.length, byte3 = haveByte3 ? this[i$jscomp$0 + 2] : 0, outByte1 = byte1 >> 2, outByte2 = (byte1 & 3) << 4 | byte2 >> 4, outByte3 = (byte2 & 15) << 2 | byte3 >> 6, outByte4 = byte3 & 63;
      haveByte3 || (outByte4 = 64, haveByte2 || (outByte3 = 64));
      output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);
    }
    return output.join("");
  };
  try {
    var result = jspb$Message$NATIVE_STRINGIFY_.call(null, JSCompiler_StaticMethods_toArray(this), jspb$Message$serializeSpecialNumbers_);
  } finally {
    Uint8Array.prototype.toJSON = old_toJSON;
  }
  return result;
} : jspb$Message$NATIVE_STRINGIFY_ ? function() {
  return jspb$Message$NATIVE_STRINGIFY_.call(null, JSCompiler_StaticMethods_toArray(this), jspb$Message$serializeSpecialNumbers_);
} : function() {
  return goog$json$serialize(JSCompiler_StaticMethods_toArray(this), jspb$Message$serializeSpecialNumbers_);
};
function jspb$Message$serializeSpecialNumbers_(key, value) {
  if (goog$isNumber(value)) {
    if (isNaN(value)) {
      return "NaN";
    }
    if (Infinity === value) {
      return "Infinity";
    }
    if (-Infinity === value) {
      return "-Infinity";
    }
  }
  return value;
}
jspb$Message.prototype.toString = function $jspb$Message$$toString$() {
  JSCompiler_StaticMethods_syncMapFields_(this);
  return this.array.toString();
};
jspb$Message.prototype.jspb_Message_prototype$getExtension = function $jspb$Message$$jspb_Message_prototype$getExtension$(fieldInfo) {
  if (this.extensionObject_) {
    this.wrappers_ || (this.wrappers_ = {});
    var fieldNumber = fieldInfo.fieldIndex;
    return fieldInfo.ctor ? (!this.wrappers_[fieldNumber] && this.extensionObject_[fieldNumber] && (this.wrappers_[fieldNumber] = new fieldInfo.ctor(this.extensionObject_[fieldNumber])), this.wrappers_[fieldNumber]) : this.extensionObject_[fieldNumber];
  }
};
jspb$Message.prototype.setExtension = function $jspb$Message$$setExtension$(fieldInfo, value) {
  this.wrappers_ || (this.wrappers_ = {});
  var pivotIndex = this.pivot_ + this.arrayIndexOffset_;
  this.array[pivotIndex] || (this.extensionObject_ = this.array[pivotIndex] = {});
  var fieldNumber = fieldInfo.fieldIndex;
  fieldInfo.ctor ? (this.wrappers_[fieldNumber] = value, this.extensionObject_[fieldNumber] = value ? JSCompiler_StaticMethods_toArray(value) : value) : this.extensionObject_[fieldNumber] = value;
};
jspb$Message.prototype.clone = function $jspb$Message$$clone$() {
  return new this.constructor(jspb$Message$clone_(JSCompiler_StaticMethods_toArray(this)));
};
function jspb$Message$clone_(obj) {
  var o;
  if (goog$isArray(obj)) {
    for (var clonedArray = Array(obj.length), i = 0;i < obj.length;i++) {
      null != (o = obj[i]) && (clonedArray[i] = "object" == typeof o ? jspb$Message$clone_(o) : o);
    }
    return clonedArray;
  }
  if (jspb$Message$SUPPORTS_UINT8ARRAY_ && obj instanceof Uint8Array) {
    return new Uint8Array(obj);
  }
  var clone = {}, key;
  for (key in obj) {
    null != (o = obj[key]) && (clone[key] = "object" == typeof o ? jspb$Message$clone_(o) : o);
  }
  return clone;
}
;
// Input 99
// Input 100
function docs$text$protocol$SmartTodoHeuristicIdentifier(propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$SmartTodoHeuristicIdentifier$propertyNames_);
  this.actionVerb_ = 0;
  this.actionVerbDefined_ = !1;
  this.actionPrefix_ = 0;
  this.actionPrefixDefined_ = !1;
  this.saftRule_ = 0;
  this.saftRuleDefined_ = !1;
  this.update(propertyMap);
}
goog$inherits(docs$text$protocol$SmartTodoHeuristicIdentifier, docs$text$protocol$Annotation);
var docs$text$protocol$SmartTodoHeuristicIdentifier$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({ACTION_VERB:"sthi_av", ACTION_PREFIX:"sthi_ap", SAFT_RULE:"sthi_sr"});
docs$text$protocol$SmartTodoHeuristicIdentifier.prototype.updateInternal = function $docs$text$protocol$SmartTodoHeuristicIdentifier$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("sthi_av" in propertyMap) {
    var value = propertyMap.sthi_av;
    if (!requireDefined || this.actionVerbDefined_) {
      this.actionVerbDefined_ = !0, this.actionVerb_ = value;
    }
  }
  "sthi_ap" in propertyMap && (value = propertyMap.sthi_ap, !requireDefined || this.actionPrefixDefined_) && (this.actionPrefixDefined_ = !0, this.actionPrefix_ = value);
  "sthi_sr" in propertyMap && (value = propertyMap.sthi_sr, !requireDefined || this.saftRuleDefined_) && (this.saftRuleDefined_ = !0, this.saftRule_ = value);
};
docs$text$protocol$SmartTodoHeuristicIdentifier.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$SmartTodoHeuristicIdentifier$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.actionVerbDefined_) {
    serializedObj.sthi_av = this.actionVerb_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.actionPrefixDefined_) {
    serializedObj.sthi_ap = this.actionPrefix_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.saftRuleDefined_) {
    serializedObj.sthi_sr = this.saftRule_;
  }
  return serializedObj;
};
docs$text$protocol$SmartTodoHeuristicIdentifier.prototype.getValueInternal = function $docs$text$protocol$SmartTodoHeuristicIdentifier$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "sthi_av":
      return this.actionVerb_;
    case "sthi_ap":
      return this.actionPrefix_;
    case "sthi_sr":
      return this.saftRule_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$SmartTodoHeuristicIdentifier.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$SmartTodoHeuristicIdentifier$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "sthi_av":
      return this.actionVerbDefined_;
    case "sthi_ap":
      return this.actionPrefixDefined_;
    case "sthi_sr":
      return this.saftRuleDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$SmartTodoHeuristicIdentifier.prototype.equalsInternal = function $docs$text$protocol$SmartTodoHeuristicIdentifier$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$SmartTodoHeuristicIdentifier && (!strategy.compareDefined_ || this.actionVerbDefined_ == other.actionVerbDefined_ && this.actionPrefixDefined_ == other.actionPrefixDefined_ && this.saftRuleDefined_ == other.saftRuleDefined_) ? this.actionVerb_ == other.actionVerb_ && this.actionPrefix_ == other.actionPrefix_ && this.saftRule_ == other.saftRule_ : !1;
};
docs$text$protocol$SmartTodoHeuristicIdentifier.prototype.clone = function $docs$text$protocol$SmartTodoHeuristicIdentifier$$clone$() {
  var clone = new docs$text$protocol$SmartTodoHeuristicIdentifier({});
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$SmartTodoHeuristicIdentifier.prototype.copyToInternal = function $docs$text$protocol$SmartTodoHeuristicIdentifier$$copyToInternal$(other) {
  other.actionVerb_ = this.actionVerb_;
  other.actionVerbDefined_ = this.actionVerbDefined_;
  other.actionPrefix_ = this.actionPrefix_;
  other.actionPrefixDefined_ = this.actionPrefixDefined_;
  other.saftRule_ = this.saftRule_;
  other.saftRuleDefined_ = this.saftRuleDefined_;
};
function docs$text$protocol$SmartTodoHeuristicIdentifier$create(propertyMap) {
  return new docs$text$protocol$SmartTodoHeuristicIdentifier(propertyMap);
}
;
// Input 101
function docs$text$protocol$SmartTodoStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "smart_todo", docs$text$protocol$SmartTodoStyle$propertyNames_);
  this.commentId_ = null;
  this.commentIdDefined_ = !1;
  this.originalText_ = null;
  this.originalTextDefined_ = !1;
  this.heuristicIdentifiers_ = new docs$text$protocol$Collection(new docs$text$protocol$AnnotationCollectionStrategy(docs$text$protocol$SmartTodoHeuristicIdentifier$create));
  this.potentialAssignees_ = new docs$text$protocol$Collection(new docs$text$protocol$StringCollectionStrategy);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$SmartTodoStyle, docs$text$protocol$Style);
var docs$text$protocol$SmartTodoStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COMMENT_ID:"sts_cid", ORIGINAL_TEXT:"sts_ot", HEURISTIC_IDENTIFIERS:"sts_hi", POTENTIAL_ASSIGNEES:"sts_pa"});
docs$text$protocol$SmartTodoStyle.prototype.updateInternal = function $docs$text$protocol$SmartTodoStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("sts_cid" in propertyMap) {
    var value = propertyMap.sts_cid;
    if (!requireDefined || this.commentIdDefined_) {
      this.commentIdDefined_ = !0, this.commentId_ = value;
    }
  }
  "sts_ot" in propertyMap && (value = propertyMap.sts_ot, !requireDefined || this.originalTextDefined_) && (this.originalTextDefined_ = !0, this.originalText_ = value);
  "sts_hi" in propertyMap && (value = propertyMap.sts_hi, this.heuristicIdentifiers_.update(value, opt_strategy));
  "sts_pa" in propertyMap && (value = propertyMap.sts_pa, this.potentialAssignees_.update(value, opt_strategy));
};
docs$text$protocol$SmartTodoStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$SmartTodoStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.commentIdDefined_) {
    serializedObj.sts_cid = this.commentId_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.originalTextDefined_) {
    serializedObj.sts_ot = this.originalText_;
  }
  var serializedHeuristicNames = this.heuristicIdentifiers_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedHeuristicNames) && (serializedObj.sts_hi = serializedHeuristicNames);
  var serializedPotentialAssignees = this.potentialAssignees_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedPotentialAssignees) && (serializedObj.sts_pa = serializedPotentialAssignees);
  return serializedObj;
};
docs$text$protocol$SmartTodoStyle.prototype.getValueInternal = function $docs$text$protocol$SmartTodoStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "sts_cid":
      return this.commentId_;
    case "sts_ot":
      return this.originalText_;
    case "sts_hi":
      return this.heuristicIdentifiers_;
    case "sts_pa":
      return this.potentialAssignees_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$SmartTodoStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$SmartTodoStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "sts_cid":
      return this.commentIdDefined_;
    case "sts_ot":
      return this.originalTextDefined_;
    case "sts_hi":
      return !0;
    case "sts_pa":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$SmartTodoStyle.prototype.equalsInternal = function $docs$text$protocol$SmartTodoStyle$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$SmartTodoStyle && (!strategy.compareDefined_ || this.commentIdDefined_ == other.commentIdDefined_ && this.originalTextDefined_ == other.originalTextDefined_) ? this.commentId_ == other.commentId_ && this.originalText_ == other.originalText_ && JSCompiler_StaticMethods_equalsWithStrategy(this.heuristicIdentifiers_, other.heuristicIdentifiers_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.potentialAssignees_, other.potentialAssignees_, strategy) : 
  !1;
};
docs$text$protocol$SmartTodoStyle.prototype.isNestedAnnotation = function $docs$text$protocol$SmartTodoStyle$$isNestedAnnotation$(name) {
  return "sts_hi" == name || "sts_pa" == name;
};
docs$text$protocol$SmartTodoStyle.prototype.clone = function $docs$text$protocol$SmartTodoStyle$$clone$() {
  var clone = new docs$text$protocol$SmartTodoStyle;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$SmartTodoStyle.prototype.copyToInternal = function $docs$text$protocol$SmartTodoStyle$$copyToInternal$(other) {
  other.commentId_ = this.commentId_;
  other.commentIdDefined_ = this.commentIdDefined_;
  other.originalText_ = this.originalText_;
  other.originalTextDefined_ = this.originalTextDefined_;
  other.heuristicIdentifiers_ = this.heuristicIdentifiers_.clone();
  other.potentialAssignees_ = this.potentialAssignees_.clone();
};
function docs$text$protocol$SmartTodoStyle$create() {
  return new docs$text$protocol$SmartTodoStyle;
}
docs$text$protocol$SmartTodoStyle$create();
var docs$text$protocol$SmartTodoStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("smart_todo", docs$text$protocol$SmartTodoStyle$create, function() {
  return docs$text$protocol$SmartTodoStyle$propertyNames_;
});
// Input 102
function docs$text$protocol$SpellcheckStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "spellcheck", docs$text$protocol$SpellcheckStyle$propertyNames_);
  this.docs_text_protocol_SpellcheckStyle$suggestions_ = new docs$text$protocol$Collection(new docs$text$protocol$StringCollectionStrategy);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$SpellcheckStyle, docs$text$protocol$Style);
var docs$text$protocol$SpellcheckStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({ORIGINAL_WORD:"sc_ow", SUGGESTIONS:"sc_sugg", SPELLING_LANGUAGE:"sc_sl"});
docs$text$protocol$SpellcheckStyle.prototype.originalWord_ = null;
docs$text$protocol$SpellcheckStyle.prototype.originalWordDefined_ = !1;
docs$text$protocol$SpellcheckStyle.prototype.spellingLanguage_ = null;
docs$text$protocol$SpellcheckStyle.prototype.spellingLanguageDefined_ = !1;
docs$text$protocol$SpellcheckStyle.prototype.updateInternal = function $docs$text$protocol$SpellcheckStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("sc_ow" in propertyMap) {
    var value = propertyMap.sc_ow;
    if (!requireDefined || this.originalWordDefined_) {
      this.originalWordDefined_ = !0, this.originalWord_ = value;
    }
  }
  "sc_sl" in propertyMap && (value = propertyMap.sc_sl, !requireDefined || this.spellingLanguageDefined_) && (this.spellingLanguageDefined_ = !0, this.spellingLanguage_ = value);
  "sc_sugg" in propertyMap && (value = propertyMap.sc_sugg, this.docs_text_protocol_SpellcheckStyle$suggestions_.update(value, opt_strategy));
};
docs$text$protocol$SpellcheckStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$SpellcheckStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.originalWordDefined_) {
    serializedObj.sc_ow = this.originalWord_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.spellingLanguageDefined_) {
    serializedObj.sc_sl = this.spellingLanguage_;
  }
  var serializedSuggestions = this.docs_text_protocol_SpellcheckStyle$suggestions_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedSuggestions) && (serializedObj.sc_sugg = serializedSuggestions);
  return serializedObj;
};
docs$text$protocol$SpellcheckStyle.prototype.getValueInternal = function $docs$text$protocol$SpellcheckStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "sc_ow":
      return this.originalWord_;
    case "sc_sl":
      return this.spellingLanguage_;
    case "sc_sugg":
      return this.docs_text_protocol_SpellcheckStyle$suggestions_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$SpellcheckStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$SpellcheckStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "sc_ow":
      return this.originalWordDefined_;
    case "sc_sl":
      return this.spellingLanguageDefined_;
    case "sc_sugg":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$SpellcheckStyle.prototype.equalsInternal = function $docs$text$protocol$SpellcheckStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$SpellcheckStyle) || strategy.compareDefined_ && this.originalWordDefined_ != other.originalWordDefined_ || strategy.compareDefined_ && this.spellingLanguageDefined_ != other.spellingLanguageDefined_ || this.spellingLanguage_ != other.spellingLanguage_ ? !1 : this.originalWord_ == other.originalWord_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_SpellcheckStyle$suggestions_, other.docs_text_protocol_SpellcheckStyle$suggestions_, 
  strategy);
};
docs$text$protocol$SpellcheckStyle.prototype.isNestedAnnotation = function $docs$text$protocol$SpellcheckStyle$$isNestedAnnotation$(name) {
  return "sc_sugg" == name;
};
docs$text$protocol$SpellcheckStyle.prototype.clone = function $docs$text$protocol$SpellcheckStyle$$clone$() {
  var clone = new docs$text$protocol$SpellcheckStyle;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$SpellcheckStyle.prototype.copyToInternal = function $docs$text$protocol$SpellcheckStyle$$copyToInternal$(other) {
  other.originalWord_ = this.originalWord_;
  other.originalWordDefined_ = this.originalWordDefined_;
  other.spellingLanguage_ = this.spellingLanguage_;
  other.spellingLanguageDefined_ = this.spellingLanguageDefined_;
  other.docs_text_protocol_SpellcheckStyle$suggestions_ = this.docs_text_protocol_SpellcheckStyle$suggestions_.clone();
};
var docs$text$protocol$SpellcheckStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("spellcheck", function() {
  return new docs$text$protocol$SpellcheckStyle;
}, function() {
  return docs$text$protocol$SpellcheckStyle$propertyNames_;
});
// Input 103
function docs$text$protocol$SuppressFeatureStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "suppress_feature", docs$text$protocol$SuppressFeatureStyle$propertyNames_);
  this.suppressSmartTodosDefined_ = this.suppressSmartTodos_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$SuppressFeatureStyle, docs$text$protocol$Style);
var docs$text$protocol$SuppressFeatureStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({SUPPRESS_SMART_TODOS:"sfs_sst"});
docs$text$protocol$SuppressFeatureStyle.prototype.updateInternal = function $docs$text$protocol$SuppressFeatureStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  "sfs_sst" in propertyMap && (!requireDefined || this.suppressSmartTodosDefined_) && (this.suppressSmartTodosDefined_ = !0, this.suppressSmartTodos_ = propertyMap.sfs_sst);
};
docs$text$protocol$SuppressFeatureStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$SuppressFeatureStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.suppressSmartTodosDefined_) {
    serializedObj.sfs_sst = this.suppressSmartTodos_;
  }
  return serializedObj;
};
docs$text$protocol$SuppressFeatureStyle.prototype.getValueInternal = function $docs$text$protocol$SuppressFeatureStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "sfs_sst":
      return this.suppressSmartTodos_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$SuppressFeatureStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$SuppressFeatureStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "sfs_sst":
      return this.suppressSmartTodosDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$SuppressFeatureStyle.prototype.equalsInternal = function $docs$text$protocol$SuppressFeatureStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$SuppressFeatureStyle) || strategy.compareDefined_ && this.suppressSmartTodosDefined_ != other.suppressSmartTodosDefined_ ? !1 : this.suppressSmartTodos_ == other.suppressSmartTodos_;
};
docs$text$protocol$SuppressFeatureStyle.prototype.clone = function $docs$text$protocol$SuppressFeatureStyle$$clone$() {
  var SuppressFeatureStyle = new docs$text$protocol$SuppressFeatureStyle;
  this.copyTo(SuppressFeatureStyle);
  return SuppressFeatureStyle;
};
docs$text$protocol$SuppressFeatureStyle.prototype.copyToInternal = function $docs$text$protocol$SuppressFeatureStyle$$copyToInternal$(other) {
  other.suppressSmartTodos_ = this.suppressSmartTodos_;
  other.suppressSmartTodosDefined_ = this.suppressSmartTodosDefined_;
};
var docs$text$protocol$SuppressFeatureStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("suppress_feature", function() {
  return new docs$text$protocol$SuppressFeatureStyle;
}, function() {
  return docs$text$protocol$SuppressFeatureStyle$propertyNames_;
});
// Input 104
function docs$text$protocol$CellGroup(opt_propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$CellGroup$propertyNames_);
  this.docs_text_protocol_CellGroup$borderLeft_ = new docs$text$protocol$Border;
  this.docs_text_protocol_CellGroup$borderLeftInherit_ = !0;
  this.docs_text_protocol_CellGroup$borderLeftDefined_ = !1;
  this.docs_text_protocol_CellGroup$borderRight_ = new docs$text$protocol$Border;
  this.docs_text_protocol_CellGroup$borderRightInherit_ = !0;
  this.docs_text_protocol_CellGroup$borderRightDefined_ = !1;
  this.docs_text_protocol_CellGroup$borderTop_ = new docs$text$protocol$Border;
  this.docs_text_protocol_CellGroup$borderTopInherit_ = !0;
  this.docs_text_protocol_CellGroup$borderTopDefined_ = !1;
  this.docs_text_protocol_CellGroup$borderBottom_ = new docs$text$protocol$Border;
  this.docs_text_protocol_CellGroup$borderBottomInherit_ = !0;
  this.docs_text_protocol_CellGroup$borderBottomDefined_ = !1;
  this.borderInnerVertical_ = new docs$text$protocol$Border;
  this.borderInnerVerticalInherit_ = !0;
  this.borderInnerVerticalDefined_ = !1;
  this.borderInnerHorizontal_ = new docs$text$protocol$Border;
  this.borderInnerHorizontalInherit_ = !0;
  this.borderInnerHorizontalDefined_ = !1;
  this.docs_text_protocol_CellGroup$backgroundColor_ = "";
  this.docs_text_protocol_CellGroup$backgroundColorInherit_ = !0;
  this.docs_text_protocol_CellGroup$backgroundColorDefined_ = !1;
  this.docs_text_protocol_CellGroup$paddingLeft_ = 5;
  this.docs_text_protocol_CellGroup$paddingLeftInherit_ = !0;
  this.docs_text_protocol_CellGroup$paddingLeftDefined_ = !1;
  this.docs_text_protocol_CellGroup$paddingRight_ = 5;
  this.docs_text_protocol_CellGroup$paddingRightInherit_ = !0;
  this.docs_text_protocol_CellGroup$paddingRightDefined_ = !1;
  this.docs_text_protocol_CellGroup$paddingTop_ = 5;
  this.docs_text_protocol_CellGroup$paddingTopInherit_ = !0;
  this.docs_text_protocol_CellGroup$paddingTopDefined_ = !1;
  this.docs_text_protocol_CellGroup$paddingBottom_ = 5;
  this.docs_text_protocol_CellGroup$paddingBottomInherit_ = !0;
  this.docs_text_protocol_CellGroup$paddingBottomDefined_ = !1;
  this.docs_text_protocol_CellGroup$verticalAlign_ = 2;
  this.docs_text_protocol_CellGroup$verticalAlignInherit_ = !0;
  this.docs_text_protocol_CellGroup$verticalAlignDefined_ = !1;
  this.docs_text_protocol_Annotation$numInheritValues_ = 12;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$CellGroup, docs$text$protocol$Annotation);
var docs$text$protocol$CellGroup$propertyNames_ = new docs$text$protocol$PropertyNames([], {cellgp_bgc:"cellgp_bgc_i", cellgp_bb:"cellgp_bb_i", cellgp_bl:"cellgp_bl_i", cellgp_br:"cellgp_br_i", cellgp_bt:"cellgp_bt_i", cellgp_biv:"cellgp_biv_i", cellgp_bih:"cellgp_bih_i", cellgp_pb:"cellgp_pb_i", cellgp_pl:"cellgp_pl_i", cellgp_pr:"cellgp_pr_i", cellgp_pt:"cellgp_pt_i", cellgp_va:"cellgp_va_i"}), docs$text$protocol$CellGroup$NESTED_ANNOTATION_PROPERTY_NAMES_ = "cellgp_bl cellgp_br cellgp_bt cellgp_bb cellgp_biv cellgp_bih".split(" ");
docs$text$protocol$CellGroup.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$CellGroup$$getNestedAnnotationPropertyNames$() {
  return docs$text$protocol$CellGroup$NESTED_ANNOTATION_PROPERTY_NAMES_;
};
docs$text$protocol$CellGroup.prototype.isNestedAnnotation = function $docs$text$protocol$CellGroup$$isNestedAnnotation$(propertyName) {
  return "cellgp_bl" == propertyName || "cellgp_br" == propertyName || "cellgp_bt" == propertyName || "cellgp_bb" == propertyName || "cellgp_biv" == propertyName || "cellgp_bih" == propertyName;
};
docs$text$protocol$CellGroup.prototype.updateInternal = function $docs$text$protocol$CellGroup$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("cellgp_bgc" in propertyMap) {
    var value = propertyMap.cellgp_bgc;
    if (!requireDefined || this.docs_text_protocol_CellGroup$backgroundColorDefined_) {
      this.docs_text_protocol_CellGroup$backgroundColorDefined_ = !0, this.docs_text_protocol_CellGroup$backgroundColor_ = value;
    }
  }
  if ("cellgp_bgc_i" in propertyMap && (value = propertyMap.cellgp_bgc_i, !requireDefined || this.docs_text_protocol_CellGroup$backgroundColorDefined_)) {
    this.docs_text_protocol_CellGroup$backgroundColorDefined_ = !0;
    var backgroundColorInherit = this.docs_text_protocol_CellGroup$backgroundColorInherit_;
    this.docs_text_protocol_CellGroup$backgroundColorInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, backgroundColorInherit, value);
  }
  "cellgp_bl" in propertyMap && (value = propertyMap.cellgp_bl, !requireDefined || this.docs_text_protocol_CellGroup$borderLeftDefined_) && (this.docs_text_protocol_CellGroup$borderLeftDefined_ = !0, this.docs_text_protocol_CellGroup$borderLeft_ = new docs$text$protocol$Border(value));
  if ("cellgp_bl_i" in propertyMap && (value = propertyMap.cellgp_bl_i, !requireDefined || this.docs_text_protocol_CellGroup$borderLeftDefined_)) {
    this.docs_text_protocol_CellGroup$borderLeftDefined_ = !0;
    var borderLeftInherit = this.docs_text_protocol_CellGroup$borderLeftInherit_;
    this.docs_text_protocol_CellGroup$borderLeftInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, borderLeftInherit, value);
  }
  "cellgp_br" in propertyMap && (value = propertyMap.cellgp_br, !requireDefined || this.docs_text_protocol_CellGroup$borderRightDefined_) && (this.docs_text_protocol_CellGroup$borderRightDefined_ = !0, this.docs_text_protocol_CellGroup$borderRight_ = new docs$text$protocol$Border(value));
  if ("cellgp_br_i" in propertyMap && (value = propertyMap.cellgp_br_i, !requireDefined || this.docs_text_protocol_CellGroup$borderRightDefined_)) {
    this.docs_text_protocol_CellGroup$borderRightDefined_ = !0;
    var borderRightInherit = this.docs_text_protocol_CellGroup$borderRightInherit_;
    this.docs_text_protocol_CellGroup$borderRightInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, borderRightInherit, value);
  }
  "cellgp_bt" in propertyMap && (value = propertyMap.cellgp_bt, !requireDefined || this.docs_text_protocol_CellGroup$borderTopDefined_) && (this.docs_text_protocol_CellGroup$borderTopDefined_ = !0, this.docs_text_protocol_CellGroup$borderTop_ = new docs$text$protocol$Border(value));
  if ("cellgp_bt_i" in propertyMap && (value = propertyMap.cellgp_bt_i, !requireDefined || this.docs_text_protocol_CellGroup$borderTopDefined_)) {
    this.docs_text_protocol_CellGroup$borderTopDefined_ = !0;
    var borderTopInherit = this.docs_text_protocol_CellGroup$borderTopInherit_;
    this.docs_text_protocol_CellGroup$borderTopInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, borderTopInherit, value);
  }
  "cellgp_bb" in propertyMap && (value = propertyMap.cellgp_bb, !requireDefined || this.docs_text_protocol_CellGroup$borderBottomDefined_) && (this.docs_text_protocol_CellGroup$borderBottomDefined_ = !0, this.docs_text_protocol_CellGroup$borderBottom_ = new docs$text$protocol$Border(value));
  if ("cellgp_bb_i" in propertyMap && (value = propertyMap.cellgp_bb_i, !requireDefined || this.docs_text_protocol_CellGroup$borderBottomDefined_)) {
    this.docs_text_protocol_CellGroup$borderBottomDefined_ = !0;
    var borderBottomInherit = this.docs_text_protocol_CellGroup$borderBottomInherit_;
    this.docs_text_protocol_CellGroup$borderBottomInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, borderBottomInherit, value);
  }
  "cellgp_biv" in propertyMap && (value = propertyMap.cellgp_biv, !requireDefined || this.borderInnerVerticalDefined_) && (this.borderInnerVerticalDefined_ = !0, this.borderInnerVertical_ = new docs$text$protocol$Border(value));
  if ("cellgp_biv_i" in propertyMap && (value = propertyMap.cellgp_biv_i, !requireDefined || this.borderInnerVerticalDefined_)) {
    this.borderInnerVerticalDefined_ = !0;
    var borderInnerVerticalInherit = this.borderInnerVerticalInherit_;
    this.borderInnerVerticalInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, borderInnerVerticalInherit, value);
  }
  "cellgp_bih" in propertyMap && (value = propertyMap.cellgp_bih, !requireDefined || this.borderInnerHorizontalDefined_) && (this.borderInnerHorizontalDefined_ = !0, this.borderInnerHorizontal_ = new docs$text$protocol$Border(value));
  if ("cellgp_bih_i" in propertyMap && (value = propertyMap.cellgp_bih_i, !requireDefined || this.borderInnerHorizontalDefined_)) {
    this.borderInnerHorizontalDefined_ = !0;
    var borderInnerHorizontalInherit = this.borderInnerHorizontalInherit_;
    this.borderInnerHorizontalInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, borderInnerHorizontalInherit, value);
  }
  "cellgp_pt" in propertyMap && (value = propertyMap.cellgp_pt, !requireDefined || this.docs_text_protocol_CellGroup$paddingTopDefined_) && (this.docs_text_protocol_CellGroup$paddingTopDefined_ = !0, this.docs_text_protocol_CellGroup$paddingTop_ = value);
  if ("cellgp_pt_i" in propertyMap && (value = propertyMap.cellgp_pt_i, !requireDefined || this.docs_text_protocol_CellGroup$paddingTopDefined_)) {
    this.docs_text_protocol_CellGroup$paddingTopDefined_ = !0;
    var paddingTopInherit = this.docs_text_protocol_CellGroup$paddingTopInherit_;
    this.docs_text_protocol_CellGroup$paddingTopInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, paddingTopInherit, value);
  }
  "cellgp_pb" in propertyMap && (value = propertyMap.cellgp_pb, !requireDefined || this.docs_text_protocol_CellGroup$paddingBottomDefined_) && (this.docs_text_protocol_CellGroup$paddingBottomDefined_ = !0, this.docs_text_protocol_CellGroup$paddingBottom_ = value);
  if ("cellgp_pb_i" in propertyMap && (value = propertyMap.cellgp_pb_i, !requireDefined || this.docs_text_protocol_CellGroup$paddingBottomDefined_)) {
    this.docs_text_protocol_CellGroup$paddingBottomDefined_ = !0;
    var paddingBottomInherit = this.docs_text_protocol_CellGroup$paddingBottomInherit_;
    this.docs_text_protocol_CellGroup$paddingBottomInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, paddingBottomInherit, value);
  }
  "cellgp_pl" in propertyMap && (value = propertyMap.cellgp_pl, !requireDefined || this.docs_text_protocol_CellGroup$paddingLeftDefined_) && (this.docs_text_protocol_CellGroup$paddingLeftDefined_ = !0, this.docs_text_protocol_CellGroup$paddingLeft_ = value);
  if ("cellgp_pl_i" in propertyMap && (value = propertyMap.cellgp_pl_i, !requireDefined || this.docs_text_protocol_CellGroup$paddingLeftDefined_)) {
    this.docs_text_protocol_CellGroup$paddingLeftDefined_ = !0;
    var paddingLeftInherit = this.docs_text_protocol_CellGroup$paddingLeftInherit_;
    this.docs_text_protocol_CellGroup$paddingLeftInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, paddingLeftInherit, value);
  }
  "cellgp_pr" in propertyMap && (value = propertyMap.cellgp_pr, !requireDefined || this.docs_text_protocol_CellGroup$paddingRightDefined_) && (this.docs_text_protocol_CellGroup$paddingRightDefined_ = !0, this.docs_text_protocol_CellGroup$paddingRight_ = value);
  if ("cellgp_pr_i" in propertyMap && (value = propertyMap.cellgp_pr_i, !requireDefined || this.docs_text_protocol_CellGroup$paddingRightDefined_)) {
    this.docs_text_protocol_CellGroup$paddingRightDefined_ = !0;
    var paddingRightInherit = this.docs_text_protocol_CellGroup$paddingRightInherit_;
    this.docs_text_protocol_CellGroup$paddingRightInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, paddingRightInherit, value);
  }
  "cellgp_va" in propertyMap && (value = propertyMap.cellgp_va, !requireDefined || this.docs_text_protocol_CellGroup$verticalAlignDefined_) && (this.docs_text_protocol_CellGroup$verticalAlignDefined_ = !0, this.docs_text_protocol_CellGroup$verticalAlign_ = value);
  if ("cellgp_va_i" in propertyMap && (value = propertyMap.cellgp_va_i, !requireDefined || this.docs_text_protocol_CellGroup$verticalAlignDefined_)) {
    this.docs_text_protocol_CellGroup$verticalAlignDefined_ = !0;
    var verticalAlignInherit = this.docs_text_protocol_CellGroup$verticalAlignInherit_;
    this.docs_text_protocol_CellGroup$verticalAlignInherit_ = value;
    JSCompiler_StaticMethods_updateNumInheritValues(this, verticalAlignInherit, value);
  }
};
docs$text$protocol$CellGroup.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$CellGroup$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellGroup$backgroundColorDefined_, this.docs_text_protocol_CellGroup$backgroundColorInherit_) && (serializedObj.cellgp_bgc = this.docs_text_protocol_CellGroup$backgroundColor_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellGroup$backgroundColorDefined_) && (serializedObj.cellgp_bgc_i = this.docs_text_protocol_CellGroup$backgroundColorInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellGroup$borderLeftDefined_, this.docs_text_protocol_CellGroup$borderLeftInherit_) && (serializedObj.cellgp_bl = this.docs_text_protocol_CellGroup$borderLeft_.serialize());
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellGroup$borderLeftDefined_) && (serializedObj.cellgp_bl_i = this.docs_text_protocol_CellGroup$borderLeftInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellGroup$borderRightDefined_, this.docs_text_protocol_CellGroup$borderRightInherit_) && (serializedObj.cellgp_br = this.docs_text_protocol_CellGroup$borderRight_.serialize());
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellGroup$borderRightDefined_) && (serializedObj.cellgp_br_i = this.docs_text_protocol_CellGroup$borderRightInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellGroup$borderTopDefined_, this.docs_text_protocol_CellGroup$borderTopInherit_) && (serializedObj.cellgp_bt = this.docs_text_protocol_CellGroup$borderTop_.serialize());
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellGroup$borderTopDefined_) && (serializedObj.cellgp_bt_i = this.docs_text_protocol_CellGroup$borderTopInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellGroup$borderBottomDefined_, this.docs_text_protocol_CellGroup$borderBottomInherit_) && (serializedObj.cellgp_bb = this.docs_text_protocol_CellGroup$borderBottom_.serialize());
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellGroup$borderBottomDefined_) && (serializedObj.cellgp_bb_i = this.docs_text_protocol_CellGroup$borderBottomInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.borderInnerVerticalDefined_, this.borderInnerVerticalInherit_) && (serializedObj.cellgp_biv = this.borderInnerVertical_.serialize());
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.borderInnerVerticalDefined_) && (serializedObj.cellgp_biv_i = this.borderInnerVerticalInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.borderInnerHorizontalDefined_, this.borderInnerHorizontalInherit_) && (serializedObj.cellgp_bih = this.borderInnerHorizontal_.serialize());
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.borderInnerHorizontalDefined_) && (serializedObj.cellgp_bih_i = this.borderInnerHorizontalInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellGroup$paddingTopDefined_, this.docs_text_protocol_CellGroup$paddingTopInherit_) && (serializedObj.cellgp_pt = this.docs_text_protocol_CellGroup$paddingTop_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellGroup$paddingTopDefined_) && (serializedObj.cellgp_pt_i = this.docs_text_protocol_CellGroup$paddingTopInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellGroup$paddingBottomDefined_, this.docs_text_protocol_CellGroup$paddingBottomInherit_) && (serializedObj.cellgp_pb = this.docs_text_protocol_CellGroup$paddingBottom_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellGroup$paddingBottomDefined_) && (serializedObj.cellgp_pb_i = this.docs_text_protocol_CellGroup$paddingBottomInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellGroup$paddingLeftDefined_, this.docs_text_protocol_CellGroup$paddingLeftInherit_) && (serializedObj.cellgp_pl = this.docs_text_protocol_CellGroup$paddingLeft_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellGroup$paddingLeftDefined_) && (serializedObj.cellgp_pl_i = this.docs_text_protocol_CellGroup$paddingLeftInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellGroup$paddingRightDefined_, this.docs_text_protocol_CellGroup$paddingRightInherit_) && (serializedObj.cellgp_pr = this.docs_text_protocol_CellGroup$paddingRight_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellGroup$paddingRightDefined_) && (serializedObj.cellgp_pr_i = this.docs_text_protocol_CellGroup$paddingRightInherit_);
  JSCompiler_StaticMethods_shouldSerializeInheritable(strategy, this.docs_text_protocol_CellGroup$verticalAlignDefined_, this.docs_text_protocol_CellGroup$verticalAlignInherit_) && (serializedObj.cellgp_va = this.docs_text_protocol_CellGroup$verticalAlign_);
  JSCompiler_StaticMethods_shouldSerializeCompanionInherit(strategy, this.docs_text_protocol_CellGroup$verticalAlignDefined_) && (serializedObj.cellgp_va_i = this.docs_text_protocol_CellGroup$verticalAlignInherit_);
  return serializedObj;
};
docs$text$protocol$CellGroup.prototype.getValueInternal = function $docs$text$protocol$CellGroup$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "cellgp_bgc":
      return this.docs_text_protocol_CellGroup$backgroundColor_;
    case "cellgp_bgc_i":
      return this.docs_text_protocol_CellGroup$backgroundColorInherit_;
    case "cellgp_bl":
      return this.docs_text_protocol_CellGroup$borderLeft_;
    case "cellgp_bl_i":
      return this.docs_text_protocol_CellGroup$borderLeftInherit_;
    case "cellgp_br":
      return this.docs_text_protocol_CellGroup$borderRight_;
    case "cellgp_br_i":
      return this.docs_text_protocol_CellGroup$borderRightInherit_;
    case "cellgp_bt":
      return this.docs_text_protocol_CellGroup$borderTop_;
    case "cellgp_bt_i":
      return this.docs_text_protocol_CellGroup$borderTopInherit_;
    case "cellgp_bb":
      return this.docs_text_protocol_CellGroup$borderBottom_;
    case "cellgp_bb_i":
      return this.docs_text_protocol_CellGroup$borderBottomInherit_;
    case "cellgp_biv":
      return this.borderInnerVertical_;
    case "cellgp_biv_i":
      return this.borderInnerVerticalInherit_;
    case "cellgp_bih":
      return this.borderInnerHorizontal_;
    case "cellgp_bih_i":
      return this.borderInnerHorizontalInherit_;
    case "cellgp_pt":
      return this.docs_text_protocol_CellGroup$paddingTop_;
    case "cellgp_pt_i":
      return this.docs_text_protocol_CellGroup$paddingTopInherit_;
    case "cellgp_pb":
      return this.docs_text_protocol_CellGroup$paddingBottom_;
    case "cellgp_pb_i":
      return this.docs_text_protocol_CellGroup$paddingBottomInherit_;
    case "cellgp_pl":
      return this.docs_text_protocol_CellGroup$paddingLeft_;
    case "cellgp_pl_i":
      return this.docs_text_protocol_CellGroup$paddingLeftInherit_;
    case "cellgp_pr":
      return this.docs_text_protocol_CellGroup$paddingRight_;
    case "cellgp_pr_i":
      return this.docs_text_protocol_CellGroup$paddingRightInherit_;
    case "cellgp_va":
      return this.docs_text_protocol_CellGroup$verticalAlign_;
    case "cellgp_va_i":
      return this.docs_text_protocol_CellGroup$verticalAlignInherit_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$CellGroup.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$CellGroup$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "cellgp_bgc":
    case "cellgp_bgc_i":
      return this.docs_text_protocol_CellGroup$backgroundColorDefined_;
    case "cellgp_bl":
    case "cellgp_bl_i":
      return this.docs_text_protocol_CellGroup$borderLeftDefined_;
    case "cellgp_br":
    case "cellgp_br_i":
      return this.docs_text_protocol_CellGroup$borderRightDefined_;
    case "cellgp_bt":
    case "cellgp_bt_i":
      return this.docs_text_protocol_CellGroup$borderTopDefined_;
    case "cellgp_bb":
    case "cellgp_bb_i":
      return this.docs_text_protocol_CellGroup$borderBottomDefined_;
    case "cellgp_biv":
    case "cellgp_biv_i":
      return this.borderInnerVerticalDefined_;
    case "cellgp_bih":
    case "cellgp_bih_i":
      return this.borderInnerHorizontalDefined_;
    case "cellgp_pt":
    case "cellgp_pt_i":
      return this.docs_text_protocol_CellGroup$paddingTopDefined_;
    case "cellgp_pb":
    case "cellgp_pb_i":
      return this.docs_text_protocol_CellGroup$paddingBottomDefined_;
    case "cellgp_pl":
    case "cellgp_pl_i":
      return this.docs_text_protocol_CellGroup$paddingLeftDefined_;
    case "cellgp_pr":
    case "cellgp_pr_i":
      return this.docs_text_protocol_CellGroup$paddingRightDefined_;
    case "cellgp_va":
    case "cellgp_va_i":
      return this.docs_text_protocol_CellGroup$verticalAlignDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$CellGroup.prototype.equalsInternal = function $docs$text$protocol$CellGroup$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$CellGroup && (!strategy.compareDefined_ || this.docs_text_protocol_CellGroup$backgroundColorDefined_ == other.docs_text_protocol_CellGroup$backgroundColorDefined_ && this.docs_text_protocol_CellGroup$borderLeftDefined_ == other.docs_text_protocol_CellGroup$borderLeftDefined_ && this.docs_text_protocol_CellGroup$borderRightDefined_ == other.docs_text_protocol_CellGroup$borderRightDefined_ && this.docs_text_protocol_CellGroup$borderTopDefined_ == other.docs_text_protocol_CellGroup$borderTopDefined_ && 
  this.docs_text_protocol_CellGroup$borderBottomDefined_ == other.docs_text_protocol_CellGroup$borderBottomDefined_ && this.borderInnerVerticalDefined_ == other.borderInnerVerticalDefined_ && this.borderInnerHorizontalDefined_ == other.borderInnerHorizontalDefined_ && this.docs_text_protocol_CellGroup$paddingTopDefined_ == other.docs_text_protocol_CellGroup$paddingTopDefined_ && this.docs_text_protocol_CellGroup$paddingBottomDefined_ == other.docs_text_protocol_CellGroup$paddingBottomDefined_ && 
  this.docs_text_protocol_CellGroup$paddingLeftDefined_ == other.docs_text_protocol_CellGroup$paddingLeftDefined_ && this.docs_text_protocol_CellGroup$paddingRightDefined_ == other.docs_text_protocol_CellGroup$paddingRightDefined_ && this.docs_text_protocol_CellGroup$verticalAlignDefined_ == other.docs_text_protocol_CellGroup$verticalAlignDefined_) ? this.docs_text_protocol_CellGroup$backgroundColor_ == other.docs_text_protocol_CellGroup$backgroundColor_ && this.docs_text_protocol_CellGroup$backgroundColorInherit_ == 
  other.docs_text_protocol_CellGroup$backgroundColorInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_CellGroup$borderLeft_, other.docs_text_protocol_CellGroup$borderLeft_, strategy) && this.docs_text_protocol_CellGroup$borderLeftInherit_ == other.docs_text_protocol_CellGroup$borderLeftInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_CellGroup$borderRight_, other.docs_text_protocol_CellGroup$borderRight_, strategy) && this.docs_text_protocol_CellGroup$borderRightInherit_ == 
  other.docs_text_protocol_CellGroup$borderRightInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_CellGroup$borderTop_, other.docs_text_protocol_CellGroup$borderTop_, strategy) && this.docs_text_protocol_CellGroup$borderTopInherit_ == other.docs_text_protocol_CellGroup$borderTopInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_CellGroup$borderBottom_, other.docs_text_protocol_CellGroup$borderBottom_, strategy) && this.docs_text_protocol_CellGroup$borderBottomInherit_ == 
  other.docs_text_protocol_CellGroup$borderBottomInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.borderInnerVertical_, other.borderInnerVertical_, strategy) && this.borderInnerVerticalInherit_ == other.borderInnerVerticalInherit_ && JSCompiler_StaticMethods_equalsWithStrategy(this.borderInnerHorizontal_, other.borderInnerHorizontal_, strategy) && this.borderInnerHorizontalInherit_ == other.borderInnerHorizontalInherit_ && this.docs_text_protocol_CellGroup$paddingTop_ == other.docs_text_protocol_CellGroup$paddingTop_ && 
  this.docs_text_protocol_CellGroup$paddingTopInherit_ == other.docs_text_protocol_CellGroup$paddingTopInherit_ && this.docs_text_protocol_CellGroup$paddingBottom_ == other.docs_text_protocol_CellGroup$paddingBottom_ && this.docs_text_protocol_CellGroup$paddingBottomInherit_ == other.docs_text_protocol_CellGroup$paddingBottomInherit_ && this.docs_text_protocol_CellGroup$paddingLeft_ == other.docs_text_protocol_CellGroup$paddingLeft_ && this.docs_text_protocol_CellGroup$paddingLeftInherit_ == other.docs_text_protocol_CellGroup$paddingLeftInherit_ && 
  this.docs_text_protocol_CellGroup$paddingRight_ == other.docs_text_protocol_CellGroup$paddingRight_ && this.docs_text_protocol_CellGroup$paddingRightInherit_ == other.docs_text_protocol_CellGroup$paddingRightInherit_ && this.docs_text_protocol_CellGroup$verticalAlign_ == other.docs_text_protocol_CellGroup$verticalAlign_ && this.docs_text_protocol_CellGroup$verticalAlignInherit_ == other.docs_text_protocol_CellGroup$verticalAlignInherit_ : !1;
};
docs$text$protocol$CellGroup.prototype.clone = function $docs$text$protocol$CellGroup$$clone$() {
  var cellGroup = new docs$text$protocol$CellGroup;
  this.copyTo(cellGroup);
  return cellGroup;
};
docs$text$protocol$CellGroup.prototype.copyToInternal = function $docs$text$protocol$CellGroup$$copyToInternal$(other) {
  other.docs_text_protocol_CellGroup$backgroundColor_ = this.docs_text_protocol_CellGroup$backgroundColor_;
  other.docs_text_protocol_CellGroup$backgroundColorInherit_ = this.docs_text_protocol_CellGroup$backgroundColorInherit_;
  other.docs_text_protocol_CellGroup$backgroundColorDefined_ = this.docs_text_protocol_CellGroup$backgroundColorDefined_;
  other.docs_text_protocol_CellGroup$borderLeft_ = this.docs_text_protocol_CellGroup$borderLeft_.clone();
  other.docs_text_protocol_CellGroup$borderLeftDefined_ = this.docs_text_protocol_CellGroup$borderLeftDefined_;
  other.docs_text_protocol_CellGroup$borderLeftInherit_ = this.docs_text_protocol_CellGroup$borderLeftInherit_;
  other.docs_text_protocol_CellGroup$borderRight_ = this.docs_text_protocol_CellGroup$borderRight_.clone();
  other.docs_text_protocol_CellGroup$borderRightDefined_ = this.docs_text_protocol_CellGroup$borderRightDefined_;
  other.docs_text_protocol_CellGroup$borderRightInherit_ = this.docs_text_protocol_CellGroup$borderRightInherit_;
  other.docs_text_protocol_CellGroup$borderTop_ = this.docs_text_protocol_CellGroup$borderTop_.clone();
  other.docs_text_protocol_CellGroup$borderTopDefined_ = this.docs_text_protocol_CellGroup$borderTopDefined_;
  other.docs_text_protocol_CellGroup$borderTopInherit_ = this.docs_text_protocol_CellGroup$borderTopInherit_;
  other.docs_text_protocol_CellGroup$borderBottom_ = this.docs_text_protocol_CellGroup$borderBottom_.clone();
  other.docs_text_protocol_CellGroup$borderBottomDefined_ = this.docs_text_protocol_CellGroup$borderBottomDefined_;
  other.docs_text_protocol_CellGroup$borderBottomInherit_ = this.docs_text_protocol_CellGroup$borderBottomInherit_;
  other.borderInnerVertical_ = this.borderInnerVertical_.clone();
  other.borderInnerVerticalDefined_ = this.borderInnerVerticalDefined_;
  other.borderInnerVerticalInherit_ = this.borderInnerVerticalInherit_;
  other.borderInnerHorizontal_ = this.borderInnerHorizontal_.clone();
  other.borderInnerHorizontalDefined_ = this.borderInnerHorizontalDefined_;
  other.borderInnerHorizontalInherit_ = this.borderInnerHorizontalInherit_;
  other.docs_text_protocol_CellGroup$paddingTop_ = this.docs_text_protocol_CellGroup$paddingTop_;
  other.docs_text_protocol_CellGroup$paddingTopInherit_ = this.docs_text_protocol_CellGroup$paddingTopInherit_;
  other.docs_text_protocol_CellGroup$paddingTopDefined_ = this.docs_text_protocol_CellGroup$paddingTopDefined_;
  other.docs_text_protocol_CellGroup$paddingBottom_ = this.docs_text_protocol_CellGroup$paddingBottom_;
  other.docs_text_protocol_CellGroup$paddingBottomInherit_ = this.docs_text_protocol_CellGroup$paddingBottomInherit_;
  other.docs_text_protocol_CellGroup$paddingBottomDefined_ = this.docs_text_protocol_CellGroup$paddingBottomDefined_;
  other.docs_text_protocol_CellGroup$paddingLeft_ = this.docs_text_protocol_CellGroup$paddingLeft_;
  other.docs_text_protocol_CellGroup$paddingLeftInherit_ = this.docs_text_protocol_CellGroup$paddingLeftInherit_;
  other.docs_text_protocol_CellGroup$paddingLeftDefined_ = this.docs_text_protocol_CellGroup$paddingLeftDefined_;
  other.docs_text_protocol_CellGroup$paddingRight_ = this.docs_text_protocol_CellGroup$paddingRight_;
  other.docs_text_protocol_CellGroup$paddingRightInherit_ = this.docs_text_protocol_CellGroup$paddingRightInherit_;
  other.docs_text_protocol_CellGroup$paddingRightDefined_ = this.docs_text_protocol_CellGroup$paddingRightDefined_;
  other.docs_text_protocol_CellGroup$verticalAlign_ = this.docs_text_protocol_CellGroup$verticalAlign_;
  other.docs_text_protocol_CellGroup$verticalAlignInherit_ = this.docs_text_protocol_CellGroup$verticalAlignInherit_;
  other.docs_text_protocol_CellGroup$verticalAlignDefined_ = this.docs_text_protocol_CellGroup$verticalAlignDefined_;
};
var docs$text$protocol$CellGroup$DEFAULT_ALL_INHERIT = (new docs$text$protocol$CellGroup).setImmutable(), cellGroup$jscomp$inline_402 = new docs$text$protocol$CellGroup;
cellGroup$jscomp$inline_402.docs_text_protocol_CellGroup$borderLeftDefined_ = !0;
cellGroup$jscomp$inline_402.docs_text_protocol_CellGroup$borderRightDefined_ = !0;
cellGroup$jscomp$inline_402.docs_text_protocol_CellGroup$borderTopDefined_ = !0;
cellGroup$jscomp$inline_402.docs_text_protocol_CellGroup$borderBottomDefined_ = !0;
cellGroup$jscomp$inline_402.borderInnerVerticalDefined_ = !0;
cellGroup$jscomp$inline_402.borderInnerHorizontalDefined_ = !0;
cellGroup$jscomp$inline_402.docs_text_protocol_CellGroup$backgroundColorDefined_ = !0;
cellGroup$jscomp$inline_402.docs_text_protocol_CellGroup$paddingLeftDefined_ = !0;
cellGroup$jscomp$inline_402.docs_text_protocol_CellGroup$paddingRightDefined_ = !0;
cellGroup$jscomp$inline_402.docs_text_protocol_CellGroup$paddingTopDefined_ = !0;
cellGroup$jscomp$inline_402.docs_text_protocol_CellGroup$paddingBottomDefined_ = !0;
cellGroup$jscomp$inline_402.docs_text_protocol_CellGroup$verticalAlignDefined_ = !0;
var docs$text$protocol$CellGroup$ALL_INHERIT = cellGroup$jscomp$inline_402.setImmutable(), docs$text$protocol$CellGroup$ALL_INHERIT_MAP = goog$object$createImmutableView(docs$text$protocol$CellGroup$DEFAULT_ALL_INHERIT.serialize());
// Input 105
function docs$text$protocol$CellFormat(opt_propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$CellFormat$propertyNames_);
  this.cellGroupReference_ = new docs$text$protocol$NullableAnnotationReference(docs$text$protocol$CellGroup$DEFAULT_ALL_INHERIT, docs$text$protocol$CellGroup$ALL_INHERIT);
  this.textStyleReference_ = new docs$text$protocol$NullableAnnotationReference(docs$text$protocol$TextStyle$defaultAllInherit_, docs$text$protocol$TextStyle$allInherit_);
  this.paragraphStyleReference_ = new docs$text$protocol$NullableAnnotationReference(docs$text$protocol$ParagraphStyle$defaultAllInherit_, docs$text$protocol$ParagraphStyle$allInherit_);
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$CellFormat, docs$text$protocol$Annotation);
var docs$text$protocol$CellFormat$NESTED_ANNOTATION_PROPERTY_NAMES_ = ["cfmt_cg", "cfmt_ts", "cfmt_ps"], docs$text$protocol$CellFormat$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({CELL_GROUP:"cfmt_cg", TEXT_STYLE:"cfmt_ts", PARAGRAPH_STYLE:"cfmt_ps"});
docs$text$protocol$CellFormat.prototype.docs_text_protocol_Annotation_prototype$hasOverriddenValues = function $docs$text$protocol$CellFormat$$docs_text_protocol_Annotation_prototype$hasOverriddenValues$() {
  return JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$hasOverriddenValues(this.cellGroupReference_) || JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$hasOverriddenValues(this.textStyleReference_) || JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$hasOverriddenValues(this.paragraphStyleReference_);
};
docs$text$protocol$CellFormat.prototype.updateInternal = function $docs$text$protocol$CellFormat$$updateInternal$(propertyMap, opt_strategy) {
  if ("cfmt_cg" in propertyMap) {
    var value = propertyMap.cfmt_cg;
    this.cellGroupReference_.update(value, opt_strategy);
  }
  "cfmt_ts" in propertyMap && (value = propertyMap.cfmt_ts, this.textStyleReference_.update(value, opt_strategy));
  "cfmt_ps" in propertyMap && (value = propertyMap.cfmt_ps, this.paragraphStyleReference_.update(value, opt_strategy));
};
docs$text$protocol$CellFormat.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$CellFormat$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  this.cellGroupReference_.serialize(strategy, serializedObj, "cfmt_cg");
  this.textStyleReference_.serialize(strategy, serializedObj, "cfmt_ts");
  this.paragraphStyleReference_.serialize(strategy, serializedObj, "cfmt_ps");
  return serializedObj;
};
docs$text$protocol$CellFormat.prototype.getValueInternal = function $docs$text$protocol$CellFormat$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "cfmt_cg":
      return this.cellGroupReference_.get();
    case "cfmt_ts":
      return this.textStyleReference_.get();
    case "cfmt_ps":
      return this.paragraphStyleReference_.get();
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$CellFormat.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$CellFormat$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "cfmt_cg":
      return this.cellGroupReference_.isDefined_;
    case "cfmt_ts":
      return this.textStyleReference_.isDefined_;
    case "cfmt_ps":
      return this.paragraphStyleReference_.isDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$CellFormat.prototype.equalsInternal = function $docs$text$protocol$CellFormat$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$CellFormat && (!strategy.compareDefined_ || this.paragraphStyleReference_.isDefined_ == other.paragraphStyleReference_.isDefined_ && this.textStyleReference_.isDefined_ == other.textStyleReference_.isDefined_ && this.cellGroupReference_.isDefined_ == other.cellGroupReference_.isDefined_) ? JSCompiler_StaticMethods_equalsWithStrategy(this.cellGroupReference_.get(), other.cellGroupReference_.get(), strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.textStyleReference_.get(), 
  other.textStyleReference_.get(), strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.paragraphStyleReference_.get(), other.paragraphStyleReference_.get(), strategy) : !1;
};
docs$text$protocol$CellFormat.prototype.isNestedAnnotation = function $docs$text$protocol$CellFormat$$isNestedAnnotation$(propertyName) {
  switch(propertyName) {
    case "cfmt_cg":
    case "cfmt_ts":
    case "cfmt_ps":
      return !0;
  }
  throw Error("Invalid property name " + propertyName);
};
docs$text$protocol$CellFormat.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$CellFormat$$getNestedAnnotationPropertyNames$() {
  return docs$text$protocol$CellFormat$NESTED_ANNOTATION_PROPERTY_NAMES_;
};
docs$text$protocol$CellFormat.prototype.clone = function $docs$text$protocol$CellFormat$$clone$() {
  var cellFormat = new docs$text$protocol$CellFormat;
  this.copyTo(cellFormat);
  return cellFormat;
};
docs$text$protocol$CellFormat.prototype.copyToInternal = function $docs$text$protocol$CellFormat$$copyToInternal$(other) {
  this.cellGroupReference_.copyTo(other.cellGroupReference_);
  this.textStyleReference_.copyTo(other.textStyleReference_);
  this.paragraphStyleReference_.copyTo(other.paragraphStyleReference_);
};
docs$text$protocol$CellFormat.prototype.copyInheritedPropertiesToInternal = function $docs$text$protocol$CellFormat$$copyInheritedPropertiesToInternal$(destination) {
  JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$copyInheritedPropertiesTo(this.cellGroupReference_, destination.cellGroupReference_);
  JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$copyInheritedPropertiesTo(this.textStyleReference_, destination.textStyleReference_);
  JSCompiler_StaticMethods_docs_text_protocol_NullableAnnotationReference_prototype$copyInheritedPropertiesTo(this.paragraphStyleReference_, destination.paragraphStyleReference_);
};
docs$text$protocol$CellFormat.prototype.subsetEquals = function $docs$text$protocol$CellFormat$$subsetEquals$(propertyMap, opt_strategy) {
  var adjustedPropertyMap = null;
  "cfmt_ts" in propertyMap && !propertyMap.cfmt_ts && (adjustedPropertyMap = adjustedPropertyMap || goog$object$clone(propertyMap), adjustedPropertyMap.cfmt_ts = docs$text$protocol$TextStyle$allInheritMap_);
  "cfmt_ps" in propertyMap && !propertyMap.cfmt_ps && (adjustedPropertyMap = adjustedPropertyMap || goog$object$clone(propertyMap), adjustedPropertyMap.cfmt_ps = docs$text$protocol$ParagraphStyle$defaultAllInheritMap_);
  "cfmt_cg" in propertyMap && !propertyMap.cfmt_cg && (adjustedPropertyMap = adjustedPropertyMap || goog$object$clone(propertyMap), adjustedPropertyMap.cfmt_cg = docs$text$protocol$CellGroup$ALL_INHERIT_MAP);
  return docs$text$protocol$CellFormat.superClass_.subsetEquals.call(this, adjustedPropertyMap || propertyMap, opt_strategy);
};
// Input 106
function docs$text$protocol$Column(propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$Column$propertyNames_);
  this.update(propertyMap);
}
goog$inherits(docs$text$protocol$Column, docs$text$protocol$Annotation);
JSCompiler_StaticMethods_getNumber(docs$flag$getInstance(), "docs-text-mcs");
var docs$text$protocol$Column$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({WIDTH_TYPE:"col_wt", WIDTH_VALUE:"col_wv"});
docs$text$protocol$Column.prototype.widthType_ = 1;
docs$text$protocol$Column.prototype.widthTypeDefined_ = !1;
docs$text$protocol$Column.prototype.widthValue_ = 0;
docs$text$protocol$Column.prototype.widthValueDefined_ = !1;
docs$text$protocol$Column.prototype.clone = function $docs$text$protocol$Column$$clone$() {
  var clone = new docs$text$protocol$Column({});
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$Column.prototype.copyToInternal = function $docs$text$protocol$Column$$copyToInternal$(other) {
  other.widthType_ = this.widthType_;
  other.widthTypeDefined_ = this.widthTypeDefined_;
  other.widthValue_ = this.widthValue_;
  other.widthValueDefined_ = this.widthValueDefined_;
};
docs$text$protocol$Column.prototype.updateInternal = function $docs$text$protocol$Column$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("col_wt" in propertyMap) {
    var value = propertyMap.col_wt;
    if (!requireDefined || this.widthTypeDefined_) {
      this.widthTypeDefined_ = !0, this.widthType_ = value;
    }
  }
  "col_wv" in propertyMap && (value = propertyMap.col_wv, !requireDefined || this.widthValueDefined_) && (this.widthValueDefined_ = !0, this.widthValue_ = value);
};
docs$text$protocol$Column.prototype.getValueInternal = function $docs$text$protocol$Column$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "col_wt":
      return this.widthType_;
    case "col_wv":
      return this.widthValue_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Column.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Column$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "col_wt":
      return this.widthTypeDefined_;
    case "col_wv":
      return this.widthValueDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Column.prototype.equalsInternal = function $docs$text$protocol$Column$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$Column && (!strategy.compareDefined_ || this.widthTypeDefined_ == other.widthTypeDefined_ && this.widthValueDefined_ == other.widthValueDefined_) ? this.widthType_ == other.widthType_ && this.widthValue_ == other.widthValue_ : !1;
};
docs$text$protocol$Column.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Column$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var propertyMap = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.widthTypeDefined_) {
    propertyMap.col_wt = this.widthType_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.widthValueDefined_) {
    propertyMap.col_wv = this.widthValue_;
  }
  return propertyMap;
};
function docs$text$protocol$Column$create(propertyMap) {
  return new docs$text$protocol$Column(propertyMap);
}
;
// Input 107
function docs$text$protocol$TableStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "tbl", docs$text$protocol$TableStyle$propertyNames_);
  this.docs_text_protocol_TableStyle$columns_ = new docs$text$protocol$Collection(new docs$text$protocol$AnnotationCollectionStrategy(docs$text$protocol$Column$create));
  this.borderColor_ = "#000000";
  this.borderColorDefined_ = !1;
  this.borderWidth_ = 1;
  this.borderWidthDefined_ = !1;
  this.docs_text_protocol_TableStyle$ltr_ = !0;
  this.docs_text_protocol_TableStyle$ltrDefined_ = !1;
  this.docs_text_protocol_TableStyle$alignment_ = 0;
  this.docs_text_protocol_TableStyle$alignmentDefined_ = !1;
  this.indent_ = 0;
  this.indentDefined_ = !1;
  this.embeddedCosmoId_ = null;
  this.embeddedCosmoIdDefined_ = !1;
  this.embeddedObjectId_ = null;
  this.enableStylingLastRowDefined_ = this.enableStylingLastRow_ = this.enableStylingLastColumnDefined_ = this.enableStylingLastColumn_ = this.enableStylingFirstRowDefined_ = this.enableStylingFirstRow_ = this.enableStylingFirstColumnDefined_ = this.enableStylingFirstColumn_ = this.enableStylingVerticalBandDefined_ = this.enableStylingVerticalBand_ = this.enableStylingHorizontalBandDefined_ = this.enableStylingHorizontalBand_ = this.embeddedObjectIdDefined_ = !1;
  this.cellFormatWholeTable_ = this.cellFormatSouthWestCell_ = this.cellFormatSouthEastCell_ = this.cellFormatNorthWestCell_ = this.cellFormatNorthEastCell_ = this.cellFormatLastRow_ = this.cellFormatLastColumn_ = this.cellFormatFirstRow_ = this.cellFormatFirstColumn_ = this.cellFormatBand2Vert_ = this.cellFormatBand2Horz_ = this.cellFormatBand1Vert_ = this.cellFormatBand1Horz_ = docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_;
  this.concreteCellStyleCache_ = null;
  opt_propertyMap && this.update(opt_propertyMap);
  this.horizontalBandingApplied_ = this.enableStylingHorizontalBand_ && (this.cellFormatBand1Horz_.docs_text_protocol_Annotation_prototype$hasOverriddenValues() || this.cellFormatBand2Horz_.docs_text_protocol_Annotation_prototype$hasOverriddenValues());
  this.verticalBandingApplied_ = this.enableStylingVerticalBand_ && (this.cellFormatBand1Vert_.docs_text_protocol_Annotation_prototype$hasOverriddenValues() || this.cellFormatBand2Vert_.docs_text_protocol_Annotation_prototype$hasOverriddenValues());
}
goog$inherits(docs$text$protocol$TableStyle, docs$text$protocol$Style);
var docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ = (new docs$text$protocol$CellFormat).setImmutable(), docs$text$protocol$TableStyle$NESTED_ANNOTATION_PROPERTY_NAMES_ = "tbls_cols tbls_cfb1h tbls_cfb1v tbls_cfb2h tbls_cfb2v tbls_cffc tbls_cffr tbls_cflc tbls_cflr tbls_cfnec tbls_cfnwc tbls_cfsec tbls_cfswc tbls_cfwt".split(" "), docs$text$protocol$TableStyle$CELL_FORMAT_MAP = {tbls_cfnwc:0, tbls_cfnec:1, tbls_cffr:2, tbls_cfswc:3, tbls_cfsec:4, tbls_cflr:5, tbls_cffc:6, tbls_cflc:7, tbls_cfb2v:8, 
tbls_cfb1v:9, tbls_cfb2h:10, tbls_cfb1h:11, tbls_cfwt:12}, docs$text$protocol$TableStyle$SORTED_CELL_FORMATS = "tbls_cfnwc tbls_cfnec tbls_cffr tbls_cfswc tbls_cfsec tbls_cflr tbls_cffc tbls_cflc tbls_cfb2v tbls_cfb1v tbls_cfb2h tbls_cfb1h tbls_cfwt".split(" "), docs$text$protocol$TableStyle$propertyNames_, nonInheritablePropertyNames$jscomp$inline_404 = "tbls_al tbls_bc tbls_bw tbls_cols tbls_in tbls_ltr tbls_esfc tbls_esfr tbls_dshb tbls_eslc tbls_eslr tbls_dsvb tbls_cfb1h tbls_cfb1v tbls_cfb2h tbls_cfb2v tbls_cffc tbls_cffr tbls_cflc tbls_cflr tbls_cfnec tbls_cfnwc tbls_cfsec tbls_cfswc tbls_cfwt".split(" ");
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-tems") && (nonInheritablePropertyNames$jscomp$inline_404.push("tbls_emcid"), nonInheritablePropertyNames$jscomp$inline_404.push("tbls_emoid"));
docs$text$protocol$TableStyle$propertyNames_ = new docs$text$protocol$PropertyNames(nonInheritablePropertyNames$jscomp$inline_404, {});
function docs$text$protocol$TableStyle$isFirstRowCellFormat(propertyName, column, numColumns) {
  return "tbls_cffr" == propertyName || "tbls_cfnec" == propertyName && column == numColumns - 1 || "tbls_cfnwc" == propertyName && 0 == column;
}
function docs$text$protocol$TableStyle$isLastRowCellFormat(propertyName, column, numColumns) {
  return "tbls_cflr" == propertyName || "tbls_cfsec" == propertyName && column == numColumns - 1 || "tbls_cfswc" == propertyName && 0 == column;
}
function docs$text$protocol$TableStyle$isFirstColumnCellFormat(propertyName, row, numRows) {
  return "tbls_cffc" == propertyName || "tbls_cfnwc" == propertyName && 0 == row || "tbls_cfswc" == propertyName && row == numRows - 1;
}
function docs$text$protocol$TableStyle$isLastColumnCellFormat(propertyName, row, numRows) {
  return "tbls_cflc" == propertyName || "tbls_cfnec" == propertyName && 0 == row || "tbls_cfsec" == propertyName && row == numRows - 1;
}
docs$text$protocol$TableStyle.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$TableStyle$$getNestedAnnotationPropertyNames$() {
  return docs$text$protocol$TableStyle$NESTED_ANNOTATION_PROPERTY_NAMES_;
};
function JSCompiler_StaticMethods_getConcreteParentCellStyle(JSCompiler_StaticMethods_getConcreteParentCellStyle$self) {
  if (JSCompiler_StaticMethods_getConcreteParentCellStyle$self.concreteCellStyleCache_) {
    return JSCompiler_StaticMethods_getConcreteParentCellStyle$self.concreteCellStyleCache_;
  }
  var borderMap = {};
  borderMap.brdr_c = JSCompiler_StaticMethods_getConcreteParentCellStyle$self.borderColor_;
  borderMap.brdr_w = JSCompiler_StaticMethods_getConcreteParentCellStyle$self.borderWidth_;
  borderMap.brdr_ls = 0;
  var cellStyleMap = {};
  cellStyleMap.cell_bl = borderMap;
  cellStyleMap.cell_bb_i = !1;
  cellStyleMap.cell_br = borderMap;
  cellStyleMap.cell_bt_i = !1;
  cellStyleMap.cell_bt = borderMap;
  cellStyleMap.cell_br_i = !1;
  cellStyleMap.cell_bb = borderMap;
  cellStyleMap.cell_bl_i = !1;
  JSCompiler_StaticMethods_getConcreteParentCellStyle$self.concreteCellStyleCache_ = (new docs$text$protocol$CellStyle(cellStyleMap)).setImmutable();
  return JSCompiler_StaticMethods_getConcreteParentCellStyle$self.concreteCellStyleCache_;
}
docs$text$protocol$TableStyle.prototype.updateInternal = function $docs$text$protocol$TableStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("tbls_bc" in propertyMap) {
    var value = propertyMap.tbls_bc;
    if (!requireDefined || this.borderColorDefined_) {
      this.borderColorDefined_ = !0, this.borderColor_ = value, this.concreteCellStyleCache_ = null;
    }
  }
  "tbls_bw" in propertyMap && (value = propertyMap.tbls_bw, !requireDefined || this.borderWidthDefined_) && (this.borderWidthDefined_ = !0, this.borderWidth_ = value, this.concreteCellStyleCache_ = null);
  "tbls_cols" in propertyMap && (value = propertyMap.tbls_cols, this.docs_text_protocol_TableStyle$columns_.update(value, opt_strategy));
  "tbls_ltr" in propertyMap && (value = propertyMap.tbls_ltr, !requireDefined || this.docs_text_protocol_TableStyle$ltrDefined_) && (this.docs_text_protocol_TableStyle$ltrDefined_ = !0, this.docs_text_protocol_TableStyle$ltr_ = value);
  "tbls_al" in propertyMap && (value = propertyMap.tbls_al, !requireDefined || this.docs_text_protocol_TableStyle$alignmentDefined_) && (this.docs_text_protocol_TableStyle$alignmentDefined_ = !0, this.docs_text_protocol_TableStyle$alignment_ = value);
  "tbls_in" in propertyMap && (value = propertyMap.tbls_in, !requireDefined || this.indentDefined_) && (this.indentDefined_ = !0, this.indent_ = value);
  "tbls_emcid" in propertyMap && (!requireDefined || this.embeddedCosmoIdDefined_) && (this.embeddedCosmoIdDefined_ = !0, this.embeddedCosmoId_ = propertyMap.tbls_emcid);
  "tbls_emoid" in propertyMap && (!requireDefined || this.embeddedObjectIdDefined_) && (this.embeddedObjectIdDefined_ = !0, this.embeddedObjectId_ = propertyMap.tbls_emoid);
  "tbls_dshb" in propertyMap && (value = propertyMap.tbls_dshb, !requireDefined || this.enableStylingHorizontalBandDefined_) && (this.enableStylingHorizontalBandDefined_ = !0, this.enableStylingHorizontalBand_ = value, JSCompiler_StaticMethods_updateHorizontalBandingApplied_(this));
  "tbls_dsvb" in propertyMap && (value = propertyMap.tbls_dsvb, !requireDefined || this.enableStylingVerticalBandDefined_) && (this.enableStylingVerticalBandDefined_ = !0, this.enableStylingVerticalBand_ = value, JSCompiler_StaticMethods_updateVerticalBandingApplied_(this));
  "tbls_esfc" in propertyMap && (value = propertyMap.tbls_esfc, !requireDefined || this.enableStylingFirstColumnDefined_) && (this.enableStylingFirstColumnDefined_ = !0, this.enableStylingFirstColumn_ = value);
  "tbls_esfr" in propertyMap && (value = propertyMap.tbls_esfr, !requireDefined || this.enableStylingFirstRowDefined_) && (this.enableStylingFirstRowDefined_ = !0, this.enableStylingFirstRow_ = value);
  "tbls_eslc" in propertyMap && (value = propertyMap.tbls_eslc, !requireDefined || this.enableStylingLastColumnDefined_) && (this.enableStylingLastColumnDefined_ = !0, this.enableStylingLastColumn_ = value);
  "tbls_eslr" in propertyMap && (value = propertyMap.tbls_eslr, !requireDefined || this.enableStylingLastRowDefined_) && (this.enableStylingLastRowDefined_ = !0, this.enableStylingLastRow_ = value);
  "tbls_cfb1h" in propertyMap && (value = propertyMap.tbls_cfb1h, this.cellFormatBand1Horz_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatBand1Horz_ = new docs$text$protocol$CellFormat), this.cellFormatBand1Horz_.update(value, opt_strategy), JSCompiler_StaticMethods_updateHorizontalBandingApplied_(this));
  "tbls_cfb1v" in propertyMap && (value = propertyMap.tbls_cfb1v, this.cellFormatBand1Vert_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatBand1Vert_ = new docs$text$protocol$CellFormat), this.cellFormatBand1Vert_.update(value, opt_strategy), JSCompiler_StaticMethods_updateVerticalBandingApplied_(this));
  "tbls_cfb2h" in propertyMap && (value = propertyMap.tbls_cfb2h, this.cellFormatBand2Horz_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatBand2Horz_ = new docs$text$protocol$CellFormat), this.cellFormatBand2Horz_.update(value, opt_strategy), JSCompiler_StaticMethods_updateHorizontalBandingApplied_(this));
  "tbls_cfb2v" in propertyMap && (value = propertyMap.tbls_cfb2v, this.cellFormatBand2Vert_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatBand2Vert_ = new docs$text$protocol$CellFormat), this.cellFormatBand2Vert_.update(value, opt_strategy), JSCompiler_StaticMethods_updateVerticalBandingApplied_(this));
  "tbls_cffc" in propertyMap && (value = propertyMap.tbls_cffc, this.cellFormatFirstColumn_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatFirstColumn_ = new docs$text$protocol$CellFormat), this.cellFormatFirstColumn_.update(value, opt_strategy));
  "tbls_cffr" in propertyMap && (value = propertyMap.tbls_cffr, this.cellFormatFirstRow_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatFirstRow_ = new docs$text$protocol$CellFormat), this.cellFormatFirstRow_.update(value, opt_strategy));
  "tbls_cflc" in propertyMap && (value = propertyMap.tbls_cflc, this.cellFormatLastColumn_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatLastColumn_ = new docs$text$protocol$CellFormat), this.cellFormatLastColumn_.update(value, opt_strategy));
  "tbls_cflr" in propertyMap && (value = propertyMap.tbls_cflr, this.cellFormatLastRow_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatLastRow_ = new docs$text$protocol$CellFormat), this.cellFormatLastRow_.update(value, opt_strategy));
  "tbls_cfnec" in propertyMap && (value = propertyMap.tbls_cfnec, this.cellFormatNorthEastCell_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatNorthEastCell_ = new docs$text$protocol$CellFormat), this.cellFormatNorthEastCell_.update(value, opt_strategy));
  "tbls_cfnwc" in propertyMap && (value = propertyMap.tbls_cfnwc, this.cellFormatNorthWestCell_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatNorthWestCell_ = new docs$text$protocol$CellFormat), this.cellFormatNorthWestCell_.update(value, opt_strategy));
  "tbls_cfsec" in propertyMap && (this.cellFormatSouthEastCell_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatSouthEastCell_ = new docs$text$protocol$CellFormat), value = propertyMap.tbls_cfsec, this.cellFormatSouthEastCell_.update(value, opt_strategy));
  "tbls_cfswc" in propertyMap && (value = propertyMap.tbls_cfswc, this.cellFormatSouthWestCell_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatSouthWestCell_ = new docs$text$protocol$CellFormat), this.cellFormatSouthWestCell_.update(value, opt_strategy));
  "tbls_cfwt" in propertyMap && (value = propertyMap.tbls_cfwt, this.cellFormatWholeTable_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ && (this.cellFormatWholeTable_ = new docs$text$protocol$CellFormat), this.cellFormatWholeTable_.update(value, opt_strategy));
};
function JSCompiler_StaticMethods_updateHorizontalBandingApplied_(JSCompiler_StaticMethods_updateHorizontalBandingApplied_$self) {
  JSCompiler_StaticMethods_updateHorizontalBandingApplied_$self.horizontalBandingApplied_ = JSCompiler_StaticMethods_updateHorizontalBandingApplied_$self.enableStylingHorizontalBand_ && (JSCompiler_StaticMethods_updateHorizontalBandingApplied_$self.cellFormatBand1Horz_.docs_text_protocol_Annotation_prototype$hasOverriddenValues() || JSCompiler_StaticMethods_updateHorizontalBandingApplied_$self.cellFormatBand2Horz_.docs_text_protocol_Annotation_prototype$hasOverriddenValues());
}
function JSCompiler_StaticMethods_updateVerticalBandingApplied_(JSCompiler_StaticMethods_updateVerticalBandingApplied_$self) {
  JSCompiler_StaticMethods_updateVerticalBandingApplied_$self.verticalBandingApplied_ = JSCompiler_StaticMethods_updateVerticalBandingApplied_$self.enableStylingVerticalBand_ && (JSCompiler_StaticMethods_updateVerticalBandingApplied_$self.cellFormatBand1Vert_.docs_text_protocol_Annotation_prototype$hasOverriddenValues() || JSCompiler_StaticMethods_updateVerticalBandingApplied_$self.cellFormatBand2Vert_.docs_text_protocol_Annotation_prototype$hasOverriddenValues());
}
docs$text$protocol$TableStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$TableStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  strategy == docs$text$protocol$SerializationStrategy$ASSUME_NO_INHERIT ? strategy = docs$text$protocol$SerializationStrategy$FULL : strategy == docs$text$protocol$SerializationStrategy$ASSUME_NO_INHERIT_ONLY_DEFINED && (strategy = docs$text$protocol$SerializationStrategy$ONLY_DEFINED);
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.borderColorDefined_) {
    serializedObj.tbls_bc = this.borderColor_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.borderWidthDefined_) {
    serializedObj.tbls_bw = this.borderWidth_;
  }
  var serializedColumns = this.docs_text_protocol_TableStyle$columns_.serialize(strategy);
  goog$object$isEmpty(serializedColumns) || (serializedObj.tbls_cols = serializedColumns);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_TableStyle$ltrDefined_) {
    serializedObj.tbls_ltr = this.docs_text_protocol_TableStyle$ltr_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_TableStyle$alignmentDefined_) {
    serializedObj.tbls_al = this.docs_text_protocol_TableStyle$alignment_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.indentDefined_) {
    serializedObj.tbls_in = this.indent_;
  }
  if (JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-tems")) {
    if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.embeddedCosmoIdDefined_) {
      serializedObj.tbls_emcid = this.embeddedCosmoId_;
    }
    if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.embeddedObjectIdDefined_) {
      serializedObj.tbls_emoid = this.embeddedObjectId_;
    }
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.enableStylingHorizontalBandDefined_) {
    serializedObj.tbls_dshb = this.enableStylingHorizontalBand_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.enableStylingVerticalBandDefined_) {
    serializedObj.tbls_dsvb = this.enableStylingVerticalBand_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.enableStylingFirstColumnDefined_) {
    serializedObj.tbls_esfc = this.enableStylingFirstColumn_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.enableStylingFirstRowDefined_) {
    serializedObj.tbls_esfr = this.enableStylingFirstRow_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.enableStylingLastColumnDefined_) {
    serializedObj.tbls_eslc = this.enableStylingLastColumn_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.enableStylingLastRowDefined_) {
    serializedObj.tbls_eslr = this.enableStylingLastRow_;
  }
  var serializedCellFormatBand1Horz = this.cellFormatBand1Horz_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatBand1Horz) && (serializedObj.tbls_cfb1h = serializedCellFormatBand1Horz);
  var serializedCellFormatBand1Vert = this.cellFormatBand1Vert_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatBand1Vert) && (serializedObj.tbls_cfb1v = serializedCellFormatBand1Vert);
  var serializedCellFormatBand2Horz = this.cellFormatBand2Horz_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatBand2Horz) && (serializedObj.tbls_cfb2h = serializedCellFormatBand2Horz);
  var serializedCellFormatBand2Vert = this.cellFormatBand2Vert_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatBand2Vert) && (serializedObj.tbls_cfb2v = serializedCellFormatBand2Vert);
  var serializedCellFormatFirstColumn = this.cellFormatFirstColumn_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatFirstColumn) && (serializedObj.tbls_cffc = serializedCellFormatFirstColumn);
  var serializedCellFormatFirstRow = this.cellFormatFirstRow_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatFirstRow) && (serializedObj.tbls_cffr = serializedCellFormatFirstRow);
  var serializedCellFormatLastColumn = this.cellFormatLastColumn_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatLastColumn) && (serializedObj.tbls_cflc = serializedCellFormatLastColumn);
  var serializedCellFormatLastRow = this.cellFormatLastRow_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatLastRow) && (serializedObj.tbls_cflr = serializedCellFormatLastRow);
  var serializedCellFormatNorthEastCell = this.cellFormatNorthEastCell_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatNorthEastCell) && (serializedObj.tbls_cfnec = serializedCellFormatNorthEastCell);
  var serializedCellFormatNorthWestCell = this.cellFormatNorthWestCell_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatNorthWestCell) && (serializedObj.tbls_cfnwc = serializedCellFormatNorthWestCell);
  var serializedCellFormatSouthEastCell = this.cellFormatSouthEastCell_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatSouthEastCell) && (serializedObj.tbls_cfsec = serializedCellFormatSouthEastCell);
  var serializedCellFormatSouthWestCell = this.cellFormatSouthWestCell_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatSouthWestCell) && (serializedObj.tbls_cfswc = serializedCellFormatSouthWestCell);
  var serializedCellFormatWholeTable = this.cellFormatWholeTable_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedCellFormatWholeTable) && (serializedObj.tbls_cfwt = serializedCellFormatWholeTable);
  return serializedObj;
};
docs$text$protocol$TableStyle.prototype.getValueInternal = function $docs$text$protocol$TableStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "tbls_bc":
      return this.borderColor_;
    case "tbls_bw":
      return this.borderWidth_;
    case "tbls_cols":
      return this.docs_text_protocol_TableStyle$columns_;
    case "tbls_ltr":
      return this.docs_text_protocol_TableStyle$ltr_;
    case "tbls_al":
      return this.docs_text_protocol_TableStyle$alignment_;
    case "tbls_in":
      return this.indent_;
    case "tbls_emcid":
      return this.embeddedCosmoId_;
    case "tbls_emoid":
      return this.embeddedObjectId_;
    case "tbls_dshb":
      return this.enableStylingHorizontalBand_;
    case "tbls_dsvb":
      return this.enableStylingVerticalBand_;
    case "tbls_esfc":
      return this.enableStylingFirstColumn_;
    case "tbls_esfr":
      return this.enableStylingFirstRow_;
    case "tbls_eslc":
      return this.enableStylingLastColumn_;
    case "tbls_eslr":
      return this.enableStylingLastRow_;
    case "tbls_cfb1h":
      return this.cellFormatBand1Horz_;
    case "tbls_cfb1v":
      return this.cellFormatBand1Vert_;
    case "tbls_cfb2h":
      return this.cellFormatBand2Horz_;
    case "tbls_cfb2v":
      return this.cellFormatBand2Vert_;
    case "tbls_cffc":
      return this.cellFormatFirstColumn_;
    case "tbls_cffr":
      return this.cellFormatFirstRow_;
    case "tbls_cflc":
      return this.cellFormatLastColumn_;
    case "tbls_cflr":
      return this.cellFormatLastRow_;
    case "tbls_cfnec":
      return this.cellFormatNorthEastCell_;
    case "tbls_cfnwc":
      return this.cellFormatNorthWestCell_;
    case "tbls_cfsec":
      return this.cellFormatSouthEastCell_;
    case "tbls_cfswc":
      return this.cellFormatSouthWestCell_;
    case "tbls_cfwt":
      return this.cellFormatWholeTable_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$TableStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$TableStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "tbls_bc":
      return this.borderColorDefined_;
    case "tbls_bw":
      return this.borderWidthDefined_;
    case "tbls_cols":
      return !0;
    case "tbls_ltr":
      return this.docs_text_protocol_TableStyle$ltrDefined_;
    case "tbls_al":
      return this.docs_text_protocol_TableStyle$alignmentDefined_;
    case "tbls_in":
      return this.indentDefined_;
    case "tbls_emcid":
      return this.embeddedCosmoIdDefined_;
    case "tbls_emoid":
      return this.embeddedObjectIdDefined_;
    case "tbls_dshb":
      return this.enableStylingHorizontalBandDefined_;
    case "tbls_dsvb":
      return this.enableStylingVerticalBandDefined_;
    case "tbls_esfc":
      return this.enableStylingFirstColumnDefined_;
    case "tbls_esfr":
      return this.enableStylingFirstRowDefined_;
    case "tbls_eslc":
      return this.enableStylingLastColumnDefined_;
    case "tbls_eslr":
      return this.enableStylingLastRowDefined_;
    case "tbls_cfb1h":
    case "tbls_cfb1v":
    case "tbls_cfb2h":
    case "tbls_cfb2v":
    case "tbls_cffc":
    case "tbls_cffr":
    case "tbls_cflc":
    case "tbls_cflr":
    case "tbls_cfnec":
    case "tbls_cfnwc":
    case "tbls_cfsec":
    case "tbls_cfswc":
    case "tbls_cfwt":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$TableStyle.prototype.equalsInternal = function $docs$text$protocol$TableStyle$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$TableStyle && (!strategy.compareDefined_ || this.borderColorDefined_ == other.borderColorDefined_ && this.borderWidthDefined_ == other.borderWidthDefined_ && this.docs_text_protocol_TableStyle$ltrDefined_ == other.docs_text_protocol_TableStyle$ltrDefined_ && this.docs_text_protocol_TableStyle$alignmentDefined_ == other.docs_text_protocol_TableStyle$alignmentDefined_ && this.indentDefined_ == other.indentDefined_ && this.embeddedCosmoIdDefined_ == other.embeddedCosmoIdDefined_ && 
  this.embeddedObjectIdDefined_ == other.embeddedObjectIdDefined_ && this.enableStylingHorizontalBandDefined_ == other.enableStylingHorizontalBandDefined_ && this.enableStylingVerticalBandDefined_ == other.enableStylingVerticalBandDefined_ && this.enableStylingFirstColumnDefined_ == other.enableStylingFirstColumnDefined_ && this.enableStylingFirstRowDefined_ == other.enableStylingFirstRowDefined_ && this.enableStylingLastColumnDefined_ == other.enableStylingLastColumnDefined_ && this.enableStylingLastRowDefined_ == 
  other.enableStylingLastRowDefined_) ? this.borderColor_ == other.borderColor_ && this.borderWidth_ == other.borderWidth_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_TableStyle$columns_, other.docs_text_protocol_TableStyle$columns_, strategy) && this.docs_text_protocol_TableStyle$ltr_ == other.docs_text_protocol_TableStyle$ltr_ && this.docs_text_protocol_TableStyle$alignment_ == other.docs_text_protocol_TableStyle$alignment_ && this.indent_ == other.indent_ && this.embeddedCosmoId_ == 
  other.embeddedCosmoId_ && this.embeddedObjectId_ == other.embeddedObjectId_ && this.enableStylingHorizontalBand_ == other.enableStylingHorizontalBand_ && this.enableStylingVerticalBand_ == other.enableStylingVerticalBand_ && this.enableStylingFirstColumn_ == other.enableStylingFirstColumn_ && this.enableStylingFirstRow_ == other.enableStylingFirstRow_ && this.enableStylingLastColumn_ == other.enableStylingLastColumn_ && this.enableStylingLastRow_ == other.enableStylingLastRow_ && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatBand1Horz_, 
  other.cellFormatBand1Horz_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatBand1Vert_, other.cellFormatBand1Vert_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatBand2Horz_, other.cellFormatBand2Horz_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatBand2Vert_, other.cellFormatBand2Vert_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatFirstColumn_, other.cellFormatFirstColumn_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatFirstRow_, 
  other.cellFormatFirstRow_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatLastColumn_, other.cellFormatLastColumn_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatLastRow_, other.cellFormatLastRow_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatNorthEastCell_, other.cellFormatNorthEastCell_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatNorthWestCell_, other.cellFormatNorthWestCell_, strategy) && 
  JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatSouthEastCell_, other.cellFormatSouthEastCell_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatSouthWestCell_, other.cellFormatSouthWestCell_, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.cellFormatWholeTable_, other.cellFormatWholeTable_, strategy) : !1;
};
docs$text$protocol$TableStyle.prototype.isNestedAnnotation = function $docs$text$protocol$TableStyle$$isNestedAnnotation$(propertyName) {
  switch(propertyName) {
    case "tbls_cols":
    case "tbls_cfb1h":
    case "tbls_cfb1v":
    case "tbls_cfb2h":
    case "tbls_cfb2v":
    case "tbls_cffc":
    case "tbls_cffr":
    case "tbls_cflc":
    case "tbls_cflr":
    case "tbls_cfnec":
    case "tbls_cfnwc":
    case "tbls_cfsec":
    case "tbls_cfswc":
    case "tbls_cfwt":
      return !0;
  }
  return !1;
};
docs$text$protocol$TableStyle.prototype.clone = function $docs$text$protocol$TableStyle$$clone$() {
  var tableStyle = new docs$text$protocol$TableStyle;
  this.copyTo(tableStyle);
  return tableStyle;
};
docs$text$protocol$TableStyle.prototype.copyToInternal = function $docs$text$protocol$TableStyle$$copyToInternal$(other) {
  other.docs_text_protocol_TableStyle$columns_ = this.docs_text_protocol_TableStyle$columns_.clone();
  other.borderColor_ = this.borderColor_;
  other.borderColorDefined_ = this.borderColorDefined_;
  other.borderWidth_ = this.borderWidth_;
  other.borderWidthDefined_ = this.borderWidthDefined_;
  other.docs_text_protocol_TableStyle$ltr_ = this.docs_text_protocol_TableStyle$ltr_;
  other.docs_text_protocol_TableStyle$ltrDefined_ = this.docs_text_protocol_TableStyle$ltrDefined_;
  other.docs_text_protocol_TableStyle$alignment_ = this.docs_text_protocol_TableStyle$alignment_;
  other.docs_text_protocol_TableStyle$alignmentDefined_ = this.docs_text_protocol_TableStyle$alignmentDefined_;
  other.indent_ = this.indent_;
  other.indentDefined_ = this.indentDefined_;
  other.embeddedCosmoId_ = this.embeddedCosmoId_;
  other.embeddedCosmoIdDefined_ = this.embeddedCosmoIdDefined_;
  other.embeddedObjectId_ = this.embeddedObjectId_;
  other.embeddedObjectIdDefined_ = this.embeddedObjectIdDefined_;
  other.enableStylingHorizontalBand_ = this.enableStylingHorizontalBand_;
  other.enableStylingHorizontalBandDefined_ = this.enableStylingHorizontalBandDefined_;
  other.enableStylingVerticalBand_ = this.enableStylingVerticalBand_;
  other.enableStylingVerticalBandDefined_ = this.enableStylingVerticalBandDefined_;
  other.enableStylingFirstColumn_ = this.enableStylingFirstColumn_;
  other.enableStylingFirstColumnDefined_ = this.enableStylingFirstColumnDefined_;
  other.enableStylingFirstRow_ = this.enableStylingFirstRow_;
  other.enableStylingFirstRowDefined_ = this.enableStylingFirstRowDefined_;
  other.enableStylingLastColumn_ = this.enableStylingLastColumn_;
  other.enableStylingLastColumnDefined_ = this.enableStylingLastColumnDefined_;
  other.enableStylingLastRow_ = this.enableStylingLastRow_;
  other.enableStylingLastRowDefined_ = this.enableStylingLastRowDefined_;
  other.cellFormatBand1Horz_ = this.cellFormatBand1Horz_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatBand1Horz_ : this.cellFormatBand1Horz_.clone();
  other.cellFormatBand1Vert_ = this.cellFormatBand1Vert_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatBand1Vert_ : this.cellFormatBand1Vert_.clone();
  other.cellFormatBand2Horz_ = this.cellFormatBand2Horz_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatBand2Horz_ : this.cellFormatBand2Horz_.clone();
  other.cellFormatBand2Vert_ = this.cellFormatBand2Vert_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatBand2Vert_ : this.cellFormatBand2Vert_.clone();
  other.cellFormatFirstColumn_ = this.cellFormatFirstColumn_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatFirstColumn_ : this.cellFormatFirstColumn_.clone();
  other.cellFormatFirstRow_ = this.cellFormatFirstRow_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatFirstRow_ : this.cellFormatFirstRow_.clone();
  other.cellFormatLastColumn_ = this.cellFormatLastColumn_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatLastColumn_ : this.cellFormatLastColumn_.clone();
  other.cellFormatLastRow_ = this.cellFormatLastRow_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatLastRow_ : this.cellFormatLastRow_.clone();
  other.cellFormatWholeTable_ = this.cellFormatWholeTable_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatWholeTable_ : this.cellFormatWholeTable_.clone();
  other.cellFormatNorthEastCell_ = this.cellFormatNorthEastCell_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatNorthEastCell_ : this.cellFormatNorthEastCell_.clone();
  other.cellFormatNorthWestCell_ = this.cellFormatNorthWestCell_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatNorthWestCell_ : this.cellFormatNorthWestCell_.clone();
  other.cellFormatSouthEastCell_ = this.cellFormatSouthEastCell_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatSouthEastCell_ : this.cellFormatSouthEastCell_.clone();
  other.cellFormatSouthWestCell_ = this.cellFormatSouthWestCell_ == docs$text$protocol$TableStyle$IMMUTABLE_CELL_FORMAT_ ? this.cellFormatSouthWestCell_ : this.cellFormatSouthWestCell_.clone();
  other.concreteCellStyleCache_ = this.concreteCellStyleCache_ ? this.concreteCellStyleCache_.clone() : null;
  other.horizontalBandingApplied_ = this.horizontalBandingApplied_;
  other.verticalBandingApplied_ = this.verticalBandingApplied_;
};
function JSCompiler_StaticMethods_isCellFormatEnabled(JSCompiler_StaticMethods_isCellFormatEnabled$self, propertyName) {
  switch(propertyName) {
    case "tbls_cfb1v":
    case "tbls_cfb2v":
      return JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingVerticalBand_;
    case "tbls_cfb1h":
    case "tbls_cfb2h":
      return JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingHorizontalBand_;
    case "tbls_cffr":
      return JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingFirstRow_;
    case "tbls_cflr":
      return JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingLastRow_;
    case "tbls_cffc":
      return JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingFirstColumn_;
    case "tbls_cflc":
      return JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingLastColumn_;
    case "tbls_cfnwc":
      return JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingFirstRow_ && JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingFirstColumn_;
    case "tbls_cfnec":
      return JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingFirstRow_ && JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingLastColumn_;
    case "tbls_cfswc":
      return JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingLastRow_ && JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingFirstColumn_;
    case "tbls_cfsec":
      return JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingLastRow_ && JSCompiler_StaticMethods_isCellFormatEnabled$self.enableStylingLastColumn_;
    case "tbls_cfwt":
      return !0;
    default:
      throw Error("Invalid cell format property " + propertyName);
  }
}
var docs$text$protocol$TableStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("tbl", function() {
  return new docs$text$protocol$TableStyle;
}, function() {
  return docs$text$protocol$TableStyle$propertyNames_;
});
// Input 108
function docs$text$protocol$VoiceCorrectionsStyle(opt_propertyMap) {
  docs$text$protocol$StringCollectionStyle.call(this, "vcs_c", "voice_corrections", docs$text$protocol$VoiceCorrectionsStyle$propertyNames_, opt_propertyMap);
}
goog$inherits(docs$text$protocol$VoiceCorrectionsStyle, docs$text$protocol$StringCollectionStyle);
var docs$text$protocol$VoiceCorrectionsStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({CORRECTIONS:"vcs_c"});
docs$text$protocol$VoiceCorrectionsStyle.prototype.clone = function $docs$text$protocol$VoiceCorrectionsStyle$$clone$() {
  var clone = new docs$text$protocol$VoiceCorrectionsStyle;
  this.copyTo(clone);
  return clone;
};
var docs$text$protocol$VoiceCorrectionsStyle$DEFAULT_STYLE_SPEC = new docs$text$protocol$DefaultStyleSpec("voice_corrections", function() {
  return new docs$text$protocol$VoiceCorrectionsStyle;
}, function() {
  return docs$text$protocol$VoiceCorrectionsStyle$propertyNames_;
});
// Input 109
function docs$text$protocol$VoiceDottedSpanStyle(opt_propertyMap) {
  docs$text$protocol$Style.call(this, "voice_dotted_span", docs$text$protocol$VoiceDottedSpanStyle$propertyNames_);
  this.phrase_ = null;
  this.phraseDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$VoiceDottedSpanStyle, docs$text$protocol$Style);
var docs$text$protocol$VoiceDottedSpanStyle$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({PHRASE:"vdss_p"});
docs$text$protocol$VoiceDottedSpanStyle.prototype.updateInternal = function $docs$text$protocol$VoiceDottedSpanStyle$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("vdss_p" in propertyMap) {
    var value = propertyMap.vdss_p;
    if (!requireDefined || this.phraseDefined_) {
      this.phraseDefined_ = !0, this.phrase_ = value;
    }
  }
};
docs$text$protocol$VoiceDottedSpanStyle.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$VoiceDottedSpanStyle$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.phraseDefined_) {
    serializedObj.vdss_p = this.phrase_;
  }
  return serializedObj;
};
docs$text$protocol$VoiceDottedSpanStyle.prototype.getValueInternal = function $docs$text$protocol$VoiceDottedSpanStyle$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "vdss_p":
      return this.phrase_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$VoiceDottedSpanStyle.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$VoiceDottedSpanStyle$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "vdss_p":
      return this.phraseDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$VoiceDottedSpanStyle.prototype.equalsInternal = function $docs$text$protocol$VoiceDottedSpanStyle$$equalsInternal$(other, strategy) {
  return !(other instanceof docs$text$protocol$VoiceDottedSpanStyle) || strategy.compareDefined_ && this.phraseDefined_ != other.phraseDefined_ ? !1 : this.phrase_ == other.phrase_;
};
docs$text$protocol$VoiceDottedSpanStyle.prototype.clone = function $docs$text$protocol$VoiceDottedSpanStyle$$clone$() {
  var clone = new docs$text$protocol$VoiceDottedSpanStyle;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$VoiceDottedSpanStyle.prototype.copyToInternal = function $docs$text$protocol$VoiceDottedSpanStyle$$copyToInternal$(other) {
  other.phrase_ = this.phrase_;
  other.phraseDefined_ = this.phraseDefined_;
};
// Input 110
var docs$text$protocol$Styles$ALL_STYLES = {autogen:docs$text$protocol$AutogenRegionStyle$DEFAULT_STYLE_SPEC, cell:docs$text$protocol$CellStyle$DEFAULT_STYLE_SPEC, column_sector:docs$text$protocol$ColumnSectorStyle$DEFAULT_STYLE_SPEC, comment:docs$text$protocol$CommentStyle$DEFAULT_STYLE_SPEC, composing_decoration:docs$text$protocol$ComposingDecorationStyle$DEFAULT_STYLE_SPEC, composing_region:docs$text$protocol$ComposingRegionStyle$DEFAULT_STYLE_SPEC, date_time:docs$text$protocol$DateTimeStyle$DEFAULT_STYLE_SPEC, 
document:docs$text$protocol$DocumentStyle$DEFAULT_STYLE_SPEC, draft_comment:docs$text$protocol$DraftCommentStyle$DEFAULT_STYLE_SPEC, equation:docs$text$protocol$EquationStyle$DEFAULT_STYLE_SPEC, equation_function:docs$text$protocol$EquationFunctionStyle$DEFAULT_STYLE_SPEC, footnote:docs$text$protocol$FootnoteStyle$DEFAULT_STYLE_SPEC, headings:docs$text$protocol$HeadingsStyle$DEFAULT_STYLE_SPEC, horizontal_rule:docs$text$protocol$HorizontalRuleStyle$DEFAULT_STYLE_SPEC, ignore_word:docs$text$protocol$IgnoreWordStyle$DEFAULT_STYLE_SPEC, 
import_warnings:docs$text$protocol$ImportWarningsStyle$DEFAULT_STYLE_SPEC, link:docs$text$protocol$LinkStyle$DEFAULT_STYLE_SPEC, list:docs$text$protocol$ListStyle$DEFAULT_STYLE_SPEC, language:docs$text$protocol$LocaleStyle$DEFAULT_STYLE_SPEC, named_range:docs$text$protocol$NamedRangeStyle$DEFAULT_STYLE_SPEC, paragraph:docs$text$protocol$ParagraphStyle$DEFAULT_STYLE_SPEC, revision_diff:docs$text$protocol$RevisionDiffStyle$DEFAULT_STYLE_SPEC, row:docs$text$protocol$RowStyle$DEFAULT_STYLE_SPEC, smart_todo:docs$text$protocol$SmartTodoStyle$DEFAULT_STYLE_SPEC, 
spellcheck:docs$text$protocol$SpellcheckStyle$DEFAULT_STYLE_SPEC, suppress_feature:docs$text$protocol$SuppressFeatureStyle$DEFAULT_STYLE_SPEC, tbl:docs$text$protocol$TableStyle$DEFAULT_STYLE_SPEC, text:docs$text$protocol$TextStyle$DEFAULT_STYLE_SPEC, voice_corrections:docs$text$protocol$VoiceCorrectionsStyle$DEFAULT_STYLE_SPEC, voice_dotted_span:new docs$text$protocol$DefaultStyleSpec("voice_dotted_span", function() {
  return new docs$text$protocol$VoiceDottedSpanStyle;
}, function() {
  return docs$text$protocol$VoiceDottedSpanStyle$propertyNames_;
})};
// Input 111
function kix$model$DefaultStylesProviderFactory$create() {
  var disabledStyles = [];
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-evt") || (disabledStyles.push("voice_corrections"), disabledStyles.push("voice_dotted_span"));
  for (var enabledStyleProviders = [], i = 0;i < docs$text$protocol$StyleType$ALL_STYLES.length;i++) {
    var styleType = docs$text$protocol$StyleType$ALL_STYLES[i];
    goog$array$contains(disabledStyles, styleType) || enabledStyleProviders.push(docs$text$protocol$Styles$ALL_STYLES[styleType]);
  }
  for (var enabledStyleSpecsMap = {}, i$jscomp$0 = 0;i$jscomp$0 < enabledStyleProviders.length;i$jscomp$0++) {
    var styleSpec = enabledStyleProviders[i$jscomp$0];
    enabledStyleSpecsMap[styleSpec.docs_text_protocol_DefaultStyleSpec$styleType_] = styleSpec;
    for (var propertyNames = styleSpec.propertyNamesProvider_().allPropertyNames_, defaultStyle = styleSpec.docs_text_protocol_DefaultStyleSpec$styleProvider_(), j = 0;j < propertyNames.length;j++) {
      defaultStyle.isNestedAnnotation(propertyNames[j]) || goog$asserts$assert(!defaultStyle.docs_text_protocol_Annotation_prototype$isDefined(propertyNames[j]), "Should not have defined properties in a default style.");
    }
  }
  return new docs$text$protocol$DefaultStylesProvider(enabledStyleSpecsMap);
}
;
// Input 112
// Input 113
function docs$table$model$TableCellReference(row, column) {
  if (0 > row) {
    throw Error("Row should be >= 0, was: " + row);
  }
  if (0 > column) {
    throw Error("Column should be >= 0, was: " + column);
  }
  this.docs_table_model_TableCellReference$row_ = row;
  this.docs_table_model_TableCellReference$column_ = column;
}
docs$table$model$TableCellReference.prototype.equals = function $docs$table$model$TableCellReference$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$table$model$TableCellReference ? this.docs_table_model_TableCellReference$row_ == other.docs_table_model_TableCellReference$row_ && this.docs_table_model_TableCellReference$column_ == other.docs_table_model_TableCellReference$column_ : !1;
};
docs$table$model$TableCellReference.prototype.toString = function $docs$table$model$TableCellReference$$toString$() {
  return '{"row":' + this.docs_table_model_TableCellReference$row_ + ',"column":' + this.docs_table_model_TableCellReference$column_ + "}";
};
// Input 114
function docs$text$model$StyleUtil$copyInheritedPropertyTo(destinationStyle, propertyName, value) {
  var companionInheritPropertyName = destinationStyle.propertyNames_.inheritablePropertyBimap_.get(propertyName) || null;
  if (companionInheritPropertyName && destinationStyle.getValue(companionInheritPropertyName)) {
    var updateMap = {};
    updateMap[propertyName] = value;
    updateMap[companionInheritPropertyName] = !1;
    destinationStyle.update(updateMap);
  }
}
function docs$text$model$StyleUtil$copyInheritedConcretePropertiesTo(sourceStyle, destinationStyle) {
  for (var propertyNames = destinationStyle.propertyNames_, companionInheritPropertyNames = propertyNames.companionInheritPropertyNames_, updateMap = {}, i = 0;i < companionInheritPropertyNames.length;i++) {
    var companionInheritPropertyName = companionInheritPropertyNames[i];
    if (destinationStyle.getValue(companionInheritPropertyName) && !sourceStyle.getValue(companionInheritPropertyName)) {
      updateMap[companionInheritPropertyName] = !1;
      var inheritablePropertyName, companionInheritPropertyName$jscomp$0 = companionInheritPropertyName;
      inheritablePropertyName = JSCompiler_StaticMethods_inverseBimap(propertyNames.inheritablePropertyBimap_).get(companionInheritPropertyName$jscomp$0) || null;
      updateMap[inheritablePropertyName] = sourceStyle.getValue(inheritablePropertyName);
    }
  }
  destinationStyle.update(updateMap);
}
function docs$text$model$StyleUtil$getTableStylePropertyNames(tableStyle, rowIndex, colIndex, numRows, numCols) {
  var propertyNames = ["tbls_cfwt"], includeFirstRow = tableStyle.enableStylingFirstRow_ && 0 == rowIndex, includeLastRow = tableStyle.enableStylingLastRow_ && rowIndex == numRows - 1, includeFirstColumn = tableStyle.enableStylingFirstColumn_ && 0 == colIndex, includeLastColumn = tableStyle.enableStylingLastColumn_ && colIndex == numCols - 1;
  tableStyle.horizontalBandingApplied_ && !includeFirstRow && (rowIndex % 2 == (tableStyle.enableStylingFirstRow_ ? 1 : 0) ? propertyNames.push("tbls_cfb1h") : propertyNames.push("tbls_cfb2h"));
  tableStyle.verticalBandingApplied_ && !includeFirstColumn && (colIndex % 2 == (tableStyle.enableStylingFirstColumn_ ? 1 : 0) ? propertyNames.push("tbls_cfb1v") : propertyNames.push("tbls_cfb2v"));
  includeFirstRow && (propertyNames.push("tbls_cffr"), includeFirstColumn && propertyNames.push("tbls_cfnwc"), includeLastColumn && propertyNames.push("tbls_cfnec"));
  includeLastRow && (propertyNames.push("tbls_cflr"), includeFirstColumn && propertyNames.push("tbls_cfswc"), includeLastColumn && propertyNames.push("tbls_cfsec"));
  includeFirstColumn && propertyNames.push("tbls_cffc");
  includeLastColumn && propertyNames.push("tbls_cflc");
  goog$array$sort(propertyNames, function(name1, name2) {
    return docs$text$protocol$TableStyle$CELL_FORMAT_MAP[name1] - docs$text$protocol$TableStyle$CELL_FORMAT_MAP[name2];
  });
  return propertyNames;
}
function docs$text$model$StyleUtil$getConcreteStyleThroughHeadingsAndTableStyle(rawStyleProvider, tableState, spacerIndex, styleType, headingNum) {
  goog$asserts$assert("text" == styleType || "paragraph" == styleType);
  var parentStyle = null;
  if (JSCompiler_StaticMethods_getTable(tableState, spacerIndex)) {
    var table = JSCompiler_StaticMethods_getTable(tableState, spacerIndex), tableStyle = rawStyleProvider.getRawTetheredStyle("tbl", table.docs_text_model_MutableSpacersTable$startIndex_);
    if (tableStyle && tableStyle.docs_text_protocol_Annotation_prototype$hasOverriddenValues()) {
      var styleToResolve;
      switch(styleType) {
        case "text":
          styleToResolve = docs$text$protocol$TextStyle$defaultAllInherit_.clone();
          break;
        case "paragraph":
          styleToResolve = docs$text$protocol$ParagraphStyle$createWithDefaultAllInherit();
          break;
        default:
          throw Error("Invalid type " + styleType);
      }
      var table$jscomp$0 = JSCompiler_StaticMethods_getTable(tableState, spacerIndex);
      if (table$jscomp$0) {
        var cellReference = JSCompiler_StaticMethods_getTableLocation(table$jscomp$0, spacerIndex);
        if (cellReference) {
          for (var tableStylePropertyNames = docs$text$model$StyleUtil$getTableStylePropertyNames(tableStyle, cellReference.docs_table_model_TableCellReference$row_, cellReference.docs_table_model_TableCellReference$column_, JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table$jscomp$0), JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table$jscomp$0)), i = 0;i < tableStylePropertyNames.length;i++) {
            var cellFormat = tableStyle.getValue(tableStylePropertyNames[i]);
            if (cellFormat.docs_text_protocol_Annotation_prototype$hasOverriddenValues()) {
              var parentStyle$jscomp$0 = "text" == styleType ? cellFormat.textStyleReference_.get() : cellFormat.paragraphStyleReference_.get();
              docs$text$model$StyleUtil$copyInheritedConcretePropertiesTo(parentStyle$jscomp$0, styleToResolve);
            }
          }
        }
      }
      parentStyle = styleToResolve;
    }
  }
  var headingsStyle = rawStyleProvider.getHeadingsStyle(), styleToReturn;
  if (parentStyle) {
    var styleResolvedFromHeadingToTable;
    0 == headingNum ? styleResolvedFromHeadingToTable = parentStyle : (styleResolvedFromHeadingToTable = JSCompiler_StaticMethods_docs_text_protocol_StylesDef_prototype$getStyle(headingsStyle.getValue(docs$text$protocol$HeadingsStyle$getHeadingPropertyName(headingNum)), styleType).clone(), docs$text$model$StyleUtil$copyInheritedConcretePropertiesTo(parentStyle, styleResolvedFromHeadingToTable));
    var normalStyleFromHeading = JSCompiler_StaticMethods_getNormalStyle(headingsStyle, styleType);
    styleToReturn = JSCompiler_StaticMethods_getConcreteCopy(styleResolvedFromHeadingToTable, normalStyleFromHeading);
  } else {
    var cachedHeadingStyle = headingsStyle.inheritedStylesCache_[headingNum][styleType];
    if (cachedHeadingStyle) {
      styleToReturn = cachedHeadingStyle;
    } else {
      var normalStyle = JSCompiler_StaticMethods_getNormalStyle(headingsStyle, styleType);
      if (0 == headingNum) {
        styleToReturn = normalStyle;
      } else {
        var JSCompiler_inline_result;
        JSCompiler_inline_result = JSCompiler_StaticMethods_docs_text_protocol_StylesDef_prototype$getStyle(headingsStyle.getValue(docs$text$protocol$HeadingsStyle$getHeadingPropertyName(headingNum)), styleType);
        var headingStyle = JSCompiler_StaticMethods_getConcreteCopy(JSCompiler_inline_result, normalStyle);
        styleToReturn = headingsStyle.inheritedStylesCache_[headingNum][styleType] = headingStyle;
      }
    }
  }
  return "text" == styleType ? styleToReturn : styleToReturn;
}
function docs$text$model$StyleUtil$getParagraphIndicesInCells(rawStyleProvider, table$jscomp$0, cellMarkers) {
  for (var paragraphMarkers = [], paragraphIndices = rawStyleProvider.getRawSortedStyleKeys("paragraph"), i = 0;i < paragraphIndices.length;i++) {
    var index = paragraphIndices[i], JSCompiler_inline_result;
    var cellMarkers$jscomp$0 = cellMarkers, table = table$jscomp$0;
    if (index < table.docs_text_model_MutableSpacersTable$startIndex_ || index > table.docs_text_model_MutableSpacersTable$endIndex_) {
      JSCompiler_inline_result = !1;
    } else {
      var tableLocation = JSCompiler_StaticMethods_getTableLocation(table, index);
      if (tableLocation) {
        var cellIndex = JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getCellStartIndex(table, tableLocation);
        JSCompiler_inline_result = 0 <= goog$array$binarySearch(cellMarkers$jscomp$0, cellIndex);
      } else {
        JSCompiler_inline_result = !1;
      }
    }
    if (JSCompiler_inline_result) {
      paragraphMarkers.push(index);
    } else {
      if (index > cellMarkers[cellMarkers.length - 1]) {
        break;
      }
    }
  }
  return paragraphMarkers;
}
function docs$text$model$StyleUtil$calculateAdjacentCellIndices_(table, cellReference) {
  var cells = [], row = cellReference.docs_table_model_TableCellReference$row_, column = cellReference.docs_table_model_TableCellReference$column_;
  if (docs$text$model$StyleUtil$isWithinTableBounds_(table, row - 1, column)) {
    var topCell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row - 1, column);
    topCell && cells.push(topCell);
  }
  if (docs$text$model$StyleUtil$isWithinTableBounds_(table, row, column + 1)) {
    var rightCell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row, column + 1);
    rightCell && cells.push(rightCell);
  }
  if (docs$text$model$StyleUtil$isWithinTableBounds_(table, row + 1, column)) {
    var bottomCell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row + 1, column);
    bottomCell && cells.push(bottomCell);
  }
  if (docs$text$model$StyleUtil$isWithinTableBounds_(table, row, column - 1)) {
    var leftCell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row, column - 1);
    leftCell && cells.push(leftCell);
  }
  for (var cellIndices = [], i = 0;i < cells.length;i++) {
    cellIndices.push(cells[i].cellStart_);
  }
  return cellIndices;
}
function docs$text$model$StyleUtil$getCellIndicesInRowsAfter_(table, rowIndex) {
  for (var cellIndices = [], numRows = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table), i = rowIndex + 1;i < numRows;i++) {
    for (var cells = JSCompiler_StaticMethods_getCellsInRow(table, i), j = 0;j < cells.length;j++) {
      cells[j] && cellIndices.push(cells[j].cellStart_);
    }
  }
  return cellIndices;
}
function docs$text$model$StyleUtil$getCellIndicesInColumnsAfter_(table, columnIndex) {
  for (var cellIndices = [], numColumns = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table), i = columnIndex + 1;i < numColumns;i++) {
    for (var cells = JSCompiler_StaticMethods_getCellsInColumn(table, i), j = 0;j < cells.length;j++) {
      cells[j] && cellIndices.push(cells[j].cellStart_);
    }
  }
  return cellIndices;
}
function docs$text$model$StyleUtil$isWithinTableBounds_(table, row, column) {
  return 0 <= row && row < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table) && 0 <= column && column < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table);
}
function docs$text$model$StyleUtil$calculateDeletedCellLocation_(deleteIndex, rawStyleProvider, table) {
  var numRows = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table), numCols = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table);
  if (0 == numRows || 0 == numCols) {
    return null;
  }
  if (deleteIndex == table.docs_text_model_MutableSpacersTable$endIndex_) {
    return new docs$table$model$TableCellReference(numRows - 1, numCols - 1);
  }
  if (rawStyleProvider.getRawTetheredStyle("row", deleteIndex)) {
    var nextRow = JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowIndex(table, deleteIndex);
    return new docs$table$model$TableCellReference(nextRow - 1, 1 == nextRow ? numCols : numCols - 1);
  }
  return JSCompiler_StaticMethods_getTableLocation(table, deleteIndex);
}
function docs$text$model$StyleUtil$calculateColumnIndices_(table, columnIndex) {
  var cellIndices = [];
  if (0 > columnIndex || columnIndex > JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table) - 1) {
    return cellIndices;
  }
  for (var column = JSCompiler_StaticMethods_getCellsInColumn(table, columnIndex), i = 0;i < column.length;i++) {
    var cell = column[i];
    cell && cellIndices.push(cell.cellStart_);
  }
  return cellIndices;
}
function docs$text$model$StyleUtil$calculateRowIndices_(table, rowIndex) {
  var cellIndices = [];
  if (0 > rowIndex || rowIndex > JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table) - 1) {
    return cellIndices;
  }
  for (var row = JSCompiler_StaticMethods_getCellsInRow(table, rowIndex), i = 0;i < row.length;i++) {
    var cell = row[i];
    cell && cellIndices.push(cell.cellStart_);
  }
  return cellIndices;
}
;
// Input 115
// Input 116
// Input 117
function goog$Disposable() {
  this.disposed_ = this.disposed_;
  this.onDisposeCallbacks_ = this.onDisposeCallbacks_;
}
goog$Disposable.prototype.disposed_ = !1;
goog$Disposable.prototype.dispose = function $goog$Disposable$$dispose$() {
  this.disposed_ || (this.disposed_ = !0, this.disposeInternal());
};
function JSCompiler_StaticMethods_registerDisposable(JSCompiler_StaticMethods_registerDisposable$self, disposable) {
  var callback = goog$partial(goog$dispose, disposable);
  JSCompiler_StaticMethods_registerDisposable$self.disposed_ ? goog$isDef(void 0) ? callback.call(void 0) : callback() : (JSCompiler_StaticMethods_registerDisposable$self.onDisposeCallbacks_ || (JSCompiler_StaticMethods_registerDisposable$self.onDisposeCallbacks_ = []), JSCompiler_StaticMethods_registerDisposable$self.onDisposeCallbacks_.push(goog$isDef(void 0) ? goog$bind(callback, void 0) : callback));
}
goog$Disposable.prototype.disposeInternal = function $goog$Disposable$$disposeInternal$() {
  if (this.onDisposeCallbacks_) {
    for (;this.onDisposeCallbacks_.length;) {
      this.onDisposeCallbacks_.shift()();
    }
  }
};
function goog$dispose(obj) {
  obj && "function" == typeof obj.dispose && obj.dispose();
}
function goog$disposeAll(var_args) {
  for (var i = 0, len = arguments.length;i < len;++i) {
    var disposable = arguments[i];
    goog$isArrayLike(disposable) ? goog$disposeAll.apply(null, disposable) : goog$dispose(disposable);
  }
}
;
// Input 118
// Input 119
function goog$events$Event(type, opt_target) {
  this.type = type;
  this.goog_events_Event$currentTarget = this.target = opt_target;
  this.propagationStopped_ = !1;
  this.returnValue_ = !0;
}
goog$events$Event.prototype.stopPropagation = function $goog$events$Event$$stopPropagation$() {
  this.propagationStopped_ = !0;
};
goog$events$Event.prototype.goog_events_Event_prototype$preventDefault = function $goog$events$Event$$goog_events_Event_prototype$preventDefault$() {
  this.returnValue_ = !1;
};
// Input 120
var goog$debug$entryPointRegistry$refList_ = [], goog$debug$entryPointRegistry$monitors_ = [], goog$debug$entryPointRegistry$monitorsMayExist_ = !1;
function goog$debug$entryPointRegistry$register(callback) {
  goog$debug$entryPointRegistry$refList_[goog$debug$entryPointRegistry$refList_.length] = callback;
  if (goog$debug$entryPointRegistry$monitorsMayExist_) {
    for (var i = 0;i < goog$debug$entryPointRegistry$monitors_.length;i++) {
      callback(goog$bind(goog$debug$entryPointRegistry$monitors_[i].wrap, goog$debug$entryPointRegistry$monitors_[i]));
    }
  }
}
;
// Input 121
goog$userAgent$isVersionOrHigher();
goog$userAgent$isVersionOrHigher();
// Input 122
// Input 123
function goog$events$BrowserEvent(opt_e, opt_currentTarget) {
  goog$events$Event.call(this, opt_e ? opt_e.type : "");
  this.goog_events_Event$currentTarget = this.target = null;
  this.screenY = this.screenX = 0;
  this.event_ = this.state = null;
  if (opt_e) {
    this.type = opt_e.type;
    var relevantTouch = opt_e.changedTouches ? opt_e.changedTouches[0] : null;
    this.target = opt_e.target || opt_e.srcElement;
    this.goog_events_Event$currentTarget = opt_currentTarget;
    null === relevantTouch ? (this.screenX = opt_e.screenX || 0, this.screenY = opt_e.screenY || 0) : (this.screenX = relevantTouch.screenX || 0, this.screenY = relevantTouch.screenY || 0);
    this.state = opt_e.state;
    this.event_ = opt_e;
    opt_e.defaultPrevented && this.goog_events_Event_prototype$preventDefault();
  }
}
goog$inherits(goog$events$BrowserEvent, goog$events$Event);
goog$events$BrowserEvent.prototype.stopPropagation = function $goog$events$BrowserEvent$$stopPropagation$() {
  goog$events$BrowserEvent.superClass_.stopPropagation.call(this);
  this.event_.stopPropagation ? this.event_.stopPropagation() : this.event_.cancelBubble = !0;
};
goog$events$BrowserEvent.prototype.goog_events_Event_prototype$preventDefault = function $goog$events$BrowserEvent$$goog_events_Event_prototype$preventDefault$() {
  goog$events$BrowserEvent.superClass_.goog_events_Event_prototype$preventDefault.call(this);
  var be = this.event_;
  be.preventDefault ? be.preventDefault() : be.returnValue = !1;
};
// Input 124
function goog$events$Listenable() {
}
var goog$events$Listenable$IMPLEMENTED_BY_PROP = "closure_listenable_" + (1e6 * Math.random() | 0);
function goog$events$Listenable$isImplementedBy(obj) {
  return !(!obj || !obj[goog$events$Listenable$IMPLEMENTED_BY_PROP]);
}
var goog$events$ListenableKey$counter_ = 0;
// Input 125
function goog$events$Listener(listener, src, type, capture, opt_handler) {
  this.listener = listener;
  this.proxy = null;
  this.src = src;
  this.type = type;
  this.capture = !!capture;
  this.handler = opt_handler;
  this.key = ++goog$events$ListenableKey$counter_;
  this.removed = this.callOnce = !1;
}
function JSCompiler_StaticMethods_markAsRemoved(JSCompiler_StaticMethods_markAsRemoved$self) {
  JSCompiler_StaticMethods_markAsRemoved$self.removed = !0;
  JSCompiler_StaticMethods_markAsRemoved$self.listener = null;
  JSCompiler_StaticMethods_markAsRemoved$self.proxy = null;
  JSCompiler_StaticMethods_markAsRemoved$self.src = null;
  JSCompiler_StaticMethods_markAsRemoved$self.handler = null;
}
;
// Input 126
function goog$events$ListenerMap(src) {
  this.src = src;
  this.listeners = {};
  this.typeCount_ = 0;
}
function JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$add(JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$add$self, type, listener, callOnce, opt_useCapture, opt_listenerScope) {
  var typeStr = type.toString(), listenerArray = JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$add$self.listeners[typeStr];
  listenerArray || (listenerArray = JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$add$self.listeners[typeStr] = [], JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$add$self.typeCount_++);
  var listenerObj, index = goog$events$ListenerMap$findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);
  -1 < index ? (listenerObj = listenerArray[index], callOnce || (listenerObj.callOnce = !1)) : (listenerObj = new goog$events$Listener(listener, JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$add$self.src, typeStr, !!opt_useCapture, opt_listenerScope), listenerObj.callOnce = callOnce, listenerArray.push(listenerObj));
  return listenerObj;
}
function JSCompiler_StaticMethods_removeByKey(JSCompiler_StaticMethods_removeByKey$self, listener) {
  var type = listener.type;
  if (!(type in JSCompiler_StaticMethods_removeByKey$self.listeners)) {
    return !1;
  }
  var removed = goog$array$remove(JSCompiler_StaticMethods_removeByKey$self.listeners[type], listener);
  removed && (JSCompiler_StaticMethods_markAsRemoved(listener), 0 == JSCompiler_StaticMethods_removeByKey$self.listeners[type].length && (delete JSCompiler_StaticMethods_removeByKey$self.listeners[type], JSCompiler_StaticMethods_removeByKey$self.typeCount_--));
  return removed;
}
function JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener(JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self, type, listener, capture, opt_listenerScope) {
  var listenerArray = JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self.listeners[type.toString()], i = -1;
  listenerArray && (i = goog$events$ListenerMap$findListenerIndex_(listenerArray, listener, capture, opt_listenerScope));
  return -1 < i ? listenerArray[i] : null;
}
function goog$events$ListenerMap$findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope) {
  for (var i = 0;i < listenerArray.length;++i) {
    var listenerObj = listenerArray[i];
    if (!listenerObj.removed && listenerObj.listener == listener && listenerObj.capture == !!opt_useCapture && listenerObj.handler == opt_listenerScope) {
      return i;
    }
  }
  return -1;
}
;
// Input 127
var goog$events$LISTENER_MAP_PROP_ = "closure_lm_" + (1e6 * Math.random() | 0), goog$events$onStringMap_ = {}, goog$events$listenerCountEstimate_ = 0;
function goog$events$listen(src, type, listener, opt_capt, opt_handler) {
  if (goog$isArray(type)) {
    for (var i = 0;i < type.length;i++) {
      goog$events$listen(src, type[i], listener, opt_capt, opt_handler);
    }
    return null;
  }
  listener = goog$events$wrapListener(listener);
  return goog$events$Listenable$isImplementedBy(src) ? src.listen(type, listener, opt_capt, opt_handler) : goog$events$listen_(src, type, listener, !1, opt_capt, opt_handler);
}
function goog$events$listen_(src, type, listener, callOnce, opt_capt, opt_handler) {
  if (!type) {
    throw Error("Invalid event type");
  }
  var capture = !!opt_capt, listenerMap = goog$events$getListenerMap_(src);
  listenerMap || (src[goog$events$LISTENER_MAP_PROP_] = listenerMap = new goog$events$ListenerMap(src));
  var listenerObj = JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$add(listenerMap, type, listener, callOnce, opt_capt, opt_handler);
  if (listenerObj.proxy) {
    return listenerObj;
  }
  var proxy = goog$events$getProxy();
  listenerObj.proxy = proxy;
  proxy.src = src;
  proxy.listener = listenerObj;
  if (src.addEventListener) {
    src.addEventListener(type.toString(), proxy, capture);
  } else {
    if (src.attachEvent) {
      src.attachEvent(goog$events$getOnString_(type.toString()), proxy);
    } else {
      throw Error("addEventListener and attachEvent are unavailable.");
    }
  }
  goog$events$listenerCountEstimate_++;
  return listenerObj;
}
function goog$events$getProxy() {
  function f(eventObject) {
    return proxyCallbackFunction.call(f.src, f.listener, eventObject);
  }
  var proxyCallbackFunction = goog$events$handleBrowserEvent_;
  return f;
}
function goog$events$listenOnce(src, type, listener, opt_capt, opt_handler) {
  if (goog$isArray(type)) {
    for (var i = 0;i < type.length;i++) {
      goog$events$listenOnce(src, type[i], listener, opt_capt, opt_handler);
    }
    return null;
  }
  listener = goog$events$wrapListener(listener);
  return goog$events$Listenable$isImplementedBy(src) ? src.docs_events_SimpleEventTarget_prototype$listenOnce(type, listener, opt_capt, opt_handler) : goog$events$listen_(src, type, listener, !0, opt_capt, opt_handler);
}
function goog$events$unlisten(src, type, listener, opt_capt, opt_handler) {
  if (goog$isArray(type)) {
    for (var i = 0;i < type.length;i++) {
      goog$events$unlisten(src, type[i], listener, opt_capt, opt_handler);
    }
  } else {
    if (listener = goog$events$wrapListener(listener), goog$events$Listenable$isImplementedBy(src)) {
      src.unlisten(type, listener, opt_capt, opt_handler);
    } else {
      if (src) {
        var listenerMap = goog$events$getListenerMap_(src);
        if (listenerMap) {
          var listenerObj = JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener(listenerMap, type, listener, !!opt_capt, opt_handler);
          listenerObj && goog$events$unlistenByKey(listenerObj);
        }
      }
    }
  }
}
function goog$events$unlistenByKey(key) {
  if (goog$isNumber(key) || !key || key.removed) {
    return;
  }
  var src = key.src;
  if (goog$events$Listenable$isImplementedBy(src)) {
    src.unlistenByKey(key);
    return;
  }
  var type = key.type, proxy = key.proxy;
  src.removeEventListener ? src.removeEventListener(type, proxy, key.capture) : src.detachEvent && src.detachEvent(goog$events$getOnString_(type), proxy);
  goog$events$listenerCountEstimate_--;
  var listenerMap = goog$events$getListenerMap_(src);
  listenerMap ? (JSCompiler_StaticMethods_removeByKey(listenerMap, key), 0 == listenerMap.typeCount_ && (listenerMap.src = null, src[goog$events$LISTENER_MAP_PROP_] = null)) : JSCompiler_StaticMethods_markAsRemoved(key);
}
function goog$events$getOnString_(type) {
  return type in goog$events$onStringMap_ ? goog$events$onStringMap_[type] : goog$events$onStringMap_[type] = "on" + type;
}
function goog$events$handleBrowserEvent_(listener, opt_evt) {
  var JSCompiler_temp;
  if (listener.removed) {
    JSCompiler_temp = !0;
  } else {
    var eventObject = new goog$events$BrowserEvent(opt_evt, this), listenerFn = listener.listener, listenerHandler = listener.handler || listener.src;
    listener.callOnce && goog$events$unlistenByKey(listener);
    JSCompiler_temp = listenerFn.call(listenerHandler, eventObject);
  }
  return JSCompiler_temp;
}
function goog$events$getListenerMap_(src) {
  var listenerMap = src[goog$events$LISTENER_MAP_PROP_];
  return listenerMap instanceof goog$events$ListenerMap ? listenerMap : null;
}
var goog$events$LISTENER_WRAPPER_PROP_ = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);
function goog$events$wrapListener(listener) {
  goog$asserts$assert(listener, "Listener can not be null.");
  if (goog$isFunction(listener)) {
    return listener;
  }
  goog$asserts$assert(listener.handleEvent, "An object listener must have handleEvent method.");
  listener[goog$events$LISTENER_WRAPPER_PROP_] || (listener[goog$events$LISTENER_WRAPPER_PROP_] = function $listener$goog$events$LISTENER_WRAPPER_PROP_$(e) {
    return listener.handleEvent(e);
  });
  return listener[goog$events$LISTENER_WRAPPER_PROP_];
}
goog$debug$entryPointRegistry$register(function(transformer) {
  goog$events$handleBrowserEvent_ = transformer(goog$events$handleBrowserEvent_);
});
// Input 128
function goog$events$EventTarget() {
  goog$Disposable.call(this);
  this.eventTargetListeners_ = new goog$events$ListenerMap(this);
  this.actualEventTarget_ = this;
  this.goog_events_EventTarget$parentEventTarget_ = null;
}
goog$inherits(goog$events$EventTarget, goog$Disposable);
goog$events$EventTarget.prototype[goog$events$Listenable$IMPLEMENTED_BY_PROP] = !0;
goog$events$EventTarget.prototype.getParentEventTarget = function $goog$events$EventTarget$$getParentEventTarget$() {
  return this.goog_events_EventTarget$parentEventTarget_;
};
goog$events$EventTarget.prototype.addEventListener = function $goog$events$EventTarget$$addEventListener$(type, handler, opt_capture, opt_handlerScope) {
  goog$events$listen(this, type, handler, opt_capture, opt_handlerScope);
};
goog$events$EventTarget.prototype.removeEventListener = function $goog$events$EventTarget$$removeEventListener$(type, handler, opt_capture, opt_handlerScope) {
  goog$events$unlisten(this, type, handler, opt_capture, opt_handlerScope);
};
goog$events$EventTarget.prototype.dispatchEvent = function $goog$events$EventTarget$$dispatchEvent$(e$jscomp$0) {
  JSCompiler_StaticMethods_assertInitialized_(this);
  var ancestorsTree, ancestor = this.getParentEventTarget();
  if (ancestor) {
    ancestorsTree = [];
    for (var ancestorCount = 1;ancestor;ancestor = ancestor.getParentEventTarget()) {
      ancestorsTree.push(ancestor), goog$asserts$assert(1000 > ++ancestorCount, "infinite loop");
    }
  }
  var target = this.actualEventTarget_, e = e$jscomp$0, opt_ancestorsTree = ancestorsTree, type = e.type || e;
  if (goog$isString(e)) {
    e = new goog$events$Event(e, target);
  } else {
    if (e instanceof goog$events$Event) {
      e.target = e.target || target;
    } else {
      var oldEvent = e, e = new goog$events$Event(type, target);
      goog$object$extend(e, oldEvent);
    }
  }
  var rv = !0, currentTarget;
  if (opt_ancestorsTree) {
    for (var i = opt_ancestorsTree.length - 1;!e.propagationStopped_ && 0 <= i;i--) {
      currentTarget = e.goog_events_Event$currentTarget = opt_ancestorsTree[i], rv = currentTarget.fireListeners(type, !0, e) && rv;
    }
  }
  e.propagationStopped_ || (currentTarget = e.goog_events_Event$currentTarget = target, rv = currentTarget.fireListeners(type, !0, e) && rv, e.propagationStopped_ || (rv = currentTarget.fireListeners(type, !1, e) && rv));
  if (opt_ancestorsTree) {
    for (i = 0;!e.propagationStopped_ && i < opt_ancestorsTree.length;i++) {
      currentTarget = e.goog_events_Event$currentTarget = opt_ancestorsTree[i], rv = currentTarget.fireListeners(type, !1, e) && rv;
    }
  }
  return rv;
};
goog$events$EventTarget.prototype.disposeInternal = function $goog$events$EventTarget$$disposeInternal$() {
  goog$events$EventTarget.superClass_.disposeInternal.call(this);
  this.removeAllListeners();
  this.goog_events_EventTarget$parentEventTarget_ = null;
};
goog$events$EventTarget.prototype.listen = function $goog$events$EventTarget$$listen$(type, listener, opt_useCapture, opt_listenerScope) {
  JSCompiler_StaticMethods_assertInitialized_(this);
  return JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$add(this.eventTargetListeners_, String(type), listener, !1, opt_useCapture, opt_listenerScope);
};
goog$events$EventTarget.prototype.docs_events_SimpleEventTarget_prototype$listenOnce = function $goog$events$EventTarget$$docs_events_SimpleEventTarget_prototype$listenOnce$(type, listener, opt_useCapture, opt_listenerScope) {
  return JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$add(this.eventTargetListeners_, String(type), listener, !0, opt_useCapture, opt_listenerScope);
};
goog$events$EventTarget.prototype.unlisten = function $goog$events$EventTarget$$unlisten$(type, listener, opt_useCapture, opt_listenerScope) {
  var JSCompiler_inline_result;
  var JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$remove$self = this.eventTargetListeners_, typeStr = String(type).toString();
  if (typeStr in JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$remove$self.listeners) {
    var listenerArray = JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$remove$self.listeners[typeStr], index = goog$events$ListenerMap$findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);
    -1 < index ? (JSCompiler_StaticMethods_markAsRemoved(listenerArray[index]), goog$array$removeAt(listenerArray, index), 0 == listenerArray.length && (delete JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$remove$self.listeners[typeStr], JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$remove$self.typeCount_--), JSCompiler_inline_result = !0) : JSCompiler_inline_result = !1;
  } else {
    JSCompiler_inline_result = !1;
  }
  return JSCompiler_inline_result;
};
goog$events$EventTarget.prototype.unlistenByKey = function $goog$events$EventTarget$$unlistenByKey$(key) {
  return JSCompiler_StaticMethods_removeByKey(this.eventTargetListeners_, key);
};
goog$events$EventTarget.prototype.removeAllListeners = function $goog$events$EventTarget$$removeAllListeners$(opt_type) {
  var JSCompiler_temp;
  if (this.eventTargetListeners_) {
    var JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$removeAll$self = this.eventTargetListeners_, typeStr = opt_type && opt_type.toString(), count = 0, type;
    for (type in JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$removeAll$self.listeners) {
      if (!typeStr || type == typeStr) {
        for (var listenerArray = JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$removeAll$self.listeners[type], i = 0;i < listenerArray.length;i++) {
          ++count, JSCompiler_StaticMethods_markAsRemoved(listenerArray[i]);
        }
        delete JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$removeAll$self.listeners[type];
        JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$removeAll$self.typeCount_--;
      }
    }
    JSCompiler_temp = count;
  } else {
    JSCompiler_temp = 0;
  }
  return JSCompiler_temp;
};
goog$events$EventTarget.prototype.fireListeners = function $goog$events$EventTarget$$fireListeners$(type, capture, eventObject) {
  var listenerArray = this.eventTargetListeners_.listeners[String(type)];
  if (!listenerArray) {
    return !0;
  }
  for (var listenerArray = listenerArray.concat(), rv = !0, i = 0;i < listenerArray.length;++i) {
    var listener = listenerArray[i];
    if (listener && !listener.removed && listener.capture == capture) {
      var listenerFn = listener.listener, listenerHandler = listener.handler || listener.src;
      listener.callOnce && this.unlistenByKey(listener);
      rv = !1 !== listenerFn.call(listenerHandler, eventObject) && rv;
    }
  }
  return rv && 0 != eventObject.returnValue_;
};
goog$events$EventTarget.prototype.docs_events_SimpleEventTarget_prototype$getListener = function $goog$events$EventTarget$$docs_events_SimpleEventTarget_prototype$getListener$(type, listener, capture, opt_listenerScope) {
  return JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener(this.eventTargetListeners_, String(type), listener, capture, opt_listenerScope);
};
function JSCompiler_StaticMethods_assertInitialized_(JSCompiler_StaticMethods_assertInitialized_$self) {
  goog$asserts$assert(JSCompiler_StaticMethods_assertInitialized_$self.eventTargetListeners_, "Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?");
}
;
// Input 129
// Input 130
// Input 131
function docs$collab$BeforeLeaveEvent(target) {
  goog$events$Event.call(this, "b", target);
}
goog$inherits(docs$collab$BeforeLeaveEvent, goog$events$Event);
// Input 132
// Input 133
// Input 134
function docs$collab$LeaveEvent(target) {
  goog$events$Event.call(this, "e", target);
}
goog$inherits(docs$collab$LeaveEvent, goog$events$Event);
// Input 135
goog$mixin(JSCompiler_emptyFn(), goog$events$Listenable);
// Input 136
function docs$collab$CollaboratorModel(opt_collaborators) {
  goog$events$EventTarget.call(this);
  this.collaborators_ = opt_collaborators || {};
}
goog$inherits(docs$collab$CollaboratorModel, goog$events$EventTarget);
docs$collab$CollaboratorModel.prototype.me_ = null;
function JSCompiler_StaticMethods_removeCollaborator(JSCompiler_StaticMethods_removeCollaborator$self, sessionId) {
  if (!(JSCompiler_StaticMethods_removeCollaborator$self.me_ && JSCompiler_StaticMethods_removeCollaborator$self.me_.docs_localstore_idb_DocumentLock$sessionId_ == sessionId || sessionId in JSCompiler_StaticMethods_removeCollaborator$self.collaborators_)) {
    throw Error("Unknown collaborator session id " + sessionId);
  }
  JSCompiler_StaticMethods_removeCollaborator$self.dispatchEvent(new docs$collab$BeforeLeaveEvent(JSCompiler_StaticMethods_removeCollaborator$self));
  delete JSCompiler_StaticMethods_removeCollaborator$self.collaborators_[sessionId];
  JSCompiler_StaticMethods_removeCollaborator$self.dispatchEvent(new docs$collab$LeaveEvent(JSCompiler_StaticMethods_removeCollaborator$self));
}
docs$collab$CollaboratorModel.prototype.clear = function $docs$collab$CollaboratorModel$$clear$() {
  for (var sessionId in this.collaborators_) {
    JSCompiler_StaticMethods_removeCollaborator(this, sessionId);
  }
  this.me_ && (JSCompiler_StaticMethods_removeCollaborator(this, this.me_.docs_localstore_idb_DocumentLock$sessionId_), this.me_ = null);
};
// Input 137
// Input 138
// Input 139
function docs$commands$AbstractCommand(type) {
  this.docs_commands_AbstractCommand$type_ = type;
}
docs$commands$AbstractCommand.prototype.getType = function $docs$commands$AbstractCommand$$getType$() {
  return this.docs_commands_AbstractCommand$type_;
};
docs$commands$AbstractCommand.prototype.docs_commands_AbstractCommand_prototype$isMetadata = JSCompiler_returnArg(!1);
docs$commands$AbstractCommand.prototype.isWrapper = JSCompiler_returnArg(!1);
docs$commands$AbstractCommand.prototype.getSizeEstimate = JSCompiler_returnArg(1);
// Input 140
goog$mixin(JSCompiler_emptyFn().prototype, JSCompiler_emptyFn().prototype);
// Input 141
function docs$commands$AbstractWrapperCommand(type, wrappedCommands) {
  this.docs_commands_AbstractCommand$type_ = type;
  for (var flattened = [], i = 0;i < wrappedCommands.length;i++) {
    var command = wrappedCommands[i];
    command.isWrapper() ? flattened.push.apply(flattened, command.wrappedCommands_.concat()) : flattened.push(command);
  }
  this.wrappedCommands_ = flattened;
}
goog$inherits(docs$commands$AbstractWrapperCommand, docs$commands$AbstractCommand);
docs$commands$AbstractWrapperCommand.prototype.isWrapper = goog$functions$TRUE;
// Input 142
function docs$commands$MultiCommand(commands$jscomp$2) {
  docs$commands$AbstractWrapperCommand.call(this, "docs-mlti", commands$jscomp$2);
  this.docs_commands_MultiCommand$commands_ = commands$jscomp$2;
  var JSCompiler_inline_result;
  a: {
    for (var commands = this.docs_commands_MultiCommand$commands_, metadata = !!commands.length, i = 0;i < commands.length;i++) {
      if (!commands[i].docs_commands_AbstractCommand_prototype$isMetadata()) {
        JSCompiler_inline_result = !1;
        break a;
      }
    }
    JSCompiler_inline_result = metadata;
  }
  this.metadata_ = JSCompiler_inline_result;
  for (var commands$jscomp$0 = this.docs_commands_MultiCommand$commands_, size = 1, i$jscomp$0 = 0;i$jscomp$0 < commands$jscomp$0.length;i$jscomp$0++) {
    size += commands$jscomp$0[i$jscomp$0].getSizeEstimate();
  }
  this.sizeEstimate_ = size;
}
goog$inherits(docs$commands$MultiCommand, docs$commands$AbstractWrapperCommand);
docs$commands$MultiCommand.prototype.docs_commands_AbstractCommand_prototype$isMetadata = function $docs$commands$MultiCommand$$docs_commands_AbstractCommand_prototype$isMetadata$() {
  return this.metadata_;
};
docs$commands$MultiCommand.prototype.getSizeEstimate = function $docs$commands$MultiCommand$$getSizeEstimate$() {
  return this.sizeEstimate_;
};
// Input 143
function docs$commands$NullCommand() {
  docs$commands$AbstractWrapperCommand.call(this, "docs-null", []);
}
goog$inherits(docs$commands$NullCommand, docs$commands$AbstractWrapperCommand);
goog$addSingletonGetter(docs$commands$NullCommand);
docs$commands$NullCommand.prototype.getSizeEstimate = JSCompiler_returnArg(0);
// Input 144
// Input 145
// Input 146
function docs$events$SimpleEventTarget() {
  goog$Disposable.call(this);
  this.docs_events_SimpleEventTarget$listeners_ = {};
  this.firingDepth_ = 0;
}
goog$inherits(docs$events$SimpleEventTarget, goog$Disposable);
docs$events$SimpleEventTarget.prototype[goog$events$Listenable$IMPLEMENTED_BY_PROP] = !0;
docs$events$SimpleEventTarget.prototype.listen = function $docs$events$SimpleEventTarget$$listen$(type, listener, opt_useCapture, opt_listenerScope) {
  return JSCompiler_StaticMethods_docs_events_SimpleEventTarget_prototype$listen_(this, type, listener, !1, opt_useCapture, opt_listenerScope);
};
docs$events$SimpleEventTarget.prototype.docs_events_SimpleEventTarget_prototype$listenOnce = function $docs$events$SimpleEventTarget$$docs_events_SimpleEventTarget_prototype$listenOnce$(type, listener, opt_useCapture, opt_listenerScope) {
  return JSCompiler_StaticMethods_docs_events_SimpleEventTarget_prototype$listen_(this, type, listener, !0, opt_useCapture, opt_listenerScope);
};
function JSCompiler_StaticMethods_docs_events_SimpleEventTarget_prototype$listen_(JSCompiler_StaticMethods_docs_events_SimpleEventTarget_prototype$listen_$self, type, listener, callOnce, opt_useCapture, opt_listenerScope) {
  goog$asserts$assertString(type, "Unsupported non-string type");
  goog$asserts$assert(!opt_useCapture, "Capture not supported");
  var listenerList = JSCompiler_StaticMethods_docs_events_SimpleEventTarget_prototype$listen_$self.docs_events_SimpleEventTarget$listeners_[type], listenerObj;
  if (listenerList && listenerList) {
    for (listenerObj = listenerList.docs_events_SimpleEventTarget_ListenerList_$head_;listenerObj;listenerObj = listenerObj.next_) {
      if (!listenerObj.removed_ && listenerObj.listener == listener && listenerObj.handler == opt_listenerScope) {
        throw Error("Cannot listen when a listener already exists");
      }
    }
  }
  listenerObj = new docs$events$SimpleEventTarget$Listener_(type, JSCompiler_StaticMethods_docs_events_SimpleEventTarget_prototype$listen_$self, listener, callOnce, opt_listenerScope);
  if (listenerList) {
    var node = listenerObj;
    node.prev_ = listenerList.tail_;
    listenerList.tail_.next_ = node;
    listenerList.tail_ = node;
  } else {
    JSCompiler_StaticMethods_docs_events_SimpleEventTarget_prototype$listen_$self.docs_events_SimpleEventTarget$listeners_[type] = new docs$events$SimpleEventTarget$ListenerList_(listenerObj);
  }
  return listenerObj;
}
docs$events$SimpleEventTarget.prototype.unlisten = function $docs$events$SimpleEventTarget$$unlisten$(type, listener, opt_useCapture, opt_listenerScope) {
  var listenerObj = this.docs_events_SimpleEventTarget_prototype$getListener(type, listener, !!opt_useCapture, opt_listenerScope);
  return listenerObj ? JSCompiler_StaticMethods_removeListener_(this, listenerObj) : !1;
};
docs$events$SimpleEventTarget.prototype.unlistenByKey = function $docs$events$SimpleEventTarget$$unlistenByKey$(key) {
  goog$asserts$assertInstanceof(key, docs$events$SimpleEventTarget$Listener_, "Unexpected listener key type");
  return key.removed_ ? !1 : JSCompiler_StaticMethods_removeListener_(this, key);
};
function JSCompiler_StaticMethods_removeListener_(JSCompiler_StaticMethods_removeListener_$self, listener) {
  goog$asserts$assert(!listener.removed_, "Listener should not be removed already");
  var listenerList = JSCompiler_StaticMethods_removeListener_$self.docs_events_SimpleEventTarget$listeners_[listener.type];
  if (!listenerList) {
    return !1;
  }
  var firstItem = goog$asserts$assert(listenerList.docs_events_SimpleEventTarget_ListenerList_$head_, "List should never be empty");
  if (firstItem.next_) {
    var next = listener.next_, prev = listener.prev_;
    next ? next.prev_ = prev : listenerList.tail_ = goog$asserts$assert(prev, "Cannot remove from single-element list");
    prev ? prev.next_ = next : listenerList.docs_events_SimpleEventTarget_ListenerList_$head_ = goog$asserts$assert(next, "Cannot remove from single-element list");
  } else {
    goog$asserts$assert(firstItem == listener, "Single item list has to contain given listener"), delete JSCompiler_StaticMethods_removeListener_$self.docs_events_SimpleEventTarget$listeners_[listener.type];
  }
  return listener.removed_ = !0;
}
docs$events$SimpleEventTarget.prototype.dispatchEvent = function $docs$events$SimpleEventTarget$$dispatchEvent$(e) {
  var ancestorsTree, ancestor = this.getParentEventTarget();
  if (ancestor) {
    ancestorsTree = [];
    for (var ancestorCount = 1;ancestor;ancestor = ancestor.getParentEventTarget()) {
      ancestorsTree.push(ancestor), goog$asserts$assert(1000 > ++ancestorCount, "infinite ancestor loop");
    }
  }
  var type = e.type;
  if (type) {
    if (e instanceof goog$events$Event) {
      e.target = e.target || this;
    } else {
      var oldEvent = e;
      e = new goog$events$Event(type, this);
      goog$object$extend(e, oldEvent);
    }
    e.goog_events_Event$currentTarget = this;
  } else {
    type = e, e = new goog$events$Event(type, this);
  }
  goog$asserts$assert(!e.propagationStopped_, "stopPropagation not supported");
  this.fireListeners(type, !1, e);
  if (ancestorsTree) {
    for (var i = 0;i < ancestorsTree.length;i++) {
      ancestor = ancestorsTree[i], e.goog_events_Event$currentTarget = ancestor, goog$asserts$assert(!e.propagationStopped_, "stopPropagation not supported"), ancestor.fireListeners(type, !1, e);
    }
  }
  return !0;
};
docs$events$SimpleEventTarget.prototype.removeAllListeners = function $docs$events$SimpleEventTarget$$removeAllListeners$(opt_type) {
  if (goog$isDef(opt_type)) {
    var listenerList = this.docs_events_SimpleEventTarget$listeners_[opt_type];
    if (listenerList) {
      return delete this.docs_events_SimpleEventTarget$listeners_[opt_type], JSCompiler_StaticMethods_removeListeners_(listenerList);
    }
  }
  var count = 0, type;
  for (type in this.docs_events_SimpleEventTarget$listeners_) {
    count += JSCompiler_StaticMethods_removeListeners_(this.docs_events_SimpleEventTarget$listeners_[type]);
  }
  this.docs_events_SimpleEventTarget$listeners_ = {};
  return count;
};
function JSCompiler_StaticMethods_removeListeners_(listenerList) {
  for (var count = 0, listenerObj = listenerList.docs_events_SimpleEventTarget_ListenerList_$head_;listenerObj;listenerObj = listenerObj.next_) {
    listenerObj.removed_ = !0, count++;
  }
  return count;
}
docs$events$SimpleEventTarget.prototype.getParentEventTarget = JSCompiler_returnArg(null);
docs$events$SimpleEventTarget.prototype.fireListeners = function $docs$events$SimpleEventTarget$$fireListeners$(type, capture, eventObject) {
  goog$asserts$assertString(type, "Unsupported non-string type");
  if (capture) {
    return !0;
  }
  var listenerList = this.docs_events_SimpleEventTarget$listeners_[type];
  if (!listenerList) {
    return !0;
  }
  this.firingDepth_++;
  for (var listenerObj = listenerList.docs_events_SimpleEventTarget_ListenerList_$head_, lastListenerObj = listenerList.tail_;listenerObj;) {
    listenerObj.callOnce_ && this.unlistenByKey(listenerObj);
    var rv = listenerObj.listener.call(listenerObj.handler || listenerObj.src, eventObject);
    for (goog$asserts$assert(!1 !== rv, "Unsupported false listener return value");lastListenerObj && lastListenerObj.removed_;) {
      lastListenerObj = lastListenerObj.prev_;
    }
    for (;listenerObj && listenerObj.removed_;) {
      listenerObj = listenerObj.prev_;
    }
    if (listenerObj == lastListenerObj) {
      break;
    }
    listenerObj = listenerObj ? listenerObj.next_ : listenerList.docs_events_SimpleEventTarget_ListenerList_$head_;
  }
  this.firingDepth_--;
  goog$asserts$assert(0 != eventObject.returnValue_, "Unsupported false event return value");
  return !0;
};
docs$events$SimpleEventTarget.prototype.docs_events_SimpleEventTarget_prototype$getListener = function $docs$events$SimpleEventTarget$$docs_events_SimpleEventTarget_prototype$getListener$(type, listener, capture, opt_listenerScope) {
  goog$asserts$assertString(type, "Unsupported non-string type");
  goog$asserts$assert(!capture, "Capture not supported");
  var listenerList = this.docs_events_SimpleEventTarget$listeners_[type];
  if (!listenerList) {
    return null;
  }
  for (var listenerObj = listenerList.docs_events_SimpleEventTarget_ListenerList_$head_;listenerObj;listenerObj = listenerObj.next_) {
    if (!listenerObj.removed_ && listenerObj.listener == listener && listenerObj.handler == opt_listenerScope) {
      return listenerObj;
    }
  }
  return null;
};
docs$events$SimpleEventTarget.prototype.disposeInternal = function $docs$events$SimpleEventTarget$$disposeInternal$() {
  this.firingDepth_ ? this.removeAllListeners() : this.docs_events_SimpleEventTarget$listeners_ = {};
  docs$events$SimpleEventTarget.superClass_.disposeInternal.call(this);
};
function docs$events$SimpleEventTarget$Listener_(type, src, listener, callOnce, opt_listenerScope) {
  this.src = src;
  this.type = type;
  this.listener = listener;
  this.capture = !1;
  this.handler = opt_listenerScope || null;
  this.key = ++goog$events$ListenableKey$counter_;
  this.callOnce_ = callOnce;
  this.removed_ = !1;
  this.next_ = this.prev_ = null;
}
function docs$events$SimpleEventTarget$ListenerList_(listener) {
  this.tail_ = this.docs_events_SimpleEventTarget_ListenerList_$head_ = listener;
}
;
// Input 147
// Input 148
// Input 149
// Input 150
// Input 151
// Input 152
// Input 153
// Input 154
// Input 155
goog$mixin(JSCompiler_emptyFn(), goog$events$Listenable);
// Input 156
// Input 157
// Input 158
// Input 159
// Input 160
function docs$edits$ModelStateImpl(model, selectionModel, commandApplier, commandInverter, selectionTransformer, opt_dispatchBeforeCommandEvents, opt_collaboratorModel) {
  docs$events$SimpleEventTarget.call(this);
  this.docs_edits_ModelStateImpl$model_ = model;
  this.collaboratorModel_ = opt_collaboratorModel || new docs$collab$CollaboratorModel;
  goog$isDef(opt_collaboratorModel) || JSCompiler_StaticMethods_registerDisposable(this, this.collaboratorModel_);
}
goog$inherits(docs$edits$ModelStateImpl, docs$events$SimpleEventTarget);
// Input 161
function docs$text$edits$ModelState(model, selectionModel, commandApplier, commandInverter, selectionTransformer, opt_dispatchBeforeCommandEvents, opt_collaboratorModel) {
  docs$edits$ModelStateImpl.call(this, model, 0, 0, 0, 0, 0, opt_collaboratorModel);
}
goog$inherits(docs$text$edits$ModelState, docs$edits$ModelStateImpl);
// Input 162
// Input 163
function docs$text$model$CellConcreteStyleUpdater() {
}
docs$text$model$CellConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getUpdaterType = JSCompiler_returnArg("cell");
docs$text$model$CellConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getDependentTypes = function $docs$text$model$CellConcreteStyleUpdater$$docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getDependentTypes$() {
  return ["cell"];
};
docs$text$model$CellConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getIndicesToRecompute = function $docs$text$model$CellConcreteStyleUpdater$$docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getIndicesToRecompute$(spacerIndex, stylePropertyMap, rawStyleProvider, tableState) {
  var table = JSCompiler_StaticMethods_getTable(tableState, spacerIndex);
  if (!table) {
    return null;
  }
  var currentCellLocation = JSCompiler_StaticMethods_getTableLocation(table, spacerIndex);
  if (!currentCellLocation) {
    throw Error("Expected spacer index " + spacerIndex + " to be in a cell.");
  }
  JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getCellStartIndex(table, currentCellLocation);
  var cellIndices = [], row = currentCellLocation.docs_table_model_TableCellReference$row_, col = currentCellLocation.docs_table_model_TableCellReference$column_, isLtr = rawStyleProvider.getRawTetheredStyle("tbl", table.docs_text_model_MutableSpacersTable$startIndex_).docs_text_protocol_TableStyle$ltr_;
  if ("cell_bl" in stylePropertyMap || "cell_bl_i" in stylePropertyMap) {
    var leftCell = JSCompiler_StaticMethods_getLeftCell_(row, col, table, isLtr);
    leftCell && cellIndices.push(leftCell.cellStart_);
  }
  if ("cell_br" in stylePropertyMap || "cell_br_i" in stylePropertyMap) {
    var rightCell = JSCompiler_StaticMethods_getRightCell_(row, col, table, isLtr);
    rightCell && cellIndices.push(rightCell.cellStart_);
  }
  if ("cell_bt" in stylePropertyMap || "cell_bt_i" in stylePropertyMap) {
    var upperCell = JSCompiler_StaticMethods_getUpperCell_(row, col, table);
    upperCell && cellIndices.push(upperCell.cellStart_);
  }
  if ("cell_bb" in stylePropertyMap || "cell_bb_i" in stylePropertyMap) {
    var lowerCell = JSCompiler_StaticMethods_getLowerCell_(row, col, table);
    lowerCell && cellIndices.push(lowerCell.cellStart_);
  }
  if (!cellIndices.length) {
    return null;
  }
  goog$array$sort(cellIndices);
  var map = {};
  map.cell = cellIndices;
  return map;
};
docs$text$model$CellConcreteStyleUpdater.prototype.getAllIndicesToRecompute = function $docs$text$model$CellConcreteStyleUpdater$$getAllIndicesToRecompute$(spacerIndex, rawStyleProvider, tableState) {
  var table = JSCompiler_StaticMethods_getTable(tableState, spacerIndex);
  if (!table) {
    return null;
  }
  var currentCellLocation = JSCompiler_StaticMethods_getTableLocation(table, spacerIndex);
  if (!currentCellLocation) {
    throw Error("Expected spacer index " + spacerIndex + " to be in a cell.");
  }
  JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getCellStartIndex(table, currentCellLocation);
  var cellIndices = [], row = currentCellLocation.docs_table_model_TableCellReference$row_, col = currentCellLocation.docs_table_model_TableCellReference$column_, isLtr = rawStyleProvider.getRawTetheredStyle("tbl", table.docs_text_model_MutableSpacersTable$startIndex_).docs_text_protocol_TableStyle$ltr_, upperCell = JSCompiler_StaticMethods_getUpperCell_(row, col, table);
  upperCell && cellIndices.push(upperCell.cellStart_);
  var lowerCell = JSCompiler_StaticMethods_getLowerCell_(row, col, table);
  lowerCell && cellIndices.push(lowerCell.cellStart_);
  var leftCell = JSCompiler_StaticMethods_getLeftCell_(row, col, table, isLtr);
  leftCell && cellIndices.push(leftCell.cellStart_);
  var rightCell = JSCompiler_StaticMethods_getRightCell_(row, col, table, isLtr);
  rightCell && cellIndices.push(rightCell.cellStart_);
  if (!cellIndices.length) {
    return null;
  }
  goog$array$sort(cellIndices);
  var map = {};
  map.cell = cellIndices;
  return map;
};
function JSCompiler_StaticMethods_getUpperCell_(row, col, table) {
  if (0 < row) {
    var upperCell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row - 1, col);
  }
  return upperCell || null;
}
function JSCompiler_StaticMethods_getRightCell_(row, col, table, isLtr) {
  if (isLtr) {
    if (col < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table) - 1) {
      return JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row, col + 1);
    }
  } else {
    if (0 < col) {
      return JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row, col - 1);
    }
  }
  return null;
}
function JSCompiler_StaticMethods_getLowerCell_(row, col, table) {
  if (row < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table) - 1) {
    var lowerCell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row + 1, col);
  }
  return lowerCell || null;
}
function JSCompiler_StaticMethods_getLeftCell_(row, col, table, isLtr) {
  if (isLtr) {
    if (0 < col) {
      return JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row, col - 1);
    }
  } else {
    if (col < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table) - 1) {
      return JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row, col + 1);
    }
  }
  return null;
}
;
// Input 164
// Input 165
// Input 166
function docs$text$model$CellStyleResolver() {
}
var docs$text$model$CellStyleResolver$BORDER_NUMBER_MAP_ = {0:3, 1:2, 2:1}, docs$text$model$CellStyleResolver$CELL_GROUP_TO_CELL_STYLE_PROPERTY_NAME_MAP_ = {cellgp_bgc:"cell_bgc", cellgp_pb:"cell_pb", cellgp_pl:"cell_pl", cellgp_pr:"cell_pr", cellgp_pt:"cell_pt", cellgp_va:"cell_va"}, docs$text$model$CellStyleResolver$CELL_STYLE_BORDER_PROPERTY_NAMES_ = ["cell_bl", "cell_br", "cell_bt", "cell_bb"];
docs$text$model$CellStyleResolver.prototype.docs_text_model_CellStyleResolver_prototype$getConcreteStyle = function $docs$text$model$CellStyleResolver$$docs_text_model_CellStyleResolver_prototype$getConcreteStyle$(rawStyleProvider, style, spacerIndex, concreteEntityProvider, tableState) {
  var table = JSCompiler_StaticMethods_getTable(tableState, spacerIndex);
  if (!table) {
    return style;
  }
  var tableStyle = rawStyleProvider.getRawTetheredStyle("tbl", table.docs_text_model_MutableSpacersTable$startIndex_), cellReference = JSCompiler_StaticMethods_getTableLocation(table, spacerIndex), row = cellReference.docs_table_model_TableCellReference$row_, col = cellReference.docs_table_model_TableCellReference$column_, numRows = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table), numCols = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table), 
  isLtr = rawStyleProvider.getRawTetheredStyle("tbl", table.docs_text_model_MutableSpacersTable$startIndex_).docs_text_protocol_TableStyle$ltr_, adjacentBorders = {};
  if (1 < numCols) {
    if (isLtr && 0 < col || !isLtr && col < numCols - 1) {
      var leftCell = isLtr ? JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row, col - 1) : JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row, col + 1);
      if (leftCell) {
        var rawCellStyle = rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle("cell", leftCell.cellStart_);
        JSCompiler_StaticMethods_isInheritedProperty_(rawCellStyle, "cell_br") || (adjacentBorders.cell_bl = rawCellStyle.docs_text_protocol_CellStyle$borderRight_);
      }
    }
    if (isLtr && col < numCols - 1 || !isLtr && 0 < col) {
      var rightCell = isLtr ? JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row, col + 1) : JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row, col - 1);
      rightCell && (rawCellStyle = rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle("cell", rightCell.cellStart_), JSCompiler_StaticMethods_isInheritedProperty_(rawCellStyle, "cell_bl") || (adjacentBorders.cell_br = rawCellStyle.docs_text_protocol_CellStyle$borderLeft_));
    }
  }
  if (1 < numRows) {
    if (0 < row) {
      var topCell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row - 1, col);
      topCell && (rawCellStyle = rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle("cell", topCell.cellStart_), JSCompiler_StaticMethods_isInheritedProperty_(rawCellStyle, "cell_bb") || (adjacentBorders.cell_bt = rawCellStyle.docs_text_protocol_CellStyle$borderBottom_));
    }
    if (row < numRows - 1) {
      var bottomCell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row + 1, col);
      bottomCell && (rawCellStyle = rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle("cell", bottomCell.cellStart_), JSCompiler_StaticMethods_isInheritedProperty_(rawCellStyle, "cell_bt") || (adjacentBorders.cell_bb = rawCellStyle.docs_text_protocol_CellStyle$borderTop_));
    }
  }
  if (!(tableStyle.docs_text_protocol_Annotation_prototype$hasOverriddenValues() || adjacentBorders.cell_bl || adjacentBorders.cell_br || adjacentBorders.cell_bt || adjacentBorders.cell_bb)) {
    return JSCompiler_StaticMethods_getConcreteCopy(style, JSCompiler_StaticMethods_getConcreteParentCellStyle(tableStyle));
  }
  var styleCopy = style.clone(), borderAdjacentToLeft = adjacentBorders.cell_bl;
  borderAdjacentToLeft && JSCompiler_StaticMethods_maybeResolveBorderWithAdjacentCell_(styleCopy, "cell_bl", borderAdjacentToLeft);
  var borderAdjacentToRight = adjacentBorders.cell_br;
  borderAdjacentToRight && JSCompiler_StaticMethods_maybeResolveBorderWithAdjacentCell_(styleCopy, "cell_br", borderAdjacentToRight);
  var borderAdjacentToTop = adjacentBorders.cell_bt;
  borderAdjacentToTop && JSCompiler_StaticMethods_maybeResolveBorderWithAdjacentCell_(styleCopy, "cell_bt", borderAdjacentToTop);
  var borderAdjacentToBottom = adjacentBorders.cell_bb;
  borderAdjacentToBottom && JSCompiler_StaticMethods_maybeResolveBorderWithAdjacentCell_(styleCopy, "cell_bb", borderAdjacentToBottom);
  if (!JSCompiler_StaticMethods_hasInheritValues(styleCopy)) {
    return styleCopy;
  }
  var parentCellStyle;
  var concreteCellStyle;
  if (tableStyle) {
    concreteCellStyle = JSCompiler_StaticMethods_getConcreteParentCellStyle(tableStyle);
  } else {
    throw Error("No table style for the given spacer index");
  }
  if (tableStyle && !tableStyle.docs_text_protocol_Annotation_prototype$hasOverriddenValues()) {
    parentCellStyle = concreteCellStyle;
  } else {
    var tableStyle$jscomp$0 = rawStyleProvider.getRawTetheredStyle("tbl", table.docs_text_model_MutableSpacersTable$startIndex_);
    if (!tableStyle$jscomp$0) {
      throw Error("Missing table style for spacer index " + table.docs_text_model_MutableSpacersTable$startIndex_);
    }
    for (var tableLocation = JSCompiler_StaticMethods_getTableLocation(table, spacerIndex), row$jscomp$0 = tableLocation.docs_table_model_TableCellReference$row_, column = tableLocation.docs_table_model_TableCellReference$column_, numRows$jscomp$0 = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table), numColumns = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table), cellStyle = docs$text$protocol$CellStyle$allInherit_.clone(), i = 0;i < 
    docs$text$model$CellStyleResolver$CELL_STYLE_BORDER_PROPERTY_NAMES_.length;i++) {
      var borderPropertyName = docs$text$model$CellStyleResolver$CELL_STYLE_BORDER_PROPERTY_NAMES_[i], companionInheritPropertyName = cellStyle.propertyNames_.inheritablePropertyBimap_.get(borderPropertyName) || null;
      if (cellStyle.getValue(companionInheritPropertyName)) {
        for (var j = 0;j < docs$text$protocol$TableStyle$SORTED_CELL_FORMATS.length;j++) {
          var cellFormatPropertyName = docs$text$protocol$TableStyle$SORTED_CELL_FORMATS[j], cellGroupBorderPropertyName, row$jscomp$1 = row$jscomp$0, column$jscomp$0 = column, numRows$jscomp$1 = numRows$jscomp$0, numColumns$jscomp$0 = numColumns, cellStyleBorderPropertyName = borderPropertyName, cellFormatPropertyName$jscomp$0 = cellFormatPropertyName, tableStyle$jscomp$1 = tableStyle$jscomp$0;
          cellGroupBorderPropertyName = JSCompiler_StaticMethods_isCellFormatEnabled(tableStyle$jscomp$1, cellFormatPropertyName$jscomp$0) ? ("cell_br" != cellStyleBorderPropertyName && "cell_bl" != cellStyleBorderPropertyName || JSCompiler_StaticMethods_isLeftBorder_(row$jscomp$1, column$jscomp$0, numRows$jscomp$1, numColumns$jscomp$0, cellStyleBorderPropertyName, cellFormatPropertyName$jscomp$0, tableStyle$jscomp$1) || JSCompiler_StaticMethods_isRightBorder_(row$jscomp$1, column$jscomp$0, numRows$jscomp$1, 
          numColumns$jscomp$0, cellStyleBorderPropertyName, cellFormatPropertyName$jscomp$0, tableStyle$jscomp$1) ? 0 : "tbls_cffr" == cellFormatPropertyName$jscomp$0 && 0 == row$jscomp$1 || "tbls_cflr" == cellFormatPropertyName$jscomp$0 && row$jscomp$1 == numRows$jscomp$1 - 1 || "tbls_cfb1h" == cellFormatPropertyName$jscomp$0 && JSCompiler_StaticMethods_isBand1HorzRow_(tableStyle$jscomp$1, row$jscomp$1) || "tbls_cfb2h" == cellFormatPropertyName$jscomp$0 && JSCompiler_StaticMethods_isBand2HorzRow_(tableStyle$jscomp$1, 
          row$jscomp$1) || "tbls_cfwt" == cellFormatPropertyName$jscomp$0) ? "cellgp_biv" : ("cell_bt" != cellStyleBorderPropertyName && "cell_bb" != cellStyleBorderPropertyName || JSCompiler_StaticMethods_isTopBorder_(row$jscomp$1, column$jscomp$0, numRows$jscomp$1, numColumns$jscomp$0, cellStyleBorderPropertyName, cellFormatPropertyName$jscomp$0, tableStyle$jscomp$1) || JSCompiler_StaticMethods_isBottomBorder_(row$jscomp$1, column$jscomp$0, numRows$jscomp$1, numColumns$jscomp$0, cellStyleBorderPropertyName, 
          cellFormatPropertyName$jscomp$0, tableStyle$jscomp$1) ? 0 : "tbls_cffc" == cellFormatPropertyName$jscomp$0 && 0 == column$jscomp$0 || "tbls_cflc" == cellFormatPropertyName$jscomp$0 && column$jscomp$0 == numColumns$jscomp$0 - 1 || "tbls_cfb1v" == cellFormatPropertyName$jscomp$0 && JSCompiler_StaticMethods_isBand1VertColumn_(tableStyle$jscomp$1, column$jscomp$0) || "tbls_cfb2v" == cellFormatPropertyName$jscomp$0 && JSCompiler_StaticMethods_isBand2VertColumn_(tableStyle$jscomp$1, column$jscomp$0) || 
          "tbls_cfwt" == cellFormatPropertyName$jscomp$0) ? "cellgp_bih" : JSCompiler_StaticMethods_isRightBorder_(row$jscomp$1, column$jscomp$0, numRows$jscomp$1, numColumns$jscomp$0, cellStyleBorderPropertyName, cellFormatPropertyName$jscomp$0, tableStyle$jscomp$1) ? "cellgp_br" : JSCompiler_StaticMethods_isLeftBorder_(row$jscomp$1, column$jscomp$0, numRows$jscomp$1, numColumns$jscomp$0, cellStyleBorderPropertyName, cellFormatPropertyName$jscomp$0, tableStyle$jscomp$1) ? "cellgp_bl" : JSCompiler_StaticMethods_isTopBorder_(row$jscomp$1, 
          column$jscomp$0, numRows$jscomp$1, numColumns$jscomp$0, cellStyleBorderPropertyName, cellFormatPropertyName$jscomp$0, tableStyle$jscomp$1) ? "cellgp_bt" : JSCompiler_StaticMethods_isBottomBorder_(row$jscomp$1, column$jscomp$0, numRows$jscomp$1, numColumns$jscomp$0, cellStyleBorderPropertyName, cellFormatPropertyName$jscomp$0, tableStyle$jscomp$1) ? "cellgp_bb" : null : null;
          var cellFormat = tableStyle$jscomp$0.getValue(cellFormatPropertyName), cellGroup = cellFormat.cellGroupReference_.get();
          if (cellGroupBorderPropertyName && !JSCompiler_StaticMethods_isInheritedProperty_(cellGroup, cellGroupBorderPropertyName)) {
            docs$text$model$StyleUtil$copyInheritedPropertyTo(cellStyle, borderPropertyName, cellGroup.getValue(cellGroupBorderPropertyName).serialize());
            break;
          }
        }
      }
    }
    var tableStylePropertyNames = docs$text$model$StyleUtil$getTableStylePropertyNames(tableStyle$jscomp$0, row$jscomp$0, column, numRows$jscomp$0, numColumns), cellGroupPropertyName;
    for (cellGroupPropertyName in docs$text$model$CellStyleResolver$CELL_GROUP_TO_CELL_STYLE_PROPERTY_NAME_MAP_) {
      for (var cellStylePropertyName = docs$text$model$CellStyleResolver$CELL_GROUP_TO_CELL_STYLE_PROPERTY_NAME_MAP_[cellGroupPropertyName], i = 0;i < tableStylePropertyNames.length;i++) {
        if (cellFormat = tableStyle$jscomp$0.getValue(tableStylePropertyNames[i]), cellGroup = cellFormat.cellGroupReference_.get(), !JSCompiler_StaticMethods_isInheritedProperty_(cellGroup, cellGroupPropertyName)) {
          docs$text$model$StyleUtil$copyInheritedPropertyTo(cellStyle, cellStylePropertyName, cellGroup.getValue(cellGroupPropertyName));
          break;
        }
      }
    }
    JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo(concreteCellStyle, cellStyle);
    parentCellStyle = cellStyle;
  }
  return JSCompiler_StaticMethods_getConcreteCopy(styleCopy, parentCellStyle);
};
docs$text$model$CellStyleResolver.prototype.getResolvableStyleType = JSCompiler_returnArg("cell");
function JSCompiler_StaticMethods_isTopBorder_(row, column, numRows, numColumns, cellStyleBorderPropertyName, cellFormatPropertyName, tableStyle) {
  return docs$text$protocol$TableStyle$isFirstRowCellFormat(cellFormatPropertyName, column, numColumns) && 0 == row && "cell_bt" == cellStyleBorderPropertyName || docs$text$protocol$TableStyle$isLastRowCellFormat(cellFormatPropertyName, column, numColumns) && (row == numRows - 1 && "cell_bt" == cellStyleBorderPropertyName || row == numRows - 2 && "cell_bb" == cellStyleBorderPropertyName) || "tbls_cffc" == cellFormatPropertyName && 0 == column && 0 == row && "cell_bt" == cellStyleBorderPropertyName || 
  "tbls_cflc" == cellFormatPropertyName && column == numColumns - 1 && 0 == row && "cell_bt" == cellStyleBorderPropertyName || "tbls_cfb1h" == cellFormatPropertyName && (JSCompiler_StaticMethods_isBand1HorzRow_(tableStyle, row) && "cell_bt" == cellStyleBorderPropertyName || JSCompiler_StaticMethods_isBand2HorzRow_(tableStyle, row) && row != numRows - 1 && "cell_bb" == cellStyleBorderPropertyName) || "tbls_cfb2h" == cellFormatPropertyName && (JSCompiler_StaticMethods_isBand2HorzRow_(tableStyle, row) && 
  "cell_bt" == cellStyleBorderPropertyName || JSCompiler_StaticMethods_isBand1HorzRow_(tableStyle, row) && row != numRows - 1 && "cell_bb" == cellStyleBorderPropertyName) || "tbls_cfb1v" == cellFormatPropertyName && 0 == row && JSCompiler_StaticMethods_isBand1VertColumn_(tableStyle, column) && "cell_bt" == cellStyleBorderPropertyName || "tbls_cfb2v" == cellFormatPropertyName && 0 == row && JSCompiler_StaticMethods_isBand2VertColumn_(tableStyle, column) && "cell_bt" == cellStyleBorderPropertyName || 
  "tbls_cfwt" == cellFormatPropertyName && 0 == row && "cell_bt" == cellStyleBorderPropertyName;
}
function JSCompiler_StaticMethods_isBottomBorder_(row, column, numRows, numColumns, cellStyleBorderPropertyName, cellFormatPropertyName, tableStyle) {
  return docs$text$protocol$TableStyle$isFirstRowCellFormat(cellFormatPropertyName, column, numColumns) && (0 == row && "cell_bb" == cellStyleBorderPropertyName || 1 == row && "cell_bt" == cellStyleBorderPropertyName) || docs$text$protocol$TableStyle$isLastRowCellFormat(cellFormatPropertyName, column, numColumns) && row == numRows - 1 && "cell_bb" == cellStyleBorderPropertyName || "tbls_cffc" == cellFormatPropertyName && 0 == column && row == numRows - 1 && "cell_bb" == cellStyleBorderPropertyName || 
  "tbls_cflc" == cellFormatPropertyName && column == numColumns - 1 && row == numRows - 1 && "cell_bb" == cellStyleBorderPropertyName || "tbls_cfb1h" == cellFormatPropertyName && (JSCompiler_StaticMethods_isBand1HorzRow_(tableStyle, row) && "cell_bb" == cellStyleBorderPropertyName || JSCompiler_StaticMethods_isBand2HorzRow_(tableStyle, row) && "cell_bt" == cellStyleBorderPropertyName) || "tbls_cfb2h" == cellFormatPropertyName && (JSCompiler_StaticMethods_isBand2HorzRow_(tableStyle, row) && "cell_bb" == 
  cellStyleBorderPropertyName || JSCompiler_StaticMethods_isBand1HorzRow_(tableStyle, row) && (tableStyle.enableStylingFirstRow_ || 0 != row) && (!tableStyle.enableStylingFirstRow_ || 1 != row) && "cell_bt" == cellStyleBorderPropertyName) || "tbls_cfb1v" == cellFormatPropertyName && row == numRows - 1 && JSCompiler_StaticMethods_isBand1VertColumn_(tableStyle, column) && "cell_bb" == cellStyleBorderPropertyName || "tbls_cfb2v" == cellFormatPropertyName && row == numRows - 1 && JSCompiler_StaticMethods_isBand2VertColumn_(tableStyle, 
  column) && "cell_bb" == cellStyleBorderPropertyName || "tbls_cfwt" == cellFormatPropertyName && row == numRows - 1 && "cell_bb" == cellStyleBorderPropertyName;
}
function JSCompiler_StaticMethods_isLeftBorder_(row, column, numRows, numColumns, cellStyleBorderPropertyName, cellFormatPropertyName, tableStyle) {
  return docs$text$protocol$TableStyle$isFirstColumnCellFormat(cellFormatPropertyName, row, numRows) && 0 == column && "cell_bl" == cellStyleBorderPropertyName || docs$text$protocol$TableStyle$isLastColumnCellFormat(cellFormatPropertyName, row, numRows) && (column == numColumns - 1 && "cell_bl" == cellStyleBorderPropertyName || column == numColumns - 2 && "cell_br" == cellStyleBorderPropertyName) || "tbls_cffr" == cellFormatPropertyName && 0 == column && 0 == row && "cell_bl" == cellStyleBorderPropertyName || 
  "tbls_cflr" == cellFormatPropertyName && 0 == column && row == numRows - 1 && "cell_bl" == cellStyleBorderPropertyName || "tbls_cfb1v" == cellFormatPropertyName && (JSCompiler_StaticMethods_isBand1VertColumn_(tableStyle, column) && "cell_bl" == cellStyleBorderPropertyName || JSCompiler_StaticMethods_isBand2VertColumn_(tableStyle, column) && column != numColumns - 1 && "cell_br" == cellStyleBorderPropertyName) || "tbls_cfb2v" == cellFormatPropertyName && (JSCompiler_StaticMethods_isBand2VertColumn_(tableStyle, 
  column) && "cell_bl" == cellStyleBorderPropertyName || JSCompiler_StaticMethods_isBand1VertColumn_(tableStyle, column) && column != numColumns - 1 && "cell_br" == cellStyleBorderPropertyName) || "tbls_cfb1h" == cellFormatPropertyName && 0 == column && JSCompiler_StaticMethods_isBand1HorzRow_(tableStyle, row) && "cell_bl" == cellStyleBorderPropertyName || "tbls_cfb2h" == cellFormatPropertyName && 0 == column && JSCompiler_StaticMethods_isBand2HorzRow_(tableStyle, row) && "cell_bl" == cellStyleBorderPropertyName || 
  "tbls_cfwt" == cellFormatPropertyName && 0 == column && "cell_bl" == cellStyleBorderPropertyName;
}
function JSCompiler_StaticMethods_isRightBorder_(row, column, numRows, numColumns, cellStyleBorderPropertyName, cellFormatPropertyName, tableStyle) {
  return docs$text$protocol$TableStyle$isLastColumnCellFormat(cellFormatPropertyName, row, numRows) && column == numColumns - 1 && "cell_br" == cellStyleBorderPropertyName || docs$text$protocol$TableStyle$isFirstColumnCellFormat(cellFormatPropertyName, row, numRows) && (0 == column && "cell_br" == cellStyleBorderPropertyName || 1 == column && "cell_bl" == cellStyleBorderPropertyName) || "tbls_cffr" == cellFormatPropertyName && column == numColumns - 1 && 0 == row && "cell_br" == cellStyleBorderPropertyName || 
  "tbls_cflr" == cellFormatPropertyName && column == numColumns - 1 && row == numRows - 1 && "cell_br" == cellStyleBorderPropertyName || "tbls_cfb1v" == cellFormatPropertyName && (JSCompiler_StaticMethods_isBand1VertColumn_(tableStyle, column) && "cell_br" == cellStyleBorderPropertyName || JSCompiler_StaticMethods_isBand2VertColumn_(tableStyle, column) && "cell_bl" == cellStyleBorderPropertyName) || "tbls_cfb2v" == cellFormatPropertyName && (JSCompiler_StaticMethods_isBand2VertColumn_(tableStyle, 
  column) && "cell_br" == cellStyleBorderPropertyName || JSCompiler_StaticMethods_isBand1VertColumn_(tableStyle, column) && (tableStyle.enableStylingFirstColumn_ || 0 != column) && (!tableStyle.enableStylingFirstColumn_ || 1 != column) && "cell_bl" == cellStyleBorderPropertyName) || "tbls_cfb1h" == cellFormatPropertyName && column == numColumns - 1 && JSCompiler_StaticMethods_isBand1HorzRow_(tableStyle, row) && "cell_br" == cellStyleBorderPropertyName || "tbls_cfb2h" == cellFormatPropertyName && 
  column == numColumns - 1 && JSCompiler_StaticMethods_isBand2HorzRow_(tableStyle, row) && "cell_br" == cellStyleBorderPropertyName || "tbls_cfwt" == cellFormatPropertyName && column == numColumns - 1 && "cell_br" == cellStyleBorderPropertyName;
}
function JSCompiler_StaticMethods_isBand1HorzRow_(tableStyle, row) {
  return tableStyle.enableStylingFirstRow_ && 0 == row ? !1 : row % 2 == (tableStyle.enableStylingFirstRow_ ? 1 : 0);
}
function JSCompiler_StaticMethods_isBand2HorzRow_(tableStyle, row) {
  return tableStyle.enableStylingFirstRow_ && 0 == row ? !1 : row % 2 == (tableStyle.enableStylingFirstRow_ ? 0 : 1);
}
function JSCompiler_StaticMethods_isBand1VertColumn_(tableStyle, column) {
  return tableStyle.enableStylingFirstColumn_ && 0 == column ? !1 : column % 2 == (tableStyle.enableStylingFirstColumn_ ? 1 : 0);
}
function JSCompiler_StaticMethods_isBand2VertColumn_(tableStyle, column) {
  return tableStyle.enableStylingFirstColumn_ && 0 == column ? !1 : column % 2 == (tableStyle.enableStylingFirstColumn_ ? 0 : 1);
}
function JSCompiler_StaticMethods_maybeResolveBorderWithAdjacentCell_(style, thisBorderSide, otherBorder) {
  var thisBorder = JSCompiler_StaticMethods_docs_text_protocol_CellStyle_prototype$getBorder(style, thisBorderSide), borderToUse = JSCompiler_StaticMethods_isInheritedProperty_(style, thisBorderSide) ? otherBorder : JSCompiler_StaticMethods_getDominantBorder_(thisBorder, otherBorder), bordersMap = {};
  bordersMap[thisBorderSide] = borderToUse.serialize();
  var thisBorderCompanionInheritProperty = style.propertyNames_.inheritablePropertyBimap_.get(thisBorderSide) || null;
  bordersMap[thisBorderCompanionInheritProperty] = !1;
  style.update(bordersMap);
}
function JSCompiler_StaticMethods_getDominantBorder_(border1, border2) {
  var borderNumber1 = docs$text$model$CellStyleResolver$BORDER_NUMBER_MAP_[border1.docs_text_protocol_Border$state_.lineStyle_], borderNumber2 = docs$text$model$CellStyleResolver$BORDER_NUMBER_MAP_[border2.docs_text_protocol_Border$state_.lineStyle_], borderWeight1 = borderNumber1 * border1.docs_text_protocol_Border$state_.docs_text_protocol_Border$State_$width_, borderWeight2 = borderNumber2 * border2.docs_text_protocol_Border$state_.docs_text_protocol_Border$State_$width_;
  if (borderWeight1 > borderWeight2) {
    return border1;
  }
  if (borderWeight2 > borderWeight1) {
    return border2;
  }
  if (borderNumber1 < borderNumber2) {
    return border1;
  }
  if (borderNumber2 < borderNumber1) {
    return border2;
  }
  var borderColor1 = JSCompiler_StaticMethods_getColorString_(border1.docs_text_protocol_Border$state_.docs_text_protocol_Border$State_$color_), borderColor2 = JSCompiler_StaticMethods_getColorString_(border2.docs_text_protocol_Border$state_.docs_text_protocol_Border$State_$color_), g1 = JSCompiler_StaticMethods_getHexComponent_(borderColor1, 3, 5), b1 = JSCompiler_StaticMethods_getHexComponent_(borderColor1, 5, 7), g2 = JSCompiler_StaticMethods_getHexComponent_(borderColor2, 3, 5), b2 = JSCompiler_StaticMethods_getHexComponent_(borderColor2, 
  5, 7), brightness1 = JSCompiler_StaticMethods_getHexComponent_(borderColor1, 1, 3) + b1 + 2 * g1, brightness2 = JSCompiler_StaticMethods_getHexComponent_(borderColor2, 1, 3) + b2 + 2 * g2;
  if (brightness1 < brightness2) {
    return border1;
  }
  if (brightness2 < brightness1) {
    return border2;
  }
  brightness1 = b1 + 2 * g1;
  brightness2 = b2 + 2 * g2;
  if (brightness1 < brightness2) {
    return border1;
  }
  if (brightness2 < brightness1) {
    return border2;
  }
  brightness1 = g1;
  brightness2 = g2;
  return brightness1 < brightness2 ? border1 : brightness2 < brightness1 ? border2 : border1;
}
function JSCompiler_StaticMethods_getColorString_(color) {
  if (0 != color.getType()) {
    throw Error("Color is not a hex color.");
  }
  return color.hexColor_;
}
function JSCompiler_StaticMethods_getHexComponent_(color, start, end) {
  return color ? parseInt(color.substring(start, end), 16) : 0;
}
function JSCompiler_StaticMethods_isInheritedProperty_(annotation, propertyName) {
  var companionInheritProperty = annotation.propertyNames_.inheritablePropertyBimap_.get(propertyName) || null;
  return !(!companionInheritProperty || !annotation.getValue(companionInheritProperty));
}
;
// Input 167
function docs$text$model$ApplyStyleConcreteStyleUpdaterUtil$createMapFromDependentTypes(updater, indices) {
  for (var map = {}, styleTypes = updater.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getDependentTypes(), i = 0;i < styleTypes.length;i++) {
    map[styleTypes[i]] = indices;
  }
  return map;
}
;
// Input 168
function docs$text$model$HeadingsConcreteStyleUpdater() {
}
docs$text$model$HeadingsConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getUpdaterType = JSCompiler_returnArg("headings");
docs$text$model$HeadingsConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getDependentTypes = function $docs$text$model$HeadingsConcreteStyleUpdater$$docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getDependentTypes$() {
  return ["list", "paragraph", "text"];
};
docs$text$model$HeadingsConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getIndicesToRecompute = function $docs$text$model$HeadingsConcreteStyleUpdater$$docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getIndicesToRecompute$(spacerIndex, stylePropertyMap, rawStyleProvider) {
  var headingChangeMap = {}, rawParagraphKeys = rawStyleProvider.getRawSortedStyleKeys("paragraph");
  if (stylePropertyMap.hs_nt) {
    return docs$text$model$ApplyStyleConcreteStyleUpdaterUtil$createMapFromDependentTypes(this, rawParagraphKeys);
  }
  for (var headingKey in stylePropertyMap) {
    headingChangeMap[docs$text$protocol$HeadingsStyle$getHeading(headingKey)] = !0;
  }
  for (var recomputeParagraphIndices = [], i = 0;i < rawParagraphKeys.length;i++) {
    var paragraphIndex = rawParagraphKeys[i], paragraphStyle = rawStyleProvider.getRawTetheredStyle("paragraph", paragraphIndex);
    headingChangeMap[paragraphStyle.docs_text_protocol_ParagraphStyle$state_.heading_] && recomputeParagraphIndices.push(paragraphIndex);
  }
  return docs$text$model$ApplyStyleConcreteStyleUpdaterUtil$createMapFromDependentTypes(this, recomputeParagraphIndices);
};
docs$text$model$HeadingsConcreteStyleUpdater.prototype.getAllIndicesToRecompute = function $docs$text$model$HeadingsConcreteStyleUpdater$$getAllIndicesToRecompute$(spacerIndex, rawStyleProvider) {
  return docs$text$model$ApplyStyleConcreteStyleUpdaterUtil$createMapFromDependentTypes(this, rawStyleProvider.getRawSortedStyleKeys("paragraph"));
};
// Input 169
function docs$text$protocol$Entity(type, propertyNames, id) {
  docs$text$protocol$Annotation.call(this, propertyNames);
  this.docs_text_protocol_Entity$type_ = type;
  this.docs_text_protocol_Entity$id_ = id;
}
goog$inherits(docs$text$protocol$Entity, docs$text$protocol$Annotation);
var docs$text$protocol$Entity$0Type$ALL_TYPES = "bookmark comment footnote header-footer inline list named-range positioned".split(" ");
goog$object$createSet(["list"]);
docs$text$protocol$Entity.prototype.getType = function $docs$text$protocol$Entity$$getType$() {
  return this.docs_text_protocol_Entity$type_;
};
docs$text$protocol$Entity.prototype.getId = function $docs$text$protocol$Entity$$getId$() {
  return this.docs_text_protocol_Entity$id_;
};
docs$text$protocol$Entity.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Entity$$docs_text_protocol_Annotation_prototype$serializeInternal$() {
  return {};
};
docs$text$protocol$Entity.prototype.copyToInternal = function $docs$text$protocol$Entity$$copyToInternal$(other) {
  other.docs_text_protocol_Entity$type_ = this.docs_text_protocol_Entity$type_;
  other.docs_text_protocol_Entity$id_ = this.docs_text_protocol_Entity$id_;
};
docs$text$protocol$Entity.prototype.equalsInternal = function $docs$text$protocol$Entity$$equalsInternal$(other) {
  return other instanceof docs$text$protocol$Entity && this.getType() == other.getType() && this.getId() == other.getId();
};
docs$text$protocol$Entity.prototype.equalsOrInherit = function $docs$text$protocol$Entity$$equalsOrInherit$(other) {
  return other instanceof docs$text$protocol$Entity && this.getType() == other.getType() && this.getId() == other.getId() && docs$text$protocol$Entity.superClass_.equalsOrInherit.call(this, other);
};
// Input 170
function docs$text$protocol$ListEntity(id, opt_nestingBullets) {
  docs$text$protocol$Entity.call(this, "list", docs$text$protocol$ListEntity$propertyNames_, id);
  this.docs_text_protocol_ListEntity$nestingBullets_ = opt_nestingBullets || new docs$text$protocol$NestingBullets;
}
goog$inherits(docs$text$protocol$ListEntity, docs$text$protocol$Entity);
var docs$text$protocol$ListEntity$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({NESTING_BULLETS:"le_nb"}), docs$text$protocol$ListEntity$NESTING_ANNOTATION_PROPERTY_NAMES_ = ["le_nb"];
docs$text$protocol$ListEntity.prototype.clone = function $docs$text$protocol$ListEntity$$clone$() {
  var clone = new docs$text$protocol$ListEntity(this.getId(), new docs$text$protocol$NestingBullets([]));
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$ListEntity.prototype.copyToInternal = function $docs$text$protocol$ListEntity$$copyToInternal$(other) {
  docs$text$protocol$ListEntity.superClass_.copyToInternal.call(this, other);
  other.docs_text_protocol_ListEntity$nestingBullets_ = this.docs_text_protocol_ListEntity$nestingBullets_.clone();
};
docs$text$protocol$ListEntity.prototype.copyInheritedPropertiesToInternal = function $docs$text$protocol$ListEntity$$copyInheritedPropertiesToInternal$(destination) {
  JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo(this.docs_text_protocol_ListEntity$nestingBullets_, destination.docs_text_protocol_ListEntity$nestingBullets_);
};
docs$text$protocol$ListEntity.prototype.updateInternal = function $docs$text$protocol$ListEntity$$updateInternal$(propertyMap, opt_strategy) {
  "le_nb" in propertyMap && this.docs_text_protocol_ListEntity$nestingBullets_.update(propertyMap.le_nb, opt_strategy);
};
docs$text$protocol$ListEntity.prototype.getValueInternal = function $docs$text$protocol$ListEntity$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "le_nb":
      return this.docs_text_protocol_ListEntity$nestingBullets_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ListEntity.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$ListEntity$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "le_nb":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ListEntity.prototype.isNestedAnnotation = function $docs$text$protocol$ListEntity$$isNestedAnnotation$(propertyName) {
  return "le_nb" == propertyName;
};
docs$text$protocol$ListEntity.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$ListEntity$$getNestedAnnotationPropertyNames$() {
  return docs$text$protocol$ListEntity$NESTING_ANNOTATION_PROPERTY_NAMES_;
};
docs$text$protocol$ListEntity.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$ListEntity$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {}, serializedNestingBullets = this.docs_text_protocol_ListEntity$nestingBullets_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedNestingBullets) && (serializedObj.le_nb = serializedNestingBullets);
  return serializedObj;
};
docs$text$protocol$ListEntity.prototype.equalsInternal = function $docs$text$protocol$ListEntity$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$ListEntity ? docs$text$protocol$ListEntity.superClass_.equalsInternal.call(this, other, strategy) && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_ListEntity$nestingBullets_, other.docs_text_protocol_ListEntity$nestingBullets_, strategy) : !1;
};
// Input 171
// Input 172
function docs$text$model$ListEntityConcreteStyleUpdater() {
}
;
// Input 173
function docs$text$model$ListStyleResolver() {
}
docs$text$model$ListStyleResolver.prototype.docs_text_model_CellStyleResolver_prototype$getConcreteStyle = function $docs$text$model$ListStyleResolver$$docs_text_model_CellStyleResolver_prototype$getConcreteStyle$(rawStyleProvider, style, spacerIndex, concreteEntityProvider, tableState) {
  var listTextStyle = style.textStyleRef_.get(), listEntityId = style.docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$listId_, isInList = !!listEntityId && concreteEntityProvider.hasEntity(listEntityId);
  if (!listTextStyle.docs_text_protocol_Annotation_prototype$hasOverriddenValues() && !isInList) {
    var listStyle = new docs$text$protocol$ListStyle;
    listStyle.textStyleRef_ = new docs$text$protocol$NullableAnnotationReference(docs$text$protocol$TextStyle$defaultAllInherit_, docs$text$protocol$TextStyle$allInherit_, new docs$text$protocol$TextStyle);
    if (style.docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$listId_ != listStyle.docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$listId_ || JSCompiler_StaticMethods_docs_text_protocol_ListStyle_prototype$getNestingLevel(style) != JSCompiler_StaticMethods_docs_text_protocol_ListStyle_prototype$getNestingLevel(listStyle)) {
      var propertyMap = {};
      style.docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$listId_ != listStyle.docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$listId_ && (propertyMap.ls_id = style.docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$listId_);
      JSCompiler_StaticMethods_docs_text_protocol_ListStyle_prototype$getNestingLevel(style) != JSCompiler_StaticMethods_docs_text_protocol_ListStyle_prototype$getNestingLevel(listStyle) && (propertyMap.ls_nest = JSCompiler_StaticMethods_docs_text_protocol_ListStyle_prototype$getNestingLevel(style));
      listStyle.update(propertyMap);
    }
    return listStyle;
  }
  if (listTextStyle && !JSCompiler_StaticMethods_hasInheritValues(style)) {
    return style;
  }
  if (!isInList) {
    var listStyleCopy = style.clone(), defaultTextStyle = docs$text$protocol$TextStyle$create();
    JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo(docs$text$protocol$ListStyle$createWithTextStyle(defaultTextStyle), listStyleCopy);
    return listStyleCopy;
  }
  var bulletTextStyle;
  var nestingLevel = JSCompiler_StaticMethods_docs_text_protocol_ListStyle_prototype$getNestingLevel(style), listEntity = concreteEntityProvider.docs_text_model_ConcreteEntityManager_prototype$getEntity(listEntityId);
  if (!listEntity) {
    throw Error("Could not find list entity: " + listEntityId);
  }
  var bullet = listEntity.docs_text_protocol_ListEntity$nestingBullets_.docs_text_protocol_NestingBullets$nestingBullets_[nestingLevel];
  if (!bullet) {
    throw Error("No bullet for nesting level: " + nestingLevel);
  }
  var bulletTextStyle$jscomp$0 = (bullet || new docs$text$protocol$Bullet({})).docs_text_protocol_Bullet$textStyle_;
  if (JSCompiler_StaticMethods_hasInheritValues(bulletTextStyle$jscomp$0)) {
    var headingNum = rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle("paragraph", spacerIndex).docs_text_protocol_ParagraphStyle$state_.heading_, textStyle = docs$text$model$StyleUtil$getConcreteStyleThroughHeadingsAndTableStyle(rawStyleProvider, tableState, spacerIndex, "text", headingNum);
    bulletTextStyle = JSCompiler_StaticMethods_getConcreteCopy(bulletTextStyle$jscomp$0, textStyle);
  } else {
    bulletTextStyle = bulletTextStyle$jscomp$0;
  }
  if (JSCompiler_StaticMethods_hasInheritValues(bulletTextStyle)) {
    throw Error("The ConcreteBulletTextStyleProvider implementation should return a fully concrete bullet text style.");
  }
  listStyleCopy = style.clone();
  JSCompiler_StaticMethods_docs_text_protocol_Annotation_prototype$copyInheritedPropertiesTo(docs$text$protocol$ListStyle$createWithTextStyle(bulletTextStyle), listStyleCopy);
  return listStyleCopy;
};
docs$text$model$ListStyleResolver.prototype.getResolvableStyleType = JSCompiler_returnArg("list");
// Input 174
// Input 175
function docs$diagnostics$NullLatencyReporter() {
}
docs$diagnostics$NullLatencyReporter.prototype.clear = goog$nullFunction;
docs$diagnostics$NullLatencyReporter.prototype.flushLoadEvents = goog$nullFunction;
docs$diagnostics$NullLatencyReporter.prototype.log = goog$nullFunction;
// Input 176
function docs$diagnostics$PerformanceManager(opt_now) {
  this.now_ = opt_now || goog$now;
  this.pendingEvents_ = {};
  this.latencyReporter_ = new docs$diagnostics$NullLatencyReporter;
  this.initialLoadStats_ = {};
  this.saveInitialLoadStats = this.saveAndReportInitialLoadStats;
  this.getInitialLoadStats = this.getInitialLoadStats;
}
goog$addSingletonGetter(docs$diagnostics$PerformanceManager);
docs$diagnostics$PerformanceManager.prototype.saveAndReportInitialLoadStats = function $docs$diagnostics$PerformanceManager$$saveAndReportInitialLoadStats$(startLoadTime, loadStats) {
  var initialLoadStats = this.initialLoadStats_ = loadStats, events = [], csiVariable;
  for (csiVariable in initialLoadStats) {
    events.push([csiVariable, initialLoadStats[csiVariable]]);
  }
  this.latencyReporter_.flushLoadEvents(startLoadTime, events);
};
docs$diagnostics$PerformanceManager.prototype.getInitialLoadStats = function $docs$diagnostics$PerformanceManager$$getInitialLoadStats$() {
  return goog$json$serialize(this.initialLoadStats_);
};
function JSCompiler_StaticMethods_startEvent(JSCompiler_StaticMethods_startEvent$self, eventCode, opt_throttle) {
  var eventId = "goog_" + goog$string$uniqueStringCounter_++;
  JSCompiler_StaticMethods_startEvent$self.pendingEvents_[eventId] = {startTime:JSCompiler_StaticMethods_startEvent$self.now_(), eventCode:eventCode, throttle:!!opt_throttle, diagnosticsData:null};
  return eventId;
}
function JSCompiler_StaticMethods_completeEvent(JSCompiler_StaticMethods_completeEvent$self, eventId) {
  var timingEvent = JSCompiler_StaticMethods_completeEvent$self.pendingEvents_[eventId];
  if (!timingEvent) {
    throw Error("There is no event with id " + eventId);
  }
  JSCompiler_StaticMethods_completeEvent$self.latencyReporter_.log(timingEvent.eventCode, JSCompiler_StaticMethods_completeEvent$self.now_() - timingEvent.startTime, timingEvent.throttle, null != timingEvent.diagnosticsData ? timingEvent.diagnosticsData : void 0);
  delete JSCompiler_StaticMethods_completeEvent$self.pendingEvents_[eventId];
}
function JSCompiler_StaticMethods_discardEvent(JSCompiler_StaticMethods_discardEvent$self, eventId) {
  if (!JSCompiler_StaticMethods_discardEvent$self.pendingEvents_[eventId]) {
    throw Error("There is no event with id " + eventId);
  }
  delete JSCompiler_StaticMethods_discardEvent$self.pendingEvents_[eventId];
}
;
// Input 177
function docs$text$diagnostics$EventCode(logType, logEventType) {
  this.logType_ = logType;
  this.logEventType_ = logEventType;
}
docs$text$diagnostics$EventCode.prototype.toString = function $docs$text$diagnostics$EventCode$$toString$() {
  return "EventCode: " + this.logType_ + "," + this.logEventType_;
};
// Input 178
// Input 179
// Input 180
// Input 181
var goog$iter$StopIteration = "StopIteration" in goog$global ? goog$global.StopIteration : {message:"StopIteration", stack:""};
function goog$iter$Iterator() {
}
goog$iter$Iterator.prototype.next = function $goog$iter$Iterator$$next$() {
  throw goog$iter$StopIteration;
};
goog$iter$Iterator.prototype.__iterator__ = function $goog$iter$Iterator$$__iterator__$() {
  return this;
};
function goog$iter$toIterator(iterable) {
  if (iterable instanceof goog$iter$Iterator) {
    return iterable;
  }
  if ("function" == typeof iterable.__iterator__) {
    return iterable.__iterator__(!1);
  }
  if (goog$isArrayLike(iterable)) {
    var i = 0, newIter = new goog$iter$Iterator;
    newIter.next = function $newIter$next$() {
      for (;;) {
        if (i >= iterable.length) {
          throw goog$iter$StopIteration;
        }
        if (i in iterable) {
          return iterable[i++];
        }
        i++;
      }
    };
    return newIter;
  }
  throw Error("Not implemented");
}
function goog$iter$forEach(iterable, f) {
  if (goog$isArrayLike(iterable)) {
    try {
      goog$array$forEach(iterable, f, void 0);
    } catch (ex) {
      if (ex !== goog$iter$StopIteration) {
        throw ex;
      }
    }
  } else {
    iterable = goog$iter$toIterator(iterable);
    try {
      for (;;) {
        f.call(void 0, iterable.next(), void 0, iterable);
      }
    } catch (ex$0) {
      if (ex$0 !== goog$iter$StopIteration) {
        throw ex$0;
      }
    }
  }
}
;
// Input 182
function goog$structs$Map(opt_map, var_args) {
  this.map_ = {};
  this.goog_structs_Map$keys_ = [];
  this.version_ = this.count_ = 0;
  var argLength = arguments.length;
  if (1 < argLength) {
    if (argLength % 2) {
      throw Error("Uneven number of arguments");
    }
    for (var i = 0;i < argLength;i += 2) {
      this.set(arguments[i], arguments[i + 1]);
    }
  } else {
    if (opt_map) {
      var keys, values;
      opt_map instanceof goog$structs$Map ? (keys = opt_map.getKeys(), values = opt_map.getValues()) : (keys = goog$object$getKeys(opt_map), values = goog$object$getValues(opt_map));
      for (var i$jscomp$0 = 0;i$jscomp$0 < keys.length;i$jscomp$0++) {
        this.set(keys[i$jscomp$0], values[i$jscomp$0]);
      }
    }
  }
}
goog$structs$Map.prototype.getCount = function $goog$structs$Map$$getCount$() {
  return this.count_;
};
goog$structs$Map.prototype.getValues = function $goog$structs$Map$$getValues$() {
  JSCompiler_StaticMethods_cleanupKeysArray_(this);
  for (var rv = [], i = 0;i < this.goog_structs_Map$keys_.length;i++) {
    rv.push(this.map_[this.goog_structs_Map$keys_[i]]);
  }
  return rv;
};
goog$structs$Map.prototype.getKeys = function $goog$structs$Map$$getKeys$() {
  JSCompiler_StaticMethods_cleanupKeysArray_(this);
  return this.goog_structs_Map$keys_.concat();
};
goog$structs$Map.prototype.containsValue = function $goog$structs$Map$$containsValue$(val) {
  for (var i = 0;i < this.goog_structs_Map$keys_.length;i++) {
    var key = this.goog_structs_Map$keys_[i];
    if (goog$structs$Map$hasKey_(this.map_, key) && this.map_[key] == val) {
      return !0;
    }
  }
  return !1;
};
goog$structs$Map.prototype.equals = function $goog$structs$Map$$equals$(otherMap, opt_equalityFn) {
  if (this === otherMap) {
    return !0;
  }
  if (this.count_ != otherMap.getCount()) {
    return !1;
  }
  var equalityFn = opt_equalityFn || goog$structs$Map$defaultEquals;
  JSCompiler_StaticMethods_cleanupKeysArray_(this);
  for (var key, i = 0;key = this.goog_structs_Map$keys_[i];i++) {
    if (!equalityFn(this.get(key), otherMap.get(key))) {
      return !1;
    }
  }
  return !0;
};
function goog$structs$Map$defaultEquals(a, b) {
  return a === b;
}
goog$structs$Map.prototype.clear = function $goog$structs$Map$$clear$() {
  this.map_ = {};
  this.version_ = this.count_ = this.goog_structs_Map$keys_.length = 0;
};
function JSCompiler_StaticMethods_goog_structs_Map_prototype$remove(JSCompiler_StaticMethods_goog_structs_Map_prototype$remove$self, key) {
  goog$structs$Map$hasKey_(JSCompiler_StaticMethods_goog_structs_Map_prototype$remove$self.map_, key) && (delete JSCompiler_StaticMethods_goog_structs_Map_prototype$remove$self.map_[key], JSCompiler_StaticMethods_goog_structs_Map_prototype$remove$self.count_--, JSCompiler_StaticMethods_goog_structs_Map_prototype$remove$self.version_++, JSCompiler_StaticMethods_goog_structs_Map_prototype$remove$self.goog_structs_Map$keys_.length > 2 * JSCompiler_StaticMethods_goog_structs_Map_prototype$remove$self.count_ && 
  JSCompiler_StaticMethods_cleanupKeysArray_(JSCompiler_StaticMethods_goog_structs_Map_prototype$remove$self));
}
function JSCompiler_StaticMethods_cleanupKeysArray_(JSCompiler_StaticMethods_cleanupKeysArray_$self) {
  if (JSCompiler_StaticMethods_cleanupKeysArray_$self.count_ != JSCompiler_StaticMethods_cleanupKeysArray_$self.goog_structs_Map$keys_.length) {
    for (var srcIndex = 0, destIndex = 0;srcIndex < JSCompiler_StaticMethods_cleanupKeysArray_$self.goog_structs_Map$keys_.length;) {
      var key = JSCompiler_StaticMethods_cleanupKeysArray_$self.goog_structs_Map$keys_[srcIndex];
      goog$structs$Map$hasKey_(JSCompiler_StaticMethods_cleanupKeysArray_$self.map_, key) && (JSCompiler_StaticMethods_cleanupKeysArray_$self.goog_structs_Map$keys_[destIndex++] = key);
      srcIndex++;
    }
    JSCompiler_StaticMethods_cleanupKeysArray_$self.goog_structs_Map$keys_.length = destIndex;
  }
  if (JSCompiler_StaticMethods_cleanupKeysArray_$self.count_ != JSCompiler_StaticMethods_cleanupKeysArray_$self.goog_structs_Map$keys_.length) {
    for (var seen = {}, destIndex = srcIndex = 0;srcIndex < JSCompiler_StaticMethods_cleanupKeysArray_$self.goog_structs_Map$keys_.length;) {
      key = JSCompiler_StaticMethods_cleanupKeysArray_$self.goog_structs_Map$keys_[srcIndex], goog$structs$Map$hasKey_(seen, key) || (JSCompiler_StaticMethods_cleanupKeysArray_$self.goog_structs_Map$keys_[destIndex++] = key, seen[key] = 1), srcIndex++;
    }
    JSCompiler_StaticMethods_cleanupKeysArray_$self.goog_structs_Map$keys_.length = destIndex;
  }
}
goog$structs$Map.prototype.get = function $goog$structs$Map$$get$(key, opt_val) {
  return goog$structs$Map$hasKey_(this.map_, key) ? this.map_[key] : opt_val;
};
goog$structs$Map.prototype.set = function $goog$structs$Map$$set$(key, value) {
  goog$structs$Map$hasKey_(this.map_, key) || (this.count_++, this.goog_structs_Map$keys_.push(key), this.version_++);
  this.map_[key] = value;
};
goog$structs$Map.prototype.forEach = function $goog$structs$Map$$forEach$(f, opt_obj) {
  for (var keys = this.getKeys(), i = 0;i < keys.length;i++) {
    var key = keys[i], value = this.get(key);
    f.call(opt_obj, value, key, this);
  }
};
goog$structs$Map.prototype.clone = function $goog$structs$Map$$clone$() {
  return new goog$structs$Map(this);
};
goog$structs$Map.prototype.__iterator__ = function $goog$structs$Map$$__iterator__$(opt_keys) {
  JSCompiler_StaticMethods_cleanupKeysArray_(this);
  var i = 0, version = this.version_, selfObj = this, newIter = new goog$iter$Iterator;
  newIter.next = function $newIter$next$() {
    if (version != selfObj.version_) {
      throw Error("The map has changed since the iterator was created");
    }
    if (i >= selfObj.goog_structs_Map$keys_.length) {
      throw goog$iter$StopIteration;
    }
    var key = selfObj.goog_structs_Map$keys_[i++];
    return opt_keys ? key : selfObj.map_[key];
  };
  return newIter;
};
function goog$structs$Map$hasKey_(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
}
;
// Input 183
function goog$structs$getCount(col) {
  var JSCompiler_temp;
  if (col.getCount && "function" == typeof col.getCount) {
    JSCompiler_temp = col.getCount();
  } else {
    var JSCompiler_temp$jscomp$0;
    if (goog$isArrayLike(col) || goog$isString(col)) {
      JSCompiler_temp$jscomp$0 = col.length;
    } else {
      var rv = 0, key;
      for (key in col) {
        rv++;
      }
      JSCompiler_temp$jscomp$0 = rv;
    }
    JSCompiler_temp = JSCompiler_temp$jscomp$0;
  }
  return JSCompiler_temp;
}
function goog$structs$getValues(col) {
  if (col.getValues && "function" == typeof col.getValues) {
    return col.getValues();
  }
  if (goog$isString(col)) {
    return col.split("");
  }
  if (goog$isArrayLike(col)) {
    for (var rv = [], l = col.length, i = 0;i < l;i++) {
      rv.push(col[i]);
    }
    return rv;
  }
  return goog$object$getValues(col);
}
function goog$structs$getKeys(col) {
  if (col.getKeys && "function" == typeof col.getKeys) {
    return col.getKeys();
  }
  if (!col.getValues || "function" != typeof col.getValues) {
    if (goog$isArrayLike(col) || goog$isString(col)) {
      for (var rv = [], l = col.length, i = 0;i < l;i++) {
        rv.push(i);
      }
      return rv;
    }
    return goog$object$getKeys(col);
  }
}
function goog$structs$forEach(col, f) {
  if (col.forEach && "function" == typeof col.forEach) {
    col.forEach(f, void 0);
  } else {
    if (goog$isArrayLike(col) || goog$isString(col)) {
      goog$array$forEach(col, f, void 0);
    } else {
      for (var keys = goog$structs$getKeys(col), values = goog$structs$getValues(col), l = values.length, i = 0;i < l;i++) {
        f.call(void 0, values[i], keys && keys[i], col);
      }
    }
  }
}
function goog$structs$every(col, f) {
  if ("function" == typeof col.every) {
    return col.every(f, void 0);
  }
  if (goog$isArrayLike(col) || goog$isString(col)) {
    return goog$array$every(col, f, void 0);
  }
  for (var keys = goog$structs$getKeys(col), values = goog$structs$getValues(col), l = values.length, i = 0;i < l;i++) {
    if (!f.call(void 0, values[i], keys && keys[i], col)) {
      return !1;
    }
  }
  return !0;
}
;
// Input 184
function goog$structs$Set(opt_values) {
  this.map_ = new goog$structs$Map;
  opt_values && JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll(this, opt_values);
}
function goog$structs$Set$getKey_(val) {
  var type = typeof val;
  return "object" == type && val || "function" == type ? "o" + (val[goog$UID_PROPERTY_] || (val[goog$UID_PROPERTY_] = ++goog$uidCounter_)) : type.substr(0, 1) + val;
}
goog$structs$Set.prototype.getCount = function $goog$structs$Set$$getCount$() {
  return this.map_.getCount();
};
function JSCompiler_StaticMethods_goog_structs_Collection_prototype$add(JSCompiler_StaticMethods_goog_structs_Collection_prototype$add$self, element) {
  JSCompiler_StaticMethods_goog_structs_Collection_prototype$add$self.map_.set(goog$structs$Set$getKey_(element), element);
}
function JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll(JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$self, col) {
  for (var values = goog$structs$getValues(col), l = values.length, i = 0;i < l;i++) {
    JSCompiler_StaticMethods_goog_structs_Collection_prototype$add(JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$self, values[i]);
  }
}
goog$structs$Set.prototype.clear = function $goog$structs$Set$$clear$() {
  this.map_.clear();
};
goog$structs$Set.prototype.contains = function $goog$structs$Set$$contains$(element) {
  var key = goog$structs$Set$getKey_(element);
  return goog$structs$Map$hasKey_(this.map_.map_, key);
};
goog$structs$Set.prototype.getValues = function $goog$structs$Set$$getValues$() {
  return this.map_.getValues();
};
goog$structs$Set.prototype.clone = function $goog$structs$Set$$clone$() {
  return new goog$structs$Set(this);
};
goog$structs$Set.prototype.equals = function $goog$structs$Set$$equals$(col) {
  return this.getCount() == goog$structs$getCount(col) && JSCompiler_StaticMethods_isSubsetOf(this, col);
};
function JSCompiler_StaticMethods_isSubsetOf(JSCompiler_StaticMethods_isSubsetOf$self, col$jscomp$0) {
  var colCount = goog$structs$getCount(col$jscomp$0);
  if (JSCompiler_StaticMethods_isSubsetOf$self.getCount() > colCount) {
    return !1;
  }
  !(col$jscomp$0 instanceof goog$structs$Set) && 5 < colCount && (col$jscomp$0 = new goog$structs$Set(col$jscomp$0));
  return goog$structs$every(JSCompiler_StaticMethods_isSubsetOf$self, function(value) {
    var col = col$jscomp$0, JSCompiler_temp;
    if (col.contains && "function" == typeof col.contains) {
      JSCompiler_temp = col.contains(value);
    } else {
      var JSCompiler_temp$jscomp$0;
      if (col.containsValue && "function" == typeof col.containsValue) {
        JSCompiler_temp$jscomp$0 = col.containsValue(value);
      } else {
        var JSCompiler_temp$jscomp$1;
        if (goog$isArrayLike(col) || goog$isString(col)) {
          JSCompiler_temp$jscomp$1 = goog$array$contains(col, value);
        } else {
          a: {
            for (var key in col) {
              if (col[key] == value) {
                JSCompiler_temp$jscomp$1 = !0;
                break a;
              }
            }
            JSCompiler_temp$jscomp$1 = !1;
          }
        }
        JSCompiler_temp$jscomp$0 = JSCompiler_temp$jscomp$1;
      }
      JSCompiler_temp = JSCompiler_temp$jscomp$0;
    }
    return JSCompiler_temp;
  });
}
goog$structs$Set.prototype.__iterator__ = function $goog$structs$Set$$__iterator__$() {
  return this.map_.__iterator__(!1);
};
// Input 185
function module$contents$docs$observable$EventObservable_EventObservable() {
  goog$Disposable.call(this);
  this.observers_ = new goog$structs$Set;
}
$jscomp$inherits(module$contents$docs$observable$EventObservable_EventObservable, goog$Disposable);
module$contents$docs$observable$EventObservable_EventObservable.prototype.dispatchEvent = function $module$contents$docs$observable$EventObservable_EventObservable$$dispatchEvent$(event) {
  for (var observers = this.observers_.getValues(), i = 0;i < observers.length;i++) {
    observers[i](event);
  }
};
module$contents$docs$observable$EventObservable_EventObservable.prototype.disposeInternal = function $module$contents$docs$observable$EventObservable_EventObservable$$disposeInternal$() {
  this.observers_.clear();
  goog$Disposable.prototype.disposeInternal.call(this);
};
// Input 186
// Input 187
// Input 188
// Input 189
function docs$text$i18n$ContentClassifier(opt_contentClassification) {
  this.containsComplexScripts_ = opt_contentClassification ? opt_contentClassification.containsBidiContent_ || opt_contentClassification.getContainsGraphemeClusters() : !1;
  this.containsBidiContent_ = opt_contentClassification ? opt_contentClassification.containsBidiContent_ : !1;
  this.containsBidiContentObservable_ = new module$contents$docs$observable$EventObservable_EventObservable;
}
docs$text$i18n$ContentClassifier.prototype.mutationInspectionEnabled_ = !1;
var docs$text$i18n$ContentClassifier$bidiRangesRegex_ = /[\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05ff\u07c0-\u07ea\u07f4\u07f5\u07fa-\u0815\u081a\u0824\u0828\u082e-\u0858\u085c-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb4f\u0605\u0608\u060b\u060d\u061b-\u064a\u066d-\u066f\u0671-\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u0710\u0712-\u072f\u074b-\u07a5\u07b1-\u07bf\u08a0-\u08e3\u08ff\ufb50-\ufd3d\ufd40-\ufdcf\ufdf0-\ufdfc\ufdfe\ufdff\ufe70-\ufefe\u202b\u202e\u0600-\u0604\u0660-\u0669\u066b\u066c\u06dd\u202a\u202d\u202c]/, 
docs$text$i18n$ContentClassifier$bidiOrClusteringRangesRegex_ = /[\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05ff\u07c0-\u07ea\u07f4\u07f5\u07fa-\u0815\u081a\u0824\u0828\u082e-\u0858\u085c-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb4f\u0605\u0608\u060b\u060d\u061b-\u064a\u066d-\u066f\u0671-\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u0710\u0712-\u072f\u074b-\u07a5\u07b1-\u07bf\u08a0-\u08e3\u08ff\ufb50-\ufd3d\ufd40-\ufdcf\ufdf0-\ufdfc\ufdfe\ufdff\ufe70-\ufefe\u202b\u202e\u0600-\u0604\u0660-\u0669\u066b\u066c\u06dd\u202a\u202d\u202c\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e33-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb3-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1037\u1039-\u103e\u1056-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1084-\u1086\u108d\u109d\u1100-\u11ff\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b5-\u19b7\u19ba\u1a17-\u1a1b\u1a55-\u1a5e\u1a60\u1a62\u1a65-\u1a7c\u1a7f\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua953\ua960-\ua97c\ua980-\ua983\ua9b3-\ua9c0\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\ud7b0-\ud7c6\ud7cb-\ud7fb\ud800-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
docs$text$i18n$ContentClassifier.prototype.clone = function $docs$text$i18n$ContentClassifier$$clone$() {
  var clone = new docs$text$i18n$ContentClassifier;
  clone.mutationInspectionEnabled_ = this.mutationInspectionEnabled_;
  clone.containsBidiContent_ = this.containsBidiContent_;
  clone.containsComplexScripts_ = this.containsComplexScripts_;
  return clone;
};
// Input 190
function docs$text$mutations$Mutation(type) {
  this.docs_commands_AbstractCommand$type_ = type;
}
goog$inherits(docs$text$mutations$Mutation, docs$commands$AbstractCommand);
// Input 191
function docs$text$mutations$AbstractStylePropertiesMutation(mutationType, styleType, startIndex, endIndex, styleMap, opt_forceMetadata) {
  this.docs_commands_AbstractCommand$type_ = mutationType;
  if (startIndex > endIndex || 0 > startIndex || 0 > endIndex) {
    throw Error("Invalid indices. Start (" + startIndex + ") > end (" + endIndex + ").");
  }
  this.docs_text_mutations_AbstractStylePropertiesMutation$styleType_ = styleType;
  this.docs_text_mutations_AbstractStylePropertiesMutation$startIndex_ = startIndex;
  this.docs_text_mutations_AbstractStylePropertiesMutation$endIndex_ = endIndex;
  this.docs_text_mutations_AbstractStylePropertiesMutation$styleMap_ = styleMap;
  this.forceMetadata_ = !!opt_forceMetadata;
}
goog$inherits(docs$text$mutations$AbstractStylePropertiesMutation, docs$text$mutations$Mutation);
docs$text$mutations$AbstractStylePropertiesMutation.prototype.docs_commands_AbstractCommand_prototype$isMetadata = function $docs$text$mutations$AbstractStylePropertiesMutation$$docs_commands_AbstractCommand_prototype$isMetadata$() {
  return this.forceMetadata_ || docs$text$protocol$StyleTypes$getStyleTypeInfo_(this.docs_text_mutations_AbstractStylePropertiesMutation$styleType_).docs_text_protocol_StyleTypeInfo$isMetadata_;
};
// Input 192
function docs$text$mutations$AbstractApplyStyleMutation(mutationType, styleType, startIndex, endIndex, styleMap, opt_forceMetadata) {
  docs$text$mutations$AbstractStylePropertiesMutation.call(this, mutationType, styleType, startIndex, endIndex, styleMap, opt_forceMetadata);
}
goog$inherits(docs$text$mutations$AbstractApplyStyleMutation, docs$text$mutations$AbstractStylePropertiesMutation);
// Input 193
// Input 194
// Input 195
function docs$text$mutations$SuggestApplyStyleMutation(suggestionId, styleType, startIndex, endIndex, styleMap, opt_forceMetadata) {
  docs$text$mutations$AbstractStylePropertiesMutation.call(this, "kix-sas", styleType, startIndex, endIndex, styleMap, opt_forceMetadata);
  if (!docs$text$protocol$StyleTypes$getStyleTypeInfo_(styleType).docs_text_protocol_StyleTypeInfo$isSuggestible_) {
    throw Error("SuggestApplyStyleMutation is not applicable for " + styleType);
  }
  this.docs_text_mutations_SuggestApplyStyleMutation$suggestionId_ = suggestionId;
}
goog$inherits(docs$text$mutations$SuggestApplyStyleMutation, docs$text$mutations$AbstractStylePropertiesMutation);
docs$text$mutations$SuggestApplyStyleMutation.prototype.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId = function $docs$text$mutations$SuggestApplyStyleMutation$$docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId$() {
  return this.docs_text_mutations_SuggestApplyStyleMutation$suggestionId_;
};
// Input 196
// Input 197
function docs$util$ArrayUtil$forNumericIndices(array, callFunction, opt_this) {
  for (var key in array) {
    if (0 != key.length) {
      var numericIndex = Number(key);
      if (!isNaN(numericIndex) && callFunction.call(opt_this, numericIndex, array[numericIndex], array)) {
        break;
      }
    }
  }
}
function docs$util$ArrayUtil$clampSortedArray(array, min, max, opt_includeMin) {
  var startIndex = goog$array$binarySearch(array, min);
  0 > startIndex && (startIndex = -startIndex - 1);
  var endIndex = goog$array$binarySearch(array, max);
  0 <= endIndex ? endIndex++ : endIndex = -endIndex - 1;
  var result = array.slice(startIndex, endIndex);
  opt_includeMin && result[0] != min && result.unshift(min);
  return result;
}
function docs$util$ArrayUtil$binaryInsert(array, value) {
  var len = array.length, compareFn = goog$array$defaultCompare;
  if (len) {
    var compareVal = compareFn(value, array[len - 1]);
  }
  0 == len || 0 < compareVal ? array[len] = value : (1 == len || 0 < compareFn(value, array[len - 2])) && 0 > compareVal ? (array[len] = array[len - 1], array[len - 1] = value) : goog$array$binaryInsert(array, value, void 0);
}
function docs$util$ArrayUtil$throwIfArrayContainsCycleHelper_(array, stack) {
  goog$asserts$assertArray(array);
  stack.push(array);
  for (var i = 0;i < array.length;i++) {
    if (goog$isArray(array[i])) {
      if (goog$array$contains(stack, array[i])) {
        throw Error("Circular reference detected");
      }
      docs$util$ArrayUtil$throwIfArrayContainsCycleHelper_(array[i], stack);
    }
  }
  goog$asserts$assert(array === stack.pop(), "value popped from stack must be the same one that we pushed");
}
function docs$util$ArrayUtil$deepArrayEquals(array1, array2, opt_equalsFn) {
  if (array1.length != array2.length) {
    return !1;
  }
  for (var equalsFn = opt_equalsFn || goog$array$defaultCompareEquality, i = 0;i < array1.length;i++) {
    if (!equalsFn(array1[i], array2[i])) {
      if (goog$isArray(array1[i]) && goog$isArray(array2[i])) {
        if (!docs$util$ArrayUtil$deepArrayEquals(array1[i], array2[i], equalsFn)) {
          return !1;
        }
      } else {
        return !1;
      }
    }
  }
  return !0;
}
function docs$util$ArrayUtil$containsSameElements(array1, array2) {
  if (array1.length != array2.length) {
    return !1;
  }
  for (var obj1 = {}, i = 0;i < array1.length;i++) {
    var element = array1[i];
    obj1[element] ? obj1[element]++ : obj1[element] = 1;
  }
  for (i = 0;i < array2.length;i++) {
    if (element = array2[i], obj1[element]) {
      1 == obj1[element] ? delete obj1[element] : obj1[element]--;
    } else {
      return !1;
    }
  }
  return goog$object$isEmpty(obj1);
}
;
// Input 198
function docs$structs$SparseArray() {
  this.array_ = [];
  this.docs_structs_SparseArray$keys_ = [];
}
function docs$structs$SparseArray$getClosestItemKeyIndex(keys, index, opt_forwards) {
  var result = goog$array$binarySearch(keys, index);
  0 > result && (result = -result - (opt_forwards ? 1 : 2));
  return result;
}
docs$structs$SparseArray.prototype.get = function $docs$structs$SparseArray$$get$(index) {
  return this.array_[index];
};
docs$structs$SparseArray.prototype.set = function $docs$structs$SparseArray$$set$(index, value) {
  this.array_[index] = value;
  docs$util$ArrayUtil$binaryInsert(this.docs_structs_SparseArray$keys_, index);
};
function JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove$self, index) {
  delete JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove$self.array_[index];
  goog$array$binaryRemove(JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove$self.docs_structs_SparseArray$keys_, index);
}
docs$structs$SparseArray.prototype.getKeys = function $docs$structs$SparseArray$$getKeys$() {
  return this.docs_structs_SparseArray$keys_;
};
function JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem$self, index, opt_forwards) {
  var key = JSCompiler_StaticMethods_getClosestItemKey(JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem$self, index, opt_forwards);
  return -1 < key ? JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem$self.array_[key] : null;
}
function JSCompiler_StaticMethods_getClosestItemKey(JSCompiler_StaticMethods_getClosestItemKey$self, index, opt_forwards) {
  if (JSCompiler_StaticMethods_getClosestItemKey$self.array_[index]) {
    return index;
  }
  var keyIndex = docs$structs$SparseArray$getClosestItemKeyIndex(JSCompiler_StaticMethods_getClosestItemKey$self.docs_structs_SparseArray$keys_, index, opt_forwards);
  return goog$isDef(JSCompiler_StaticMethods_getClosestItemKey$self.docs_structs_SparseArray$keys_[keyIndex]) ? JSCompiler_StaticMethods_getClosestItemKey$self.docs_structs_SparseArray$keys_[keyIndex] : -1;
}
docs$structs$SparseArray.prototype.slice = function $docs$structs$SparseArray$$slice$(start, end) {
  return this.array_.slice(start, end);
};
docs$structs$SparseArray.prototype.shift = function $docs$structs$SparseArray$$shift$(index, shift) {
  if (shift && this.docs_structs_SparseArray$keys_.length) {
    if (index > this.docs_structs_SparseArray$keys_[Math.round(0.6 * this.docs_structs_SparseArray$keys_.length)]) {
      for (var keys = this.docs_structs_SparseArray$keys_, array = this.array_, i = keys.length - 1;0 <= i;i--) {
        var key = keys[i];
        if (key < index) {
          break;
        }
        array[key + shift] = array[key];
        delete array[key];
        keys[i] = key + shift;
      }
    } else {
      for (var keys$jscomp$0 = this.docs_structs_SparseArray$keys_, array$jscomp$0 = this.array_, shiftedArray = [], i$jscomp$0 = 0;i$jscomp$0 < keys$jscomp$0.length;i$jscomp$0++) {
        var oldKey = keys$jscomp$0[i$jscomp$0];
        oldKey >= index ? (keys$jscomp$0[i$jscomp$0] = oldKey + shift, shiftedArray[oldKey + shift] = array$jscomp$0[oldKey]) : shiftedArray[oldKey] = array$jscomp$0[oldKey];
      }
      this.array_ = shiftedArray;
    }
  }
};
docs$structs$SparseArray.prototype.clear = function $docs$structs$SparseArray$$clear$() {
  this.array_ = [];
  this.docs_structs_SparseArray$keys_ = [];
};
docs$structs$SparseArray.prototype.splice = function $docs$structs$SparseArray$$splice$(index, num) {
  if (!(index >= this.array_.length)) {
    var keys = this.docs_structs_SparseArray$keys_;
    if (0 != keys.length) {
      for (var beginKey = goog$array$binarySearch(keys, index), beginPoint = 0 > beginKey ? -beginKey - 1 : beginKey, endKey = goog$array$binarySearch(keys, index + num), endPoint = 0 > endKey ? -endKey - 1 : endKey, removedKeyCount = endPoint - beginPoint, shiftedArray = [], shiftedKeys = [], array = this.array_, oldKey, i = 0;i < beginPoint;i++) {
        oldKey = keys[i], shiftedArray[oldKey] = array[oldKey], shiftedKeys[i] = oldKey;
      }
      for (i = endPoint;i < keys.length;i++) {
        oldKey = keys[i], shiftedArray[oldKey - num] = array[oldKey], shiftedKeys[i - removedKeyCount] = oldKey - num;
      }
      shiftedArray.length = Math.max(array.length, index + num) - num;
      this.array_ = shiftedArray;
      this.docs_structs_SparseArray$keys_ = shiftedKeys;
    }
  }
};
docs$structs$SparseArray.prototype.clone = function $docs$structs$SparseArray$$clone$(opt_cloneFn) {
  for (var clone = new docs$structs$SparseArray, array = [], cloneFn = opt_cloneFn || goog$functions$identity, i = 0;i < this.docs_structs_SparseArray$keys_.length;i++) {
    var key = this.docs_structs_SparseArray$keys_[i];
    array[key] = cloneFn(this.array_[key]);
  }
  clone.array_ = array;
  clone.docs_structs_SparseArray$keys_ = this.docs_structs_SparseArray$keys_.concat();
  return clone;
};
docs$structs$SparseArray.prototype.equals = function $docs$structs$SparseArray$$equals$(other) {
  return other instanceof docs$structs$SparseArray && docs$structs$SparseArray$equals(this, other);
};
function docs$structs$SparseArray$equals(arr1, arr2, opt_equalsFn) {
  if (arr1 == arr2) {
    return !0;
  }
  if (!arr1 || !arr2 || !goog$array$equals(arr1.docs_structs_SparseArray$keys_, arr2.docs_structs_SparseArray$keys_)) {
    return !1;
  }
  for (var equalsFn = opt_equalsFn || goog$array$defaultCompareEquality, keys = arr1.docs_structs_SparseArray$keys_, i = 0;i < keys.length;i++) {
    var key = keys[i];
    if (!equalsFn(arr1.array_[key], arr2.array_[key])) {
      return !1;
    }
  }
  return !0;
}
function docs$structs$SparseArray$createEqualsFn() {
  var opt_equalsFn = docs$model$Comparables$equals;
  return function(arr1, arr2) {
    return docs$structs$SparseArray$equals(arr1, arr2, opt_equalsFn);
  };
}
;
// Input 199
function docs$model$Comparables$equals(comparable1, comparable2) {
  return comparable1 ? comparable1.equals(comparable2) : !comparable2;
}
;
// Input 200
function docs$util$ObjectUtil$equals(obj1, obj2, opt_equalsFn) {
  if (obj1 == obj2) {
    return !0;
  }
  if (!goog$isObject(obj1) || !goog$isObject(obj2)) {
    return !1;
  }
  var keys1 = goog$object$getKeys(obj1);
  if (keys1.length != goog$object$getKeys(obj2).length) {
    return !1;
  }
  for (var equalsFn = opt_equalsFn || goog$array$defaultCompareEquality, i = 0;i < keys1.length;i++) {
    var key = keys1[i];
    if (!(key in obj2 && equalsFn(obj1[key], obj2[key]))) {
      return !1;
    }
  }
  return !0;
}
function docs$util$ObjectUtil$deepEquals(value1, value2) {
  return value1 === value2 ? !0 : goog$isArray(value1) && goog$isArray(value2) ? goog$array$equals(value1, value2, docs$util$ObjectUtil$deepEquals) : goog$isObject(value1) && goog$isObject(value2) ? docs$util$ObjectUtil$equals(value1, value2, docs$util$ObjectUtil$deepEquals) : !1;
}
function docs$util$ObjectUtil$throwIfObjectContainsCycle(object) {
  var stack = [];
  docs$util$ObjectUtil$throwIfObjectContainsCycleHelper_(object, stack);
  goog$asserts$assert(0 == stack.length, "Stack must be empty, but had %s elements", stack.length);
}
function docs$util$ObjectUtil$throwIfObjectContainsCycleHelper_(object, stack) {
  goog$asserts$assertObject(object);
  stack.push(object);
  for (var key in object) {
    if (goog$isObject(object[key])) {
      if (goog$array$contains(stack, object[key])) {
        throw Error("Circular reference detected");
      }
      docs$util$ObjectUtil$throwIfObjectContainsCycleHelper_(object[key], stack);
    }
  }
  goog$asserts$assert(object === stack.pop(), "value popped from stack must be the same one that we pushed");
}
;
// Input 201
function docs$text$protocol$AnnotationState() {
}
goog$mixin(docs$text$protocol$AnnotationState.prototype, docs$model$Comparable.prototype);
// Input 202
function docs$text$protocol$MutableAnnotationState(annotation) {
  this.annotation_ = annotation;
  this.suggestedAnnotations_ = {};
}
function JSCompiler_StaticMethods_getSuggestedAnnotationIds(JSCompiler_StaticMethods_getSuggestedAnnotationIds$self) {
  return goog$object$getKeys(JSCompiler_StaticMethods_getSuggestedAnnotationIds$self.suggestedAnnotations_);
}
function JSCompiler_StaticMethods_getSuggestedAnnotation(JSCompiler_StaticMethods_getSuggestedAnnotation$self, suggestionId) {
  return JSCompiler_StaticMethods_getSuggestedAnnotation$self.suggestedAnnotations_[suggestionId] || null;
}
function JSCompiler_StaticMethods_addSuggestedAnnotation(JSCompiler_StaticMethods_addSuggestedAnnotation$self, suggestionId, annotation) {
  if (suggestionId in JSCompiler_StaticMethods_addSuggestedAnnotation$self.suggestedAnnotations_) {
    throw Error("Suggestion ID " + suggestionId + " already exists!");
  }
  JSCompiler_StaticMethods_addSuggestedAnnotation$self.suggestedAnnotations_[suggestionId] = annotation;
}
docs$text$protocol$MutableAnnotationState.prototype.copyTo = function $docs$text$protocol$MutableAnnotationState$$copyTo$(other, annotationCloneFn) {
  for (var suggestionId in this.suggestedAnnotations_) {
    JSCompiler_StaticMethods_addSuggestedAnnotation(other, suggestionId, annotationCloneFn(this.suggestedAnnotations_[suggestionId]));
  }
};
docs$text$protocol$MutableAnnotationState.prototype.clone = function $docs$text$protocol$MutableAnnotationState$$clone$(opt_annotationCloneFn) {
  var cloneFn = opt_annotationCloneFn || docs$text$protocol$MutableAnnotationState$defaultClone, clone = new docs$text$protocol$MutableAnnotationState(this.annotation_ ? cloneFn(this.annotation_) : null);
  this.copyTo(clone, cloneFn);
  return clone;
};
function docs$text$protocol$MutableAnnotationState$defaultClone(annotation) {
  return annotation.clone();
}
docs$text$protocol$MutableAnnotationState.prototype.equals = function $docs$text$protocol$MutableAnnotationState$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$protocol$MutableAnnotationState ? docs$model$Comparables$equals(this.annotation_, other.annotation_) && docs$util$ObjectUtil$equals(this.suggestedAnnotations_, other.suggestedAnnotations_, docs$text$protocol$MutableAnnotationState$equalsDefinedAndValues_) : !1;
};
docs$text$protocol$MutableAnnotationState.prototype.equalsOrInherit = function $docs$text$protocol$MutableAnnotationState$$equalsOrInherit$(other) {
  if (this == other) {
    return !0;
  }
  if (!(other && other instanceof docs$text$protocol$MutableAnnotationState)) {
    return !1;
  }
  var otherAnnotation = other.annotation_;
  return (this.annotation_ && otherAnnotation ? this.annotation_.equalsOrInherit(otherAnnotation) : null == this.annotation_ && null == otherAnnotation) && docs$util$ObjectUtil$equals(this.suggestedAnnotations_, other.suggestedAnnotations_, docs$text$protocol$MutableAnnotationState$equalsDefinedAndValues_);
};
function docs$text$protocol$MutableAnnotationState$equalsDefinedAndValues_(annotation1, annotation2) {
  return annotation1 ? JSCompiler_StaticMethods_equalsWithStrategy(annotation1, annotation2, docs$text$protocol$EqualsStrategy$COMPARE_DEFINED_AND_VALUES) : !annotation2;
}
;
// Input 203
// Input 204
function goog$math$Range(a, b) {
  this.start = a < b ? a : b;
  this.end = a < b ? b : a;
}
goog$math$Range.prototype.clone = function $goog$math$Range$$clone$() {
  return new goog$math$Range(this.start, this.end);
};
goog$math$Range.prototype.toString = function $goog$math$Range$$toString$() {
  return "[" + this.start + ", " + this.end + "]";
};
function goog$math$Range$equals(a, b) {
  return a == b ? !0 : a && b ? a.start == b.start && a.end == b.end : !1;
}
;
// Input 205
function docs$text$protocol$MarkerIndexCache(spacersToTrack) {
  this.docs_text_protocol_MarkerIndexCache$spacersToTrack_ = spacersToTrack;
  this.indexMap_ = {};
  this.markerIndices_ = [];
  for (var i = 0;i < spacersToTrack.length;i++) {
    var indices = [];
    this.indexMap_[spacersToTrack[i]] = indices;
    this.markerIndices_.push(indices);
  }
}
docs$text$protocol$MarkerIndexCache.prototype.spacersRegExp_ = null;
docs$text$protocol$MarkerIndexCache.prototype.clone = function $docs$text$protocol$MarkerIndexCache$$clone$() {
  var clone = new docs$text$protocol$MarkerIndexCache([]), spacersToTrack = this.docs_text_protocol_MarkerIndexCache$spacersToTrack_;
  clone.docs_text_protocol_MarkerIndexCache$spacersToTrack_ = spacersToTrack.concat();
  for (var markerIndices = this.markerIndices_, i = 0;i < markerIndices.length;i++) {
    var indices = markerIndices[i].concat();
    clone.markerIndices_[i] = indices;
    clone.indexMap_[spacersToTrack[i]] = indices;
  }
  return clone;
};
function JSCompiler_StaticMethods_getSpacersRegExp_(JSCompiler_StaticMethods_getSpacersRegExp_$self) {
  !JSCompiler_StaticMethods_getSpacersRegExp_$self.spacersRegExp_ && JSCompiler_StaticMethods_getSpacersRegExp_$self.docs_text_protocol_MarkerIndexCache$spacersToTrack_.length && (JSCompiler_StaticMethods_getSpacersRegExp_$self.spacersRegExp_ = docs$text$protocol$Spacers$createSpacersRegExp(JSCompiler_StaticMethods_getSpacersRegExp_$self.docs_text_protocol_MarkerIndexCache$spacersToTrack_));
  JSCompiler_StaticMethods_getSpacersRegExp_$self.spacersRegExp_ && (JSCompiler_StaticMethods_getSpacersRegExp_$self.spacersRegExp_.lastIndex = 0);
  return JSCompiler_StaticMethods_getSpacersRegExp_$self.spacersRegExp_;
}
function JSCompiler_StaticMethods_getMarkerIndex_(JSCompiler_StaticMethods_getMarkerIndex_$self, spacer, seekIndex, isBackward) {
  if (!JSCompiler_StaticMethods_getMarkerIndex_$self.indexMap_[spacer]) {
    throw Error("Trying to get index of a spacer that is not tracked: " + spacer);
  }
  var indices = JSCompiler_StaticMethods_getMarkerIndex_$self.indexMap_[spacer], cachePos = goog$array$binarySearch(indices, seekIndex);
  0 > cachePos && (cachePos = -cachePos - (isBackward ? 2 : 1));
  return 0 <= cachePos && cachePos < indices.length ? indices[cachePos] : -1;
}
docs$text$protocol$MarkerIndexCache.prototype.indexOf = function $docs$text$protocol$MarkerIndexCache$$indexOf$(spacer, fromIndex) {
  return JSCompiler_StaticMethods_getMarkerIndex_(this, spacer, fromIndex, !1);
};
docs$text$protocol$MarkerIndexCache.prototype.lastIndexOf = function $docs$text$protocol$MarkerIndexCache$$lastIndexOf$(spacer, fromIndex) {
  return JSCompiler_StaticMethods_getMarkerIndex_(this, spacer, fromIndex, !0);
};
// Input 206
function docs$text$protocol$MutableSpacers(errorReporter, spacersToTrack) {
  this.docs_text_protocol_Spacers$errorReporter_ = errorReporter;
  this.markerIndexCache_ = new docs$text$protocol$MarkerIndexCache(spacersToTrack);
  this.docs_text_protocol_MutableSpacers_prototype$insert(0, "\u0003\n");
}
goog$inherits(docs$text$protocol$MutableSpacers, docs$text$protocol$Spacers);
docs$text$protocol$MutableSpacers.prototype.copyTo = function $docs$text$protocol$MutableSpacers$$copyTo$(other) {
  other.markerIndexCache_ = this.markerIndexCache_.clone();
};
docs$text$protocol$MutableSpacers.prototype.docs_text_protocol_MutableSpacers_prototype$insert = function $docs$text$protocol$MutableSpacers$$docs_text_protocol_MutableSpacers_prototype$insert$(spacerIndex, spacers) {
  for (var JSCompiler_StaticMethods_docs_text_protocol_MarkerIndexCache_prototype$insert$self = this.markerIndexCache_, deltaSpacers = spacers.length, markerIndices = JSCompiler_StaticMethods_docs_text_protocol_MarkerIndexCache_prototype$insert$self.markerIndices_, i = 0;i < markerIndices.length;i++) {
    var indices = markerIndices[i], startIndex = goog$array$binarySearch(indices, spacerIndex);
    0 > startIndex && (startIndex = -(startIndex + 1));
    for (var j = startIndex;j < indices.length;j++) {
      indices[j] += deltaSpacers;
    }
  }
  if (3 > spacers.length) {
    for (i = 0;i < spacers.length;i++) {
      var spacer = spacers.charAt(i);
      JSCompiler_StaticMethods_docs_text_protocol_MarkerIndexCache_prototype$insert$self.indexMap_[spacer] && docs$util$ArrayUtil$binaryInsert(JSCompiler_StaticMethods_docs_text_protocol_MarkerIndexCache_prototype$insert$self.indexMap_[spacer], i + spacerIndex);
    }
  } else {
    var regExp = JSCompiler_StaticMethods_getSpacersRegExp_(JSCompiler_StaticMethods_docs_text_protocol_MarkerIndexCache_prototype$insert$self);
    if (regExp && regExp.test(spacers)) {
      for (var match, regExp = JSCompiler_StaticMethods_getSpacersRegExp_(JSCompiler_StaticMethods_docs_text_protocol_MarkerIndexCache_prototype$insert$self);match = regExp.exec(spacers);) {
        spacer = match[0], i = match.index, docs$util$ArrayUtil$binaryInsert(JSCompiler_StaticMethods_docs_text_protocol_MarkerIndexCache_prototype$insert$self.indexMap_[spacer], i + spacerIndex);
      }
    }
  }
};
docs$text$protocol$MutableSpacers.prototype.docs_text_protocol_MutableSpacers_prototype$remove = function $docs$text$protocol$MutableSpacers$$docs_text_protocol_MutableSpacers_prototype$remove$(startIndex, endIndex) {
  for (var markerIndices = this.markerIndexCache_.markerIndices_, delta = endIndex - startIndex + 1, i = 0;i < markerIndices.length;i++) {
    var indices = markerIndices[i], indicesStartIndex = goog$array$binarySearch(indices, startIndex);
    0 > indicesStartIndex && (indicesStartIndex = -indicesStartIndex - 1);
    var indicesEndIndex = goog$array$binarySearch(indices, endIndex);
    0 > indicesEndIndex && (indicesEndIndex = -indicesEndIndex - 2);
    indices.splice(indicesStartIndex, indicesEndIndex - indicesStartIndex + 1);
    for (var j = indicesStartIndex;j < indices.length;j++) {
      indices[j] -= delta;
    }
  }
};
docs$text$protocol$MutableSpacers.prototype.docs_text_protocol_Spacers_prototype$getIndicesOf = function $docs$text$protocol$MutableSpacers$$docs_text_protocol_Spacers_prototype$getIndicesOf$(spacer, opt_startIndex, opt_endIndex) {
  if (this.markerIndexCache_.indexMap_[spacer]) {
    var indices = this.markerIndexCache_.indexMap_[spacer] || null;
    if (indices && goog$isDef(opt_startIndex) && goog$isDef(opt_endIndex)) {
      var cacheStartPos = goog$array$binarySearch(indices, opt_startIndex);
      0 > cacheStartPos && (cacheStartPos = -cacheStartPos - 1);
      var cacheEndPos = goog$array$binarySearch(indices, opt_endIndex);
      0 > cacheEndPos ? cacheEndPos = -cacheEndPos - 1 : cacheEndPos++;
      return indices.slice(cacheStartPos, cacheEndPos);
    }
    return indices ? indices : [];
  }
  return docs$text$protocol$MutableSpacers.superClass_.docs_text_protocol_Spacers_prototype$getIndicesOf.call(this, spacer, opt_startIndex, opt_endIndex);
};
// Input 207
function docs$text$protocol$SpacerString(errorReporter, opt_spacersToTrack) {
  docs$text$protocol$MutableSpacers.call(this, errorReporter, opt_spacersToTrack || []);
  this.searchCache_ = {};
}
goog$inherits(docs$text$protocol$SpacerString, docs$text$protocol$MutableSpacers);
docs$text$protocol$SpacerString.prototype.docs_text_protocol_SpacerString_prototype$spacers_ = "";
docs$text$protocol$SpacerString.prototype.clone = function $docs$text$protocol$SpacerString$$clone$() {
  var clone = new docs$text$protocol$SpacerString(this.docs_text_protocol_Spacers$errorReporter_, []);
  this.copyTo(clone);
  clone.searchCache_ = {};
  for (var key in this.searchCache_) {
    for (var clonedRanges = [], ranges = this.searchCache_[key], i = 0;i < ranges.length;i++) {
      clonedRanges[i] = ranges[i].clone();
    }
    clone.searchCache_[key] = clonedRanges;
  }
  clone.docs_text_protocol_SpacerString_prototype$spacers_ = this.docs_text_protocol_SpacerString_prototype$spacers_;
  return clone;
};
function JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength$self) {
  return JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength$self.docs_text_protocol_SpacerString_prototype$spacers_.length;
}
docs$text$protocol$SpacerString.prototype.slice = function $docs$text$protocol$SpacerString$$slice$(startIndex, endIndex) {
  return this.docs_text_protocol_SpacerString_prototype$spacers_.slice(startIndex, endIndex + 1);
};
docs$text$protocol$SpacerString.prototype.indexOf = function $docs$text$protocol$SpacerString$$indexOf$(spacer, opt_fromIndex) {
  var index = this.markerIndexCache_.indexMap_[spacer] ? this.markerIndexCache_.indexOf(spacer, opt_fromIndex || 1) : null;
  return null != index ? index : this.docs_text_protocol_SpacerString_prototype$spacers_.indexOf(spacer, opt_fromIndex);
};
docs$text$protocol$SpacerString.prototype.lastIndexOf = function $docs$text$protocol$SpacerString$$lastIndexOf$(spacer, opt_fromIndex) {
  var index = this.markerIndexCache_.indexMap_[spacer] ? this.markerIndexCache_.lastIndexOf(spacer, null != opt_fromIndex ? opt_fromIndex : JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(this)) : null;
  return null != index ? index : this.docs_text_protocol_SpacerString_prototype$spacers_.lastIndexOf(spacer, opt_fromIndex);
};
docs$text$protocol$SpacerString.prototype.docs_text_protocol_MutableSpacers_prototype$insert = function $docs$text$protocol$SpacerString$$docs_text_protocol_MutableSpacers_prototype$insert$(spacerIndex, spacers) {
  docs$text$protocol$SpacerString.superClass_.docs_text_protocol_MutableSpacers_prototype$insert.call(this, spacerIndex, spacers);
  var originalSpacers = this.docs_text_protocol_SpacerString_prototype$spacers_;
  this.docs_text_protocol_SpacerString_prototype$spacers_ = originalSpacers.slice(0, spacerIndex) + spacers + originalSpacers.slice(spacerIndex);
  this.searchCache_ = {};
};
docs$text$protocol$SpacerString.prototype.docs_text_protocol_MutableSpacers_prototype$remove = function $docs$text$protocol$SpacerString$$docs_text_protocol_MutableSpacers_prototype$remove$(startIndex, endIndex) {
  docs$text$protocol$SpacerString.superClass_.docs_text_protocol_MutableSpacers_prototype$remove.call(this, startIndex, endIndex);
  var originalSpacers = this.docs_text_protocol_SpacerString_prototype$spacers_;
  this.docs_text_protocol_SpacerString_prototype$spacers_ = originalSpacers.slice(0, startIndex) + originalSpacers.slice(endIndex + 1);
  this.searchCache_ = {};
};
docs$text$protocol$SpacerString.prototype.equals = function $docs$text$protocol$SpacerString$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$protocol$SpacerString ? this.docs_text_protocol_SpacerString_prototype$spacers_ == other.docs_text_protocol_SpacerString_prototype$spacers_ : !1;
};
// Input 208
function docs$text$protocol$StyleStateSlice(type, styleProvider, opt_styleStates, opt_leadingStyleState, opt_trailingStyleState) {
  goog$asserts$assert(type == styleProvider().getType(), "Style provider does not produce styles of the specified type.");
  this.docs_text_protocol_StyleStateSlice$type_ = type;
  this.docs_text_protocol_StyleStateSlice$styleProvider_ = styleProvider;
  this.styleStates_ = opt_styleStates || new docs$structs$SparseArray;
  this.leadingStyleState_ = opt_leadingStyleState || null;
  this.trailingStyleState_ = opt_trailingStyleState || null;
}
docs$text$protocol$StyleStateSlice.prototype.getType = function $docs$text$protocol$StyleStateSlice$$getType$() {
  return this.docs_text_protocol_StyleStateSlice$type_;
};
docs$text$protocol$StyleStateSlice.prototype.getStyleState = function $docs$text$protocol$StyleStateSlice$$getStyleState$(spacerIndex, opt_includeTetheredAfterSpacers) {
  var styleState = this.styleStates_.get(spacerIndex);
  if (styleState) {
    return styleState;
  }
  var styleKeys = this.styleStates_.getKeys(), styleIndex = goog$array$binarySearch(styleKeys, spacerIndex);
  0 > styleIndex && (styleIndex = -styleIndex - (docs$text$protocol$StyleTypes$getStyleTypeInfo_(this.docs_text_protocol_StyleStateSlice$type_).docs_text_protocol_StyleTypeInfo$isTetheredAfterSpacers_ ? 1 : 2));
  return this.styleStates_.get(styleKeys[styleIndex]) || opt_includeTetheredAfterSpacers && this.trailingStyleState_ || new docs$text$protocol$MutableAnnotationState(this.docs_text_protocol_StyleStateSlice$styleProvider_());
};
docs$text$protocol$StyleStateSlice.prototype.getTetheredStyleState = function $docs$text$protocol$StyleStateSlice$$getTetheredStyleState$(spacerIndex) {
  return this.styleStates_.get(spacerIndex) || null;
};
docs$text$protocol$StyleStateSlice.prototype.serialize = function $docs$text$protocol$StyleStateSlice$$serialize$() {
  var serializedObj = {};
  serializedObj.stsl_type = this.docs_text_protocol_StyleStateSlice$type_;
  this.leadingStyleState_ && (serializedObj.stsl_leading = this.leadingStyleState_.annotation_.serialize(), serializedObj.stsl_leadingType = this.leadingStyleState_.annotation_.getType());
  this.trailingStyleState_ && (serializedObj.stsl_trailing = this.trailingStyleState_.annotation_.serialize(), serializedObj.stsl_trailingType = this.trailingStyleState_.annotation_.getType());
  for (var serializedStyles = [], keys = this.styleStates_.getKeys(), i = 0;i < keys.length;i++) {
    var key = keys[i], style = this.styleStates_.get(key).annotation_;
    serializedStyles[key] = style.serialize();
  }
  serializedObj.stsl_styles = serializedStyles;
  return serializedObj;
};
docs$text$protocol$StyleStateSlice.prototype.equals = function $docs$text$protocol$StyleStateSlice$$equals$(other) {
  return other instanceof docs$text$protocol$StyleStateSlice ? docs$model$Comparables$equals(this.leadingStyleState_, other.leadingStyleState_) && docs$model$Comparables$equals(this.trailingStyleState_, other.trailingStyleState_) && docs$structs$SparseArray$equals(this.styleStates_, other.styleStates_, docs$model$Comparables$equals) : !1;
};
// Input 209
function docs$text$protocol$StyleStateSlicer$sliceStyleStates(styleStates, type, defaultStylesProvider, spacers, startIndex, endIndex, opt_ignoreLeadingStyle, opt_ignoreTrailingStyle, opt_skipHeadingsStyle, opt_relatedEntityIdSet, opt_referencedEntityIdSet) {
  var slicedStyleStates$jscomp$0;
  if (docs$text$protocol$StyleTypes$isTethered(type)) {
    var JSCompiler_temp;
    if ("paragraph" == type || "list" == type) {
      for (var rangeStyleStates = new docs$structs$SparseArray, paragraphIndices = JSCompiler_StaticMethods_getIndicesOf_(spacers, "\n", startIndex, endIndex), i = 0;i < paragraphIndices.length;i++) {
        var spacerIndex = paragraphIndices[i], styleState = docs$text$protocol$StyleStateSlicer$getStyleStateRunAtIndex_(styleStates, type, defaultStylesProvider, spacerIndex);
        docs$text$protocol$StyleStateSlicer$setStyleState_(rangeStyleStates, spacerIndex - startIndex, styleState, opt_relatedEntityIdSet, opt_referencedEntityIdSet);
      }
      JSCompiler_temp = rangeStyleStates;
    } else {
      for (var result = new docs$structs$SparseArray, keys = docs$util$ArrayUtil$clampSortedArray(styleStates.getKeys(), startIndex, endIndex), i$jscomp$0 = 0;i$jscomp$0 < keys.length;i$jscomp$0++) {
        var key = keys[i$jscomp$0], styleState$jscomp$0 = styleStates.getStyleState(key);
        docs$text$protocol$StyleStateSlicer$setStyleState_(result, key - startIndex, styleState$jscomp$0, opt_relatedEntityIdSet, opt_referencedEntityIdSet);
      }
      JSCompiler_temp = result;
    }
    slicedStyleStates$jscomp$0 = JSCompiler_temp;
  } else {
    var rangeStyleStates$jscomp$0 = new docs$structs$SparseArray, styleStateKeys = styleStates.getKeys(), firstStyleState;
    if (docs$text$protocol$StyleTypes$getStyleTypeInfo_(type).docs_text_protocol_StyleTypeInfo$allowsPartialStyle_) {
      firstStyleState = docs$text$protocol$StyleStateSlicer$getStyleStateRunAtIndex_(styleStates, type, defaultStylesProvider, startIndex);
    } else {
      var beforeStyleState = docs$text$protocol$StyleStateSlicer$getStyleStateRunAtIndex_(styleStates, type, defaultStylesProvider, startIndex - 1), startStyleState = styleStates.getStyleState(startIndex);
      startStyleState && !startStyleState.equals(beforeStyleState) ? firstStyleState = startStyleState : firstStyleState = new docs$text$protocol$MutableAnnotationState(JSCompiler_StaticMethods_getDefaultStyle(defaultStylesProvider, type));
    }
    firstStyleState && docs$text$protocol$StyleStateSlicer$setStyleState_(rangeStyleStates$jscomp$0, 0, firstStyleState, opt_relatedEntityIdSet, opt_referencedEntityIdSet);
    for (var lastStyleStateIndex, i$jscomp$1 = 0;i$jscomp$1 < styleStateKeys.length;i$jscomp$1++) {
      var styleStateIndex = styleStateKeys[i$jscomp$1];
      if (styleStateIndex > startIndex && styleStateIndex <= endIndex) {
        var styleState$jscomp$1 = styleStates.getStyleState(styleStateIndex);
        docs$text$protocol$StyleStateSlicer$setStyleState_(rangeStyleStates$jscomp$0, styleStateIndex - startIndex, styleState$jscomp$1, opt_relatedEntityIdSet, opt_referencedEntityIdSet);
        lastStyleStateIndex = styleStateIndex;
      } else {
        if (styleStateIndex > endIndex) {
          break;
        }
      }
    }
    docs$text$protocol$StyleTypes$getStyleTypeInfo_(type).docs_text_protocol_StyleTypeInfo$allowsPartialStyle_ || !goog$isDef(lastStyleStateIndex) || styleStates.getStyleState(endIndex + 1) && !styleStates.getStyleState(endIndex + 1).equals(styleStates.getStyleState(lastStyleStateIndex)) || rangeStyleStates$jscomp$0.set(lastStyleStateIndex - startIndex, new docs$text$protocol$MutableAnnotationState(JSCompiler_StaticMethods_getDefaultStyle(defaultStylesProvider, type)));
    slicedStyleStates$jscomp$0 = rangeStyleStates$jscomp$0;
  }
  var slicedStyleStates = slicedStyleStates$jscomp$0, JSCompiler_temp$jscomp$0;
  if (opt_ignoreLeadingStyle) {
    JSCompiler_temp$jscomp$0 = void 0;
  } else {
    var leadingStyleStates;
    if (!("document" != type && "headings" != type || opt_skipHeadingsStyle && "headings" == type)) {
      var styleState$jscomp$2 = styleStates.getStyleState(0);
      styleState$jscomp$2 && (opt_referencedEntityIdSet && docs$text$protocol$StyleStateSlicer$addReferencedEntityIds_(opt_referencedEntityIdSet, styleState$jscomp$2), leadingStyleStates = styleState$jscomp$2.clone());
    }
    JSCompiler_temp$jscomp$0 = leadingStyleStates;
  }
  var leadingStyleState = JSCompiler_temp$jscomp$0, JSCompiler_temp$jscomp$1;
  if (opt_ignoreTrailingStyle) {
    JSCompiler_temp$jscomp$1 = void 0;
  } else {
    a: {
      if ("document" != type && "headings" != type && docs$text$protocol$StyleTypes$isTethered(type) && ("paragraph" != type && "list" != type || "\n" != spacers.docs_text_protocol_SpacerString_prototype$spacers_.charAt(endIndex))) {
        var trailingStyleState = styleStates.getClosestStyleState(endIndex, docs$text$protocol$StyleTypes$getStyleTypeInfo_(type).docs_text_protocol_StyleTypeInfo$isTetheredAfterSpacers_);
        if (trailingStyleState) {
          opt_referencedEntityIdSet && docs$text$protocol$StyleStateSlicer$addReferencedEntityIds_(opt_referencedEntityIdSet, trailingStyleState);
          JSCompiler_temp$jscomp$1 = trailingStyleState.clone();
          break a;
        }
      }
      JSCompiler_temp$jscomp$1 = void 0;
    }
  }
  if (!(type in defaultStylesProvider.enabledStyleSpecsMap_)) {
    throw Error("Call to getStyleProvider for disabled style type: " + type);
  }
  return new docs$text$protocol$StyleStateSlice(type, defaultStylesProvider.enabledStyleSpecsMap_[type].docs_text_protocol_DefaultStyleSpec$styleProvider_, slicedStyleStates, leadingStyleState, JSCompiler_temp$jscomp$1);
}
function docs$text$protocol$StyleStateSlicer$getStyleStateRunAtIndex_(styleStates, type, defaultStylesProvider, index) {
  return styleStates.getClosestStyleState(index, docs$text$protocol$StyleTypes$getStyleTypeInfo_(type).docs_text_protocol_StyleTypeInfo$isTetheredAfterSpacers_) || new docs$text$protocol$MutableAnnotationState(JSCompiler_StaticMethods_getDefaultStyle(defaultStylesProvider, type));
}
function docs$text$protocol$StyleStateSlicer$setStyleState_(sparseArray, index, styleState, opt_relatedEntityIdSet, opt_referencedEntityIdSet) {
  if (opt_relatedEntityIdSet) {
    var style = styleState.annotation_;
    style && JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll(opt_relatedEntityIdSet, style.getRelatedSectionEntityIds());
    for (var suggestionIds = JSCompiler_StaticMethods_getSuggestedAnnotationIds(styleState), i = 0;i < suggestionIds.length;i++) {
      var suggestedStyle = JSCompiler_StaticMethods_getSuggestedAnnotation(styleState, suggestionIds[i]);
      suggestedStyle && JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll(opt_relatedEntityIdSet, suggestedStyle.getRelatedSectionEntityIds());
    }
  }
  opt_referencedEntityIdSet && docs$text$protocol$StyleStateSlicer$addReferencedEntityIds_(opt_referencedEntityIdSet, styleState);
  sparseArray.set(index, styleState.clone());
}
function docs$text$protocol$StyleStateSlicer$addReferencedEntityIds_(entityIds, styleState) {
  var style = styleState.annotation_;
  style && JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll(entityIds, style.getReferencedEntityIds());
  for (var suggestionIds = JSCompiler_StaticMethods_getSuggestedAnnotationIds(styleState), i = 0;i < suggestionIds.length;i++) {
    var suggestedStyle = JSCompiler_StaticMethods_getSuggestedAnnotation(styleState, suggestionIds[i]);
    suggestedStyle && JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll(entityIds, suggestedStyle.getReferencedEntityIds());
  }
}
;
// Input 210
function docs$text$protocol$SuggestionSlice(suggestions) {
  this.docs_text_protocol_SuggestionSlice$suggestions_ = suggestions;
}
docs$text$protocol$SuggestionSlice.prototype.getKeys = function $docs$text$protocol$SuggestionSlice$$getKeys$() {
  return this.docs_text_protocol_SuggestionSlice$suggestions_.getKeys();
};
docs$text$protocol$SuggestionSlice.prototype.get = function $docs$text$protocol$SuggestionSlice$$get$(index) {
  return this.docs_text_protocol_SuggestionSlice$suggestions_.get(index) || null;
};
docs$text$protocol$SuggestionSlice.prototype.serialize = function $docs$text$protocol$SuggestionSlice$$serialize$() {
  for (var serializedSuggestions = [], keys = this.docs_text_protocol_SuggestionSlice$suggestions_.getKeys(), i = 0;i < keys.length;i++) {
    var key = keys[i];
    serializedSuggestions[key] = this.docs_text_protocol_SuggestionSlice$suggestions_.get(key);
  }
  var serializedObj = {};
  serializedObj.sgsl_sugg = serializedSuggestions;
  return serializedObj;
};
docs$text$protocol$SuggestionSlice.prototype.slice = function $docs$text$protocol$SuggestionSlice$$slice$(startIndex, opt_endIndex) {
  startIndex = Math.max(startIndex, 0);
  if (!this.docs_text_protocol_SuggestionSlice$suggestions_.getKeys().length) {
    return new docs$text$protocol$SuggestionSlice(new docs$structs$SparseArray);
  }
  var endIndex = goog$isDef(opt_endIndex) ? opt_endIndex : Number.MAX_VALUE;
  if (endIndex < startIndex) {
    throw Error("Cannot slice backwards in suggestion slices.");
  }
  if (endIndex == startIndex) {
    return new docs$text$protocol$SuggestionSlice(new docs$structs$SparseArray);
  }
  var subslice = this.docs_text_protocol_SuggestionSlice$suggestions_.slice(startIndex, endIndex), finalSlice = new docs$structs$SparseArray;
  docs$util$ArrayUtil$forNumericIndices(subslice, function(index, element) {
    finalSlice.set(index, element.concat());
    return !1;
  });
  var closestItem = JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(this.docs_text_protocol_SuggestionSlice$suggestions_, startIndex);
  null == subslice[0] && closestItem && finalSlice.set(0, closestItem.concat());
  return new docs$text$protocol$SuggestionSlice(finalSlice);
};
// Input 211
// Input 212
// Input 213
function docs$text$protocol$DocumentSlice(spacers, styleStateSlices, opt_metaStyleStateSlices, opt_suggestedInsertions, opt_suggestedDeletions, opt_entityPositionMap, opt_entityMap) {
  this.docs_text_protocol_DocumentSlice$spacers_ = spacers;
  for (var i = 0;i < styleStateSlices.length;i++) {
    if ("link" == styleStateSlices[i].getType()) {
      for (var styleStates = styleStateSlices[i].styleStates_, styleStateKeys = styleStates.getKeys(), j = 0;j < styleStateKeys.length;j++) {
        var annotationState = styleStates.get(styleStateKeys[j]), fn = docs$text$protocol$DocumentSlice$sanitizeLinkStyle_, annotation = annotationState.annotation_;
        annotation && fn(annotation);
        for (var suggestedAnnotationIds = JSCompiler_StaticMethods_getSuggestedAnnotationIds(annotationState), i$jscomp$0 = 0;i$jscomp$0 < suggestedAnnotationIds.length;i$jscomp$0++) {
          fn(JSCompiler_StaticMethods_getSuggestedAnnotation(annotationState, suggestedAnnotationIds[i$jscomp$0]));
        }
      }
    }
  }
  this.styleStateSlices_ = styleStateSlices;
  for (var i$jscomp$1 = 0;i$jscomp$1 < this.styleStateSlices_.length;i$jscomp$1++) {
    if (docs$text$protocol$StyleTypes$getStyleTypeInfo_(this.styleStateSlices_[i$jscomp$1].getType()).docs_text_protocol_StyleTypeInfo$isMetadata_) {
      throw Error("Cannot have metadata styles in style slice: " + this.styleStateSlices_[i$jscomp$1].getType());
    }
  }
  this.metaStyleStateSlices_ = opt_metaStyleStateSlices || [];
  for (i$jscomp$1 = 0;i$jscomp$1 < this.metaStyleStateSlices_.length;i$jscomp$1++) {
    if (!docs$text$protocol$StyleTypes$getStyleTypeInfo_(this.metaStyleStateSlices_[i$jscomp$1].getType()).docs_text_protocol_StyleTypeInfo$isMetadata_) {
      throw Error("Cannot have non-metadata styles in style slice: " + this.metaStyleStateSlices_[i$jscomp$1].getType());
    }
  }
  this.styleTypes_ = [];
  for (i$jscomp$1 = 0;i$jscomp$1 < this.styleStateSlices_.length;i$jscomp$1++) {
    this.styleTypes_.push(this.styleStateSlices_[i$jscomp$1].getType());
  }
  for (i$jscomp$1 = 0;i$jscomp$1 < this.metaStyleStateSlices_.length;i$jscomp$1++) {
    this.styleTypes_.push(this.metaStyleStateSlices_[i$jscomp$1].getType());
  }
  this.suggestedInsertions_ = opt_suggestedInsertions || new docs$text$protocol$SuggestionSlice(new docs$structs$SparseArray);
  this.suggestedDeletions_ = opt_suggestedDeletions || new docs$text$protocol$SuggestionSlice(new docs$structs$SparseArray);
  this.entityStateMap_ = opt_entityMap || {};
}
docs$text$protocol$DocumentSlice.prototype.getSuggestedInsertions = function $docs$text$protocol$DocumentSlice$$getSuggestedInsertions$() {
  return this.suggestedInsertions_;
};
docs$text$protocol$DocumentSlice.prototype.getSuggestedDeletions = function $docs$text$protocol$DocumentSlice$$getSuggestedDeletions$() {
  return this.suggestedDeletions_;
};
function JSCompiler_StaticMethods_docs_text_protocol_DocumentSlice_prototype$getStyleStateSlice(JSCompiler_StaticMethods_docs_text_protocol_DocumentSlice_prototype$getStyleStateSlice$self, type) {
  for (var styleStateSlices = JSCompiler_StaticMethods_docs_text_protocol_DocumentSlice_prototype$getStyleStateSlice$self.styleStateSlices_, i = 0;i < styleStateSlices.length;i++) {
    if (styleStateSlices[i].getType() == type) {
      return styleStateSlices[i];
    }
  }
  styleStateSlices = JSCompiler_StaticMethods_docs_text_protocol_DocumentSlice_prototype$getStyleStateSlice$self.metaStyleStateSlices_;
  for (i = 0;i < styleStateSlices.length;i++) {
    if (styleStateSlices[i].getType() == type) {
      return styleStateSlices[i];
    }
  }
  return null;
}
docs$text$protocol$DocumentSlice.prototype.getStyleState = function $docs$text$protocol$DocumentSlice$$getStyleState$(type, spacerIndex, opt_includeTetheredAfterSpacers) {
  var styleStateSlice = JSCompiler_StaticMethods_docs_text_protocol_DocumentSlice_prototype$getStyleStateSlice(this, type);
  goog$asserts$assert(styleStateSlice, "Attempted to get a type of style state that does not exist.");
  return styleStateSlice.getStyleState(spacerIndex, opt_includeTetheredAfterSpacers);
};
docs$text$protocol$DocumentSlice.prototype.getTetheredStyleState = function $docs$text$protocol$DocumentSlice$$getTetheredStyleState$(type, spacerIndex) {
  var styleStateSlice = JSCompiler_StaticMethods_docs_text_protocol_DocumentSlice_prototype$getStyleStateSlice(this, type);
  return styleStateSlice ? styleStateSlice.getTetheredStyleState(spacerIndex) : null;
};
function docs$text$protocol$DocumentSlice$sanitizeLinkStyle_(style) {
  var link = style.link_;
  if (link && 0 == link.getType()) {
    var url, href = link.uri_, originalUrl = href;
    try {
      "www.google.com" == goog$uri$utils$decodeIfPossible_(href.match(goog$uri$utils$splitRe_)[3] || null) && "/url" == goog$uri$utils$decodeIfPossible_(href.match(goog$uri$utils$splitRe_)[5] || null) && (originalUrl = goog$uri$utils$getParamValue(href, "q") || goog$uri$utils$getParamValue(href, "url"));
    } catch (e) {
    }
    url = originalUrl ? originalUrl : "";
    var linkPropertyMap = link.serialize();
    linkPropertyMap.ulnk_url = url;
    style.update({lnks_link:linkPropertyMap});
  }
}
docs$text$protocol$DocumentSlice.prototype.getEntityState = function $docs$text$protocol$DocumentSlice$$getEntityState$(id) {
  return this.entityStateMap_[id] || null;
};
// Input 214
function docs$text$protocol$Location(type) {
  this.docs_text_protocol_Location$type_ = type;
}
docs$text$protocol$Location.prototype.getType = function $docs$text$protocol$Location$$getType$() {
  return this.docs_text_protocol_Location$type_;
};
docs$text$protocol$Location.prototype.shift = function $docs$text$protocol$Location$$shift$() {
  return this;
};
docs$text$protocol$Location.prototype.serialize = function $docs$text$protocol$Location$$serialize$() {
  var serializedObj = {};
  serializedObj.loc_type = this.docs_text_protocol_Location$type_;
  return serializedObj;
};
docs$text$protocol$Location.prototype.docs_text_protocol_Location_prototype$compare = function $docs$text$protocol$Location$$docs_text_protocol_Location_prototype$compare$(location) {
  return location && this.docs_text_protocol_Location$type_ == location.getType() ? 0 : 1;
};
docs$text$protocol$Location.prototype.equals = function $docs$text$protocol$Location$$equals$(location) {
  return 0 == this.docs_text_protocol_Location_prototype$compare(location);
};
docs$text$protocol$Location.prototype.toString = function $docs$text$protocol$Location$$toString$() {
  return "Location(" + this.docs_text_protocol_Location$type_ + ")";
};
// Input 215
goog$mixin(JSCompiler_emptyFn().prototype, docs$text$protocol$AnnotationState.prototype);
// Input 216
function docs$text$protocol$MutableEntityState(entity) {
  docs$text$protocol$MutableAnnotationState.call(this, entity);
  this.insertionId_ = null;
  this.deletionIds_ = [];
}
goog$inherits(docs$text$protocol$MutableEntityState, docs$text$protocol$MutableAnnotationState);
docs$text$protocol$MutableEntityState.prototype.copyTo = function $docs$text$protocol$MutableEntityState$$copyTo$(other, annotationCloneFn) {
  docs$text$protocol$MutableEntityState.superClass_.copyTo.call(this, other, annotationCloneFn);
  other.insertionId_ = this.insertionId_;
  other.deletionIds_ = this.deletionIds_.concat();
};
docs$text$protocol$MutableEntityState.prototype.clone = function $docs$text$protocol$MutableEntityState$$clone$(opt_annotationCloneFn) {
  var cloneFn = opt_annotationCloneFn || docs$text$protocol$MutableAnnotationState$defaultClone, clone = new docs$text$protocol$MutableEntityState(cloneFn(this.annotation_));
  this.copyTo(clone, cloneFn);
  return clone;
};
docs$text$protocol$MutableEntityState.prototype.equals = function $docs$text$protocol$MutableEntityState$$equals$(other) {
  return other && other instanceof docs$text$protocol$MutableEntityState ? docs$text$protocol$MutableEntityState.superClass_.equals.call(this, other) && docs$util$ArrayUtil$containsSameElements(this.deletionIds_, other.deletionIds_) && this.insertionId_ == other.insertionId_ : !1;
};
docs$text$protocol$MutableEntityState.prototype.equalsOrInherit = function $docs$text$protocol$MutableEntityState$$equalsOrInherit$(other) {
  return other && other instanceof docs$text$protocol$MutableEntityState ? docs$text$protocol$MutableEntityState.superClass_.equalsOrInherit.call(this, other) && docs$util$ArrayUtil$containsSameElements(this.deletionIds_, other.deletionIds_) && this.insertionId_ == other.insertionId_ : !1;
};
// Input 217
// Input 218
// Input 219
function docs$text$model$EntityFactory(defaultEntitiesProvider, entity) {
  this.docs_text_model_EntityFactory$defaultEntitiesProvider_ = defaultEntitiesProvider;
  this.entity_ = entity;
}
docs$text$model$EntityFactory.prototype.create = function $docs$text$model$EntityFactory$$create$() {
  return JSCompiler_StaticMethods_getDefaultEntity(this.docs_text_model_EntityFactory$defaultEntitiesProvider_, this.entity_.getType(), this.entity_.getId(), this.entity_.serialize(), !0);
};
// Input 220
var docs$text$protocol$PropertyMapStrategy$DEFINED_PROPERTIES = new function() {
  this.docs_text_protocol_PropertyMapStrategyState$onlyDefined_ = !0;
};
// Input 221
function JSCompiler_StaticMethods_rejectAnnotation(flattenedAnnotationState, suggestionId) {
  var annotationState = flattenedAnnotationState.annotationState_;
  if (JSCompiler_StaticMethods_getSuggestedAnnotation(annotationState, suggestionId)) {
    if (!(suggestionId in annotationState.suggestedAnnotations_)) {
      throw Error("Suggestion ID " + suggestionId + " doesnt exist!");
    }
    delete annotationState.suggestedAnnotations_[suggestionId];
    JSCompiler_StaticMethods_flatten_(flattenedAnnotationState);
  }
}
function JSCompiler_StaticMethods_suggestApplyAnnotation(flattenedAnnotationState, suggestionId, propertyMap, annotationFactory) {
  var suggestedAnnotation = JSCompiler_StaticMethods_getSuggestedAnnotation(flattenedAnnotationState.annotationState_, suggestionId);
  suggestedAnnotation || (suggestedAnnotation = annotationFactory.create(), JSCompiler_StaticMethods_addSuggestedAnnotation(flattenedAnnotationState.annotationState_, suggestionId, suggestedAnnotation));
  suggestedAnnotation.update(propertyMap);
  JSCompiler_StaticMethods_flatten_(flattenedAnnotationState);
}
function JSCompiler_StaticMethods_applyAnnotation(flattenedAnnotationState, propertyMap, annotationFactory) {
  var annotationState = flattenedAnnotationState.annotationState_;
  if (!annotationState.annotation_) {
    var annotation = annotationFactory.create();
    if (annotationState.annotation_) {
      throw Error("Annotation already set.");
    }
    annotationState.annotation_ = annotation;
  }
  annotationState.annotation_.update(propertyMap);
  for (var suggestionIds = JSCompiler_StaticMethods_getSuggestedAnnotationIds(annotationState), i = 0;i < suggestionIds.length;i++) {
    JSCompiler_StaticMethods_getSuggestedAnnotation(annotationState, suggestionIds[i]).update(propertyMap, docs$text$protocol$PropertyMapStrategy$DEFINED_PROPERTIES);
  }
  JSCompiler_StaticMethods_flatten_(flattenedAnnotationState);
}
function JSCompiler_StaticMethods_applySubsetEquals(flattenedAnnotationState, propertyMap) {
  var annotationState = flattenedAnnotationState.annotationState_, annotation = annotationState.annotation_;
  if (!annotation || !annotation.subsetEquals(propertyMap)) {
    return !1;
  }
  for (var suggestionIds = JSCompiler_StaticMethods_getSuggestedAnnotationIds(annotationState), i = 0;i < suggestionIds.length;i++) {
    if (!JSCompiler_StaticMethods_getSuggestedAnnotation(annotationState, suggestionIds[i]).subsetEquals(propertyMap, docs$text$protocol$PropertyMapStrategy$DEFINED_PROPERTIES)) {
      return !1;
    }
  }
  return !0;
}
function JSCompiler_StaticMethods_flatten_(flattenedAnnotationState) {
  var annotationState = flattenedAnnotationState.annotationState_, suggestionIds = JSCompiler_StaticMethods_getSuggestedAnnotationIds(annotationState), flattened;
  if (suggestionIds.length) {
    1 < suggestionIds.length && goog$array$sort(suggestionIds);
    flattened = annotationState.annotation_ ? annotationState.annotation_.clone() : JSCompiler_StaticMethods_getSuggestedAnnotation(annotationState, suggestionIds[0]).clone();
    for (var i = 0;i < suggestionIds.length;i++) {
      flattened.update(JSCompiler_StaticMethods_getSuggestedAnnotation(annotationState, suggestionIds[i]).serialize(docs$text$protocol$SerializationStrategy$ONLY_DEFINED));
    }
    flattenedAnnotationState.flatAnnotation_ = flattened;
  } else {
    flattenedAnnotationState.flatAnnotation_ = null;
  }
}
;
// Input 222
function docs$text$model$FlattenedAnnotationState(annotationState) {
  this.annotationState_ = annotationState;
  this.flatAnnotation_ = null;
}
function JSCompiler_StaticMethods_getFlatAnnotation(JSCompiler_StaticMethods_getFlatAnnotation$self) {
  var annotation = JSCompiler_StaticMethods_getFlatAnnotation$self.flatAnnotation_ || JSCompiler_StaticMethods_getFlatAnnotation$self.annotationState_.annotation_;
  if (!annotation) {
    throw Error("No flat annotation.");
  }
  return annotation;
}
docs$text$model$FlattenedAnnotationState.prototype.clone = function $docs$text$model$FlattenedAnnotationState$$clone$() {
  var clone = new docs$text$model$FlattenedAnnotationState(this.annotationState_.clone());
  clone.flatAnnotation_ = this.flatAnnotation_ ? this.flatAnnotation_.clone() : null;
  return clone;
};
docs$text$model$FlattenedAnnotationState.prototype.equals = function $docs$text$model$FlattenedAnnotationState$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$model$FlattenedAnnotationState ? this.annotationState_.equals(other.annotationState_) : !1;
};
function docs$text$model$FlattenedAnnotationState$fromAnnotation(annotation) {
  return new docs$text$model$FlattenedAnnotationState(new docs$text$protocol$MutableAnnotationState(annotation));
}
;
// Input 223
function docs$text$model$SuggestionAwareEntityManager(defaultEntitiesProvider) {
  this.docs_text_model_SuggestionAwareEntityManager$defaultEntitiesProvider_ = defaultEntitiesProvider;
  this.entityMap_ = {};
  this.entitiesWithSuggestions_ = {};
}
docs$text$model$SuggestionAwareEntityManager.prototype.clone = function $docs$text$model$SuggestionAwareEntityManager$$clone$() {
  var clone = new docs$text$model$SuggestionAwareEntityManager(this.docs_text_model_SuggestionAwareEntityManager$defaultEntitiesProvider_);
  clone.entityMap_ = {};
  for (var key in this.entityMap_) {
    clone.entityMap_[key] = this.entityMap_[key].clone();
  }
  clone.entitiesWithSuggestions_ = goog$object$clone(this.entitiesWithSuggestions_);
  return clone;
};
function JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity$self, entityId) {
  return JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity$self.entityMap_[entityId] && JSCompiler_StaticMethods_getFlatAnnotation(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity$self.entityMap_[entityId]) || null;
}
docs$text$model$SuggestionAwareEntityManager.prototype.getEntityState = function $docs$text$model$SuggestionAwareEntityManager$$getEntityState$(entityId) {
  return this.entityMap_[entityId] ? this.entityMap_[entityId].annotationState_ : null;
};
function JSCompiler_StaticMethods_hasSuggestions_(entityState) {
  return null != entityState.insertionId_ || 0 < entityState.deletionIds_.length || 0 < JSCompiler_StaticMethods_getSuggestedAnnotationIds(entityState).length;
}
docs$text$model$SuggestionAwareEntityManager.prototype.equals = function $docs$text$model$SuggestionAwareEntityManager$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$model$SuggestionAwareEntityManager ? this.docs_text_model_SuggestionAwareEntityManager$defaultEntitiesProvider_.equals(other.docs_text_model_SuggestionAwareEntityManager$defaultEntitiesProvider_) && docs$util$ObjectUtil$equals(this.entityMap_, other.entityMap_, docs$model$Comparables$equals) : !1;
};
// Input 224
function docs$text$model$ConcreteEntityManager(entityResolvers, defaultEntitiesProvider) {
  this.entityResolverMap_ = {};
  for (var i = 0;i < entityResolvers.length;i++) {
    var entityResolver = entityResolvers[i], entityType = entityResolver.getResolvableEntityType();
    if (this.entityResolverMap_[entityType]) {
      throw Error("Multiple entity resolvers respond to type " + entityType);
    }
    this.entityResolverMap_[entityType] = entityResolver;
  }
  this.docs_text_model_ConcreteEntityManager$defaultEntitiesProvider_ = defaultEntitiesProvider;
  this.innerEntityManager_ = new docs$text$model$SuggestionAwareEntityManager(defaultEntitiesProvider);
  this.concreteEntityMap_ = {};
  this.dirtyEntityIds_ = {};
}
docs$text$model$ConcreteEntityManager.prototype.copyTo = function $docs$text$model$ConcreteEntityManager$$copyTo$(other) {
  other.docs_text_model_ConcreteEntityManager$defaultEntitiesProvider_ = this.docs_text_model_ConcreteEntityManager$defaultEntitiesProvider_.clone();
  other.innerEntityManager_ = this.innerEntityManager_.clone();
  other.concreteEntityMap_ = {};
  for (var key in this.concreteEntityMap_) {
    other.concreteEntityMap_[key] = this.concreteEntityMap_[key].clone();
  }
  other.dirtyEntityIds_ = goog$object$clone(this.dirtyEntityIds_);
};
docs$text$model$ConcreteEntityManager.prototype.docs_text_model_ConcreteEntityManager_prototype$getEntity = function $docs$text$model$ConcreteEntityManager$$docs_text_model_ConcreteEntityManager_prototype$getEntity$(entityId) {
  var rawEntity = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity(this.innerEntityManager_, entityId);
  if (this.dirtyEntityIds_[entityId]) {
    var type = rawEntity.getType();
    this.entityResolverMap_[type] && (this.concreteEntityMap_[entityId] = this.entityResolverMap_[type].getConcreteEntity(this, JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity(this.innerEntityManager_, entityId)), delete this.dirtyEntityIds_[entityId]);
  }
  return this.concreteEntityMap_[entityId] || rawEntity || null;
};
docs$text$model$ConcreteEntityManager.prototype.hasEntity = function $docs$text$model$ConcreteEntityManager$$hasEntity$(entityId) {
  return null != JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity(this.innerEntityManager_, entityId);
};
docs$text$model$ConcreteEntityManager.prototype.getEntityState = function $docs$text$model$ConcreteEntityManager$$getEntityState$(entityId) {
  return this.innerEntityManager_.getEntityState(entityId);
};
function JSCompiler_StaticMethods_markEntityDirty_(JSCompiler_StaticMethods_markEntityDirty_$self, type, entityId) {
  JSCompiler_StaticMethods_markEntityDirty_$self.entityResolverMap_[type] && (JSCompiler_StaticMethods_markEntityDirty_$self.dirtyEntityIds_[entityId] = !0);
}
docs$text$model$ConcreteEntityManager.prototype.equals = function $docs$text$model$ConcreteEntityManager$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$model$ConcreteEntityManager ? this.docs_text_model_ConcreteEntityManager$defaultEntitiesProvider_.equals(other.docs_text_model_ConcreteEntityManager$defaultEntitiesProvider_) && this.innerEntityManager_.equals(other.innerEntityManager_) : !1;
};
// Input 225
function docs$text$model$ConcreteStyleUpdaterManager(concreteStyleUpdaters) {
  this.concreteStyleUpdaterMap_ = {};
  for (var i = 0;i < concreteStyleUpdaters.length;i++) {
    var concreteStyleUpdater = concreteStyleUpdaters[i], styleType = concreteStyleUpdater.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getUpdaterType();
    if (this.concreteStyleUpdaterMap_[styleType]) {
      throw Error("Multiple concrete style updaters respond to type " + styleType);
    }
    this.concreteStyleUpdaterMap_[styleType] = concreteStyleUpdater;
  }
}
;
// Input 226
// Input 227
// Input 228
// Input 229
// Input 230
// Input 231
// Input 232
// Input 233
// Input 234
// Input 235
// Input 236
// Input 237
// Input 238
// Input 239
function goog$debug$normalizeErrorObject(err) {
  var href = goog$getObjectByName("window.location.href");
  if (goog$isString(err)) {
    return {message:err, name:"Unknown error", lineNumber:"Not available", fileName:href, stack:"Not available"};
  }
  var lineNumber, fileName, threwError = !1;
  try {
    lineNumber = err.lineNumber || err.line || "Not available";
  } catch (e) {
    lineNumber = "Not available", threwError = !0;
  }
  try {
    fileName = err.fileName || err.filename || err.sourceURL || goog$global.$googDebugFname || href;
  } catch (e$1) {
    fileName = "Not available", threwError = !0;
  }
  return !threwError && err.lineNumber && err.fileName && err.stack && err.message && err.name ? err : {message:err.message || "Not available", name:err.name || "UnknownError", lineNumber:lineNumber, fileName:fileName, stack:err.stack || "Not available"};
}
;
// Input 240
function goog$debug$LogRecord(level, msg, loggerName, opt_time, opt_sequenceNumber) {
  this.reset(level, msg, loggerName, opt_time, opt_sequenceNumber);
}
goog$debug$LogRecord.prototype.exception_ = null;
var goog$debug$LogRecord$nextSequenceNumber_ = 0;
goog$debug$LogRecord.prototype.reset = function $goog$debug$LogRecord$$reset$(level, msg, loggerName, opt_time, opt_sequenceNumber) {
  "number" == typeof opt_sequenceNumber || goog$debug$LogRecord$nextSequenceNumber_++;
  this.time_ = opt_time || goog$now();
  this.goog_debug_LogRecord_prototype$level_ = level;
  this.msg_ = msg;
  this.loggerName_ = loggerName;
  delete this.exception_;
};
// Input 241
// Input 242
function goog$debug$Logger(name) {
  this.goog_debug_Logger$name_ = name;
  this.handlers_ = this.children_ = this.goog_debug_Logger$level_ = this.goog_debug_Logger$parent_ = null;
}
function goog$debug$Logger$Level(name, value) {
  this.name = name;
  this.value = value;
}
goog$debug$Logger$Level.prototype.toString = function $goog$debug$Logger$Level$$toString$() {
  return this.name;
};
var goog$debug$Logger$Level$SHOUT = new goog$debug$Logger$Level("SHOUT", 1200), goog$debug$Logger$Level$SEVERE = new goog$debug$Logger$Level("SEVERE", 1000), goog$debug$Logger$Level$WARNING = new goog$debug$Logger$Level("WARNING", 900), goog$debug$Logger$Level$INFO = new goog$debug$Logger$Level("INFO", 800), goog$debug$Logger$Level$CONFIG = new goog$debug$Logger$Level("CONFIG", 700), goog$debug$Logger$Level$FINE = new goog$debug$Logger$Level("FINE", 500);
function JSCompiler_StaticMethods_getEffectiveLevel(JSCompiler_StaticMethods_getEffectiveLevel$self) {
  if (JSCompiler_StaticMethods_getEffectiveLevel$self.goog_debug_Logger$level_) {
    return JSCompiler_StaticMethods_getEffectiveLevel$self.goog_debug_Logger$level_;
  }
  if (JSCompiler_StaticMethods_getEffectiveLevel$self.goog_debug_Logger$parent_) {
    return JSCompiler_StaticMethods_getEffectiveLevel(JSCompiler_StaticMethods_getEffectiveLevel$self.goog_debug_Logger$parent_);
  }
  goog$asserts$fail("Root logger has no level set.");
  return null;
}
goog$debug$Logger.prototype.log = function $goog$debug$Logger$$log$(level, msg$jscomp$0, opt_exception) {
  if (level.value >= JSCompiler_StaticMethods_getEffectiveLevel(this).value) {
    goog$isFunction(msg$jscomp$0) && (msg$jscomp$0 = msg$jscomp$0());
    var logRecord = new goog$debug$LogRecord(level, String(msg$jscomp$0), this.goog_debug_Logger$name_);
    opt_exception && (logRecord.exception_ = opt_exception);
    var msg = "log:" + logRecord.msg_;
    goog$global.console && (goog$global.console.timeStamp ? goog$global.console.timeStamp(msg) : goog$global.console.markTimeline && goog$global.console.markTimeline(msg));
    goog$global.msWriteProfilerMark && goog$global.msWriteProfilerMark(msg);
    for (var target = this;target;) {
      var handler, JSCompiler_StaticMethods_callPublish_$self = target, logRecord$jscomp$0 = logRecord;
      if (JSCompiler_StaticMethods_callPublish_$self.handlers_) {
        for (var i = 0;handler = JSCompiler_StaticMethods_callPublish_$self.handlers_[i];i++) {
          handler(logRecord$jscomp$0);
        }
      }
      target = target.goog_debug_Logger$parent_;
    }
  }
};
var goog$debug$LogManager$loggers_ = {}, goog$debug$LogManager$rootLogger_ = null;
function goog$debug$LogManager$initialize() {
  goog$debug$LogManager$rootLogger_ || (goog$debug$LogManager$rootLogger_ = new goog$debug$Logger(""), goog$debug$LogManager$loggers_[""] = goog$debug$LogManager$rootLogger_, goog$debug$LogManager$rootLogger_.goog_debug_Logger$level_ = goog$debug$Logger$Level$CONFIG);
}
function goog$debug$LogManager$getLogger(name) {
  goog$debug$LogManager$initialize();
  var JSCompiler_temp;
  if (!(JSCompiler_temp = goog$debug$LogManager$loggers_[name])) {
    var logger = new goog$debug$Logger(name), lastDotIndex = name.lastIndexOf("."), leafName = name.substr(lastDotIndex + 1), parentLogger = goog$debug$LogManager$getLogger(name.substr(0, lastDotIndex));
    parentLogger.children_ || (parentLogger.children_ = {});
    parentLogger.children_[leafName] = logger;
    logger.goog_debug_Logger$parent_ = parentLogger;
    JSCompiler_temp = goog$debug$LogManager$loggers_[name] = logger;
  }
  return JSCompiler_temp;
}
;
// Input 243
function goog$log$error(logger, msg) {
  logger && logger.log(goog$debug$Logger$Level$SEVERE, msg, void 0);
}
function goog$log$info(logger, msg) {
  logger && logger.log(goog$debug$Logger$Level$INFO, msg, void 0);
}
function goog$log$fine(logger, msg) {
  logger && logger.log(goog$debug$Logger$Level$FINE, msg, void 0);
}
;
// Input 244
goog$debug$LogManager$getLogger("docs.text.model.ConcreteStyleUtil");
// Input 245
function docs$text$model$ConcreteStyleStateSparseArray(styles) {
  this.docs_text_model_ConcreteStyleStateSparseArray$styles_ = styles;
}
docs$text$model$ConcreteStyleStateSparseArray.prototype.getKeys = function $docs$text$model$ConcreteStyleStateSparseArray$$getKeys$() {
  return this.docs_text_model_ConcreteStyleStateSparseArray$styles_.getKeys();
};
docs$text$model$ConcreteStyleStateSparseArray.prototype.getStyleState = function $docs$text$model$ConcreteStyleStateSparseArray$$getStyleState$(index) {
  var style = this.docs_text_model_ConcreteStyleStateSparseArray$styles_.get(index);
  return style ? new docs$text$protocol$MutableAnnotationState(style) : null;
};
docs$text$model$ConcreteStyleStateSparseArray.prototype.getClosestStyleState = function $docs$text$model$ConcreteStyleStateSparseArray$$getClosestStyleState$(index, opt_forwards) {
  var style = JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(this.docs_text_model_ConcreteStyleStateSparseArray$styles_, index, opt_forwards);
  return style ? new docs$text$protocol$MutableAnnotationState(style) : null;
};
// Input 246
function docs$text$model$ConcreteStyleManager(defaultStylesProvider, styleResolverManager, concreteStyleUpdaterManager, entityConcreteStyleUpdaters) {
  this.docs_text_model_ConcreteStyleManager$defaultStylesProvider_ = defaultStylesProvider;
  this.docs_text_model_ConcreteStyleManager$styleMap_ = {};
  this.types_ = [];
  this.docs_text_model_ConcreteStyleManager$styleResolverManager_ = styleResolverManager;
  this.docs_text_model_ConcreteStyleManager$concreteStyleUpdaterManager_ = concreteStyleUpdaterManager;
  this.entityConcreteStyleUpdaterMap_ = {};
  for (var i = 0;i < entityConcreteStyleUpdaters.length;i++) {
    var entityConcreteStyleUpdater = entityConcreteStyleUpdaters[i];
    if (this.entityConcreteStyleUpdaterMap_.list) {
      throw Error("Multiple entity concrete style updaters respond to type list");
    }
    for (var dependentStyleTypes = ["list"], j = 0;j < dependentStyleTypes.length;j++) {
      if (!docs$text$protocol$StyleTypes$isTethered(dependentStyleTypes[j])) {
        throw Error("Only tethered style types can be dependent on entities.");
      }
    }
    this.entityConcreteStyleUpdaterMap_.list = entityConcreteStyleUpdater;
  }
}
docs$text$model$ConcreteStyleManager.prototype.copyTo = function $docs$text$model$ConcreteStyleManager$$copyTo$(other) {
  other.docs_text_model_ConcreteStyleManager$styleMap_ = {};
  for (var style$jscomp$0 in this.docs_text_model_ConcreteStyleManager$styleMap_) {
    other.docs_text_model_ConcreteStyleManager$styleMap_[style$jscomp$0] = this.docs_text_model_ConcreteStyleManager$styleMap_[style$jscomp$0].clone(function(style) {
      return style.clone();
    });
  }
  other.types_ = this.types_.concat();
};
function JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getConcreteStyle(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getConcreteStyle$self, type, spacerIndex) {
  goog$asserts$assert(!!JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getConcreteStyle$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_[type], "Should not request non-resolvable style type " + type + " from concrete style manager.");
  return JSCompiler_StaticMethods_getStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getConcreteStyle$self, type, spacerIndex);
}
function JSCompiler_StaticMethods_getStyle_(JSCompiler_StaticMethods_getStyle_$self, type, spacerIndex) {
  var style = JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(JSCompiler_StaticMethods_getStyle_$self.docs_text_model_ConcreteStyleManager$styleMap_[type], spacerIndex, docs$text$protocol$StyleTypes$getStyleTypeInfo_(type).docs_text_protocol_StyleTypeInfo$isTetheredAfterSpacers_);
  docs$text$protocol$StyleTypes$getStyleTypeInfo_(type).docs_text_protocol_StyleTypeInfo$isTetheredAfterSpacers_ || goog$asserts$assert(style, "Must have previous style for type " + type + " at spacer index " + spacerIndex);
  if (style) {
    return style;
  }
  var previousStyle = JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(JSCompiler_StaticMethods_getStyle_$self.docs_text_model_ConcreteStyleManager$styleMap_[type], spacerIndex, !1);
  return goog$asserts$assert(previousStyle, "Must have previous style for type " + type + " at spacer index " + spacerIndex);
}
function JSCompiler_StaticMethods_getConcreteStyle_(JSCompiler_StaticMethods_getConcreteStyle_$self, style, spacerIndex, concreteEntityProvider, tableState, rawStyleProvider) {
  return JSCompiler_StaticMethods_getConcreteStyle_$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_[style.getType()].docs_text_model_CellStyleResolver_prototype$getConcreteStyle(rawStyleProvider, style, spacerIndex, concreteEntityProvider, tableState);
}
function JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getSortedStyleKeys(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getSortedStyleKeys$self, type) {
  goog$asserts$assert(!!JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getSortedStyleKeys$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_[type], "Should not request non-resolvable style type " + type + " from concrete style manager.");
  return JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getSortedStyleKeys$self.docs_text_model_ConcreteStyleManager$styleMap_[type].getKeys();
}
function JSCompiler_StaticMethods_recomputeConcreteStyles_(JSCompiler_StaticMethods_recomputeConcreteStyles_$self, type$jscomp$0, startIndex, endIndex, lastSpacerIndex, concreteEntityProvider$jscomp$0, tableState$jscomp$0, rawStyleProvider$jscomp$0) {
  if (docs$text$protocol$StyleTypes$isTethered(type$jscomp$0)) {
    var tetherIndices;
    if (endIndex == startIndex) {
      tetherIndices = [startIndex];
    } else {
      tetherIndices = [];
      var keys = rawStyleProvider$jscomp$0.getRawSortedStyleKeys(type$jscomp$0), startKey = goog$array$binarySearch(keys, startIndex);
      0 > startKey && (startKey = -startKey - 1);
      for (var i = startKey;i < keys.length && !(keys[i] > endIndex);i++) {
        tetherIndices.push(keys[i]);
      }
    }
    for (i = 0;i < tetherIndices.length;i++) {
      var JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$applyTetheredStyle_$self = JSCompiler_StaticMethods_recomputeConcreteStyles_$self, type = type$jscomp$0, spacerIndex = tetherIndices[i], concreteEntityProvider = concreteEntityProvider$jscomp$0, tableState = tableState$jscomp$0, rawStyleProvider = rawStyleProvider$jscomp$0, rawStyle = rawStyleProvider.getRawTetheredStyle(type, spacerIndex);
      if (rawStyle && JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$applyTetheredStyle_$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_[type]) {
        var newConcreteStyle = JSCompiler_StaticMethods_getConcreteStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$applyTetheredStyle_$self, rawStyle, spacerIndex, concreteEntityProvider, tableState, rawStyleProvider).clone();
        JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$applyTetheredStyle_$self.docs_text_model_ConcreteStyleManager$styleMap_[type].set(spacerIndex, newConcreteStyle);
      }
    }
  } else {
    JSCompiler_StaticMethods_recomputeConcreteStyles_$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_[type$jscomp$0] && JSCompiler_StaticMethods_computeUntetheredConcreteStyle_(JSCompiler_StaticMethods_recomputeConcreteStyles_$self, type$jscomp$0, startIndex, endIndex, lastSpacerIndex, concreteEntityProvider$jscomp$0, tableState$jscomp$0, rawStyleProvider$jscomp$0);
  }
}
function JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForEntity(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForEntity$self, entityId, entityType, concreteEntityProvider, tableState, rawStyleProvider, opt_propertyMap) {
  if (JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForEntity$self.entityConcreteStyleUpdaterMap_[entityType]) {
    var affectedParagraphIndices, JSCompiler_temp;
    if (opt_propertyMap) {
      var updatedNestingBullets = opt_propertyMap.le_nb, bulletTextStyleChanged = !1, nestingLevelChangeMap = {}, nestingLevelString;
      for (nestingLevelString in updatedNestingBullets) {
        if ("b_ts" in updatedNestingBullets[nestingLevelString]) {
          var nestingLevel = docs$text$protocol$NestingBullets$nestingLevelMap_.get(nestingLevelString);
          goog$asserts$assert(goog$isDef(nestingLevel));
          bulletTextStyleChanged = nestingLevelChangeMap[nestingLevel] = !0;
        }
      }
      if (bulletTextStyleChanged) {
        for (var rawListKeys = rawStyleProvider.getRawSortedStyleKeys("list"), recomputeParagraphIndices = [], i = 0;i < rawListKeys.length;i++) {
          var listIndex = rawListKeys[i], listStyle = rawStyleProvider.getRawTetheredStyle("list", listIndex);
          listStyle.docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$listId_ == entityId && nestingLevelChangeMap[JSCompiler_StaticMethods_docs_text_protocol_ListStyle_prototype$getNestingLevel(listStyle)] && recomputeParagraphIndices.push(listIndex);
        }
        JSCompiler_temp = recomputeParagraphIndices;
      } else {
        JSCompiler_temp = null;
      }
    } else {
      for (var rawListKeys$jscomp$0 = rawStyleProvider.getRawSortedStyleKeys("list"), recomputeParagraphIndices$jscomp$0 = [], i$jscomp$0 = 0;i$jscomp$0 < rawListKeys$jscomp$0.length;i$jscomp$0++) {
        var listIndex$jscomp$0 = rawListKeys$jscomp$0[i$jscomp$0];
        rawStyleProvider.getRawTetheredStyle("list", listIndex$jscomp$0).docs_text_protocol_ListStyle$state_.docs_text_protocol_ListStyle$State_$listId_ == entityId && recomputeParagraphIndices$jscomp$0.push(listIndex$jscomp$0);
      }
      JSCompiler_temp = recomputeParagraphIndices$jscomp$0;
    }
    if ((affectedParagraphIndices = JSCompiler_temp) && 0 != affectedParagraphIndices.length) {
      for (var styleTypes = ["list"], i$jscomp$1 = 0, styleType;styleType = styleTypes[i$jscomp$1];i$jscomp$1++) {
        if (JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForEntity$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_[styleType] && docs$text$protocol$StyleTypes$isTethered(styleType)) {
          for (var j = 0, paragraphIndex;paragraphIndex = affectedParagraphIndices[j];j++) {
            var rawStyle = rawStyleProvider.getRawTetheredStyle(styleType, paragraphIndex);
            rawStyle && JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForEntity$self.docs_text_model_ConcreteStyleManager$styleMap_[styleType].set(paragraphIndex, JSCompiler_StaticMethods_getConcreteStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForEntity$self, rawStyle, paragraphIndex, concreteEntityProvider, tableState, rawStyleProvider).clone());
          }
        }
      }
    }
  }
}
function JSCompiler_StaticMethods_getStartOfParagraph_(JSCompiler_StaticMethods_getStartOfParagraph_$self, paragraphIndex, opt_paragraphKey) {
  var paragraphKey = opt_paragraphKey, paragraphKeys = JSCompiler_StaticMethods_getStartOfParagraph_$self.docs_text_model_ConcreteStyleManager$styleMap_.paragraph.getKeys();
  if (null == paragraphKey && (paragraphKey = goog$array$binarySearch(paragraphKeys, paragraphIndex), 0 > paragraphKey)) {
    throw Error("Problem finding paragraph start index, paragraph key could not be found in the concrete map.");
  }
  var previousParagraphKey = paragraphKey - 1, startIndexOfParagraph = 0;
  0 <= previousParagraphKey && (startIndexOfParagraph = paragraphKeys[previousParagraphKey] + 1);
  return startIndexOfParagraph;
}
function JSCompiler_StaticMethods_recomputeAffectedStyles_(JSCompiler_StaticMethods_recomputeAffectedStyles_$self, affectedIndicesMap, lastSpacerIndex, concreteEntityProvider, tableState, rawStyleProvider) {
  if (affectedIndicesMap && !goog$object$isEmpty(affectedIndicesMap)) {
    for (var styleType in affectedIndicesMap) {
      var affectedParagraphIndices = affectedIndicesMap[styleType];
      if (docs$text$protocol$StyleTypes$isTethered(styleType)) {
        for (var i = 0;i < affectedParagraphIndices.length;i++) {
          var affectedParagraphIndex = affectedParagraphIndices[i], rawTetheredStyle = rawStyleProvider.getRawTetheredStyle(styleType, affectedParagraphIndex);
          rawTetheredStyle && JSCompiler_StaticMethods_recomputeAffectedStyles_$self.docs_text_model_ConcreteStyleManager$styleMap_[styleType].set(affectedParagraphIndex, JSCompiler_StaticMethods_getConcreteStyle_(JSCompiler_StaticMethods_recomputeAffectedStyles_$self, rawTetheredStyle, affectedParagraphIndex, concreteEntityProvider, tableState, rawStyleProvider).clone());
        }
      } else {
        for (i = 0;i < affectedParagraphIndices.length;i++) {
          var affectedParagraphIndex = affectedParagraphIndices[i], paragraphStartIndex = JSCompiler_StaticMethods_getStartOfParagraph_(JSCompiler_StaticMethods_recomputeAffectedStyles_$self, affectedParagraphIndex);
          JSCompiler_StaticMethods_computeUntetheredConcreteStyle_(JSCompiler_StaticMethods_recomputeAffectedStyles_$self, styleType, paragraphStartIndex, affectedParagraphIndex, lastSpacerIndex, concreteEntityProvider, tableState, rawStyleProvider);
        }
      }
    }
  }
}
function JSCompiler_StaticMethods_getStyleTransitionKeys_(paragraphKeys, rawStyleKeys, startIndex, endIndex) {
  for (var styleTransitionKeys = [], rawStyleKeyIndex = docs$structs$SparseArray$getClosestItemKeyIndex(rawStyleKeys, startIndex), rawStyleKeyIndex = Math.max(0, rawStyleKeyIndex - 1), endRawStyleKeyIndex = Math.max(Math.min(docs$structs$SparseArray$getClosestItemKeyIndex(rawStyleKeys, endIndex) + 1, rawStyleKeys.length - 1), rawStyleKeyIndex), paragraphKeyIndex = docs$structs$SparseArray$getClosestItemKeyIndex(paragraphKeys, rawStyleKeys[rawStyleKeyIndex], !0), paragraphKeyIndex = Math.max(0, paragraphKeyIndex - 
  1), endParagraphKeyIndex = Math.min(docs$structs$SparseArray$getClosestItemKeyIndex(paragraphKeys, endIndex, !0), paragraphKeys.length - 1);paragraphKeyIndex <= endParagraphKeyIndex && rawStyleKeyIndex <= endRawStyleKeyIndex;) {
    var paragraphKey = paragraphKeys[paragraphKeyIndex] + 1, rawStyleKey = rawStyleKeys[rawStyleKeyIndex];
    rawStyleKey < paragraphKey ? (styleTransitionKeys.push(rawStyleKey), rawStyleKeyIndex++) : (rawStyleKey == paragraphKey ? (styleTransitionKeys.push(rawStyleKey), rawStyleKeyIndex++) : styleTransitionKeys.push(paragraphKey), paragraphKeyIndex++);
  }
  for (var i = paragraphKeyIndex;i <= endParagraphKeyIndex;i++) {
    styleTransitionKeys.push(paragraphKeys[i] + 1);
  }
  for (i = rawStyleKeyIndex;i <= endRawStyleKeyIndex;i++) {
    styleTransitionKeys.push(rawStyleKeys[i]);
  }
  return styleTransitionKeys;
}
function JSCompiler_StaticMethods_computeUntetheredConcreteStyle_(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self, type, startIndex, endIndex$jscomp$0, lastSpacerIndex, concreteEntityProvider, tableState, rawStyleProvider) {
  var rawStyleKeys = rawStyleProvider.getRawSortedStyleKeys(type), concreteStyleKeys = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getSortedStyleKeys(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self, type), paragraphStyleKeys = rawStyleProvider.getRawSortedStyleKeys("paragraph");
  lastSpacerIndex || (lastSpacerIndex = Math.max(rawStyleKeys[rawStyleKeys.length - 1], paragraphStyleKeys[paragraphStyleKeys.length - 1]));
  endIndex$jscomp$0 || (endIndex$jscomp$0 = lastSpacerIndex);
  var afterEndIndex = endIndex$jscomp$0 + 1;
  if (afterEndIndex <= lastSpacerIndex) {
    var rawStyle = rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle(type, afterEndIndex);
    JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self.docs_text_model_ConcreteStyleManager$styleMap_[type].set(afterEndIndex, JSCompiler_StaticMethods_getConcreteStyle_(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self, rawStyle, afterEndIndex, concreteEntityProvider, tableState, rawStyleProvider).clone());
  }
  for (var styleTransitionKeys = JSCompiler_StaticMethods_getStyleTransitionKeys_(paragraphStyleKeys, rawStyleKeys, startIndex, endIndex$jscomp$0), endIndex = endIndex$jscomp$0, concreteStyleKeys$jscomp$0 = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getSortedStyleKeys(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self, type), concreteStyleKeyIndex = docs$structs$SparseArray$getClosestItemKeyIndex(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self.docs_text_model_ConcreteStyleManager$styleMap_[type].docs_structs_SparseArray$keys_, 
  startIndex, !0), concreteStyleIndex = concreteStyleKeys$jscomp$0[concreteStyleKeyIndex];null != concreteStyleIndex && concreteStyleIndex <= endIndex;) {
    JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self.docs_text_model_ConcreteStyleManager$styleMap_[type], concreteStyleIndex), concreteStyleIndex = concreteStyleKeys$jscomp$0[concreteStyleKeyIndex];
  }
  for (var currentRawStyle, styleKeyIndex = docs$structs$SparseArray$getClosestItemKeyIndex(concreteStyleKeys, startIndex - 1), lastConcreteStyleBeforeStart = 0 <= styleKeyIndex ? JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getConcreteStyle(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self, type, concreteStyleKeys[styleKeyIndex]) : void 0, lastConcreteStyle = lastConcreteStyleBeforeStart, i = 0;i < styleTransitionKeys.length;i++) {
    var styleTransitionKey = styleTransitionKeys[i];
    (rawStyle = rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle(type, styleTransitionKey)) && (currentRawStyle = rawStyle);
    if (styleTransitionKey >= startIndex && styleTransitionKey <= endIndex$jscomp$0) {
      if (!docs$text$protocol$StyleTypes$isTethered(currentRawStyle.docs_text_protocol_Style$type_) || rawStyle) {
        var newConcreteStyle = JSCompiler_StaticMethods_getConcreteStyle_(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self, currentRawStyle, styleTransitionKey, concreteEntityProvider, tableState, rawStyleProvider).clone();
        newConcreteStyle.equals(lastConcreteStyle) ? JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self.docs_text_model_ConcreteStyleManager$styleMap_[type], styleTransitionKey) : (JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self.docs_text_model_ConcreteStyleManager$styleMap_[type].set(styleTransitionKey, newConcreteStyle), lastConcreteStyle = newConcreteStyle);
      }
    } else {
      if (styleTransitionKey > endIndex$jscomp$0) {
        break;
      }
    }
  }
  lastConcreteStyleBeforeStart && 0 <= goog$array$binarySearch(concreteStyleKeys, startIndex) && lastConcreteStyleBeforeStart.equals(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getConcreteStyle(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self, type, startIndex)) && JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self.docs_text_model_ConcreteStyleManager$styleMap_[type], startIndex);
  0 <= goog$array$binarySearch(concreteStyleKeys, afterEndIndex) && JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getConcreteStyle(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self, type, afterEndIndex).equals(lastConcreteStyle) && JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_computeUntetheredConcreteStyle_$self.docs_text_model_ConcreteStyleManager$styleMap_[type], afterEndIndex);
}
docs$text$model$ConcreteStyleManager.prototype.shift = function $docs$text$model$ConcreteStyleManager$$shift$(insertIndex, numSpacers) {
  for (var i = 0;i < this.types_.length;i++) {
    this.docs_text_model_ConcreteStyleManager$styleMap_[this.types_[i]].shift(insertIndex, numSpacers);
  }
};
// Input 247
function docs$text$model$LazyConcreteStyleManager(defaultStylesProvider, styleResolverManager, concreteStyleUpdaterManager, entityConcreteStyleUpdaters) {
  this.docs_text_model_LazyConcreteStyleManager$defaultStylesProvider_ = defaultStylesProvider;
  this.docs_text_model_LazyConcreteStyleManager$styleResolverManager_ = styleResolverManager;
  this.docs_text_model_LazyConcreteStyleManager$concreteStyleUpdaterManager_ = concreteStyleUpdaterManager;
  this.docs_text_model_LazyConcreteStyleManager$entityConcreteStyleUpdaters_ = entityConcreteStyleUpdaters;
  this.concreteStyleManager_ = null;
}
docs$text$model$LazyConcreteStyleManager.prototype.copyTo = function $docs$text$model$LazyConcreteStyleManager$$copyTo$(other) {
  this.concreteStyleManager_ ? (other.concreteStyleManager_ || (other.concreteStyleManager_ = new docs$text$model$ConcreteStyleManager(other.docs_text_model_LazyConcreteStyleManager$defaultStylesProvider_, other.docs_text_model_LazyConcreteStyleManager$styleResolverManager_, other.docs_text_model_LazyConcreteStyleManager$concreteStyleUpdaterManager_, other.docs_text_model_LazyConcreteStyleManager$entityConcreteStyleUpdaters_)), this.concreteStyleManager_.copyTo(other.concreteStyleManager_)) : other.concreteStyleManager_ = 
  null;
};
function JSCompiler_StaticMethods_initializeConcreteStyleManager_(JSCompiler_StaticMethods_initializeConcreteStyleManager_$self, concreteEntityProvider$jscomp$0, tableState$jscomp$0, rawStyleProvider$jscomp$0) {
  goog$asserts$assert(!0, "Unexpected query for concrete styles.");
  JSCompiler_StaticMethods_initializeConcreteStyleManager_$self.concreteStyleManager_ = new docs$text$model$ConcreteStyleManager(JSCompiler_StaticMethods_initializeConcreteStyleManager_$self.docs_text_model_LazyConcreteStyleManager$defaultStylesProvider_, JSCompiler_StaticMethods_initializeConcreteStyleManager_$self.docs_text_model_LazyConcreteStyleManager$styleResolverManager_, JSCompiler_StaticMethods_initializeConcreteStyleManager_$self.docs_text_model_LazyConcreteStyleManager$concreteStyleUpdaterManager_, 
  JSCompiler_StaticMethods_initializeConcreteStyleManager_$self.docs_text_model_LazyConcreteStyleManager$entityConcreteStyleUpdaters_);
  for (var JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$initialize$self = JSCompiler_StaticMethods_initializeConcreteStyleManager_$self.concreteStyleManager_, registeredStyleTypes = rawStyleProvider$jscomp$0.getRegisteredStyleTypes(), i = 0, styleType;styleType = registeredStyleTypes[i];i++) {
    if (JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$initialize$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_[styleType]) {
      JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$initialize$self.docs_text_model_ConcreteStyleManager$styleMap_[styleType] = new docs$structs$SparseArray;
      JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$initialize$self.types_.push(styleType);
      var lastConcreteStyle = void 0, JSCompiler_StaticMethods_recomputeAllConcreteStylesForType_$self = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$initialize$self, type = styleType, concreteEntityProvider = concreteEntityProvider$jscomp$0, tableState = tableState$jscomp$0, rawStyleProvider = rawStyleProvider$jscomp$0;
      if (docs$text$protocol$StyleTypes$isTethered(type)) {
        if (!docs$text$protocol$StyleTypes$isTethered(type)) {
          throw Error("Cannot apply concrete tethered styles to untethered type " + type);
        }
        for (var sortedStyleKeys = rawStyleProvider.getRawSortedStyleKeys(type), i$jscomp$0 = 0;i$jscomp$0 < sortedStyleKeys.length;i$jscomp$0++) {
          var spacerIndex = sortedStyleKeys[i$jscomp$0];
          JSCompiler_StaticMethods_recomputeAllConcreteStylesForType_$self.docs_text_model_ConcreteStyleManager$styleMap_[type].set(spacerIndex, JSCompiler_StaticMethods_getConcreteStyle_(JSCompiler_StaticMethods_recomputeAllConcreteStylesForType_$self, rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle(type, spacerIndex), spacerIndex, concreteEntityProvider, tableState, rawStyleProvider).clone());
        }
      } else {
        var rawStyleKeys = rawStyleProvider.getRawSortedStyleKeys(type), paragraphStyleKeys = rawStyleProvider.getRawSortedStyleKeys("paragraph"), lastSpacerIndex = Math.max(rawStyleKeys[rawStyleKeys.length - 1], paragraphStyleKeys[paragraphStyleKeys.length - 1]);
        JSCompiler_StaticMethods_recomputeAllConcreteStylesForType_$self.docs_text_model_ConcreteStyleManager$styleMap_[type] = new docs$structs$SparseArray;
        for (var styleTransitionKeys = JSCompiler_StaticMethods_getStyleTransitionKeys_(paragraphStyleKeys, rawStyleKeys, 0, lastSpacerIndex), i$jscomp$1 = 0;i$jscomp$1 < styleTransitionKeys.length;i$jscomp$1++) {
          var styleTransitionKey = styleTransitionKeys[i$jscomp$1];
          if (styleTransitionKey <= lastSpacerIndex) {
            var rawStyle = rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle(type, styleTransitionKey), newConcreteStyle = JSCompiler_StaticMethods_getConcreteStyle_(JSCompiler_StaticMethods_recomputeAllConcreteStylesForType_$self, rawStyle, styleTransitionKey, concreteEntityProvider, tableState, rawStyleProvider).clone();
            newConcreteStyle.equals(lastConcreteStyle) || (JSCompiler_StaticMethods_recomputeAllConcreteStylesForType_$self.docs_text_model_ConcreteStyleManager$styleMap_[type].set(styleTransitionKey, newConcreteStyle), lastConcreteStyle = newConcreteStyle);
          } else {
            break;
          }
        }
      }
    }
  }
}
docs$text$model$LazyConcreteStyleManager.prototype.shift = function $docs$text$model$LazyConcreteStyleManager$$shift$(insertIndex, numSpacers) {
  goog$asserts$assert(this.concreteStyleManager_).shift(insertIndex, numSpacers);
};
// Input 248
// Input 249
var docs$text$model$ModelProcessingLevelConfig$CONCRETE = new function(builder) {
  this.docs_text_model_ModelProcessingLevelConfig$defaultLevel_ = builder.docs_text_model_ModelProcessingLevelConfig$Builder$defaultLevel_;
  this.docs_text_model_ModelProcessingLevelConfig$styleTypeToLevelMap_ = goog$object$clone(builder.docs_text_model_ModelProcessingLevelConfig$Builder$styleTypeToLevelMap_);
  this.docs_text_model_ModelProcessingLevelConfig$entityTypeToLevelMap_ = goog$object$clone(builder.docs_text_model_ModelProcessingLevelConfig$Builder$entityTypeToLevelMap_);
  this.docs_text_model_ModelProcessingLevelConfig$tetherLevel_ = builder.docs_text_model_ModelProcessingLevelConfig$Builder$tetherLevel_;
}(new function() {
  this.docs_text_model_ModelProcessingLevelConfig$Builder$defaultLevel_ = 3;
  this.docs_text_model_ModelProcessingLevelConfig$Builder$styleTypeToLevelMap_ = {};
  this.docs_text_model_ModelProcessingLevelConfig$Builder$entityTypeToLevelMap_ = {};
  this.docs_text_model_ModelProcessingLevelConfig$Builder$tetherLevel_ = null;
});
// Input 250
// Input 251
// Input 252
function docs$text$model$Model() {
}
goog$mixin(docs$text$model$Model.prototype, docs$model$Comparable.prototype);
goog$mixin(docs$text$model$Model.prototype, JSCompiler_emptyFn().prototype);
goog$mixin(docs$text$model$Model.prototype, JSCompiler_emptyFn().prototype);
goog$mixin(docs$text$model$Model.prototype, JSCompiler_emptyFn().prototype);
// Input 253
goog$mixin(JSCompiler_emptyFn().prototype, docs$text$model$Model.prototype);
// Input 254
function docs$text$model$StyleIntersectionCache(intersectAllFn, errorReporter) {
  this.intersectAllFn_ = intersectAllFn;
  this.docs_text_model_StyleIntersectionCache$errorReporter_ = errorReporter;
  this.endRangeCacheMap_ = {};
  this.startRangeCacheMap_ = {};
  this.styleIntersectionCacheMap_ = {};
}
docs$text$model$StyleIntersectionCache.prototype.docs_text_model_StyleIntersectionCache_prototype$logger_ = goog$debug$LogManager$getLogger("docs.text.model.StyleIntersectionCache");
docs$text$model$StyleIntersectionCache.prototype.clear = function $docs$text$model$StyleIntersectionCache$$clear$() {
  goog$log$fine(this.docs_text_model_StyleIntersectionCache_prototype$logger_, "clear");
  this.endRangeCacheMap_ = {};
  this.startRangeCacheMap_ = {};
  this.styleIntersectionCacheMap_ = {};
};
function JSCompiler_StaticMethods_getStyleIntersection_(JSCompiler_StaticMethods_getStyleIntersection_$self, type, startIndex, endIndex) {
  var styleIntersectionCache = JSCompiler_StaticMethods_getStyleIntersection_$self.styleIntersectionCacheMap_[type];
  if (styleIntersectionCache) {
    var endIndices = styleIntersectionCache[startIndex];
    if (endIndices) {
      return endIndices[endIndex] || null;
    }
  }
  return null;
}
function JSCompiler_StaticMethods_calculateAndCache_(JSCompiler_StaticMethods_calculateAndCache_$self, type, startIndex, endIndex) {
  goog$log$fine(JSCompiler_StaticMethods_calculateAndCache_$self.docs_text_model_StyleIntersectionCache_prototype$logger_, "calculateAndCache_ type: " + type + " startIndex " + startIndex + " endIndex " + endIndex);
  var styleIntersection = JSCompiler_StaticMethods_calculateAndCache_$self.intersectAllFn_(type, startIndex, endIndex);
  JSCompiler_StaticMethods_cache_(JSCompiler_StaticMethods_calculateAndCache_$self, type, startIndex, endIndex, styleIntersection);
  return styleIntersection;
}
function JSCompiler_StaticMethods_cache_(JSCompiler_StaticMethods_cache_$self, type, startIndex, endIndex, styleIntersection) {
  goog$log$fine(JSCompiler_StaticMethods_cache_$self.docs_text_model_StyleIntersectionCache_prototype$logger_, "cache_ type: " + type + " startIndex " + startIndex + " endIndex " + endIndex);
  var styleIntersectionCache = JSCompiler_StaticMethods_cache_$self.styleIntersectionCacheMap_[type];
  styleIntersectionCache || (styleIntersectionCache = JSCompiler_StaticMethods_cache_$self.styleIntersectionCacheMap_[type] = []);
  var styleIntersections = styleIntersectionCache[startIndex];
  styleIntersections || (styleIntersections = styleIntersectionCache[startIndex] = []);
  styleIntersections[endIndex] = styleIntersection;
  var endRangeCache = JSCompiler_StaticMethods_cache_$self.endRangeCacheMap_[type];
  endRangeCache || (endRangeCache = JSCompiler_StaticMethods_cache_$self.endRangeCacheMap_[type] = []);
  var endIndices = endRangeCache[startIndex];
  endIndices ? docs$util$ArrayUtil$binaryInsert(endIndices, endIndex) : endRangeCache[startIndex] = [endIndex];
  var startRangeCache = JSCompiler_StaticMethods_cache_$self.startRangeCacheMap_[type];
  startRangeCache || (startRangeCache = JSCompiler_StaticMethods_cache_$self.startRangeCacheMap_[type] = []);
  var startIndices = startRangeCache[endIndex];
  startIndices ? docs$util$ArrayUtil$binaryInsert(startIndices, startIndex) : startRangeCache[endIndex] = [startIndex];
}
docs$text$model$StyleIntersectionCache.prototype.get = function $docs$text$model$StyleIntersectionCache$$get$(type, startIndex, endIndex) {
  goog$log$fine(this.docs_text_model_StyleIntersectionCache_prototype$logger_, "get type: " + type + " startIndex " + startIndex + " endIndex " + endIndex);
  if (startIndex > endIndex) {
    return this.docs_text_model_StyleIntersectionCache$errorReporter_.log(Error("Should never call StyleIntersectionCache#get with start index > end index.")), {};
  }
  var cachedStyleIntersection = JSCompiler_StaticMethods_getStyleIntersection_(this, type, startIndex, endIndex);
  if (cachedStyleIntersection) {
    return cachedStyleIntersection;
  }
  var endIndices, endRangeCache = this.endRangeCacheMap_[type];
  endIndices = endRangeCache ? endRangeCache[startIndex] || null : null;
  var newStyleIntersection;
  if (endIndices) {
    var binarySearchResult = goog$array$binarySearch(endIndices, endIndex);
    if (0 <= binarySearchResult) {
      return this.docs_text_model_StyleIntersectionCache$errorReporter_.log(Error("The style intersection cache invariant has been broken. The end indices correspodning to " + startIndex + " should not contain " + endIndex + "since the style intersection is not present in the style intersection cache map.")), this.clear(), JSCompiler_StaticMethods_calculateAndCache_(this, type, startIndex, endIndex);
    }
    var insertionPoint = -binarySearchResult - 2;
    if (0 > insertionPoint) {
      return JSCompiler_StaticMethods_calculateAndCache_(this, type, startIndex, endIndex);
    }
    var insertPointEndIndex = endIndices[insertionPoint], insertPointStyleIntersection = JSCompiler_StaticMethods_getStyleIntersection_(this, type, startIndex, insertPointEndIndex);
    newStyleIntersection = this.intersectAllFn_(type, insertPointEndIndex + 1, endIndex, goog$object$clone(insertPointStyleIntersection));
  } else {
    var startIndices, startRangeCache = this.startRangeCacheMap_[type];
    if (startIndices = startRangeCache ? startRangeCache[endIndex] || null : null) {
      binarySearchResult = goog$array$binarySearch(startIndices, startIndex);
      if (0 <= binarySearchResult) {
        throw Error("The style intersection cache invariant has been broken. The start indices correspodning to " + endIndex + " should not contain " + startIndex + "since the style intersection is not present in the style intersection cache map.");
      }
      insertionPoint = -binarySearchResult - 1;
      if (insertionPoint >= startIndices.length) {
        return JSCompiler_StaticMethods_calculateAndCache_(this, type, startIndex, endIndex);
      }
      var insertPointStartIndex = startIndices[insertionPoint], insertPointStyleIntersection = JSCompiler_StaticMethods_getStyleIntersection_(this, type, insertPointStartIndex, endIndex);
      newStyleIntersection = this.intersectAllFn_(type, startIndex, insertPointStartIndex - 1, goog$object$clone(insertPointStyleIntersection));
    } else {
      return JSCompiler_StaticMethods_calculateAndCache_(this, type, startIndex, endIndex);
    }
  }
  JSCompiler_StaticMethods_cache_(this, type, startIndex, endIndex, newStyleIntersection);
  return newStyleIntersection;
};
// Input 255
function docs$text$model$StyleResolverManager(styleResolvers) {
  this.styleResolverMap_ = {};
  for (var i = 0;i < styleResolvers.length;i++) {
    var styleResolver = styleResolvers[i], styleType = styleResolver.getResolvableStyleType();
    if (this.styleResolverMap_[styleType]) {
      throw Error("Multiple style resolvers are registered for type " + styleType);
    }
    this.styleResolverMap_[styleType] = styleResolver;
  }
}
;
// Input 256
function docs$text$util$RunArray(runStrategy) {
  this.runStrategy_ = runStrategy;
  this.defaultRun_ = runStrategy.createDefaultRun();
  this.backingArray_ = new docs$structs$SparseArray;
  this.backingArray_.set(0, runStrategy.cloneRun(this.defaultRun_));
}
function JSCompiler_StaticMethods_updateRun(JSCompiler_StaticMethods_updateRun$self, startIndex, endIndex, update, lastSpacerIndex) {
  var hadEffect = !1, rawRuns = JSCompiler_StaticMethods_updateRun$self.backingArray_.array_, rawKeys = JSCompiler_StaticMethods_updateRun$self.backingArray_.getKeys(), afterEndIndex = endIndex + 1;
  if (afterEndIndex <= lastSpacerIndex && !rawRuns[afterEndIndex]) {
    var rawRun = JSCompiler_StaticMethods_getRunAtIndex(JSCompiler_StaticMethods_updateRun$self, afterEndIndex);
    JSCompiler_StaticMethods_updateRun$self.runStrategy_.needsUpdate(rawRun, update) && JSCompiler_StaticMethods_updateRun$self.backingArray_.set(afterEndIndex, JSCompiler_StaticMethods_updateRun$self.runStrategy_.cloneRun(rawRun));
  }
  var lastRawRun = rawRuns[startIndex], startRun = rawRuns[startIndex];
  startRun ? JSCompiler_StaticMethods_updateRun$self.runStrategy_.needsUpdate(startRun, update) && (JSCompiler_StaticMethods_updateRun$self.runStrategy_.update(startRun, update), hadEffect = !0) : (startRun = JSCompiler_StaticMethods_getRunAtIndex(JSCompiler_StaticMethods_updateRun$self, startIndex), JSCompiler_StaticMethods_updateRun$self.runStrategy_.needsUpdate(startRun, update) && (startRun = JSCompiler_StaticMethods_updateRun$self.runStrategy_.cloneRun(startRun), JSCompiler_StaticMethods_updateRun$self.runStrategy_.update(startRun, 
  update), hadEffect = !0, JSCompiler_StaticMethods_updateRun$self.backingArray_.set(startIndex, startRun)), lastRawRun = startRun);
  for (var lastRunIndexBeforeStart, i = 0;i < rawKeys.length;i++) {
    var runIndex = rawKeys[i];
    if (runIndex < startIndex) {
      lastRunIndexBeforeStart = runIndex;
    } else {
      if (runIndex > startIndex && runIndex <= endIndex) {
        var currentRun = rawRuns[runIndex];
        currentRun && (JSCompiler_StaticMethods_updateRun$self.runStrategy_.needsUpdate(currentRun, update) && (JSCompiler_StaticMethods_updateRun$self.runStrategy_.update(currentRun, update), hadEffect = !0), JSCompiler_StaticMethods_updateRun$self.runStrategy_.canMergeWith(lastRawRun, currentRun) ? (JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_updateRun$self.backingArray_, runIndex), i--) : lastRawRun = currentRun);
      } else {
        if (runIndex > endIndex) {
          break;
        }
      }
    }
  }
  goog$isDef(lastRunIndexBeforeStart) && rawRuns[startIndex] && JSCompiler_StaticMethods_updateRun$self.runStrategy_.canMergeWith(rawRuns[lastRunIndexBeforeStart], rawRuns[startIndex]) && JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_updateRun$self.backingArray_, startIndex);
  rawRuns[afterEndIndex] && JSCompiler_StaticMethods_updateRun$self.runStrategy_.canMergeWith(lastRawRun, rawRuns[afterEndIndex]) && JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_updateRun$self.backingArray_, afterEndIndex);
  return hadEffect;
}
docs$text$util$RunArray.prototype.getKeys = function $docs$text$util$RunArray$$getKeys$() {
  return this.backingArray_.getKeys();
};
docs$text$util$RunArray.prototype.splice = function $docs$text$util$RunArray$$splice$(startIndex, endIndex, numSpacersInModel) {
  var indexAfterDeletedSpacers = endIndex + 1;
  if (indexAfterDeletedSpacers < numSpacersInModel) {
    var runAfterDeletedSpacers = JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(this.backingArray_, indexAfterDeletedSpacers), canMergeRuns = !1;
    if (0 < startIndex) {
      var runBeforeDeletedSpacers = JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(this.backingArray_, startIndex - 1), canMergeRuns = this.runStrategy_.canMergeWith(runAfterDeletedSpacers, runBeforeDeletedSpacers);
    }
    canMergeRuns || this.backingArray_.get(indexAfterDeletedSpacers) ? canMergeRuns && JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(this.backingArray_, indexAfterDeletedSpacers) : this.backingArray_.set(indexAfterDeletedSpacers, runAfterDeletedSpacers);
  }
  this.backingArray_.splice(startIndex, endIndex - startIndex + 1);
  0 == startIndex && this.backingArray_.set(0, this.runStrategy_.cloneRun(this.defaultRun_));
};
function JSCompiler_StaticMethods_getRunAtIndex(JSCompiler_StaticMethods_getRunAtIndex$self, index) {
  var run = JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(JSCompiler_StaticMethods_getRunAtIndex$self.backingArray_, index);
  if (!run) {
    throw Error("Run array has no run for index " + index);
  }
  return run;
}
docs$text$util$RunArray.prototype.shift = function $docs$text$util$RunArray$$shift$(index, shift, lastSpacerIndex) {
  var shiftedUpdate = null;
  this.backingArray_.get(index) && 0 < index ? shiftedUpdate = this.runStrategy_.getShiftedRangeUpdate(JSCompiler_StaticMethods_getRunAtIndex(this, index - 1), JSCompiler_StaticMethods_getRunAtIndex(this, index)) : index + shift > lastSpacerIndex && (shiftedUpdate = this.runStrategy_.getShiftedRangeUpdate(JSCompiler_StaticMethods_getRunAtIndex(this, index - 1), this.runStrategy_.createDefaultRun()));
  this.backingArray_.shift(index, shift);
  shiftedUpdate && 0 < shift && JSCompiler_StaticMethods_updateRun(this, index, index + shift - 1, shiftedUpdate, lastSpacerIndex);
  0 == index && 0 < shift && this.backingArray_.set(0, this.runStrategy_.cloneRun(this.defaultRun_));
};
docs$text$util$RunArray.prototype.clone = function $docs$text$util$RunArray$$clone$() {
  var clone = new docs$text$util$RunArray(this.runStrategy_);
  clone.backingArray_ = this.backingArray_.clone(goog$bind(this.runStrategy_.cloneRun, this.runStrategy_));
  return clone;
};
docs$text$util$RunArray.prototype.equals = function $docs$text$util$RunArray$$equals$(other) {
  return this == other ? !0 : docs$structs$SparseArray$equals(this.backingArray_, other.backingArray_, goog$bind(this.runStrategy_.runEquals, this.runStrategy_));
};
// Input 257
// Input 258
function docs$text$util$StringArrayRunStrategy(shouldExpandAtEnd) {
  this.shouldExpandAtEnd_ = shouldExpandAtEnd;
}
docs$text$util$StringArrayRunStrategy.prototype.needsUpdate = function $docs$text$util$StringArrayRunStrategy$$needsUpdate$(run, update) {
  for (var i = 0;i < update.removals.length;i++) {
    if (0 <= goog$array$binarySearch(run, update.removals[i])) {
      return !0;
    }
  }
  for (i = 0;i < update.additions.length;i++) {
    if (0 > goog$array$binarySearch(run, update.additions[i])) {
      return !0;
    }
  }
  return !1;
};
docs$text$util$StringArrayRunStrategy.prototype.canMergeWith = function $docs$text$util$StringArrayRunStrategy$$canMergeWith$(firstRun, secondRun) {
  return goog$array$equals(firstRun, secondRun);
};
docs$text$util$StringArrayRunStrategy.prototype.update = function $docs$text$util$StringArrayRunStrategy$$update$(run, update) {
  for (var i = 0;i < update.additions.length;i++) {
    goog$array$binaryInsert(run, update.additions[i]);
  }
  for (i = 0;i < update.removals.length;i++) {
    goog$array$binaryRemove(run, update.removals[i]);
  }
};
docs$text$util$StringArrayRunStrategy.prototype.cloneRun = function $docs$text$util$StringArrayRunStrategy$$cloneRun$(run) {
  return run.concat();
};
docs$text$util$StringArrayRunStrategy.prototype.runEquals = function $docs$text$util$StringArrayRunStrategy$$runEquals$(firstRun, secondRun) {
  return goog$array$equals(firstRun, secondRun);
};
docs$text$util$StringArrayRunStrategy.prototype.getShiftedRangeUpdate = function $docs$text$util$StringArrayRunStrategy$$getShiftedRangeUpdate$(firstRun, secondRun) {
  if (this.shouldExpandAtEnd_) {
    return null;
  }
  for (var removals = [], secondRunValues = {}, i = 0;i < secondRun.length;i++) {
    secondRunValues[secondRun[i]] = !0;
  }
  for (i = 0;i < firstRun.length;i++) {
    secondRunValues[firstRun[i]] || removals.push(firstRun[i]);
  }
  return new docs$text$util$StringArrayRunStrategy$0Update(void 0, removals);
};
docs$text$util$StringArrayRunStrategy.prototype.createDefaultRun = function $docs$text$util$StringArrayRunStrategy$$createDefaultRun$() {
  return [];
};
function docs$text$util$StringArrayRunStrategy$0Update(opt_additions, opt_removals) {
  this.additions = opt_additions || [];
  this.removals = opt_removals || [];
}
;
// Input 259
function docs$text$model$SuggestedRanges(runArray) {
  this.runArray_ = runArray;
}
docs$text$model$SuggestedRanges.prototype.shift = function $docs$text$model$SuggestedRanges$$shift$(index, delta, lastSpacerIndex) {
  this.runArray_.shift(index, delta, lastSpacerIndex);
};
docs$text$model$SuggestedRanges.prototype.splice = function $docs$text$model$SuggestedRanges$$splice$(startIndex, endIndex, lastSpacerIndex) {
  this.runArray_.splice(startIndex, endIndex, lastSpacerIndex);
};
docs$text$model$SuggestedRanges.prototype.clone = function $docs$text$model$SuggestedRanges$$clone$() {
  var runArrayClone = this.runArray_.clone();
  return new docs$text$model$SuggestedRanges(runArrayClone);
};
docs$text$model$SuggestedRanges.prototype.equals = function $docs$text$model$SuggestedRanges$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$model$SuggestedRanges ? this.runArray_.equals(other.runArray_) : !1;
};
function docs$text$model$SuggestedRanges$slice(range, startIndex, endIndex) {
  if (endIndex < startIndex) {
    throw Error("Cannot slice backwards in suggested ranges.");
  }
  for (var keys = range.runArray_.getKeys(), startKey = 0;startKey < keys.length && keys[startKey] < startIndex;startKey++) {
  }
  for (var endKey = keys.length - 1;0 <= endKey && keys[endKey] > endIndex;endKey--) {
  }
  for (var finalSlice = new docs$structs$SparseArray, i = startKey;i <= endKey;i++) {
    finalSlice.set(keys[i] - startIndex, JSCompiler_StaticMethods_getRunAtIndex(range.runArray_, keys[i]).concat());
  }
  keys[startKey] != startIndex && finalSlice.set(0, JSCompiler_StaticMethods_getRunAtIndex(range.runArray_, startIndex).concat());
  return finalSlice;
}
function docs$text$model$SuggestedRanges$create(shouldExpandAtEnd) {
  return new docs$text$model$SuggestedRanges(new docs$text$util$RunArray(new docs$text$util$StringArrayRunStrategy(shouldExpandAtEnd)));
}
;
// Input 260
// Input 261
function docs$text$model$SuggestionAwareModel() {
}
goog$mixin(docs$text$model$SuggestionAwareModel.prototype, docs$model$Comparable.prototype);
goog$mixin(docs$text$model$SuggestionAwareModel.prototype, JSCompiler_emptyFn().prototype);
// Input 262
function docs$text$model$RawStyleStateSparseArray(styleStates) {
  this.docs_text_model_RawStyleStateSparseArray$styles_ = styleStates;
}
docs$text$model$RawStyleStateSparseArray.prototype.getKeys = function $docs$text$model$RawStyleStateSparseArray$$getKeys$() {
  return this.docs_text_model_RawStyleStateSparseArray$styles_.getKeys();
};
docs$text$model$RawStyleStateSparseArray.prototype.getStyleState = function $docs$text$model$RawStyleStateSparseArray$$getStyleState$(index) {
  var styleState = this.docs_text_model_RawStyleStateSparseArray$styles_.get(index);
  return styleState ? new docs$text$protocol$MutableAnnotationState(JSCompiler_StaticMethods_getFlatAnnotation(styleState)) : null;
};
docs$text$model$RawStyleStateSparseArray.prototype.getClosestStyleState = function $docs$text$model$RawStyleStateSparseArray$$getClosestStyleState$(index, opt_forwards) {
  var styleState = JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(this.docs_text_model_RawStyleStateSparseArray$styles_, index, opt_forwards);
  return styleState ? new docs$text$protocol$MutableAnnotationState(JSCompiler_StaticMethods_getFlatAnnotation(styleState)) : null;
};
// Input 263
function docs$text$model$StyleFactory(styleType, defaultStylesProvider) {
  this.docs_text_model_StyleFactory$styleType_ = styleType;
  this.docs_text_model_StyleFactory$defaultStylesProvider_ = defaultStylesProvider;
}
docs$text$model$StyleFactory.prototype.create = function $docs$text$model$StyleFactory$$create$() {
  return JSCompiler_StaticMethods_getDefaultStyle(this.docs_text_model_StyleFactory$defaultStylesProvider_, this.docs_text_model_StyleFactory$styleType_);
};
// Input 264
function docs$text$model$StyleStateRunStrategy(styleType, defaultStylesProvider) {
  if (docs$text$protocol$StyleTypes$isTethered(styleType)) {
    throw Error("Cannot create a StyleStateRunStrategy with a tethered style " + styleType);
  }
  this.styleFactory_ = new docs$text$model$StyleFactory(styleType, defaultStylesProvider);
}
docs$text$model$StyleStateRunStrategy.prototype.needsUpdate = function $docs$text$model$StyleStateRunStrategy$$needsUpdate$(run, update) {
  if (update instanceof docs$text$model$StyleStateRunStrategy$0ApplyStyleUpdate) {
    return !JSCompiler_StaticMethods_applySubsetEquals(run, update.docs_text_model_StyleStateRunStrategy$ApplyStyleUpdate$propertyMap_);
  }
  if (update instanceof docs$text$model$StyleStateRunStrategy$0SuggestApplyStyleUpdate) {
    return !0;
  }
  if (update instanceof docs$text$model$StyleStateRunStrategy$0RejectSuggestedStyleUpdate) {
    return !!JSCompiler_StaticMethods_getSuggestedAnnotation(run.annotationState_, update.docs_text_model_StyleStateRunStrategy$RejectSuggestedStyleUpdate$suggestionId_);
  }
  throw Error("Unknown update: " + update);
};
docs$text$model$StyleStateRunStrategy.prototype.canMergeWith = function $docs$text$model$StyleStateRunStrategy$$canMergeWith$(firstRun, secondRun) {
  return firstRun.annotationState_.equalsOrInherit(secondRun.annotationState_);
};
docs$text$model$StyleStateRunStrategy.prototype.update = function $docs$text$model$StyleStateRunStrategy$$update$(run, update) {
  if (update instanceof docs$text$model$StyleStateRunStrategy$0ApplyStyleUpdate) {
    JSCompiler_StaticMethods_applyAnnotation(run, update.docs_text_model_StyleStateRunStrategy$ApplyStyleUpdate$propertyMap_, this.styleFactory_);
  } else {
    if (update instanceof docs$text$model$StyleStateRunStrategy$0SuggestApplyStyleUpdate) {
      JSCompiler_StaticMethods_suggestApplyAnnotation(run, update.docs_text_model_StyleStateRunStrategy$SuggestApplyStyleUpdate$suggestionId_, update.docs_text_model_StyleStateRunStrategy$SuggestApplyStyleUpdate$propertyMap_, this.styleFactory_);
    } else {
      if (update instanceof docs$text$model$StyleStateRunStrategy$0RejectSuggestedStyleUpdate) {
        JSCompiler_StaticMethods_rejectAnnotation(run, update.docs_text_model_StyleStateRunStrategy$RejectSuggestedStyleUpdate$suggestionId_);
      } else {
        throw Error("Unknown update: " + update);
      }
    }
  }
};
docs$text$model$StyleStateRunStrategy.prototype.cloneRun = function $docs$text$model$StyleStateRunStrategy$$cloneRun$(run) {
  return run.clone();
};
docs$text$model$StyleStateRunStrategy.prototype.runEquals = function $docs$text$model$StyleStateRunStrategy$$runEquals$(firstRun, secondRun) {
  return firstRun.equals(secondRun);
};
docs$text$model$StyleStateRunStrategy.prototype.getShiftedRangeUpdate = goog$functions$constant(null);
docs$text$model$StyleStateRunStrategy.prototype.createDefaultRun = function $docs$text$model$StyleStateRunStrategy$$createDefaultRun$() {
  return docs$text$model$FlattenedAnnotationState$fromAnnotation(this.styleFactory_.create());
};
function docs$text$model$StyleStateRunStrategy$0RejectSuggestedStyleUpdate(suggestionId) {
  this.docs_text_model_StyleStateRunStrategy$RejectSuggestedStyleUpdate$suggestionId_ = suggestionId;
}
function docs$text$model$StyleStateRunStrategy$0SuggestApplyStyleUpdate(suggestionId, propertyMap) {
  this.docs_text_model_StyleStateRunStrategy$SuggestApplyStyleUpdate$suggestionId_ = suggestionId;
  this.docs_text_model_StyleStateRunStrategy$SuggestApplyStyleUpdate$propertyMap_ = propertyMap;
}
function docs$text$model$StyleStateRunStrategy$0ApplyStyleUpdate(propertyMap) {
  this.docs_text_model_StyleStateRunStrategy$ApplyStyleUpdate$propertyMap_ = propertyMap;
}
;
// Input 265
function docs$text$model$SuggestionAwareStyleStateSparseArray(styleStates) {
  this.docs_text_model_SuggestionAwareStyleStateSparseArray$styles_ = styleStates;
}
docs$text$model$SuggestionAwareStyleStateSparseArray.prototype.getKeys = function $docs$text$model$SuggestionAwareStyleStateSparseArray$$getKeys$() {
  return this.docs_text_model_SuggestionAwareStyleStateSparseArray$styles_.getKeys();
};
docs$text$model$SuggestionAwareStyleStateSparseArray.prototype.getStyleState = function $docs$text$model$SuggestionAwareStyleStateSparseArray$$getStyleState$(index) {
  var styleState = this.docs_text_model_SuggestionAwareStyleStateSparseArray$styles_.get(index);
  return styleState ? styleState.annotationState_ : null;
};
docs$text$model$SuggestionAwareStyleStateSparseArray.prototype.getClosestStyleState = function $docs$text$model$SuggestionAwareStyleStateSparseArray$$getClosestStyleState$(index, opt_forwards) {
  var styleState = JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(this.docs_text_model_SuggestionAwareStyleStateSparseArray$styles_, index, opt_forwards);
  return styleState ? styleState.annotationState_ : null;
};
// Input 266
function docs$text$model$SuggestionAwareStyleManager(defaultStylesProvider) {
  this.untetheredMap_ = {};
  this.untetheredSuggestedRangesMap_ = {};
  this.tetheredMap_ = {};
  this.tetheredFactoryMap_ = {};
  this.tetheredSuggestionIdsMap_ = {};
  this.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_ = defaultStylesProvider;
  this.defaultStylesRegExp_ = null;
}
docs$text$model$SuggestionAwareStyleManager.prototype.docs_text_model_SuggestionAwareStyleManager_prototype$logger_ = goog$debug$LogManager$getLogger("docs.text.model.SuggestionAwareStyleManager");
docs$text$model$SuggestionAwareStyleManager.prototype.clone = function $docs$text$model$SuggestionAwareStyleManager$$clone$() {
  var clone = new docs$text$model$SuggestionAwareStyleManager(this.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_.clone()), type;
  for (type in this.untetheredMap_) {
    clone.untetheredMap_[type] = this.untetheredMap_[type].clone();
  }
  for (type in this.untetheredSuggestedRangesMap_) {
    clone.untetheredSuggestedRangesMap_[type] = this.untetheredSuggestedRangesMap_[type].clone();
  }
  for (type in this.tetheredMap_) {
    clone.tetheredMap_[type] = this.tetheredMap_[type].clone(docs$text$model$SuggestionAwareStyleManager$cloneState_);
  }
  for (type in this.tetheredFactoryMap_) {
    clone.tetheredFactoryMap_[type] = this.tetheredFactoryMap_[type];
  }
  for (type in this.tetheredSuggestionIdsMap_) {
    clone.tetheredSuggestionIdsMap_[type] = this.tetheredSuggestionIdsMap_[type].clone(docs$text$model$SuggestionAwareStyleManager$cloneStringArray_);
  }
  return clone;
};
function docs$text$model$SuggestionAwareStyleManager$cloneState_(state) {
  return state.clone();
}
function docs$text$model$SuggestionAwareStyleManager$cloneStringArray_(array) {
  return array.concat();
}
function JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self) {
  for (var tetheredStyleTypes = [], registeredStyleTypes = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.getRegisteredStyleTypes(), i = 0, styleType;styleType = registeredStyleTypes[i];i++) {
    docs$text$protocol$StyleTypes$isTethered(styleType) ? tetheredStyleTypes.push(styleType) : (JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.untetheredMap_[styleType] = new docs$text$util$RunArray(new docs$text$model$StyleStateRunStrategy(styleType, JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_)), JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.untetheredSuggestedRangesMap_[styleType] = 
    docs$text$model$SuggestedRanges$create(!0));
  }
  for (var i = 0, type;type = tetheredStyleTypes[i];i++) {
    JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.tetheredMap_[type] = new docs$structs$SparseArray, JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.tetheredFactoryMap_[type] = new docs$text$model$StyleFactory(type, JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_), JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.tetheredSuggestionIdsMap_[type] = 
    new docs$structs$SparseArray;
  }
  for (var sectionStyleTypes = docs$text$protocol$StyleTypes$styleTypesForMarker_["\u0003"] || [], i = 0;type = sectionStyleTypes[i];i++) {
    JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.tetheredMap_[type] && JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.tetheredMap_[type].set(0, docs$text$model$FlattenedAnnotationState$fromAnnotation(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.tetheredFactoryMap_[type].create()));
  }
  for (var paragraphStyleTypes = docs$text$protocol$StyleTypes$styleTypesForMarker_["\n"] || [], i = 0;type = paragraphStyleTypes[i];i++) {
    JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.tetheredMap_[type] && JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.tetheredMap_[type].set(1, docs$text$model$FlattenedAnnotationState$fromAnnotation(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize$self.tetheredFactoryMap_[type].create()));
  }
}
docs$text$model$SuggestionAwareStyleManager.prototype.getRegisteredStyleTypes = function $docs$text$model$SuggestionAwareStyleManager$$getRegisteredStyleTypes$() {
  return this.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_.enabledStyleTypes_;
};
function JSCompiler_StaticMethods_getState_(JSCompiler_StaticMethods_getState_$self, styleType, spacerIndex) {
  return docs$text$protocol$StyleTypes$isTethered(styleType) ? JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$getClosestItem(JSCompiler_StaticMethods_getState_$self.tetheredMap_[styleType], spacerIndex, docs$text$protocol$StyleTypes$getStyleTypeInfo_(styleType).docs_text_protocol_StyleTypeInfo$isTetheredAfterSpacers_) : JSCompiler_StaticMethods_getRunAtIndex(JSCompiler_StaticMethods_getState_$self.untetheredMap_[styleType], spacerIndex);
}
function JSCompiler_StaticMethods_getTetheredState_(JSCompiler_StaticMethods_getTetheredState_$self, styleType, spacerIndex) {
  if (!docs$text$protocol$StyleTypes$isTethered(styleType)) {
    throw Error("Cannot call #getTetheredState_ for a non-tethered type: " + styleType);
  }
  return JSCompiler_StaticMethods_getTetheredState_$self.tetheredMap_[styleType].get(spacerIndex);
}
docs$text$model$SuggestionAwareStyleManager.prototype.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle = function $docs$text$model$SuggestionAwareStyleManager$$docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle$(type, spacerIndex) {
  var state = JSCompiler_StaticMethods_getState_(this, type, spacerIndex);
  return state ? JSCompiler_StaticMethods_getFlatAnnotation(state) : JSCompiler_StaticMethods_getDefaultStyle(this.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_, type);
};
docs$text$model$SuggestionAwareStyleManager.prototype.getRawTetheredStyle = function $docs$text$model$SuggestionAwareStyleManager$$getRawTetheredStyle$(type, spacerIndex) {
  var state = JSCompiler_StaticMethods_getTetheredState_(this, type, spacerIndex);
  return state ? JSCompiler_StaticMethods_getFlatAnnotation(state) : null;
};
function JSCompiler_StaticMethods_getDefaultStyles_(JSCompiler_StaticMethods_getDefaultStyles_$self, spacers, opt_spacerIndex) {
  var regExp = JSCompiler_StaticMethods_getDefaultStylesRegExp_(JSCompiler_StaticMethods_getDefaultStyles_$self);
  if (!regExp || !regExp.test(spacers)) {
    return {};
  }
  for (var match, regExp = JSCompiler_StaticMethods_getDefaultStylesRegExp_(JSCompiler_StaticMethods_getDefaultStyles_$self), styleTypeToIndicesMap = {};match = regExp.exec(spacers);) {
    for (var i = match.index, defaultStyleTypes = docs$text$protocol$StyleTypes$styleTypesForMarker_[match[0]] || [], j = 0, type;type = defaultStyleTypes[j];j++) {
      type in JSCompiler_StaticMethods_getDefaultStyles_$self.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_.enabledStyleSpecsMap_ && (goog$isDef(opt_spacerIndex) && JSCompiler_StaticMethods_getDefaultStyles_$self.tetheredMap_[type].set(opt_spacerIndex + i, docs$text$model$FlattenedAnnotationState$fromAnnotation(JSCompiler_StaticMethods_getDefaultStyles_$self.tetheredFactoryMap_[type].create())), styleTypeToIndicesMap[type] || (styleTypeToIndicesMap[type] = []), styleTypeToIndicesMap[type].push(i));
    }
  }
  return styleTypeToIndicesMap;
}
function JSCompiler_StaticMethods_getDefaultStylesRegExp_(JSCompiler_StaticMethods_getDefaultStylesRegExp_$self) {
  JSCompiler_StaticMethods_getDefaultStylesRegExp_$self.defaultStylesRegExp_ ? JSCompiler_StaticMethods_getDefaultStylesRegExp_$self.defaultStylesRegExp_.lastIndex = 0 : JSCompiler_StaticMethods_getDefaultStylesRegExp_$self.defaultStylesRegExp_ = docs$text$protocol$Spacers$createSpacersRegExp(docs$text$protocol$StyleTypes$markersWithDefaultStyles_);
  return JSCompiler_StaticMethods_getDefaultStylesRegExp_$self.defaultStylesRegExp_;
}
docs$text$model$SuggestionAwareStyleManager.prototype.getHeadingsStyle = function $docs$text$model$SuggestionAwareStyleManager$$getHeadingsStyle$() {
  return this.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle("headings", 0);
};
docs$text$model$SuggestionAwareStyleManager.prototype.getRawSortedStyleKeys = function $docs$text$model$SuggestionAwareStyleManager$$getRawSortedStyleKeys$(type) {
  return docs$text$protocol$StyleTypes$isTethered(type) ? this.tetheredMap_[type].getKeys() : this.untetheredMap_[type].getKeys();
};
docs$text$model$SuggestionAwareStyleManager.prototype.getSuggestedStyleIdKeys = function $docs$text$model$SuggestionAwareStyleManager$$getSuggestedStyleIdKeys$(styleType) {
  return docs$text$protocol$StyleTypes$isTethered(styleType) ? this.tetheredSuggestionIdsMap_[styleType].getKeys() : this.untetheredSuggestedRangesMap_[styleType].runArray_.getKeys();
};
docs$text$model$SuggestionAwareStyleManager.prototype.getSuggestedStyleIds = function $docs$text$model$SuggestionAwareStyleManager$$getSuggestedStyleIds$(styleType, spacerIndex) {
  if (docs$text$protocol$StyleTypes$isTethered(styleType)) {
    var nextTetheredStyleStateIndex = JSCompiler_StaticMethods_getClosestItemKey(this.tetheredMap_[styleType], spacerIndex, docs$text$protocol$StyleTypes$getStyleTypeInfo_(styleType).docs_text_protocol_StyleTypeInfo$isTetheredAfterSpacers_);
    return 0 > nextTetheredStyleStateIndex ? [] : this.tetheredSuggestionIdsMap_[styleType].get(nextTetheredStyleStateIndex) || [];
  }
  return JSCompiler_StaticMethods_getRunAtIndex(this.untetheredSuggestedRangesMap_[styleType].runArray_, spacerIndex);
};
docs$text$model$SuggestionAwareStyleManager.prototype.getStyleStateKeys = function $docs$text$model$SuggestionAwareStyleManager$$getStyleStateKeys$(styleType) {
  return this.getRawSortedStyleKeys(styleType);
};
docs$text$model$SuggestionAwareStyleManager.prototype.getStyleState = function $docs$text$model$SuggestionAwareStyleManager$$getStyleState$(styleType, spacerIndex) {
  var state = JSCompiler_StaticMethods_getState_(this, styleType, spacerIndex);
  if (!state) {
    return new docs$text$protocol$MutableAnnotationState(JSCompiler_StaticMethods_getDefaultStyle(this.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_, styleType));
  }
  var annotationState = state.annotationState_;
  if (!annotationState.annotation_) {
    for (var result = new docs$text$protocol$MutableAnnotationState(JSCompiler_StaticMethods_getDefaultStyle(this.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_, styleType)), ids = JSCompiler_StaticMethods_getSuggestedAnnotationIds(annotationState), i = 0;i < ids.length;i++) {
      JSCompiler_StaticMethods_addSuggestedAnnotation(result, ids[i], JSCompiler_StaticMethods_getSuggestedAnnotation(annotationState, ids[i]));
    }
    return result;
  }
  return annotationState;
};
docs$text$model$SuggestionAwareStyleManager.prototype.getTetheredStyleState = function $docs$text$model$SuggestionAwareStyleManager$$getTetheredStyleState$(styleType, spacerIndex) {
  var state = JSCompiler_StaticMethods_getTetheredState_(this, styleType, spacerIndex);
  return state ? state.annotationState_ : null;
};
docs$text$model$SuggestionAwareStyleManager.prototype.shift = function $docs$text$model$SuggestionAwareStyleManager$$shift$(spacerIndex, spacers, lastSpacerIndex) {
  for (var types = this.getRegisteredStyleTypes(), shift = spacers.length, i = 0;i < types.length;i++) {
    var type = types[i];
    docs$text$protocol$StyleTypes$getStyleTypeInfo_(type).docs_text_protocol_StyleTypeInfo$clearsIntersecting_ && !docs$text$protocol$StyleTypes$isTethered(type) && (JSCompiler_StaticMethods_clearUntetheredStyle_(this, type, spacerIndex - 1), JSCompiler_StaticMethods_clearUntetheredStyle_(this, type, spacerIndex));
    docs$text$protocol$StyleTypes$isTethered(type) ? (this.tetheredMap_[type].shift(spacerIndex, shift), this.tetheredSuggestionIdsMap_[type].shift(spacerIndex, shift)) : (this.untetheredMap_[type].shift(spacerIndex, shift, lastSpacerIndex), this.untetheredSuggestedRangesMap_[type].shift(spacerIndex, shift, lastSpacerIndex));
  }
  return JSCompiler_StaticMethods_getDefaultStyles_(this, spacers, spacerIndex);
};
docs$text$model$SuggestionAwareStyleManager.prototype.splice = function $docs$text$model$SuggestionAwareStyleManager$$splice$(startIndex, endIndex, numSpacers) {
  for (var rawTypes = this.getRegisteredStyleTypes(), numSpacersToDelete = endIndex - startIndex + 1, i = 0;i < rawTypes.length;i++) {
    var rawType = rawTypes[i];
    docs$text$protocol$StyleTypes$getStyleTypeInfo_(rawType).docs_text_protocol_StyleTypeInfo$clearsIntersecting_ && !docs$text$protocol$StyleTypes$isTethered(rawType) ? (JSCompiler_StaticMethods_clearUntetheredStyle_(this, rawType, startIndex - 1), endIndex + 1 < numSpacers && JSCompiler_StaticMethods_clearUntetheredStyle_(this, rawType, endIndex + 1)) : docs$text$protocol$StyleTypes$isTethered(rawType) && (this.tetheredMap_[rawType].splice(startIndex, numSpacersToDelete), this.tetheredSuggestionIdsMap_[rawType].splice(startIndex, 
    numSpacersToDelete));
    docs$text$protocol$StyleTypes$isTethered(rawType) || (this.untetheredMap_[rawType].splice(startIndex, endIndex, numSpacers), this.untetheredSuggestedRangesMap_[rawType].splice(startIndex, endIndex, numSpacers));
  }
};
function JSCompiler_StaticMethods_updateMarkedForDeletion(JSCompiler_StaticMethods_updateMarkedForDeletion$self, startIndex, endIndex) {
  for (var styleTypes = JSCompiler_StaticMethods_updateMarkedForDeletion$self.getRegisteredStyleTypes(), typeKey = 0;typeKey < styleTypes.length;typeKey++) {
    var styleType = styleTypes[typeKey];
    if (docs$text$protocol$StyleTypes$getStyleTypeInfo_(styleType).docs_text_protocol_StyleTypeInfo$clearsIntersecting_ && !docs$text$protocol$StyleTypes$isTethered(styleType)) {
      for (var styleIndices = JSCompiler_StaticMethods_updateMarkedForDeletion$self.getRawSortedStyleKeys(styleType), clampedStyleIndices = docs$util$ArrayUtil$clampSortedArray(styleIndices, startIndex, endIndex, !0), key = 0;key < clampedStyleIndices.length;key++) {
        JSCompiler_StaticMethods_clearUntetheredStyle_(JSCompiler_StaticMethods_updateMarkedForDeletion$self, styleType, clampedStyleIndices[key]);
      }
    }
  }
}
function JSCompiler_StaticMethods_clearUntetheredStyle_(JSCompiler_StaticMethods_clearUntetheredStyle_$self, type, spacerIndex) {
  var JSCompiler_StaticMethods_resetRunToDefault$self = JSCompiler_StaticMethods_clearUntetheredStyle_$self.untetheredMap_[type], rawRuns = JSCompiler_StaticMethods_resetRunToDefault$self.backingArray_.array_, rawRunKeys = JSCompiler_StaticMethods_resetRunToDefault$self.backingArray_.getKeys(), rawKeyIndex = docs$structs$SparseArray$getClosestItemKeyIndex(JSCompiler_StaticMethods_resetRunToDefault$self.backingArray_.docs_structs_SparseArray$keys_, spacerIndex, void 0), rawKeysLength = rawRunKeys.length, 
  runIndex = rawRunKeys[rawKeyIndex], runIndexAfter = rawRunKeys[rawKeyIndex + 1], runBefore = rawRuns[rawRunKeys[rawKeyIndex - 1]], runAfter = rawRuns[runIndexAfter], rawRun = rawRuns[runIndex];
  if (!rawRun) {
    throw Error("Expected run start at index.");
  }
  JSCompiler_StaticMethods_resetRunToDefault$self.runStrategy_.runEquals(rawRun, JSCompiler_StaticMethods_resetRunToDefault$self.defaultRun_) || (JSCompiler_StaticMethods_resetRunToDefault$self.backingArray_.set(runIndex, JSCompiler_StaticMethods_resetRunToDefault$self.runStrategy_.cloneRun(JSCompiler_StaticMethods_resetRunToDefault$self.defaultRun_)), 0 < rawKeyIndex && JSCompiler_StaticMethods_resetRunToDefault$self.runStrategy_.runEquals(runBefore, JSCompiler_StaticMethods_resetRunToDefault$self.defaultRun_) && 
  JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_resetRunToDefault$self.backingArray_, runIndex), rawKeyIndex < rawKeysLength - 1 && JSCompiler_StaticMethods_resetRunToDefault$self.runStrategy_.runEquals(runAfter, JSCompiler_StaticMethods_resetRunToDefault$self.defaultRun_) && JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_resetRunToDefault$self.backingArray_, runIndexAfter));
}
docs$text$model$SuggestionAwareStyleManager.prototype.equals = function $docs$text$model$SuggestionAwareStyleManager$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$model$SuggestionAwareStyleManager ? docs$util$ObjectUtil$equals(this.untetheredMap_, other.untetheredMap_, docs$text$model$SuggestionAwareStyleManager$runArraysAreEqual_) && this.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_.equals(other.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_) && docs$util$ObjectUtil$equals(this.tetheredMap_, other.tetheredMap_, docs$structs$SparseArray$createEqualsFn()) : 
  !1;
};
function docs$text$model$SuggestionAwareStyleManager$runArraysAreEqual_(runArray, otherRunArray) {
  return runArray.equals(otherRunArray);
}
;
// Input 267
function docs$structs$IndexedArrayCollection() {
  this.backingStore_ = new docs$structs$SparseArray;
}
function docs$structs$IndexedArrayCollection$getArrayCloneFn_(opt_cloneFn) {
  return function(arr) {
    var returnArr = arr.concat();
    if (opt_cloneFn) {
      for (var i = 0;i < returnArr.length;i++) {
        returnArr[i] = opt_cloneFn(returnArr[i]);
      }
    }
    return returnArr;
  };
}
function docs$structs$IndexedArrayCollection$getEqualsFn_(opt_equalsFn) {
  return function(arr0, arr1) {
    return goog$array$equals(arr0, arr1, opt_equalsFn);
  };
}
docs$structs$IndexedArrayCollection.prototype.getKeys = function $docs$structs$IndexedArrayCollection$$getKeys$() {
  return this.backingStore_.getKeys();
};
docs$structs$IndexedArrayCollection.prototype.get = function $docs$structs$IndexedArrayCollection$$get$(key) {
  return this.backingStore_.get(key) || [];
};
function JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$add(JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$add$self, key, element) {
  var collection = JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$add$self.backingStore_.get(key);
  collection || (collection = [], JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$add$self.backingStore_.set(key, collection));
  collection.push(element);
}
function JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove$self, key, element, opt_filterFn) {
  var collection = JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove$self.backingStore_.get(key);
  if (!collection) {
    return !1;
  }
  for (var equalsFn = opt_filterFn || goog$array$defaultCompareEquality, i = 0;i < collection.length;i++) {
    if (equalsFn(element, collection[i])) {
      return collection.splice(i, 1), 0 == collection.length && JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove$self.backingStore_, key), !0;
    }
  }
  return !1;
}
docs$structs$IndexedArrayCollection.prototype.slice = function $docs$structs$IndexedArrayCollection$$slice$(startIndex, endIndex) {
  return this.backingStore_.slice(startIndex, endIndex);
};
docs$structs$IndexedArrayCollection.prototype.splice = function $docs$structs$IndexedArrayCollection$$splice$(index, num) {
  this.backingStore_.splice(index, num);
};
docs$structs$IndexedArrayCollection.prototype.shift = function $docs$structs$IndexedArrayCollection$$shift$(index, shift) {
  this.backingStore_.shift(index, shift);
};
docs$structs$IndexedArrayCollection.prototype.clone = function $docs$structs$IndexedArrayCollection$$clone$(opt_cloneFn) {
  var newCollection = new docs$structs$IndexedArrayCollection;
  newCollection.backingStore_ = this.backingStore_.clone(docs$structs$IndexedArrayCollection$getArrayCloneFn_(opt_cloneFn));
  return newCollection;
};
docs$structs$IndexedArrayCollection.prototype.equals = function $docs$structs$IndexedArrayCollection$$equals$(other) {
  return other instanceof docs$structs$IndexedArrayCollection && docs$structs$IndexedArrayCollection$equals(this, other);
};
function docs$structs$IndexedArrayCollection$equals(a, b, opt_equalsFn) {
  return a == b ? !0 : a && a instanceof docs$structs$IndexedArrayCollection && b && b instanceof docs$structs$IndexedArrayCollection ? docs$structs$SparseArray$equals(a.backingStore_, b.backingStore_, docs$structs$IndexedArrayCollection$getEqualsFn_(opt_equalsFn)) : !1;
}
;
// Input 268
function docs$text$protocol$TetherMetadata(suggestionId, entityId) {
  this.docs_text_protocol_TetherMetadata$suggestionId_ = suggestionId;
  this.docs_text_protocol_TetherMetadata$entityId_ = entityId;
}
;
// Input 269
function docs$text$model$TetherStateArray() {
  this.tethers_ = new docs$structs$IndexedArrayCollection;
  this.suggestedTethers_ = new docs$structs$IndexedArrayCollection;
  this.flattenedTethers_ = new docs$structs$IndexedArrayCollection;
  this.entityIdsWithSuggestions_ = {};
  this.suggestedUntethers_ = [];
}
function docs$text$model$TetherStateArray$equals(first, other) {
  return first.equals(other);
}
docs$text$model$TetherStateArray.prototype.getSuggestedUntethers = function $docs$text$model$TetherStateArray$$getSuggestedUntethers$() {
  return this.suggestedUntethers_;
};
docs$text$model$TetherStateArray.prototype.shift = function $docs$text$model$TetherStateArray$$shift$(spacerIndex, shift) {
  this.tethers_.shift(spacerIndex, shift);
  this.suggestedTethers_.shift(spacerIndex, shift);
  this.flattenedTethers_.shift(spacerIndex, shift);
};
docs$text$model$TetherStateArray.prototype.splice = function $docs$text$model$TetherStateArray$$splice$(startIndex, endIndex) {
  var idsToReflatten = {};
  if (0 < this.suggestedTethers_.getKeys().length) {
    var suggestedTetherSlice = this.suggestedTethers_.slice(startIndex, endIndex), key;
    for (key in suggestedTetherSlice) {
      for (var value = suggestedTetherSlice[Number(key)], i = 0;i < value.length;i++) {
        idsToReflatten[value[i].docs_text_protocol_TetherMetadata$entityId_] = !0;
      }
    }
  }
  var sliceLength = endIndex - startIndex + 1;
  this.tethers_.splice(startIndex, sliceLength);
  this.suggestedTethers_.splice(startIndex, sliceLength);
  this.flattenedTethers_.splice(startIndex, sliceLength);
  for (var id in idsToReflatten) {
    JSCompiler_StaticMethods_flattenTether_(this, id);
  }
};
function docs$text$model$TetherStateArray$metadataHaveSameEntityId_(metadata0, metadata1) {
  return metadata0.docs_text_protocol_TetherMetadata$entityId_ == metadata1.docs_text_protocol_TetherMetadata$entityId_;
}
function docs$text$model$TetherStateArray$metadataEquals_(metadata0, metadata1) {
  return metadata0.docs_text_protocol_TetherMetadata$entityId_ == metadata1.docs_text_protocol_TetherMetadata$entityId_ && metadata0.docs_text_protocol_TetherMetadata$suggestionId_ == metadata1.docs_text_protocol_TetherMetadata$suggestionId_;
}
function JSCompiler_StaticMethods_findKeyWithId_(JSCompiler_StaticMethods_findKeyWithId_$self, entityId, opt_collection) {
  for (var arrayToUse = opt_collection || JSCompiler_StaticMethods_findKeyWithId_$self.tethers_, indices = arrayToUse.getKeys(), i = 0;i < indices.length;i++) {
    var index = indices[i], entityIdArray = arrayToUse.get(index);
    if (goog$array$contains(entityIdArray, entityId)) {
      return index;
    }
  }
  return -1;
}
function JSCompiler_StaticMethods_flattenTether_(JSCompiler_StaticMethods_flattenTether_$self, entityId) {
  var index = JSCompiler_StaticMethods_findKeyWithId_(JSCompiler_StaticMethods_flattenTether_$self, entityId, JSCompiler_StaticMethods_flattenTether_$self.flattenedTethers_);
  0 <= index && JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(JSCompiler_StaticMethods_flattenTether_$self.flattenedTethers_, index, entityId);
  var flattenedSpacerIndex;
  if (JSCompiler_StaticMethods_flattenTether_$self.entityIdsWithSuggestions_[entityId]) {
    for (var suggestionKeys = JSCompiler_StaticMethods_flattenTether_$self.suggestedTethers_.getKeys(), smallestSuggestionKey = null, indexToUse = null, i = 0;i < JSCompiler_StaticMethods_flattenTether_$self.suggestedUntethers_.length;i++) {
      var metadata = JSCompiler_StaticMethods_flattenTether_$self.suggestedUntethers_[i], suggestionId = metadata.docs_text_protocol_TetherMetadata$suggestionId_;
      if (metadata.docs_text_protocol_TetherMetadata$entityId_ == entityId) {
        indexToUse = -1;
        if (null === smallestSuggestionKey) {
          smallestSuggestionKey = suggestionId;
          break;
        }
        smallestSuggestionKey = suggestionId < smallestSuggestionKey ? suggestionId : smallestSuggestionKey;
      }
    }
    for (i = 0;i < suggestionKeys.length;i++) {
      for (var suggestions = JSCompiler_StaticMethods_flattenTether_$self.suggestedTethers_.get(suggestionKeys[i]), j = 0;j < suggestions.length;j++) {
        suggestions[j].docs_text_protocol_TetherMetadata$entityId_ == entityId && (null === smallestSuggestionKey || suggestions[j].docs_text_protocol_TetherMetadata$suggestionId_ < smallestSuggestionKey) && (smallestSuggestionKey = suggestions[j].docs_text_protocol_TetherMetadata$suggestionId_, indexToUse = suggestionKeys[i]);
      }
    }
    flattenedSpacerIndex = indexToUse;
  } else {
    flattenedSpacerIndex = null;
  }
  null === flattenedSpacerIndex && (flattenedSpacerIndex = JSCompiler_StaticMethods_findKeyWithId_(JSCompiler_StaticMethods_flattenTether_$self, entityId));
  0 > flattenedSpacerIndex || JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$add(JSCompiler_StaticMethods_flattenTether_$self.flattenedTethers_, flattenedSpacerIndex, entityId);
}
docs$text$model$TetherStateArray.prototype.clone = function $docs$text$model$TetherStateArray$$clone$() {
  var other = new docs$text$model$TetherStateArray;
  other.suggestedTethers_ = this.suggestedTethers_.clone();
  other.tethers_ = this.tethers_.clone();
  other.flattenedTethers_ = this.flattenedTethers_.clone();
  other.entityIdsWithSuggestions_ = goog$object$clone(this.entityIdsWithSuggestions_);
  other.suggestedUntethers_ = this.suggestedUntethers_.concat();
  return other;
};
docs$text$model$TetherStateArray.prototype.equals = function $docs$text$model$TetherStateArray$$equals$(other) {
  return this == other ? !0 : other instanceof docs$text$model$TetherStateArray ? docs$structs$IndexedArrayCollection$equals(this.suggestedTethers_, other.suggestedTethers_, docs$util$ObjectUtil$deepEquals) && docs$structs$IndexedArrayCollection$equals(this.tethers_, other.tethers_) && goog$array$equals(this.suggestedUntethers_, other.suggestedUntethers_, docs$util$ObjectUtil$deepEquals) : !1;
};
// Input 270
function docs$text$model$SuggestionAwareTetherManager() {
  this.tetherArrayMap_ = {};
  this.entityTypeMap_ = {};
}
function JSCompiler_StaticMethods_docs_text_model_SuggestionAwareTetherManager_prototype$addEntity(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareTetherManager_prototype$addEntity$self, entity) {
  var entityType = entity.getType();
  JSCompiler_StaticMethods_docs_text_model_SuggestionAwareTetherManager_prototype$addEntity$self.entityTypeMap_[entity.getId()] = entityType;
  JSCompiler_StaticMethods_docs_text_model_SuggestionAwareTetherManager_prototype$addEntity$self.tetherArrayMap_[entityType] || (JSCompiler_StaticMethods_docs_text_model_SuggestionAwareTetherManager_prototype$addEntity$self.tetherArrayMap_[entityType] = new docs$text$model$TetherStateArray);
}
docs$text$model$SuggestionAwareTetherManager.prototype.getSortedEntitySuggestPositions = function $docs$text$model$SuggestionAwareTetherManager$$getSortedEntitySuggestPositions$(entityType) {
  return this.tetherArrayMap_[entityType] ? this.tetherArrayMap_[entityType].suggestedTethers_.getKeys() : [];
};
docs$text$model$SuggestionAwareTetherManager.prototype.getSuggestedUntethers = function $docs$text$model$SuggestionAwareTetherManager$$getSuggestedUntethers$(entityType) {
  return this.tetherArrayMap_[entityType] ? this.tetherArrayMap_[entityType].getSuggestedUntethers() : [];
};
docs$text$model$SuggestionAwareTetherManager.prototype.getSuggestedTetherMetadataForType = function $docs$text$model$SuggestionAwareTetherManager$$getSuggestedTetherMetadataForType$(entityType, spacerIndex) {
  return this.tetherArrayMap_[entityType] ? this.tetherArrayMap_[entityType].suggestedTethers_.get(spacerIndex) : [];
};
docs$text$model$SuggestionAwareTetherManager.prototype.getSortedEntityUnflattenedPositions = function $docs$text$model$SuggestionAwareTetherManager$$getSortedEntityUnflattenedPositions$(entityType) {
  return this.tetherArrayMap_[entityType] ? this.tetherArrayMap_[entityType].tethers_.getKeys() : [];
};
docs$text$model$SuggestionAwareTetherManager.prototype.getUnflattenedEntityIdsForType = function $docs$text$model$SuggestionAwareTetherManager$$getUnflattenedEntityIdsForType$(entityType, spacerIndex) {
  return this.tetherArrayMap_[entityType] ? this.tetherArrayMap_[entityType].tethers_.get(spacerIndex) : [];
};
function JSCompiler_StaticMethods_getEntityPositionMapForRange(JSCompiler_StaticMethods_getEntityPositionMapForRange$self, startIndex, endIndex) {
  return JSCompiler_StaticMethods_getEntityPositionMapForRange_(JSCompiler_StaticMethods_getEntityPositionMapForRange$self, startIndex, endIndex, function(tetherStateArray) {
    return tetherStateArray.flattenedTethers_.getKeys();
  }, function(index, tetherStateArray) {
    return tetherStateArray.flattenedTethers_.get(index);
  });
}
function JSCompiler_StaticMethods_getUnflattenedEntityPositionMapForRange(JSCompiler_StaticMethods_getUnflattenedEntityPositionMapForRange$self, startIndex, endIndex) {
  JSCompiler_StaticMethods_getEntityPositionMapForRange_(JSCompiler_StaticMethods_getUnflattenedEntityPositionMapForRange$self, startIndex, endIndex, function(tetherStateArray) {
    return tetherStateArray.tethers_.getKeys();
  }, function(index, tetherStateArray) {
    return tetherStateArray.tethers_.get(index);
  });
}
function JSCompiler_StaticMethods_getEntitySuggestPositionMapForRange(JSCompiler_StaticMethods_getEntitySuggestPositionMapForRange$self, startIndex, endIndex) {
  JSCompiler_StaticMethods_getEntityPositionMapForRange_(JSCompiler_StaticMethods_getEntitySuggestPositionMapForRange$self, startIndex, endIndex, function(tetherStateArray) {
    return tetherStateArray.suggestedTethers_.getKeys();
  }, function(index, tetherStateArray) {
    return tetherStateArray.suggestedTethers_.get(index);
  });
}
function JSCompiler_StaticMethods_getEntityPositionMapForRange_(JSCompiler_StaticMethods_getEntityPositionMapForRange_$self, startIndex, endIndex, keysFn, valueExtractorFn) {
  var positionMap = {}, tetherStateMap = JSCompiler_StaticMethods_getEntityPositionMapForRange_$self.tetherArrayMap_, typeKey;
  for (typeKey in tetherStateMap) {
    for (var type = typeKey, keys = keysFn(tetherStateMap[type]), positions = [], i = 0;i < keys.length;i++) {
      var index = keys[i];
      if (!(index < startIndex)) {
        if (index > endIndex) {
          break;
        }
        positions[index - startIndex] = valueExtractorFn(index, tetherStateMap[type]).concat();
      }
    }
    0 < positions.length && (positionMap[type] = positions);
  }
  return positionMap;
}
docs$text$model$SuggestionAwareTetherManager.prototype.clone = function $docs$text$model$SuggestionAwareTetherManager$$clone$() {
  var clone = new docs$text$model$SuggestionAwareTetherManager, key;
  for (key in this.tetherArrayMap_) {
    clone.tetherArrayMap_[key] = this.tetherArrayMap_[key].clone();
  }
  for (key in this.entityTypeMap_) {
    clone.entityTypeMap_[key] = this.entityTypeMap_[key];
  }
  return clone;
};
docs$text$model$SuggestionAwareTetherManager.prototype.shift = function $docs$text$model$SuggestionAwareTetherManager$$shift$(spacerIndex, shift) {
  for (var key in this.tetherArrayMap_) {
    this.tetherArrayMap_[key].shift(spacerIndex, shift);
  }
};
docs$text$model$SuggestionAwareTetherManager.prototype.splice = function $docs$text$model$SuggestionAwareTetherManager$$splice$(startIndex, endIndex) {
  for (var key in this.tetherArrayMap_) {
    this.tetherArrayMap_[key].splice(startIndex, endIndex);
  }
};
docs$text$model$SuggestionAwareTetherManager.prototype.equals = function $docs$text$model$SuggestionAwareTetherManager$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$model$SuggestionAwareTetherManager ? docs$util$ObjectUtil$equals(this.tetherArrayMap_, other.tetherArrayMap_, docs$text$model$TetherStateArray$equals) && docs$util$ObjectUtil$equals(this.entityTypeMap_, other.entityTypeMap_) : !1;
};
function JSCompiler_StaticMethods_getTetherArrayForEntity_(JSCompiler_StaticMethods_getTetherArrayForEntity_$self, entityId) {
  var entityType = JSCompiler_StaticMethods_getTetherArrayForEntity_$self.entityTypeMap_[entityId];
  if (null == entityType) {
    return null;
  }
  if (!JSCompiler_StaticMethods_getTetherArrayForEntity_$self.tetherArrayMap_[entityType]) {
    throw Error("Tether manager is missing required tether map");
  }
  return JSCompiler_StaticMethods_getTetherArrayForEntity_$self.tetherArrayMap_[entityType] || null;
}
;
// Input 271
function docs$text$model$ModelImpl(errorReporter, styleResolvers, concreteStyleUpdaters, entityConcreteStyleUpdaters, entityResolvers, defaultEntitiesProvider, defaultStylesProvider, contentClassifier, tableState, insertSpacersStyleUpdater, deleteSpacersStyleUpdater) {
  this.docs_text_model_ModelImpl$errorReporter_ = errorReporter;
  this.styleResolvers_ = styleResolvers;
  this.entityResolvers_ = entityResolvers;
  this.concreteStyleUpdaters_ = concreteStyleUpdaters;
  this.docs_text_model_ModelImpl$entityConcreteStyleUpdaters_ = entityConcreteStyleUpdaters;
  this.contentClassifier_ = contentClassifier;
  this.docs_text_model_ModelImpl$defaultEntitiesProvider_ = defaultEntitiesProvider;
  this.docs_text_model_ModelImpl$defaultStylesProvider_ = defaultStylesProvider;
  this.docs_text_model_ModelImpl$spacersToTrack_ = "\uefff\ueffe\ue905\ue903\u001a\u001e\ue901\u0003\ue902\ue904\u0010\u0011".split("");
  this.docs_text_model_ModelImpl$spacers_ = new docs$text$protocol$SpacerString(this.docs_text_model_ModelImpl$errorReporter_, this.docs_text_model_ModelImpl$spacersToTrack_);
  this.suggestedInsertionRanges_ = docs$text$model$SuggestedRanges$create(!1);
  this.tableState_ = tableState;
  this.suggestedDeletionRanges_ = docs$text$model$SuggestedRanges$create(!1);
  this.entityManager_ = new docs$text$model$ConcreteEntityManager(entityResolvers, defaultEntitiesProvider);
  this.tetherManager_ = new docs$text$model$SuggestionAwareTetherManager;
  this.docs_text_model_ModelImpl$insertSpacersStyleUpdater_ = insertSpacersStyleUpdater;
  this.docs_text_model_ModelImpl$deleteSpacersStyleUpdater_ = deleteSpacersStyleUpdater;
  this.suggestionAwareStyleManager_ = new docs$text$model$SuggestionAwareStyleManager(this.docs_text_model_ModelImpl$defaultStylesProvider_);
  this.docs_text_model_ModelImpl$styleResolverManager_ = new docs$text$model$StyleResolverManager(styleResolvers);
  this.docs_text_model_ModelImpl$concreteStyleUpdaterManager_ = new docs$text$model$ConcreteStyleUpdaterManager(concreteStyleUpdaters);
  this.lazyConcreteStyleManager_ = new docs$text$model$LazyConcreteStyleManager(this.docs_text_model_ModelImpl$defaultStylesProvider_, this.docs_text_model_ModelImpl$styleResolverManager_, this.docs_text_model_ModelImpl$concreteStyleUpdaterManager_, entityConcreteStyleUpdaters);
  this.styleIntersectionCache_ = new docs$text$model$StyleIntersectionCache(goog$bind(this.intersectAll_, this), this.docs_text_model_ModelImpl$errorReporter_);
}
docs$text$model$ModelImpl.prototype.copyTo = function $docs$text$model$ModelImpl$$copyTo$(other) {
  other.contentClassifier_ = this.contentClassifier_.clone();
  other.docs_text_model_ModelImpl$defaultStylesProvider_ = this.docs_text_model_ModelImpl$defaultStylesProvider_.clone();
  other.docs_text_model_ModelImpl$spacers_ = this.docs_text_model_ModelImpl$spacers_.clone();
  this.entityManager_.copyTo(other.entityManager_);
  this.lazyConcreteStyleManager_.copyTo(other.lazyConcreteStyleManager_);
  other.suggestionAwareStyleManager_ = this.suggestionAwareStyleManager_.clone();
  other.tetherManager_ = this.tetherManager_.clone();
  other.suggestedInsertionRanges_ = this.suggestedInsertionRanges_.clone();
  other.suggestedDeletionRanges_ = this.suggestedDeletionRanges_.clone();
  this.tableState_.copyTo(other.tableState_);
  other.docs_text_model_ModelImpl$insertSpacersStyleUpdater_ = this.docs_text_model_ModelImpl$insertSpacersStyleUpdater_;
  other.docs_text_model_ModelImpl$deleteSpacersStyleUpdater_ = this.docs_text_model_ModelImpl$deleteSpacersStyleUpdater_;
};
docs$text$model$ModelImpl.prototype.copy = function $docs$text$model$ModelImpl$$copy$() {
  var newModel = new docs$text$model$ModelImpl(this.docs_text_model_ModelImpl$errorReporter_, this.styleResolvers_, this.concreteStyleUpdaters_, this.docs_text_model_ModelImpl$entityConcreteStyleUpdaters_, this.entityResolvers_, this.docs_text_model_ModelImpl$defaultEntitiesProvider_, this.docs_text_model_ModelImpl$defaultStylesProvider_, this.contentClassifier_, new docs$text$model$TableStateImpl, this.docs_text_model_ModelImpl$insertSpacersStyleUpdater_, this.docs_text_model_ModelImpl$deleteSpacersStyleUpdater_);
  this.copyTo(newModel);
  return newModel;
};
docs$text$model$ModelImpl.prototype.clear = function $docs$text$model$ModelImpl$$clear$() {
  this.docs_text_model_ModelImpl$spacers_ = new docs$text$protocol$SpacerString(this.docs_text_model_ModelImpl$errorReporter_, this.docs_text_model_ModelImpl$spacersToTrack_);
  this.entityManager_ = new docs$text$model$ConcreteEntityManager(this.entityResolvers_, this.docs_text_model_ModelImpl$defaultEntitiesProvider_);
  this.tetherManager_ = new docs$text$model$SuggestionAwareTetherManager;
  this.suggestionAwareStyleManager_ = new docs$text$model$SuggestionAwareStyleManager(this.docs_text_model_ModelImpl$defaultStylesProvider_);
  this.lazyConcreteStyleManager_ = new docs$text$model$LazyConcreteStyleManager(this.docs_text_model_ModelImpl$defaultStylesProvider_, this.docs_text_model_ModelImpl$styleResolverManager_, this.docs_text_model_ModelImpl$concreteStyleUpdaterManager_, this.docs_text_model_ModelImpl$entityConcreteStyleUpdaters_);
  this.suggestedInsertionRanges_ = docs$text$model$SuggestedRanges$create(!1);
  this.suggestedDeletionRanges_ = docs$text$model$SuggestedRanges$create(!1);
  this.tableState_ = new docs$text$model$TableStateImpl;
  JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize(this.suggestionAwareStyleManager_);
};
docs$text$model$ModelImpl.prototype.getSuggestedInsertions = function $docs$text$model$ModelImpl$$getSuggestedInsertions$(spacerIndex) {
  return JSCompiler_StaticMethods_getRunAtIndex(this.suggestedInsertionRanges_.runArray_, spacerIndex);
};
docs$text$model$ModelImpl.prototype.getSuggestedDeletions = function $docs$text$model$ModelImpl$$getSuggestedDeletions$(spacerIndex) {
  return JSCompiler_StaticMethods_getRunAtIndex(this.suggestedDeletionRanges_.runArray_, spacerIndex);
};
docs$text$model$ModelImpl.prototype.docs_text_model_ConcreteEntityManager_prototype$getEntity = function $docs$text$model$ModelImpl$$docs_text_model_ConcreteEntityManager_prototype$getEntity$(id) {
  return this.entityManager_.docs_text_model_ConcreteEntityManager_prototype$getEntity(id);
};
docs$text$model$ModelImpl.prototype.hasEntity = function $docs$text$model$ModelImpl$$hasEntity$(id) {
  return null != (JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity(this.entityManager_.innerEntityManager_, id) || null);
};
docs$text$model$ModelImpl.prototype.getEntityState = function $docs$text$model$ModelImpl$$getEntityState$(entityId) {
  return this.entityManager_.getEntityState(entityId);
};
docs$text$model$ModelImpl.prototype.getSortedEntitySuggestPositions = function $docs$text$model$ModelImpl$$getSortedEntitySuggestPositions$(entityType) {
  return this.tetherManager_.getSortedEntitySuggestPositions(entityType);
};
docs$text$model$ModelImpl.prototype.getSuggestedTetherMetadataForType = function $docs$text$model$ModelImpl$$getSuggestedTetherMetadataForType$(entityType, spacerIndex) {
  return this.tetherManager_.getSuggestedTetherMetadataForType(entityType, spacerIndex);
};
docs$text$model$ModelImpl.prototype.getSortedEntityUnflattenedPositions = function $docs$text$model$ModelImpl$$getSortedEntityUnflattenedPositions$(entityType) {
  return this.tetherManager_.getSortedEntityUnflattenedPositions(entityType);
};
docs$text$model$ModelImpl.prototype.getUnflattenedEntityIdsForType = function $docs$text$model$ModelImpl$$getUnflattenedEntityIdsForType$(entityType, spacerIndex) {
  return this.tetherManager_.getUnflattenedEntityIdsForType(entityType, spacerIndex);
};
docs$text$model$ModelImpl.prototype.getSuggestedUntethers = function $docs$text$model$ModelImpl$$getSuggestedUntethers$(entityType) {
  return this.tetherManager_.getSuggestedUntethers(entityType);
};
docs$text$model$ModelImpl.prototype.getRegisteredStyleTypes = function $docs$text$model$ModelImpl$$getRegisteredStyleTypes$() {
  return this.suggestionAwareStyleManager_.getRegisteredStyleTypes();
};
docs$text$model$ModelImpl.prototype.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle = function $docs$text$model$ModelImpl$$docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle$(type, spacerIndex) {
  return this.suggestionAwareStyleManager_.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle(type, spacerIndex);
};
docs$text$model$ModelImpl.prototype.getRawTetheredStyle = function $docs$text$model$ModelImpl$$getRawTetheredStyle$(type, spacerIndex) {
  return this.suggestionAwareStyleManager_.getRawTetheredStyle(type, spacerIndex);
};
docs$text$model$ModelImpl.prototype.getHeadingsStyle = function $docs$text$model$ModelImpl$$getHeadingsStyle$() {
  return this.suggestionAwareStyleManager_.getHeadingsStyle();
};
docs$text$model$ModelImpl.prototype.getRawSortedStyleKeys = function $docs$text$model$ModelImpl$$getRawSortedStyleKeys$(type) {
  return this.suggestionAwareStyleManager_.getRawSortedStyleKeys(type);
};
docs$text$model$ModelImpl.prototype.getSuggestedStyleIdKeys = function $docs$text$model$ModelImpl$$getSuggestedStyleIdKeys$(styleType) {
  return this.suggestionAwareStyleManager_.getSuggestedStyleIdKeys(styleType);
};
docs$text$model$ModelImpl.prototype.getSuggestedStyleIds = function $docs$text$model$ModelImpl$$getSuggestedStyleIds$(styleType, spacerIndex) {
  return this.suggestionAwareStyleManager_.getSuggestedStyleIds(styleType, spacerIndex);
};
docs$text$model$ModelImpl.prototype.getStyleStateKeys = function $docs$text$model$ModelImpl$$getStyleStateKeys$(styleType) {
  return this.suggestionAwareStyleManager_.getStyleStateKeys(styleType);
};
docs$text$model$ModelImpl.prototype.getStyleState = function $docs$text$model$ModelImpl$$getStyleState$(styleType, spacerIndex) {
  return this.suggestionAwareStyleManager_.getStyleState(styleType, spacerIndex);
};
docs$text$model$ModelImpl.prototype.getTetheredStyleState = function $docs$text$model$ModelImpl$$getTetheredStyleState$(styleType, spacerIndex) {
  return this.suggestionAwareStyleManager_.getTetheredStyleState(styleType, spacerIndex);
};
function JSCompiler_StaticMethods_getStyleStateSlicesInternal_(JSCompiler_StaticMethods_getStyleStateSlicesInternal_$self, startIndex, endIndex, metadata, opt_ignoreLeadingStyle, opt_relatedEntityIdSet, opt_referencedEntityIdSet) {
  for (var styleSlices = [], styleTypes = JSCompiler_StaticMethods_getStyleStateSlicesInternal_$self.suggestionAwareStyleManager_.getRegisteredStyleTypes(), i = 0;i < styleTypes.length;i++) {
    var isMetadataStyle = docs$text$protocol$StyleTypes$getStyleTypeInfo_(styleTypes[i]).docs_text_protocol_StyleTypeInfo$isMetadata_;
    if (metadata && isMetadataStyle || !metadata && !isMetadataStyle) {
      var styleType = styleTypes[i];
      styleSlices.push(JSCompiler_StaticMethods_getStyleStateSliceInternal_(JSCompiler_StaticMethods_getStyleStateSlicesInternal_$self, styleTypes[i], startIndex, endIndex, styleType in docs$text$model$ModelProcessingLevelConfig$CONCRETE.docs_text_model_ModelProcessingLevelConfig$styleTypeToLevelMap_ ? docs$text$model$ModelProcessingLevelConfig$CONCRETE.docs_text_model_ModelProcessingLevelConfig$styleTypeToLevelMap_[styleType] : docs$text$model$ModelProcessingLevelConfig$CONCRETE.docs_text_model_ModelProcessingLevelConfig$defaultLevel_, 
      opt_ignoreLeadingStyle, !1, opt_relatedEntityIdSet, opt_referencedEntityIdSet));
    }
  }
  return styleSlices;
}
function JSCompiler_StaticMethods_getStyleStateSliceInternal_(JSCompiler_StaticMethods_getStyleStateSliceInternal_$self, type, startIndex, endIndex, opt_modelProcessingLevel, opt_ignoreLeadingStyle$jscomp$0, opt_ignoreTrailingStyle, opt_relatedEntityIdSet, opt_referencedEntityIdSet) {
  var modelProcessingLevel = opt_modelProcessingLevel || 3, JSCompiler_temp;
  if (JSCompiler_StaticMethods_getStyleStateSliceInternal_$self.docs_text_model_ModelImpl$styleResolverManager_.styleResolverMap_[type] && 2 != modelProcessingLevel && 1 != modelProcessingLevel) {
    var JSCompiler_StaticMethods_docs_text_model_LazyConcreteStyleManager_prototype$getStyleStateSlice$self = JSCompiler_StaticMethods_getStyleStateSliceInternal_$self.lazyConcreteStyleManager_, spacers = JSCompiler_StaticMethods_getStyleStateSliceInternal_$self.docs_text_model_ModelImpl$spacers_;
    JSCompiler_StaticMethods_docs_text_model_LazyConcreteStyleManager_prototype$getStyleStateSlice$self.concreteStyleManager_ || JSCompiler_StaticMethods_initializeConcreteStyleManager_(JSCompiler_StaticMethods_docs_text_model_LazyConcreteStyleManager_prototype$getStyleStateSlice$self, JSCompiler_StaticMethods_getStyleStateSliceInternal_$self.entityManager_, JSCompiler_StaticMethods_getStyleStateSliceInternal_$self.tableState_, JSCompiler_StaticMethods_getStyleStateSliceInternal_$self.suggestionAwareStyleManager_);
    var JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getStyleStateSlice$self = JSCompiler_StaticMethods_docs_text_model_LazyConcreteStyleManager_prototype$getStyleStateSlice$self.concreteStyleManager_;
    goog$asserts$assert(!!JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getStyleStateSlice$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_[type], "Should not request non-resolvable style type " + type + " from concrete style manager.");
    JSCompiler_temp = docs$text$protocol$StyleStateSlicer$sliceStyleStates(new docs$text$model$ConcreteStyleStateSparseArray(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getStyleStateSlice$self.docs_text_model_ConcreteStyleManager$styleMap_[type]), type, JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getStyleStateSlice$self.docs_text_model_ConcreteStyleManager$defaultStylesProvider_, spacers, startIndex, endIndex, opt_ignoreLeadingStyle$jscomp$0, 
    opt_ignoreLeadingStyle$jscomp$0, !0, opt_relatedEntityIdSet, opt_referencedEntityIdSet);
  } else {
    var JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$getStyleStateSlice$self = JSCompiler_StaticMethods_getStyleStateSliceInternal_$self.suggestionAwareStyleManager_, spacers$jscomp$0 = JSCompiler_StaticMethods_getStyleStateSliceInternal_$self.docs_text_model_ModelImpl$spacers_, opt_ignoreLeadingStyle = opt_ignoreLeadingStyle$jscomp$0 || "headings" == type, styleStates = docs$text$protocol$StyleTypes$isTethered(type) ? JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$getStyleStateSlice$self.tetheredMap_[type] : 
    JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$getStyleStateSlice$self.untetheredMap_[type].backingArray_, array;
    switch(modelProcessingLevel) {
      case 3:
      case 2:
        array = new docs$text$model$RawStyleStateSparseArray(styleStates);
        break;
      case 1:
        array = new docs$text$model$SuggestionAwareStyleStateSparseArray(styleStates);
        break;
      default:
        throw Error("Unknown ModelProcessingLevel");
    }
    JSCompiler_temp = docs$text$protocol$StyleStateSlicer$sliceStyleStates(array, type, JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$getStyleStateSlice$self.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_, spacers$jscomp$0, startIndex, endIndex, opt_ignoreLeadingStyle, opt_ignoreTrailingStyle, !1, opt_relatedEntityIdSet, opt_referencedEntityIdSet);
  }
  return JSCompiler_temp;
}
function JSCompiler_StaticMethods_getEntityObjectMapForRange_(JSCompiler_StaticMethods_getEntityObjectMapForRange_$self, startIndex, endIndex, factoryFn) {
  var entityPositionsMap = JSCompiler_StaticMethods_getEntityPositionMapForRange(JSCompiler_StaticMethods_getEntityObjectMapForRange_$self.tetherManager_, startIndex, endIndex), entityMap = {}, type;
  for (type in entityPositionsMap) {
    docs$util$ArrayUtil$forNumericIndices(entityPositionsMap[type], function(index, entityIds) {
      for (var i = 0;i < entityIds.length;i++) {
        var entityId = entityIds[i];
        entityMap[entityId] = factoryFn(entityId);
      }
      return !1;
    }, JSCompiler_StaticMethods_getEntityObjectMapForRange_$self);
  }
  return entityMap;
}
docs$text$model$ModelImpl.prototype.getEntityState_ = function $docs$text$model$ModelImpl$$getEntityState_$(modelProcessingLevelConfig, entityId) {
  var rawEntity = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity(this.entityManager_.innerEntityManager_, entityId) || null;
  if (!rawEntity) {
    throw Error("Attempted to get entity state for missing entity.");
  }
  var level, entityType = rawEntity.getType();
  level = entityType in modelProcessingLevelConfig.docs_text_model_ModelProcessingLevelConfig$entityTypeToLevelMap_ ? modelProcessingLevelConfig.docs_text_model_ModelProcessingLevelConfig$entityTypeToLevelMap_[entityType] : modelProcessingLevelConfig.docs_text_model_ModelProcessingLevelConfig$defaultLevel_;
  switch(level) {
    case 1:
      var state = this.getEntityState(entityId);
      if (!state) {
        throw Error("No entity state for id.");
      }
      return state;
    case 2:
      return new docs$text$protocol$MutableEntityState(rawEntity);
    case 3:
      return new docs$text$protocol$MutableEntityState(goog$asserts$assert(this.docs_text_model_ConcreteEntityManager_prototype$getEntity(entityId)));
    default:
      throw Error("Unknown model processing level " + level);
  }
};
function JSCompiler_StaticMethods_getDocumentSlice(JSCompiler_StaticMethods_getDocumentSlice$self, startIndex, endIndex, opt_ignoreEntityMap, opt_spacersToPrepend, opt_spacersToAppend, opt_includeNonTetheredEntities) {
  var spacers = JSCompiler_StaticMethods_getDocumentSlice$self.docs_text_model_ModelImpl$spacers_.slice(startIndex, endIndex);
  opt_spacersToPrepend && (spacers = opt_spacersToPrepend + spacers);
  opt_spacersToAppend && (spacers += opt_spacersToAppend);
  var relatedEntityIdSet = opt_includeNonTetheredEntities || !opt_ignoreEntityMap ? new goog$structs$Set : void 0, referencedEntityIdSet = opt_includeNonTetheredEntities ? new goog$structs$Set : void 0, styleSlices = JSCompiler_StaticMethods_getStyleStateSlicesInternal_(JSCompiler_StaticMethods_getDocumentSlice$self, startIndex, endIndex, !1, void 0, relatedEntityIdSet, referencedEntityIdSet), metaStyleSlices = JSCompiler_StaticMethods_getStyleStateSlicesInternal_(JSCompiler_StaticMethods_getDocumentSlice$self, 
  startIndex, endIndex, !0, !1, relatedEntityIdSet, referencedEntityIdSet), suggestedInsertions = new docs$text$protocol$SuggestionSlice(docs$text$model$SuggestedRanges$slice(JSCompiler_StaticMethods_getDocumentSlice$self.suggestedInsertionRanges_, startIndex, endIndex)), suggestedDeletions = new docs$text$protocol$SuggestionSlice(docs$text$model$SuggestedRanges$slice(JSCompiler_StaticMethods_getDocumentSlice$self.suggestedDeletionRanges_, startIndex, endIndex));
  switch(null === docs$text$model$ModelProcessingLevelConfig$CONCRETE.docs_text_model_ModelProcessingLevelConfig$tetherLevel_ ? docs$text$model$ModelProcessingLevelConfig$CONCRETE.docs_text_model_ModelProcessingLevelConfig$defaultLevel_ : docs$text$model$ModelProcessingLevelConfig$CONCRETE.docs_text_model_ModelProcessingLevelConfig$tetherLevel_) {
    case 3:
    case 2:
      JSCompiler_StaticMethods_getEntityPositionMapForRange(JSCompiler_StaticMethods_getDocumentSlice$self.tetherManager_, startIndex, endIndex);
      break;
    case 1:
      JSCompiler_StaticMethods_getUnflattenedEntityPositionMapForRange(JSCompiler_StaticMethods_getDocumentSlice$self.tetherManager_, startIndex, endIndex);
      JSCompiler_StaticMethods_getEntitySuggestPositionMapForRange(JSCompiler_StaticMethods_getDocumentSlice$self.tetherManager_, startIndex, endIndex);
      break;
    default:
      throw Error("Unknown ModelProcessingLevel " + (null === docs$text$model$ModelProcessingLevelConfig$CONCRETE.docs_text_model_ModelProcessingLevelConfig$tetherLevel_ ? docs$text$model$ModelProcessingLevelConfig$CONCRETE.docs_text_model_ModelProcessingLevelConfig$defaultLevel_ : docs$text$model$ModelProcessingLevelConfig$CONCRETE.docs_text_model_ModelProcessingLevelConfig$tetherLevel_));
  }
  var entityMap = opt_ignoreEntityMap ? {} : JSCompiler_StaticMethods_getEntityObjectMapForRange_(JSCompiler_StaticMethods_getDocumentSlice$self, startIndex, endIndex, goog$bind(JSCompiler_StaticMethods_getDocumentSlice$self.getEntityState_, JSCompiler_StaticMethods_getDocumentSlice$self, docs$text$model$ModelProcessingLevelConfig$CONCRETE));
  if (relatedEntityIdSet && (opt_includeNonTetheredEntities || !opt_ignoreEntityMap)) {
    for (var relatedEntityIds = relatedEntityIdSet.getValues(), i = 0, entityId;entityId = relatedEntityIds[i];i++) {
      var sectionStartIndex;
      a: {
        var entityId$jscomp$0 = entityId, tetherArray = JSCompiler_StaticMethods_getTetherArrayForEntity_(JSCompiler_StaticMethods_getDocumentSlice$self.tetherManager_, entityId$jscomp$0);
        if (tetherArray) {
          for (var indices = tetherArray.flattenedTethers_.getKeys(), i$jscomp$0 = 0;i$jscomp$0 < indices.length;i$jscomp$0++) {
            var index = indices[i$jscomp$0], entityIdArray = tetherArray.flattenedTethers_.get(index);
            if (goog$array$contains(entityIdArray, entityId$jscomp$0)) {
              sectionStartIndex = index;
              break a;
            }
          }
        }
        sectionStartIndex = -1;
      }
      if (0 <= sectionStartIndex) {
        var sectionEndIndex;
        var JSCompiler_StaticMethods_getEndOfSection$self = JSCompiler_StaticMethods_getDocumentSlice$self.docs_text_model_ModelImpl$spacers_, spacerIndex = sectionStartIndex, lastSpacerIndex = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(JSCompiler_StaticMethods_getEndOfSection$self) - 1;
        if (0 > spacerIndex || spacerIndex > lastSpacerIndex) {
          JSCompiler_StaticMethods_getEndOfSection$self.docs_text_protocol_Spacers$errorReporter_.log(Error("Should not call getEndOfSection with an out of bounds spacer index: " + spacerIndex)), sectionEndIndex = lastSpacerIndex;
        } else {
          var endOfSection = JSCompiler_StaticMethods_getEndOfSection$self.indexOf("\u0003", spacerIndex + 1);
          sectionEndIndex = 0 <= endOfSection ? endOfSection - 1 : lastSpacerIndex;
        }
        JSCompiler_StaticMethods_getDocumentSlice(JSCompiler_StaticMethods_getDocumentSlice$self, sectionStartIndex, sectionEndIndex, opt_ignoreEntityMap, void 0, void 0, opt_includeNonTetheredEntities);
      }
    }
  }
  if (referencedEntityIdSet) {
    for (var referencedEntityIds = referencedEntityIdSet.getValues(), i$jscomp$1 = 0, entityId$jscomp$1;entityId$jscomp$1 = referencedEntityIds[i$jscomp$1];i$jscomp$1++) {
      !entityMap[entityId$jscomp$1] && JSCompiler_StaticMethods_getDocumentSlice$self.hasEntity(entityId$jscomp$1) && (entityMap[entityId$jscomp$1] = JSCompiler_StaticMethods_getDocumentSlice$self.getEntityState_(docs$text$model$ModelProcessingLevelConfig$CONCRETE, entityId$jscomp$1));
    }
  }
  return new docs$text$protocol$DocumentSlice(spacers, styleSlices, metaStyleSlices, suggestedInsertions, suggestedDeletions, 0, entityMap);
}
function JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_(JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self, spacerIndex, spacers$jscomp$1) {
  var performanceManager = docs$diagnostics$PerformanceManager.getInstance(), eventId = JSCompiler_StaticMethods_startEvent(performanceManager, new docs$text$diagnostics$EventCode("spacers", "insert"));
  JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.styleIntersectionCache_.clear();
  var JSCompiler_StaticMethods_updateContainsComplexScriptsForSpacers$self = JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.contentClassifier_;
  !JSCompiler_StaticMethods_updateContainsComplexScriptsForSpacers$self.containsBidiContent_ && JSCompiler_StaticMethods_updateContainsComplexScriptsForSpacers$self.mutationInspectionEnabled_ && (!JSCompiler_StaticMethods_updateContainsComplexScriptsForSpacers$self.containsComplexScripts_ && docs$text$i18n$ContentClassifier$bidiOrClusteringRangesRegex_.test(spacers$jscomp$1) && (JSCompiler_StaticMethods_updateContainsComplexScriptsForSpacers$self.containsComplexScripts_ = !0), JSCompiler_StaticMethods_updateContainsComplexScriptsForSpacers$self.containsComplexScripts_ && 
  docs$text$i18n$ContentClassifier$bidiRangesRegex_.test(spacers$jscomp$1) && (JSCompiler_StaticMethods_updateContainsComplexScriptsForSpacers$self.containsBidiContent_ = !0, JSCompiler_StaticMethods_updateContainsComplexScriptsForSpacers$self.containsBidiContentObservable_.dispatchEvent(null)));
  JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.docs_text_model_ModelImpl$spacers_.docs_text_protocol_MutableSpacers_prototype$insert(spacerIndex, spacers$jscomp$1);
  var numSpacersToInsert = spacers$jscomp$1.length, lastSpacerIndex = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.docs_text_model_ModelImpl$spacers_) - 1;
  JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.suggestionAwareStyleManager_.shift(spacerIndex, spacers$jscomp$1, lastSpacerIndex);
  var handledSpacers;
  for (var JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self = JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.tableState_, i = 0;i < JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self.tables_.length;i++) {
    var cellInsertionLocation, JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self = JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self.tables_[i], insertIndex = spacerIndex, spacers = spacers$jscomp$1, rawStyleProvider = JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self;
    if (!(insertIndex > JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self.docs_text_model_MutableSpacersTable$endIndex_)) {
      var insertLength = spacers.length;
      JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self.docs_text_model_MutableSpacersTable$endIndex_ += insertLength;
      insertIndex <= JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self.docs_text_model_MutableSpacersTable$startIndex_ && (JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self.docs_text_model_MutableSpacersTable$startIndex_ += insertLength);
      var insertSplitIndex = JSCompiler_StaticMethods_getInsertSplitIndex_(spacers);
      insertSplitIndex && (JSCompiler_StaticMethods_updateCellsForInsertion_(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self, insertIndex, spacers.slice(0, insertSplitIndex)), insertIndex += insertSplitIndex, spacers = spacers.slice(insertSplitIndex));
      cellInsertionLocation = JSCompiler_StaticMethods_updateCellsForInsertion_(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self, insertIndex, spacers);
      if (!(cellInsertionLocation && insertIndex > JSCompiler_StaticMethods_getCellByReference(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self, cellInsertionLocation).cellStart_ || insertIndex <= JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self.docs_text_model_MutableSpacersTable$startIndex_)) {
        var cells = JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self.cells_, newCells = docs$text$model$MutableSpacersTable$calculateCells_(insertIndex, spacers);
        if ("\u0012" == spacers.charAt(0)) {
          var rowIndex = JSCompiler_StaticMethods_calculateRowIndexForInsert_(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self, insertIndex);
          goog$array$insertArrayAt(cells, newCells, rowIndex);
        } else {
          if (!cellInsertionLocation) {
            if (insertIndex == JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self.docs_text_model_MutableSpacersTable$endIndex_ - insertLength) {
              cellInsertionLocation = new docs$table$model$TableCellReference(JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self) - 1, JSCompiler_StaticMethods_getNextColumnIndexInRow_(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self, JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self) - 
              1));
            } else {
              rowIndex = JSCompiler_StaticMethods_calculateRowIndexForInsert_(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self, insertIndex);
              if (1 > rowIndex) {
                throw Error("Cannot insert cells before the first row in the table.");
              }
              cellInsertionLocation = new docs$table$model$TableCellReference(rowIndex - 1, JSCompiler_StaticMethods_getNextColumnIndexInRow_(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self, rowIndex - 1));
            }
          }
          var rowIndex = cellInsertionLocation.docs_table_model_TableCellReference$row_, colIndex = cellInsertionLocation.docs_table_model_TableCellReference$column_, newRow = newCells.shift(), row = JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self.cells_[rowIndex];
          if (colIndex == row.length) {
            goog$array$insertArrayAt(row, newRow, colIndex);
          } else {
            if (row[colIndex]) {
              goog$array$insertArrayAt(row, newRow, colIndex);
            } else {
              for (;colIndex < row.length && newRow.length && !row[colIndex];) {
                row[colIndex] = newRow.shift(), colIndex++;
              }
              goog$array$insertArrayAt(row, newRow, colIndex + 1);
            }
          }
          goog$array$insertArrayAt(cells, newCells, rowIndex + 1);
        }
        var cells$jscomp$0 = JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self.cells_, numRows = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self);
        if (0 != numRows) {
          for (var maxLength = cells$jscomp$0[0].length, needToRecalculate = !1, i$jscomp$0 = 1;i$jscomp$0 < numRows;i$jscomp$0++) {
            maxLength != cells$jscomp$0[i$jscomp$0].length && (maxLength = Math.max(maxLength, cells$jscomp$0[i$jscomp$0].length), needToRecalculate = !0);
          }
          if (needToRecalculate) {
            for (i$jscomp$0 = 0;i$jscomp$0 < numRows;i$jscomp$0++) {
              if (maxLength > cells$jscomp$0[i$jscomp$0].length) {
                for (var diff = maxLength - cells$jscomp$0[i$jscomp$0].length, j = 0;j < diff;j++) {
                  cells$jscomp$0[i$jscomp$0].push(null);
                }
              }
            }
          }
        }
        JSCompiler_StaticMethods_trimNullColumns_(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self);
        docs$text$model$CellSpanUtil$updateTableForRawStyleChange(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForInsert$self, rawStyleProvider);
      }
    }
  }
  var JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForInsert$self = JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self.updateState_;
  if (!(0 > JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForInsert$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ || spacerIndex > JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForInsert$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ + JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForInsert$self.pendingSpacers_.length)) {
    if (spacerIndex <= JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForInsert$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_) {
      0 <= JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForInsert$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ && (JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForInsert$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ += spacers$jscomp$1.length);
    } else {
      var relativeIndex = spacerIndex - JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForInsert$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_, originalSpacers = JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForInsert$self.pendingSpacers_;
      JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForInsert$self.pendingSpacers_ = originalSpacers.slice(0, relativeIndex) + spacers$jscomp$1 + originalSpacers.slice(relativeIndex);
    }
  }
  if (goog$string$countOf(spacers$jscomp$1, "\u0010") == goog$string$countOf(spacers$jscomp$1, "\u0011") || 0 <= JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self.updateState_.docs_text_model_TableStateImpl$UpdateState_$startIndex_) {
    var updatedSpacers = 0 <= JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self.updateState_.docs_text_model_TableStateImpl$UpdateState_$startIndex_ ? JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self.updateState_.pendingSpacers_ : spacers$jscomp$1;
    goog$string$countOf(updatedSpacers, "\u0010") == goog$string$countOf(updatedSpacers, "\u0011") ? 0 <= JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self.updateState_.docs_text_model_TableStateImpl$UpdateState_$startIndex_ ? (JSCompiler_StaticMethods_updateForInsert_(JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self, JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self.updateState_.docs_text_model_TableStateImpl$UpdateState_$startIndex_, 
    updatedSpacers), JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self.updateState_.reset(), handledSpacers = updatedSpacers) : (JSCompiler_StaticMethods_updateForInsert_(JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self, spacerIndex, spacers$jscomp$1), handledSpacers = spacers$jscomp$1) : handledSpacers = "";
  } else {
    var JSCompiler_StaticMethods_beginInsert$self = JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForInsert$self.updateState_;
    goog$asserts$assert(0 > JSCompiler_StaticMethods_beginInsert$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_, "Cannot begin insertion with pending spacers.");
    JSCompiler_StaticMethods_beginInsert$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ = spacerIndex;
    JSCompiler_StaticMethods_beginInsert$self.pendingSpacers_ = spacers$jscomp$1;
    handledSpacers = "";
  }
  if (null != JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.lazyConcreteStyleManager_.concreteStyleManager_) {
    JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.lazyConcreteStyleManager_.shift(spacerIndex, spacers$jscomp$1.length);
    var handledSpacerIndex = spacerIndex - (handledSpacers.length - spacers$jscomp$1.length), styleTypeToIndicesMap = JSCompiler_StaticMethods_getDefaultStyles_(JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.suggestionAwareStyleManager_, handledSpacers), spacers$jscomp$0 = handledSpacers, concreteEntityProvider = JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.entityManager_, tableState = JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.tableState_, 
    rawStyleProvider$jscomp$0 = JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.suggestionAwareStyleManager_, JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self = goog$asserts$assert(JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.lazyConcreteStyleManager_.concreteStyleManager_), concreteStyleMap = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_, 
    styleType;
    for (styleType in styleTypeToIndicesMap) {
      if (JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_[styleType]) {
        for (var tetheredIndices = styleTypeToIndicesMap[styleType], tetheredIndex = 0;tetheredIndex < tetheredIndices.length;tetheredIndex++) {
          var tetheredSpacerIndex = tetheredIndices[tetheredIndex] + handledSpacerIndex, rawStyle = rawStyleProvider$jscomp$0.getRawTetheredStyle(styleType, tetheredSpacerIndex), concreteStyle = JSCompiler_StaticMethods_getConcreteStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self, rawStyle, tetheredSpacerIndex, concreteEntityProvider, tableState, rawStyleProvider$jscomp$0).clone();
          concreteStyleMap[styleType].set(tetheredSpacerIndex, concreteStyle);
        }
      }
    }
    var concreteStyleMap$jscomp$0 = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_, paragraphIndices = styleTypeToIndicesMap.paragraph, lastInsertedParagraphMarkerIndex = paragraphIndices && paragraphIndices.length ? paragraphIndices[paragraphIndices.length - 1] : null, lastInsertedParagraphStartIndex = handledSpacerIndex <= lastSpacerIndex && lastInsertedParagraphMarkerIndex ? handledSpacerIndex + 
    lastInsertedParagraphMarkerIndex + 1 : null, styleType$jscomp$0;
    for (styleType$jscomp$0 in styleTypeToIndicesMap) {
      var tetheredIndices$jscomp$0 = styleTypeToIndicesMap[styleType$jscomp$0], concreteStyleUpdater = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self.docs_text_model_ConcreteStyleManager$concreteStyleUpdaterManager_.concreteStyleUpdaterMap_[styleType$jscomp$0] || null;
      if (null != tetheredIndices$jscomp$0[0] && concreteStyleUpdater && "\n" == spacers$jscomp$0.charAt(tetheredIndices$jscomp$0[0])) {
        for (var tetheredSpacerIndex$jscomp$0 = tetheredIndices$jscomp$0[0] + handledSpacerIndex, dependentTypes = concreteStyleUpdater.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getDependentTypes(), dependentTypeIndex = 0;dependentTypeIndex < dependentTypes.length;dependentTypeIndex++) {
          var dependentStyleType = dependentTypes[dependentTypeIndex];
          if (!docs$text$protocol$StyleTypes$isTethered(dependentStyleType)) {
            var startIndexOfParagraph = JSCompiler_StaticMethods_getStartOfParagraph_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self, tetheredSpacerIndex$jscomp$0);
            JSCompiler_StaticMethods_computeUntetheredConcreteStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self, dependentStyleType, startIndexOfParagraph, tetheredSpacerIndex$jscomp$0, lastSpacerIndex, concreteEntityProvider, tableState, rawStyleProvider$jscomp$0);
            lastInsertedParagraphStartIndex && !concreteStyleMap$jscomp$0[dependentStyleType].get(lastInsertedParagraphStartIndex) && JSCompiler_StaticMethods_computeUntetheredConcreteStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self, dependentStyleType, lastInsertedParagraphStartIndex, lastInsertedParagraphStartIndex, lastSpacerIndex, concreteEntityProvider, tableState, rawStyleProvider$jscomp$0);
          }
        }
      }
    }
    var indicesToRecompute;
    if (JSCompiler_StaticMethods_getTable(tableState, handledSpacerIndex)) {
      for (var table = JSCompiler_StaticMethods_getTable(tableState, handledSpacerIndex), searchIndex = 0, cellIndices = [];searchIndex < spacers$jscomp$0.length;) {
        var nextCellIndex = spacers$jscomp$0.indexOf("\u001c", searchIndex), shiftedIndex = nextCellIndex + handledSpacerIndex;
        if (0 <= nextCellIndex && shiftedIndex >= table.docs_text_model_MutableSpacersTable$startIndex_ && shiftedIndex <= table.docs_text_model_MutableSpacersTable$endIndex_) {
          cellIndices.push(shiftedIndex), searchIndex = nextCellIndex + 1;
        } else {
          break;
        }
      }
      for (var adjacentCellIndices, cellMarkers = [], i$jscomp$1 = 0;i$jscomp$1 < cellIndices.length;i$jscomp$1++) {
        cellMarkers = cellMarkers.concat(docs$text$model$StyleUtil$calculateAdjacentCellIndices_(table, JSCompiler_StaticMethods_getTableLocation(table, cellIndices[i$jscomp$1])));
      }
      goog$array$removeDuplicates(cellMarkers);
      goog$array$sort(cellMarkers);
      adjacentCellIndices = cellMarkers;
      var affectedCellIndices;
      if (cellIndices.length) {
        var cellMarkers$jscomp$0 = [], tableStyle = rawStyleProvider$jscomp$0.getRawTetheredStyle("tbl", table.docs_text_model_MutableSpacersTable$startIndex_);
        if (!tableStyle) {
          throw Error("Expected table style for spacer index " + table.docs_text_model_MutableSpacersTable$startIndex_);
        }
        var firstCellLocation = JSCompiler_StaticMethods_getTableLocation(table, cellIndices[0]);
        tableStyle.horizontalBandingApplied_ && (cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$getCellIndicesInRowsAfter_(table, firstCellLocation.docs_table_model_TableCellReference$row_)));
        tableStyle.verticalBandingApplied_ && (cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$getCellIndicesInColumnsAfter_(table, firstCellLocation.docs_table_model_TableCellReference$column_)));
        var firstRowStylingEnabled = tableStyle.enableStylingFirstRow_, firstColumnStylingEnabled = tableStyle.enableStylingFirstColumn_, lastRowStylingEnabled = tableStyle.enableStylingLastRow_, lastColumnStylingEnabled = tableStyle.enableStylingLastColumn_;
        if (firstRowStylingEnabled || firstColumnStylingEnabled || lastRowStylingEnabled || lastColumnStylingEnabled) {
          for (var numRows$jscomp$0 = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table), numColumns = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table), i$jscomp$2 = 0;i$jscomp$2 < cellIndices.length;i$jscomp$2++) {
            var tableLocation = JSCompiler_StaticMethods_getTableLocation(table, cellIndices[i$jscomp$2]), row$jscomp$0 = tableLocation.docs_table_model_TableCellReference$row_, column = tableLocation.docs_table_model_TableCellReference$column_;
            if (0 == row$jscomp$0 && firstRowStylingEnabled || 0 == column && firstColumnStylingEnabled || row$jscomp$0 == numRows$jscomp$0 - 1 && lastRowStylingEnabled || column == numColumns - 1 && lastColumnStylingEnabled) {
              cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$calculateAdjacentCellIndices_(table, tableLocation));
            }
            if (0 == row$jscomp$0 && firstRowStylingEnabled && 2 < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table)) {
              var cell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, 2, column);
              cell && cellMarkers$jscomp$0.push(cell.cellStart_);
            }
            row$jscomp$0 == numRows$jscomp$0 - 1 && lastRowStylingEnabled && 2 < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table) && (cell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row$jscomp$0 - 2, column)) && cellMarkers$jscomp$0.push(cell.cellStart_);
            0 == column && firstColumnStylingEnabled && 2 < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table) && (cell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row$jscomp$0, 2)) && cellMarkers$jscomp$0.push(cell.cellStart_);
            column == numColumns - 1 && lastColumnStylingEnabled && 2 < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table) && (cell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table, row$jscomp$0, column - 2)) && cellMarkers$jscomp$0.push(cell.cellStart_);
          }
        }
        goog$array$removeDuplicates(cellMarkers$jscomp$0);
        goog$array$sort(cellMarkers$jscomp$0);
        affectedCellIndices = cellMarkers$jscomp$0;
      } else {
        affectedCellIndices = [];
      }
      var paragraphMarkers = docs$text$model$StyleUtil$getParagraphIndicesInCells(rawStyleProvider$jscomp$0, table, affectedCellIndices);
      affectedCellIndices = affectedCellIndices.concat(adjacentCellIndices);
      goog$array$removeDuplicates(affectedCellIndices);
      goog$array$sort(affectedCellIndices);
      var map = {};
      map.cell = affectedCellIndices;
      map.text = paragraphMarkers;
      map.paragraph = paragraphMarkers;
      indicesToRecompute = map;
    } else {
      indicesToRecompute = null;
    }
    JSCompiler_StaticMethods_recomputeAffectedStyles_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self, indicesToRecompute, lastSpacerIndex, concreteEntityProvider, tableState, rawStyleProvider$jscomp$0);
    var concreteStyleMap$jscomp$1 = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_, concreteTypes = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self.types_;
    if (!(1 > handledSpacerIndex) && JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_.paragraph && concreteStyleMap$jscomp$1.paragraph.get(handledSpacerIndex - 1)) {
      for (var i$jscomp$3 = 0;i$jscomp$3 < concreteTypes.length;i$jscomp$3++) {
        var concreteStyleType = concreteTypes[i$jscomp$3];
        if (JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self.docs_text_model_ConcreteStyleManager$styleResolverManager_.styleResolverMap_[concreteStyleType] && !docs$text$protocol$StyleTypes$isTethered(concreteStyleType)) {
          var rawStyle$jscomp$0 = rawStyleProvider$jscomp$0.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle(concreteStyleType, handledSpacerIndex), concreteStyle$jscomp$0 = JSCompiler_StaticMethods_getConcreteStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self, rawStyle$jscomp$0, handledSpacerIndex, concreteEntityProvider, tableState, rawStyleProvider$jscomp$0), concreteStyleKeys = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getSortedStyleKeys(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self, 
          concreteStyleType), previousConcreteStyleKeyIndex = docs$structs$SparseArray$getClosestItemKeyIndex(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_[concreteStyleType].docs_structs_SparseArray$keys_, handledSpacerIndex, void 0);
          if (!JSCompiler_StaticMethods_getStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self, concreteStyleType, concreteStyleKeys[previousConcreteStyleKeyIndex]).equals(concreteStyle$jscomp$0)) {
            concreteStyleMap$jscomp$1[concreteStyleType].set(handledSpacerIndex, concreteStyle$jscomp$0);
            var nextConcreteStyleKeyIndex = previousConcreteStyleKeyIndex + 2;
            if (nextConcreteStyleKeyIndex < concreteStyleKeys.length) {
              var nextConcreteStyleKey = concreteStyleKeys[nextConcreteStyleKeyIndex];
              JSCompiler_StaticMethods_getStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForInsertSpacers$self, concreteStyleType, nextConcreteStyleKey).equals(concreteStyle$jscomp$0) && JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(concreteStyleMap$jscomp$1[concreteStyleType], nextConcreteStyleKey);
            }
          }
        }
      }
    }
  }
  JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.tetherManager_.shift(spacerIndex, numSpacersToInsert);
  JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.suggestedInsertionRanges_.shift(spacerIndex, numSpacersToInsert, lastSpacerIndex);
  JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_$self.suggestedDeletionRanges_.shift(spacerIndex, numSpacersToInsert, lastSpacerIndex);
  JSCompiler_StaticMethods_completeEvent(performanceManager, eventId);
}
function JSCompiler_StaticMethods_applyStyle_(JSCompiler_StaticMethods_applyStyle_$self, applyStyleMutation) {
  if (!(applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleType_ in JSCompiler_StaticMethods_applyStyle_$self.suggestionAwareStyleManager_.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_.enabledStyleSpecsMap_)) {
    return !0;
  }
  "paragraph" == applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleType_ && null === applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleMap_.ps_hd && JSCompiler_StaticMethods_applyStyle_$self.docs_text_model_ModelImpl$errorReporter_.log(Error("Heading cannot be set to null"));
  JSCompiler_StaticMethods_applyStyle_$self.styleIntersectionCache_.clear();
  var JSCompiler_StaticMethods_updateContainsComplexScriptsForStyle$self = JSCompiler_StaticMethods_applyStyle_$self.contentClassifier_;
  if (!JSCompiler_StaticMethods_updateContainsComplexScriptsForStyle$self.containsBidiContent_ && JSCompiler_StaticMethods_updateContainsComplexScriptsForStyle$self.mutationInspectionEnabled_ && "paragraph" == applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleType_) {
    var ltr = (applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleMap_ || []).ps_ltr;
    null == ltr || ltr || (JSCompiler_StaticMethods_updateContainsComplexScriptsForStyle$self.containsComplexScripts_ = !0, JSCompiler_StaticMethods_updateContainsComplexScriptsForStyle$self.containsBidiContent_ = !0, JSCompiler_StaticMethods_updateContainsComplexScriptsForStyle$self.containsBidiContentObservable_.dispatchEvent(null));
  }
  var affectedData;
  if (null != JSCompiler_StaticMethods_applyStyle_$self.lazyConcreteStyleManager_.concreteStyleManager_) {
    var styleUpdater = JSCompiler_StaticMethods_applyStyle_$self.docs_text_model_ModelImpl$concreteStyleUpdaterManager_.concreteStyleUpdaterMap_[applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleType_];
    affectedData = (styleUpdater ? styleUpdater.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getIndicesToRecompute(applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$startIndex_, applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleMap_, JSCompiler_StaticMethods_applyStyle_$self.suggestionAwareStyleManager_, JSCompiler_StaticMethods_applyStyle_$self.tableState_) : null) || {};
  }
  if (applyStyleMutation instanceof docs$text$mutations$AbstractApplyStyleMutation) {
    var JSCompiler_inline_result;
    a: {
      var JSCompiler_StaticMethods_applyStyle$self = JSCompiler_StaticMethods_applyStyle_$self.suggestionAwareStyleManager_, type = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleType_, startIndex = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$startIndex_, endIndex = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$endIndex_, stylePropertyMap = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleMap_, 
      lastSpacerIndex = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(JSCompiler_StaticMethods_applyStyle_$self.docs_text_model_ModelImpl$spacers_) - 1, isUntetheredClearsIntersectingStyle = docs$text$protocol$StyleTypes$getStyleTypeInfo_(type).docs_text_protocol_StyleTypeInfo$clearsIntersecting_ && !docs$text$protocol$StyleTypes$isTethered(type);
      if (isUntetheredClearsIntersectingStyle) {
        var rawStyleKeys = JSCompiler_StaticMethods_applyStyle$self.getRawSortedStyleKeys(type).concat(), startStyleIndex = docs$structs$SparseArray$getClosestItemKeyIndex(JSCompiler_StaticMethods_applyStyle$self.untetheredMap_[type].backingArray_.docs_structs_SparseArray$keys_, startIndex, void 0), endStyleIndex = docs$structs$SparseArray$getClosestItemKeyIndex(JSCompiler_StaticMethods_applyStyle$self.untetheredMap_[type].backingArray_.docs_structs_SparseArray$keys_, endIndex, void 0), styleCleared = 
        !1, newRawStyle = JSCompiler_StaticMethods_getDefaultStyle(JSCompiler_StaticMethods_applyStyle$self.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_, type);
        newRawStyle.update(stylePropertyMap);
        for (var i = startStyleIndex;i <= endStyleIndex;i++) {
          var styleIndex = rawStyleKeys[i], rawStyle = JSCompiler_StaticMethods_applyStyle$self.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle(type, styleIndex);
          newRawStyle.equals(rawStyle) || (JSCompiler_StaticMethods_clearUntetheredStyle_(JSCompiler_StaticMethods_applyStyle$self, type, styleIndex), styleCleared = !0);
        }
        if (!styleCleared) {
          goog$log$fine(JSCompiler_StaticMethods_applyStyle$self.docs_text_model_SuggestionAwareStyleManager_prototype$logger_, "No-op clearsIntersecting style application for style type " + type + " for range (" + startIndex + ", " + endIndex + ")");
          JSCompiler_inline_result = !1;
          break a;
        }
      } else {
        if (docs$text$protocol$StyleTypes$getStyleTypeInfo_(type).docs_text_protocol_StyleTypeInfo$clearsIntersecting_) {
          throw Error("Tethered clearsIntersecting styles are unsupported.");
        }
      }
      var JSCompiler_temp;
      if (docs$text$protocol$StyleTypes$isTethered(type)) {
        if (startIndex != endIndex) {
          throw Error("Tethered styles can be applied only for a single spacer not from: " + startIndex + " to: " + endIndex);
        }
        var state = JSCompiler_StaticMethods_applyStyle$self.tetheredMap_[type].get(startIndex), styleChanged = !1;
        state || (state = docs$text$model$FlattenedAnnotationState$fromAnnotation(JSCompiler_StaticMethods_applyStyle$self.tetheredFactoryMap_[type].create()), JSCompiler_StaticMethods_applyStyle$self.tetheredMap_[type].set(startIndex, state), styleChanged = !0);
        JSCompiler_StaticMethods_applySubsetEquals(state, stylePropertyMap) || (JSCompiler_StaticMethods_applyAnnotation(state, stylePropertyMap, JSCompiler_StaticMethods_applyStyle$self.tetheredFactoryMap_[type]), styleChanged = !0);
        JSCompiler_temp = styleChanged;
      } else {
        JSCompiler_temp = JSCompiler_StaticMethods_updateRun(JSCompiler_StaticMethods_applyStyle$self.untetheredMap_[type], startIndex, endIndex, new docs$text$model$StyleStateRunStrategy$0ApplyStyleUpdate(stylePropertyMap), lastSpacerIndex) || isUntetheredClearsIntersectingStyle;
      }
      JSCompiler_inline_result = JSCompiler_temp;
    }
    if (!JSCompiler_inline_result) {
      return !0;
    }
  } else {
    if (applyStyleMutation instanceof docs$text$mutations$SuggestApplyStyleMutation) {
      var JSCompiler_inline_result$jscomp$0;
      var JSCompiler_StaticMethods_applySuggestedStyle$self = JSCompiler_StaticMethods_applyStyle_$self.suggestionAwareStyleManager_, suggestionId = applyStyleMutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId(), type$jscomp$0 = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleType_, startIndex$jscomp$0 = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$startIndex_, endIndex$jscomp$0 = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$endIndex_, 
      propertyMap = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleMap_, lastSpacerIndex$jscomp$0 = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(JSCompiler_StaticMethods_applyStyle_$self.docs_text_model_ModelImpl$spacers_) - 1;
      if (docs$text$protocol$StyleTypes$isTethered(type$jscomp$0)) {
        if (startIndex$jscomp$0 != endIndex$jscomp$0) {
          throw Error("Tethered styles can be applied only for a single spacer not from: " + startIndex$jscomp$0 + " to: " + endIndex$jscomp$0);
        }
        var currentIds = JSCompiler_StaticMethods_applySuggestedStyle$self.tetheredSuggestionIdsMap_[type$jscomp$0].get(startIndex$jscomp$0);
        currentIds && !goog$array$contains(currentIds, suggestionId) ? currentIds.push(suggestionId) : JSCompiler_StaticMethods_applySuggestedStyle$self.tetheredSuggestionIdsMap_[type$jscomp$0].set(startIndex$jscomp$0, [suggestionId]);
        var state$jscomp$0 = JSCompiler_StaticMethods_applySuggestedStyle$self.tetheredMap_[type$jscomp$0].get(startIndex$jscomp$0);
        state$jscomp$0 || (state$jscomp$0 = docs$text$model$FlattenedAnnotationState$fromAnnotation(null), JSCompiler_StaticMethods_applySuggestedStyle$self.tetheredMap_[type$jscomp$0].set(startIndex$jscomp$0, state$jscomp$0));
        JSCompiler_StaticMethods_suggestApplyAnnotation(state$jscomp$0, suggestionId, propertyMap, JSCompiler_StaticMethods_applySuggestedStyle$self.tetheredFactoryMap_[type$jscomp$0]);
        JSCompiler_inline_result$jscomp$0 = !0;
      } else {
        JSCompiler_StaticMethods_updateRun(JSCompiler_StaticMethods_applySuggestedStyle$self.untetheredSuggestedRangesMap_[type$jscomp$0].runArray_, startIndex$jscomp$0, endIndex$jscomp$0, new docs$text$util$StringArrayRunStrategy$0Update([suggestionId]), lastSpacerIndex$jscomp$0), JSCompiler_inline_result$jscomp$0 = JSCompiler_StaticMethods_updateRun(JSCompiler_StaticMethods_applySuggestedStyle$self.untetheredMap_[type$jscomp$0], startIndex$jscomp$0, endIndex$jscomp$0, new docs$text$model$StyleStateRunStrategy$0SuggestApplyStyleUpdate(suggestionId, 
        propertyMap), lastSpacerIndex$jscomp$0);
      }
      if (!JSCompiler_inline_result$jscomp$0) {
        return !0;
      }
    } else {
      throw Error("Unknown AbstractStylePropertiesMutation with type " + applyStyleMutation.getType());
    }
  }
  var JSCompiler_StaticMethods_updateForApplyStyle$self = JSCompiler_StaticMethods_applyStyle_$self.tableState_, startIndex$jscomp$1 = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$startIndex_, endIndex$jscomp$1 = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$endIndex_, styleMap = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleMap_;
  if ("cell_cs" in styleMap || "cell_rs" in styleMap) {
    for (var i$jscomp$0 = 0;i$jscomp$0 < JSCompiler_StaticMethods_updateForApplyStyle$self.tables_.length;i$jscomp$0++) {
      var JSCompiler_StaticMethods_updateForStyleMutation$self = JSCompiler_StaticMethods_updateForApplyStyle$self.tables_[i$jscomp$0], startIndex$jscomp$2 = startIndex$jscomp$1, endIndex$jscomp$2 = endIndex$jscomp$1, rawStyleProvider = JSCompiler_StaticMethods_applyStyle_$self;
      goog$asserts$assert(endIndex$jscomp$2 >= startIndex$jscomp$2);
      JSCompiler_StaticMethods_updateForStyleMutation$self.docs_text_model_MutableSpacersTable$startIndex_ > endIndex$jscomp$2 || JSCompiler_StaticMethods_updateForStyleMutation$self.docs_text_model_MutableSpacersTable$endIndex_ < startIndex$jscomp$2 || docs$text$model$CellSpanUtil$updateTableForRawStyleChange(JSCompiler_StaticMethods_updateForStyleMutation$self, rawStyleProvider);
    }
  }
  if (null != JSCompiler_StaticMethods_applyStyle_$self.lazyConcreteStyleManager_.concreteStyleManager_) {
    var affectedData$jscomp$0 = goog$asserts$assert(affectedData), type$jscomp$1 = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$styleType_, startIndex$jscomp$3 = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$startIndex_, endIndex$jscomp$3 = applyStyleMutation.docs_text_mutations_AbstractStylePropertiesMutation$endIndex_, lastSpacerIndex$jscomp$1 = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(JSCompiler_StaticMethods_applyStyle_$self.docs_text_model_ModelImpl$spacers_) - 
    1, concreteEntityProvider = JSCompiler_StaticMethods_applyStyle_$self.entityManager_, tableState = JSCompiler_StaticMethods_applyStyle_$self.tableState_, rawStyleProvider$jscomp$0 = JSCompiler_StaticMethods_applyStyle_$self.suggestionAwareStyleManager_, JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStyle$self = goog$asserts$assert(JSCompiler_StaticMethods_applyStyle_$self.lazyConcreteStyleManager_.concreteStyleManager_);
    JSCompiler_StaticMethods_recomputeConcreteStyles_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStyle$self, type$jscomp$1, startIndex$jscomp$3, endIndex$jscomp$3, lastSpacerIndex$jscomp$1, concreteEntityProvider, tableState, rawStyleProvider$jscomp$0);
    JSCompiler_StaticMethods_recomputeAffectedStyles_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStyle$self, affectedData$jscomp$0, lastSpacerIndex$jscomp$1, concreteEntityProvider, tableState, rawStyleProvider$jscomp$0);
  }
  return !1;
}
function JSCompiler_StaticMethods_updateStylesForEntity_(JSCompiler_StaticMethods_updateStylesForEntity_$self, entityId, opt_propertyMap) {
  var entity = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity(JSCompiler_StaticMethods_updateStylesForEntity_$self.entityManager_.innerEntityManager_, entityId) || null;
  if (entity && null != JSCompiler_StaticMethods_updateStylesForEntity_$self.lazyConcreteStyleManager_.concreteStyleManager_) {
    var entityType = entity.getType(), concreteEntityProvider = JSCompiler_StaticMethods_updateStylesForEntity_$self.entityManager_, tableState = JSCompiler_StaticMethods_updateStylesForEntity_$self.tableState_, rawStyleProvider = JSCompiler_StaticMethods_updateStylesForEntity_$self.suggestionAwareStyleManager_;
    JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForEntity(goog$asserts$assert(JSCompiler_StaticMethods_updateStylesForEntity_$self.lazyConcreteStyleManager_.concreteStyleManager_), entityId, entityType, concreteEntityProvider, tableState, rawStyleProvider, opt_propertyMap);
  }
}
docs$text$model$ModelImpl.prototype.intersectAll_ = function $docs$text$model$ModelImpl$$intersectAll_$(styleType, startIndex, endIndex, opt_styleIntersection) {
  var JSCompiler_StaticMethods_getAllStyleStates$self = JSCompiler_StaticMethods_getStyleStateSliceInternal_(this, styleType, startIndex, endIndex, void 0, void 0, void 0), allStyleStates = [];
  JSCompiler_StaticMethods_getAllStyleStates$self.leadingStyleState_ && allStyleStates.push(JSCompiler_StaticMethods_getAllStyleStates$self.leadingStyleState_);
  for (var styles = JSCompiler_StaticMethods_getAllStyleStates$self.styleStates_, keys = styles.getKeys(), i = 0;i < keys.length;i++) {
    allStyleStates.push(styles.get(keys[i]));
  }
  JSCompiler_StaticMethods_getAllStyleStates$self.trailingStyleState_ && allStyleStates.push(JSCompiler_StaticMethods_getAllStyleStates$self.trailingStyleState_);
  for (var intersectionPropertyMap, style = null, i$jscomp$0 = 0;i$jscomp$0 < allStyleStates.length;i$jscomp$0++) {
    var state = allStyleStates[i$jscomp$0];
    if (style) {
      intersectionPropertyMap = JSCompiler_StaticMethods_getIntersection_(style, state.annotation_, intersectionPropertyMap);
    } else {
      if (style = state.annotation_, opt_styleIntersection) {
        for (var JSCompiler_StaticMethods_getIntersectionWithMap_$self = style, intersectionPropertyMap$jscomp$0 = opt_styleIntersection, propertyNames = JSCompiler_StaticMethods_getIntersectionWithMap_$self.propertyNames_.allPropertyNames_, i$jscomp$1 = 0;i$jscomp$1 < propertyNames.length;i$jscomp$1++) {
          var propertyName = propertyNames[i$jscomp$1];
          !JSCompiler_StaticMethods_getIntersectionWithMap_$self.isNestedAnnotation(propertyName) && JSCompiler_StaticMethods_getIntersectionWithMap_$self.isEqualValue(propertyName, intersectionPropertyMap$jscomp$0[propertyName]) || delete intersectionPropertyMap$jscomp$0[propertyName];
        }
        intersectionPropertyMap = intersectionPropertyMap$jscomp$0;
      } else {
        intersectionPropertyMap = style.serialize(void 0);
        for (var propertyNames$jscomp$0 = style.propertyNames_.allPropertyNames_, j = 0;j < propertyNames$jscomp$0.length;j++) {
          var propertyName$jscomp$0 = propertyNames$jscomp$0[j];
          propertyName$jscomp$0 in intersectionPropertyMap || delete intersectionPropertyMap[propertyName$jscomp$0];
        }
      }
    }
    for (var suggestionIds = JSCompiler_StaticMethods_getSuggestedAnnotationIds(state), j = 0;j < suggestionIds.length;j++) {
      intersectionPropertyMap = JSCompiler_StaticMethods_getIntersection_(style, JSCompiler_StaticMethods_getSuggestedAnnotation(state, suggestionIds[j]), intersectionPropertyMap);
    }
  }
  return intersectionPropertyMap || {};
};
docs$text$model$ModelImpl.prototype.equals = function $docs$text$model$ModelImpl$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$model$ModelImpl ? this.docs_text_model_ModelImpl$spacers_.equals(other.docs_text_model_ModelImpl$spacers_) && this.suggestedInsertionRanges_.equals(other.suggestedInsertionRanges_) && this.suggestedDeletionRanges_.equals(other.suggestedDeletionRanges_) && this.entityManager_.equals(other.entityManager_) && this.tetherManager_.equals(other.tetherManager_) && this.suggestionAwareStyleManager_.equals(other.suggestionAwareStyleManager_) && 
  this.docs_text_model_ModelImpl$defaultStylesProvider_.equals(other.docs_text_model_ModelImpl$defaultStylesProvider_) : !1;
};
// Input 272
function docs$text$model$ParagraphConcreteStyleUpdater() {
}
docs$text$model$ParagraphConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getUpdaterType = JSCompiler_returnArg("paragraph");
docs$text$model$ParagraphConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getDependentTypes = function $docs$text$model$ParagraphConcreteStyleUpdater$$docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getDependentTypes$() {
  return ["list", "text"];
};
docs$text$model$ParagraphConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getIndicesToRecompute = function $docs$text$model$ParagraphConcreteStyleUpdater$$docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getIndicesToRecompute$(spacerIndex, stylePropertyMap, rawStyleProvider) {
  if ("ps_hd" in stylePropertyMap) {
    var paragraphStyle = rawStyleProvider.getRawTetheredStyle("paragraph", spacerIndex);
    if (!paragraphStyle) {
      throw Error("Trying to recompute paragraph style when there is no paragraph style tethered.");
    }
    if (stylePropertyMap.ps_hd != paragraphStyle.docs_text_protocol_ParagraphStyle$state_.heading_) {
      return docs$text$model$ApplyStyleConcreteStyleUpdaterUtil$createMapFromDependentTypes(this, [spacerIndex]);
    }
  }
  return null;
};
docs$text$model$ParagraphConcreteStyleUpdater.prototype.getAllIndicesToRecompute = function $docs$text$model$ParagraphConcreteStyleUpdater$$getAllIndicesToRecompute$(spacerIndex) {
  return docs$text$model$ApplyStyleConcreteStyleUpdaterUtil$createMapFromDependentTypes(this, [spacerIndex]);
};
// Input 273
function docs$text$protocol$InlineLocation(spacerIndex, opt_afterPreviousSpacer, opt_shiftedByInserts) {
  this.docs_text_protocol_Location$type_ = 0;
  this.docs_text_protocol_InlineLocation$spacerIndex_ = spacerIndex;
  this.afterPreviousSpacer_ = !!opt_afterPreviousSpacer;
  this.shiftedByInserts_ = !!opt_shiftedByInserts;
}
goog$inherits(docs$text$protocol$InlineLocation, docs$text$protocol$Location);
docs$text$protocol$InlineLocation.prototype.serialize = function $docs$text$protocol$InlineLocation$$serialize$() {
  var serializedObj = docs$text$protocol$InlineLocation.superClass_.serialize.call(this);
  serializedObj.si = this.docs_text_protocol_InlineLocation$spacerIndex_;
  serializedObj.aps = this.afterPreviousSpacer_;
  serializedObj.sbi = this.shiftedByInserts_;
  return serializedObj;
};
docs$text$protocol$InlineLocation.prototype.docs_text_protocol_Location_prototype$compare = function $docs$text$protocol$InlineLocation$$docs_text_protocol_Location_prototype$compare$(location) {
  var superClassCompare = docs$text$protocol$InlineLocation.superClass_.docs_text_protocol_Location_prototype$compare.call(this, location);
  return 0 != superClassCompare ? superClassCompare : this.docs_text_protocol_InlineLocation$spacerIndex_ - location.docs_text_protocol_InlineLocation$spacerIndex_;
};
docs$text$protocol$InlineLocation.prototype.shift = function $docs$text$protocol$InlineLocation$$shift$(delta) {
  return new docs$text$protocol$InlineLocation(this.docs_text_protocol_InlineLocation$spacerIndex_ + delta, this.afterPreviousSpacer_, this.shiftedByInserts_);
};
docs$text$protocol$InlineLocation.prototype.toString = function $docs$text$protocol$InlineLocation$$toString$() {
  return "InlineLocation(" + this.docs_text_protocol_InlineLocation$spacerIndex_ + ")";
};
// Input 274
// Input 275
function docs$util$RangeUtil$ascendingRangeComparator(range1, range2) {
  return range1.start == range2.start ? range1.end - range2.end : range1.start - range2.start;
}
;
// Input 276
function docs$text$protocol$MarkedRange(start, end, mark) {
  if (start > end) {
    throw Error("Start index must be less than or equal to end index");
  }
  this.docs_text_protocol_MarkedRange$start_ = start;
  this.docs_text_protocol_MarkedRange$end_ = end;
  var markSpacerIndex = mark.docs_text_protocol_InlineLocation$spacerIndex_;
  if (markSpacerIndex < this.docs_text_protocol_MarkedRange$start_ || markSpacerIndex > this.docs_text_protocol_MarkedRange$end_ + 1) {
    throw Error("Mark must be contained within the range");
  }
  this.mark_ = mark;
}
docs$text$protocol$MarkedRange.prototype.cachedRange_ = null;
function JSCompiler_StaticMethods_asRange(JSCompiler_StaticMethods_asRange$self) {
  JSCompiler_StaticMethods_asRange$self.cachedRange_ || (JSCompiler_StaticMethods_asRange$self.cachedRange_ = new goog$math$Range(JSCompiler_StaticMethods_asRange$self.docs_text_protocol_MarkedRange$start_, JSCompiler_StaticMethods_asRange$self.docs_text_protocol_MarkedRange$end_));
  return JSCompiler_StaticMethods_asRange$self.cachedRange_;
}
docs$text$protocol$MarkedRange.prototype.toString = function $docs$text$protocol$MarkedRange$$toString$() {
  return "[" + this.docs_text_protocol_MarkedRange$start_ + ", " + this.docs_text_protocol_MarkedRange$end_ + "]";
};
docs$text$protocol$MarkedRange.prototype.equals = function $docs$text$protocol$MarkedRange$$equals$(markedRange) {
  return markedRange == this ? !0 : !!markedRange && this.docs_text_protocol_MarkedRange$start_ == markedRange.docs_text_protocol_MarkedRange$start_ && this.docs_text_protocol_MarkedRange$end_ == markedRange.docs_text_protocol_MarkedRange$end_ && this.mark_.equals(markedRange.mark_);
};
// Input 277
function docs$text$protocol$Selection(cursorLocation, opt_cursorMarkedRange, opt_anchorMarkedRange, opt_otherRanges, opt_navigationSelection) {
  if (!(cursorLocation instanceof docs$text$protocol$InlineLocation) && (opt_cursorMarkedRange || opt_anchorMarkedRange || opt_otherRanges)) {
    throw Error("Tried to instantiate a non-inline location with ranges.");
  }
  this.cursorLocation_ = cursorLocation;
  this.cursorMarkedRange_ = opt_cursorMarkedRange || null;
  this.anchorMarkedRange_ = null;
  if (opt_anchorMarkedRange) {
    this.anchorMarkedRange_ = opt_anchorMarkedRange;
  } else {
    if (this.cursorMarkedRange_) {
      var cursorRangeStart = this.cursorMarkedRange_.docs_text_protocol_MarkedRange$start_, cursorRangeEnd = this.cursorMarkedRange_.docs_text_protocol_MarkedRange$end_;
      this.anchorMarkedRange_ = new docs$text$protocol$MarkedRange(cursorRangeStart, cursorRangeEnd, this.cursorMarkedRange_.mark_.docs_text_protocol_InlineLocation$spacerIndex_ == cursorRangeStart ? new docs$text$protocol$InlineLocation(cursorRangeEnd + 1, !0) : new docs$text$protocol$InlineLocation(cursorRangeStart));
    }
  }
  var otherSelectedRanges = opt_otherRanges || [];
  2 <= otherSelectedRanges.length && otherSelectedRanges.sort(docs$util$RangeUtil$ascendingRangeComparator);
  this.otherSelectedRanges_ = otherSelectedRanges;
  var selectedRanges = this.otherSelectedRanges_.concat();
  this.cursorMarkedRange_ && selectedRanges.push(JSCompiler_StaticMethods_asRange(this.cursorMarkedRange_));
  this.anchorMarkedRange_ && !goog$math$Range$equals(JSCompiler_StaticMethods_asRange(this.anchorMarkedRange_), JSCompiler_StaticMethods_asRange(this.cursorMarkedRange_)) && selectedRanges.push(JSCompiler_StaticMethods_asRange(this.anchorMarkedRange_));
  2 <= selectedRanges.length && selectedRanges.sort(docs$util$RangeUtil$ascendingRangeComparator);
  this.selectedRanges_ = selectedRanges;
  opt_navigationSelection && JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_(this, opt_navigationSelection) && (opt_navigationSelection = null);
  opt_navigationSelection && goog$asserts$assert(null == opt_navigationSelection.navigationSelection_, "The given navigation selection must itself have a null navigation selection.");
  this.navigationSelection_ = opt_navigationSelection || null;
}
docs$text$protocol$Selection.prototype.equals = function $docs$text$protocol$Selection$$equals$(selection) {
  if (this == selection) {
    return !0;
  }
  if (!JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_(this, selection)) {
    return !1;
  }
  var thisNavigation = this.navigationSelection_, otherNavigation = selection.navigationSelection_;
  return !thisNavigation && !otherNavigation || !!thisNavigation && !!otherNavigation && JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_(thisNavigation, otherNavigation);
};
function JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_(JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_$self, other) {
  var cursorSelectedRanges = other.selectedRanges_;
  cursorSelectedRanges.sort(docs$util$RangeUtil$ascendingRangeComparator);
  JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_$self.selectedRanges_.sort(docs$util$RangeUtil$ascendingRangeComparator);
  if (!goog$array$equals(cursorSelectedRanges, JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_$self.selectedRanges_, goog$math$Range$equals)) {
    return !1;
  }
  var cursorAnchorSelectedRange = other.anchorMarkedRange_, cursorAnchorLocation = cursorAnchorSelectedRange ? cursorAnchorSelectedRange.mark_ : other.cursorLocation_, anchorLocation = JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_$self.anchorMarkedRange_ ? JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_$self.anchorMarkedRange_.mark_ : JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_$self.cursorLocation_;
  return JSCompiler_StaticMethods_equalsIgnoringNavigationSelection_$self.cursorLocation_.equals(other.cursorLocation_) && anchorLocation.equals(cursorAnchorLocation);
}
;
// Input 278
function docs$text$protocol$CellBorderTuple(cellStartIndex, orientation) {
  this.cellStartIndex_ = cellStartIndex;
  this.docs_text_protocol_CellBorderTuple$orientation_ = orientation;
}
docs$text$protocol$CellBorderTuple.prototype.toString = function $docs$text$protocol$CellBorderTuple$$toString$() {
  return "CellBorderTuple(" + this.cellStartIndex_ + this.docs_text_protocol_CellBorderTuple$orientation_ + ")";
};
var docs$text$protocol$CellBorderTuple$BORDER_SIDE_PRECEDENCE_MAP_ = {cell_bl:1, cell_bt:2, cell_br:3, cell_bb:4};
docs$text$protocol$CellBorderTuple.prototype.serialize = function $docs$text$protocol$CellBorderTuple$$serialize$() {
  var obj = {};
  obj.csi = this.cellStartIndex_;
  obj.o = this.docs_text_protocol_CellBorderTuple$orientation_;
  return obj;
};
function docs$text$protocol$CellBorderTuple$deserialize(cellBorderTupleDescriptor) {
  goog$asserts$assert(goog$isDef(cellBorderTupleDescriptor.csi));
  goog$asserts$assert(goog$isDef(cellBorderTupleDescriptor.o));
  return new docs$text$protocol$CellBorderTuple(cellBorderTupleDescriptor.csi, cellBorderTupleDescriptor.o);
}
function docs$text$protocol$CellBorderTuple$compareTuples(tuple1, tuple2) {
  var difference = tuple1.cellStartIndex_ - tuple2.cellStartIndex_;
  return difference ? difference : docs$text$protocol$CellBorderTuple$BORDER_SIDE_PRECEDENCE_MAP_[tuple1.docs_text_protocol_CellBorderTuple$orientation_] - docs$text$protocol$CellBorderTuple$BORDER_SIDE_PRECEDENCE_MAP_[tuple2.docs_text_protocol_CellBorderTuple$orientation_];
}
;
// Input 279
function docs$text$protocol$CellBorderLocation(cellBorders) {
  this.docs_text_protocol_Location$type_ = 4;
  goog$asserts$assert(cellBorders.length);
  var JSCompiler_inline_result;
  a: {
    for (var compare = docs$text$protocol$CellBorderLocation$compareTuples_ || goog$array$defaultCompare, i = 1;i < cellBorders.length;i++) {
      if (0 < compare(cellBorders[i - 1], cellBorders[i])) {
        JSCompiler_inline_result = !1;
        break a;
      }
    }
    JSCompiler_inline_result = !0;
  }
  goog$asserts$assert(JSCompiler_inline_result);
  this.cellBorders_ = cellBorders;
}
goog$inherits(docs$text$protocol$CellBorderLocation, docs$text$protocol$Location);
docs$text$protocol$CellBorderLocation.prototype.serialize = function $docs$text$protocol$CellBorderLocation$$serialize$() {
  for (var serializedTuples = [], i = 0;i < this.cellBorders_.length;i++) {
    serializedTuples[i] = this.cellBorders_[i].serialize();
  }
  var obj = docs$text$protocol$CellBorderLocation.superClass_.serialize.call(this);
  obj.cb = serializedTuples;
  return obj;
};
docs$text$protocol$CellBorderLocation.prototype.docs_text_protocol_Location_prototype$compare = function $docs$text$protocol$CellBorderLocation$$docs_text_protocol_Location_prototype$compare$(cellBorderLocation) {
  var superClassCompare = docs$text$protocol$CellBorderLocation.superClass_.docs_text_protocol_Location_prototype$compare.call(this, cellBorderLocation);
  if (superClassCompare) {
    return superClassCompare;
  }
  goog$asserts$assertInstanceof(cellBorderLocation, docs$text$protocol$CellBorderLocation);
  var JSCompiler_inline_result;
  a: {
    for (var arr1 = this.cellBorders_, arr2 = cellBorderLocation.cellBorders_, compare = docs$text$protocol$CellBorderTuple$compareTuples || goog$array$defaultCompare, l = Math.min(arr1.length, arr2.length), i = 0;i < l;i++) {
      var result = compare(arr1[i], arr2[i]);
      if (0 != result) {
        JSCompiler_inline_result = result;
        break a;
      }
    }
    JSCompiler_inline_result = goog$array$defaultCompare(arr1.length, arr2.length);
  }
  return JSCompiler_inline_result;
};
docs$text$protocol$CellBorderLocation.prototype.shift = function $docs$text$protocol$CellBorderLocation$$shift$(delta) {
  if (!delta) {
    return this;
  }
  for (var newCellBorders = [], cellBorders = this.cellBorders_, i = 0;i < cellBorders.length;i++) {
    newCellBorders.push(new docs$text$protocol$CellBorderTuple(cellBorders[i].cellStartIndex_ + delta, cellBorders[i].docs_text_protocol_CellBorderTuple$orientation_));
  }
  return new docs$text$protocol$CellBorderLocation(newCellBorders);
};
docs$text$protocol$CellBorderLocation.prototype.toString = function $docs$text$protocol$CellBorderLocation$$toString$() {
  return "CellBorderLocation(" + this.cellBorders_ + ")";
};
function docs$text$protocol$CellBorderLocation$compareTuples_(tuple1, tuple2) {
  return docs$text$protocol$CellBorderTuple$compareTuples(tuple1, tuple2);
}
;
// Input 280
// Input 281
function docs$text$protocol$GlyphFormat(glyphFormat) {
  this.docs_text_protocol_GlyphFormat$glyphFormat_ = glyphFormat;
}
docs$text$protocol$GlyphFormat.prototype.toString = function $docs$text$protocol$GlyphFormat$$toString$() {
  return "GlyphFormat(" + this.docs_text_protocol_GlyphFormat$glyphFormat_ + ")";
};
function docs$text$protocol$GlyphFormat$makeLegacyGlyphFormats_(ordered) {
  for (var formats = [], suffix = ordered ? "." : "", level = 0;8 >= level;level++) {
    formats.push(new docs$text$protocol$GlyphFormat("%" + level + suffix));
  }
}
docs$text$protocol$GlyphFormat$makeLegacyGlyphFormats_(!0);
docs$text$protocol$GlyphFormat$makeLegacyGlyphFormats_(!1);
// Input 282
// Input 283
// Input 284
// Input 285
// Input 286
// Input 287
// Input 288
// Input 289
// Input 290
function docs$table$model$TableRange(rowIndex, columnIndex, rowSpan, columnSpan) {
  if (0 > rowIndex) {
    throw Error("Row index should be >= 0, was: " + rowIndex);
  }
  if (0 > columnIndex) {
    throw Error("Column index should be >= 0, was: " + columnIndex);
  }
  if (0 > rowSpan) {
    throw Error("Row span should be >= 0, was: " + rowSpan);
  }
  if (0 > columnSpan) {
    throw Error("Column span should be >= 0, was: " + columnSpan);
  }
  this.rowIndex_ = rowIndex;
  this.columnIndex_ = columnIndex;
  this.docs_table_model_TableRange$rowSpan_ = rowSpan;
  this.docs_table_model_TableRange$columnSpan_ = columnSpan;
  this.rowEndIndex_ = rowIndex + rowSpan;
  this.columnEndIndex_ = columnIndex + columnSpan;
}
docs$table$model$TableRange.prototype.getRowSpan = function $docs$table$model$TableRange$$getRowSpan$() {
  return this.docs_table_model_TableRange$rowSpan_;
};
docs$table$model$TableRange.prototype.getColumnSpan = function $docs$table$model$TableRange$$getColumnSpan$() {
  return this.docs_table_model_TableRange$columnSpan_;
};
docs$table$model$TableRange.prototype.contains = function $docs$table$model$TableRange$$contains$(cellReference) {
  var rowIndex = cellReference.docs_table_model_TableCellReference$row_, columnIndex = cellReference.docs_table_model_TableCellReference$column_;
  return rowIndex >= this.rowIndex_ && rowIndex < this.rowEndIndex_ && columnIndex >= this.columnIndex_ && columnIndex < this.columnEndIndex_;
};
function JSCompiler_StaticMethods_docs_table_model_TableRange_prototype$getCells(JSCompiler_StaticMethods_docs_table_model_TableRange_prototype$getCells$self) {
  for (var cells = [], i = JSCompiler_StaticMethods_docs_table_model_TableRange_prototype$getCells$self.rowIndex_;i < JSCompiler_StaticMethods_docs_table_model_TableRange_prototype$getCells$self.rowEndIndex_;i++) {
    for (var j = JSCompiler_StaticMethods_docs_table_model_TableRange_prototype$getCells$self.columnIndex_;j < JSCompiler_StaticMethods_docs_table_model_TableRange_prototype$getCells$self.columnEndIndex_;j++) {
      cells.push(new docs$table$model$TableCellReference(i, j));
    }
  }
  return cells;
}
docs$table$model$TableRange.prototype.clone = function $docs$table$model$TableRange$$clone$() {
  return new docs$table$model$TableRange(this.rowIndex_, this.columnIndex_, this.docs_table_model_TableRange$rowSpan_, this.docs_table_model_TableRange$columnSpan_);
};
docs$table$model$TableRange.prototype.equals = function $docs$table$model$TableRange$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$table$model$TableRange ? this.rowIndex_ == other.rowIndex_ && this.columnIndex_ == other.columnIndex_ && this.docs_table_model_TableRange$rowSpan_ == other.docs_table_model_TableRange$rowSpan_ && this.docs_table_model_TableRange$columnSpan_ == other.docs_table_model_TableRange$columnSpan_ : !1;
};
docs$table$model$TableRange.prototype.toString = function $docs$table$model$TableRange$$toString$() {
  return "[" + [this.rowIndex_, this.columnIndex_, this.docs_table_model_TableRange$rowSpan_, this.docs_table_model_TableRange$columnSpan_].join() + "]";
};
// Input 291
function docs$text$model$TableUtil$forTableSpacersLeft(spacers, startIndex, callFunction) {
  var spacersLength = spacers.length, nestingCount = 0, tableStartIndex, spacer = spacers.charAt(startIndex);
  if ("\u0010" == spacer) {
    tableStartIndex = startIndex;
    var returnValue = callFunction(spacer, startIndex, tableStartIndex);
    if (0 == returnValue) {
      return startIndex;
    }
    startIndex++;
  }
  for (var i = startIndex;i < spacersLength;i++) {
    spacer = spacers.charAt(i);
    switch(spacer) {
      case "\u0010":
        nestingCount++;
        break;
      case "\u0011":
        if (nestingCount--, 0 == nestingCount) {
          continue;
        }
    }
    if (0 >= nestingCount && (returnValue = callFunction(spacer, i, tableStartIndex), 0 > nestingCount || 0 == returnValue)) {
      return i;
    }
  }
  return spacers.length;
}
;
// Input 292
// Input 293
// Input 294
// Input 295
// Input 296
goog$mixin(JSCompiler_emptyFn().prototype, JSCompiler_emptyFn().prototype);
// Input 297
function docs$text$model$SelectionModelImpl() {
  this.docs_text_model_SelectionModelImpl$cursor_ = new docs$text$protocol$Selection(new docs$text$protocol$InlineLocation(1));
}
docs$text$model$SelectionModelImpl.prototype.getSelection = function $docs$text$model$SelectionModelImpl$$getSelection$() {
  return this.docs_text_model_SelectionModelImpl$cursor_;
};
// Input 298
function docs$text$model$TableConcreteStyleUpdater() {
}
docs$text$model$TableConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getUpdaterType = JSCompiler_returnArg("tbl");
docs$text$model$TableConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getDependentTypes = function $docs$text$model$TableConcreteStyleUpdater$$docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getDependentTypes$() {
  return ["cell", "paragraph", "text"];
};
docs$text$model$TableConcreteStyleUpdater.prototype.docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getIndicesToRecompute = function $docs$text$model$TableConcreteStyleUpdater$$docs_text_model_ApplyStyleConcreteStyleUpdater_prototype$getIndicesToRecompute$(spacerIndex, stylePropertyMap, rawStyleProvider, tableState) {
  return "tbls_cfb1h" in stylePropertyMap || "tbls_cfb1v" in stylePropertyMap || "tbls_cfb2h" in stylePropertyMap || "tbls_cfb2v" in stylePropertyMap || "tbls_cffc" in stylePropertyMap || "tbls_cffr" in stylePropertyMap || "tbls_cflc" in stylePropertyMap || "tbls_cflr" in stylePropertyMap || "tbls_cfnec" in stylePropertyMap || "tbls_cfnwc" in stylePropertyMap || "tbls_cfsec" in stylePropertyMap || "tbls_cfswc" in stylePropertyMap || "tbls_cfwt" in stylePropertyMap || "tbls_dshb" in stylePropertyMap || 
  "tbls_dsvb" in stylePropertyMap || "tbls_esfc" in stylePropertyMap || "tbls_esfr" in stylePropertyMap || "tbls_eslc" in stylePropertyMap || "tbls_eslr" in stylePropertyMap || "tbls_bc" in stylePropertyMap || "tbls_bw" in stylePropertyMap ? this.getAllIndicesToRecompute(spacerIndex, rawStyleProvider, tableState) : null;
};
docs$text$model$TableConcreteStyleUpdater.prototype.getAllIndicesToRecompute = function $docs$text$model$TableConcreteStyleUpdater$$getAllIndicesToRecompute$(spacerIndex, rawStyleProvider, tableState) {
  var table = JSCompiler_StaticMethods_getTable(tableState, spacerIndex);
  if (!table) {
    return null;
  }
  for (var cellIndices = [], numRows = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table), i = 0;i < numRows;i++) {
    for (var cells = JSCompiler_StaticMethods_getCellsInRow(table, i), j = 0;j < cells.length;j++) {
      var cell = cells[j];
      cell && cellIndices.push(cell.cellStart_);
    }
  }
  var paragraphMarkers = docs$text$model$StyleUtil$getParagraphIndicesInCells(rawStyleProvider, table, cellIndices), map = {};
  map.cell = cellIndices;
  map.text = paragraphMarkers;
  map.paragraph = paragraphMarkers;
  return map;
};
// Input 299
// Input 300
function docs$text$model$TableDeleteSpacersStyleUpdater() {
}
;
// Input 301
// Input 302
function docs$text$model$TableInsertSpacersStyleUpdater() {
}
;
// Input 303
// Input 304
// Input 305
// Input 306
function docs$table$model$ArrayTable() {
}
goog$mixin(docs$table$model$ArrayTable.prototype, docs$model$Comparable.prototype);
// Input 307
function docs$table$model$MutableArrayTable(cells) {
  if (0 != cells.length) {
    for (var numColumns = cells[0].length, rowIndex = 0;rowIndex < cells.length;rowIndex++) {
      if (cells[rowIndex].length != numColumns) {
        throw Error("Tried to create a non-rectangular mutable array table.");
      }
    }
  }
  this.cells_ = cells;
}
function JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows$self) {
  return JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows$self.cells_.length;
}
function JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns$self) {
  return JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns$self.cells_[0] ? JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns$self.cells_[0].length : 0;
}
function JSCompiler_StaticMethods_getCellsInRow(JSCompiler_StaticMethods_getCellsInRow$self, rowIndex) {
  JSCompiler_StaticMethods_checkRowIndex(JSCompiler_StaticMethods_getCellsInRow$self, rowIndex);
  return JSCompiler_StaticMethods_getCellsInRow$self.cells_[rowIndex].concat();
}
function JSCompiler_StaticMethods_getCellsInColumn(JSCompiler_StaticMethods_getCellsInColumn$self, columnIndex) {
  JSCompiler_StaticMethods_checkColumnIndex(JSCompiler_StaticMethods_getCellsInColumn$self, columnIndex);
  for (var columnCells = [], rowIndex = 0;rowIndex < JSCompiler_StaticMethods_getCellsInColumn$self.cells_.length;rowIndex++) {
    columnCells.push(JSCompiler_StaticMethods_getCellsInColumn$self.cells_[rowIndex][columnIndex]);
  }
  return columnCells;
}
function JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell$self, rowIndex, columnIndex) {
  JSCompiler_StaticMethods_checkRowIndex(JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell$self, rowIndex);
  JSCompiler_StaticMethods_checkColumnIndex(JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell$self, columnIndex);
  return JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell$self.cells_[rowIndex][columnIndex];
}
function JSCompiler_StaticMethods_getCellByReference(JSCompiler_StaticMethods_getCellByReference$self, cellReference) {
  return JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(JSCompiler_StaticMethods_getCellByReference$self, cellReference.docs_table_model_TableCellReference$row_, cellReference.docs_table_model_TableCellReference$column_);
}
docs$table$model$MutableArrayTable.prototype.clone = function $docs$table$model$MutableArrayTable$$clone$() {
  for (var cellsCopy = [], i = 0;i < this.cells_.length;i++) {
    cellsCopy.push(this.cells_[i].concat());
  }
  return new docs$table$model$MutableArrayTable(cellsCopy);
};
function JSCompiler_StaticMethods_checkRowIndex(JSCompiler_StaticMethods_checkRowIndex$self, rowIndex) {
  var numRows = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(JSCompiler_StaticMethods_checkRowIndex$self);
  if (0 > rowIndex || rowIndex > numRows - 1) {
    throw Error("The row index is outside the bounds of this table: " + rowIndex);
  }
}
function JSCompiler_StaticMethods_checkColumnIndex(JSCompiler_StaticMethods_checkColumnIndex$self, columnIndex) {
  var numColumns = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(JSCompiler_StaticMethods_checkColumnIndex$self);
  if (0 > columnIndex || columnIndex > numColumns - 1) {
    throw Error("The column index is outside the bounds of this table: " + columnIndex);
  }
}
docs$table$model$MutableArrayTable.prototype.toString = function $docs$table$model$MutableArrayTable$$toString$() {
  for (var builder = [], i = 0, row;row = this.cells_[i];i++) {
    for (var j = 0, cell;cell = row[j];j++) {
      builder.push("(", cell.toString(), ")");
    }
    builder.push("\n");
  }
  builder.push("\n");
  return builder.join("");
};
docs$table$model$MutableArrayTable.prototype.equals = function $docs$table$model$MutableArrayTable$$equals$(other) {
  return JSCompiler_StaticMethods_mutableArrayTableEquals(this, other);
};
function JSCompiler_StaticMethods_mutableArrayTableEquals(JSCompiler_StaticMethods_mutableArrayTableEquals$self, other) {
  var equalsFn = docs$model$Comparables$equals;
  return JSCompiler_StaticMethods_mutableArrayTableEquals$self == other ? !0 : other && other instanceof docs$table$model$MutableArrayTable ? goog$array$equals(JSCompiler_StaticMethods_mutableArrayTableEquals$self.cells_, other.cells_, function(row1, row2) {
    return goog$array$equals(row1, row2, equalsFn);
  }) : !1;
}
;
// Input 308
function docs$text$model$CellSpanUtil$updateTableForRawStyleChange(table, rawStyleProvider$jscomp$0) {
  for (var cells = table.cells_, row = 0;row < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table);row++) {
    for (var col = 0;col < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table);col++) {
      var cell = cells[row][col];
      if (cell && 2 != JSCompiler_StaticMethods_getMergeState(cell)) {
        var JSCompiler_StaticMethods_unmerge$self = cell;
        if (2 == JSCompiler_StaticMethods_getMergeState(JSCompiler_StaticMethods_unmerge$self)) {
          throw Error("Cannot unmerge a cell which is not merged.");
        }
        JSCompiler_StaticMethods_unmerge$self.headCell_ = null;
        JSCompiler_StaticMethods_unmerge$self.docs_text_model_MutableSpacersCell$rowSpan_ = 1;
        JSCompiler_StaticMethods_unmerge$self.docs_text_model_MutableSpacersCell$columnSpan_ = 1;
      }
    }
  }
  for (var numRows = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table), cells$jscomp$0 = table.cells_, rowIndex = 0;rowIndex < numRows;rowIndex++) {
    for (var colIndex = 0;colIndex < cells$jscomp$0[rowIndex].length;colIndex++) {
      var cell$jscomp$0 = cells$jscomp$0[rowIndex][colIndex];
      if (!cell$jscomp$0) {
        break;
      }
      if (1 != JSCompiler_StaticMethods_getMergeState(cell$jscomp$0)) {
        var rawCellStyle = rawStyleProvider$jscomp$0.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle("cell", cell$jscomp$0.cellStart_), rawRowSpan = rawCellStyle.getRowSpan(), rawColSpan = rawCellStyle.docs_text_protocol_CellStyle$state_.colSpan_;
        if (1 < rawRowSpan || 1 < rawColSpan) {
          var cells$jscomp$1 = cells$jscomp$0, rowIndex$jscomp$0 = rowIndex, colIndex$jscomp$0 = colIndex, numExpandDown = rawRowSpan, rawStyleProvider = rawStyleProvider$jscomp$0, numColumnsMerged = rawColSpan, headCell = cells$jscomp$1[rowIndex$jscomp$0][colIndex$jscomp$0];
          1 < rawColSpan && (numColumnsMerged = docs$text$model$CellSpanUtil$mergeAcrossRow_(cells$jscomp$1, rowIndex$jscomp$0, colIndex$jscomp$0, rawColSpan, rawStyleProvider, !1, headCell));
          for (var currentRowIndex = rowIndex$jscomp$0, numRowsMerged = 1;numRowsMerged < numExpandDown && currentRowIndex < cells$jscomp$1.length - 1;) {
            currentRowIndex++;
            if (docs$text$model$CellSpanUtil$mergeAcrossRow_(cells$jscomp$1, currentRowIndex, colIndex$jscomp$0, numColumnsMerged, rawStyleProvider, !0, headCell) < numColumnsMerged) {
              break;
            }
            numRowsMerged++;
          }
          if (0 > numRowsMerged) {
            throw Error("Row span must be >= 0, was: " + numRowsMerged);
          }
          headCell.docs_text_model_MutableSpacersCell$rowSpan_ = numRowsMerged;
          if (0 > numColumnsMerged) {
            throw Error("Column span must be >= 0, was: " + numColumnsMerged);
          }
          headCell.docs_text_model_MutableSpacersCell$columnSpan_ = numColumnsMerged;
        }
      }
    }
  }
}
function docs$text$model$CellSpanUtil$mergeAcrossRow_(cells, rowIndex, colIndex, numColumns, rawStyleProvider, shouldExitOnFailure, headCell) {
  for (var currentColIndex = shouldExitOnFailure ? colIndex : colIndex + 1, numColumnsMergeable = shouldExitOnFailure ? 0 : 1;numColumnsMergeable < numColumns;) {
    var cell = cells[rowIndex][currentColIndex], JSCompiler_temp;
    if (!(JSCompiler_temp = !cell)) {
      var cell$jscomp$0 = cell, cellStyle = rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle("cell", cell$jscomp$0.cellStart_);
      JSCompiler_temp = !(1 == cellStyle.getRowSpan() && 1 == cellStyle.docs_text_protocol_CellStyle$state_.colSpan_ && 2 == JSCompiler_StaticMethods_getMergeState(cell$jscomp$0));
    }
    if (JSCompiler_temp) {
      if (shouldExitOnFailure) {
        return -1;
      }
      break;
    }
    numColumnsMergeable++;
    currentColIndex++;
  }
  for (currentColIndex = shouldExitOnFailure ? colIndex : colIndex + 1;currentColIndex - colIndex < numColumnsMergeable;) {
    cell = cells[rowIndex][currentColIndex], JSCompiler_StaticMethods_merge(cell, headCell), currentColIndex++;
  }
  return numColumnsMergeable;
}
;
// Input 309
function docs$table$model$MergeableCell() {
}
goog$mixin(docs$table$model$MergeableCell.prototype, docs$model$Comparable.prototype);
// Input 310
goog$mixin(JSCompiler_emptyFn().prototype, docs$table$model$MergeableCell.prototype);
// Input 311
function docs$text$model$MutableSpacersCell(cellStart, cellEnd) {
  goog$asserts$assert(cellStart <= cellEnd);
  this.docs_text_model_MutableSpacersCell$rowSpan_ = this.docs_text_model_MutableSpacersCell$columnSpan_ = 1;
  this.headCell_ = null;
  this.cellStart_ = cellStart;
  this.cellEnd_ = cellEnd;
}
docs$text$model$MutableSpacersCell.prototype.getColumnSpan = function $docs$text$model$MutableSpacersCell$$getColumnSpan$() {
  return this.docs_text_model_MutableSpacersCell$columnSpan_;
};
docs$text$model$MutableSpacersCell.prototype.getRowSpan = function $docs$text$model$MutableSpacersCell$$getRowSpan$() {
  return this.docs_text_model_MutableSpacersCell$rowSpan_;
};
function JSCompiler_StaticMethods_getMergeState(JSCompiler_StaticMethods_getMergeState$self) {
  return 1 == JSCompiler_StaticMethods_getMergeState$self.docs_text_model_MutableSpacersCell$rowSpan_ && 1 == JSCompiler_StaticMethods_getMergeState$self.docs_text_model_MutableSpacersCell$columnSpan_ ? 2 : 0 == JSCompiler_StaticMethods_getMergeState$self.docs_text_model_MutableSpacersCell$rowSpan_ && 0 == JSCompiler_StaticMethods_getMergeState$self.docs_text_model_MutableSpacersCell$columnSpan_ ? 1 : 0;
}
function JSCompiler_StaticMethods_merge(JSCompiler_StaticMethods_merge$self, headCell) {
  if (headCell == JSCompiler_StaticMethods_merge$self) {
    throw Error("Cannot merge a cell with itself.");
  }
  JSCompiler_StaticMethods_merge$self.headCell_ = headCell;
  JSCompiler_StaticMethods_merge$self.docs_text_model_MutableSpacersCell$rowSpan_ = 0;
  JSCompiler_StaticMethods_merge$self.docs_text_model_MutableSpacersCell$columnSpan_ = 0;
}
docs$text$model$MutableSpacersCell.prototype.equals = function $docs$text$model$MutableSpacersCell$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$model$MutableSpacersCell ? this.cellStart_ == other.cellStart_ && this.cellEnd_ == other.cellEnd_ && this.docs_text_model_MutableSpacersCell$rowSpan_ == other.docs_text_model_MutableSpacersCell$rowSpan_ && this.docs_text_model_MutableSpacersCell$columnSpan_ == other.docs_text_model_MutableSpacersCell$columnSpan_ && (this.headCell_ == other.headCell_ || !!this.headCell_ && this.headCell_.equals(other.headCell_)) : !1;
};
docs$text$model$MutableSpacersCell.prototype.clone = function $docs$text$model$MutableSpacersCell$$clone$() {
  var copy = new docs$text$model$MutableSpacersCell(this.cellStart_, this.cellEnd_);
  copy.cellStart_ = this.cellStart_;
  copy.cellEnd_ = this.cellEnd_;
  copy.docs_text_model_MutableSpacersCell$rowSpan_ = this.docs_text_model_MutableSpacersCell$rowSpan_;
  copy.docs_text_model_MutableSpacersCell$columnSpan_ = this.docs_text_model_MutableSpacersCell$columnSpan_;
  copy.headCell_ = this.headCell_;
  return copy;
};
function JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete(JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete$self, startIndex, endIndex) {
  goog$asserts$assert(endIndex >= startIndex);
  goog$asserts$assert(startIndex > JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete$self.cellStart_ || endIndex < JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete$self.cellStart_, "Deletion cannot contain the cell start index.");
  if (!(startIndex > JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete$self.cellEnd_)) {
    var numDeleted = Math.min(endIndex, JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete$self.cellEnd_) - startIndex + 1;
    endIndex < JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete$self.cellStart_ && (JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete$self.cellStart_ -= numDeleted);
    JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete$self.cellEnd_ -= numDeleted;
  }
}
;
// Input 312
// Input 313
function docs$text$model$SpacersTable() {
}
goog$mixin(docs$text$model$SpacersTable, docs$table$model$ArrayTable);
goog$mixin(docs$text$model$SpacersTable, JSCompiler_emptyFn());
// Input 314
function docs$text$model$MutableSpacersTable(startIndex, endIndex, cells) {
  docs$table$model$MutableArrayTable.call(this, cells);
  this.docs_text_model_MutableSpacersTable$startIndex_ = startIndex;
  this.docs_text_model_MutableSpacersTable$endIndex_ = endIndex;
}
goog$inherits(docs$text$model$MutableSpacersTable, docs$table$model$MutableArrayTable);
function JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowIndex(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowIndex$self, spacerIndex) {
  for (var numRows = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowIndex$self), i = 0;i < numRows;i++) {
    if (JSCompiler_StaticMethods_getRowStartIndex(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowIndex$self, i) == spacerIndex) {
      return i;
    }
  }
  throw Error("No row beginning at spacer index " + spacerIndex);
}
function JSCompiler_StaticMethods_getRowStartIndex(JSCompiler_StaticMethods_getRowStartIndex$self, rowIndex) {
  JSCompiler_StaticMethods_checkRowIndex(JSCompiler_StaticMethods_getRowStartIndex$self, rowIndex);
  if (0 == rowIndex) {
    return JSCompiler_StaticMethods_getRowStartIndex$self.docs_text_model_MutableSpacersTable$startIndex_ + 1;
  }
  for (var cellsInRow = JSCompiler_StaticMethods_getRowStartIndex$self.cells_[rowIndex], i = 0;i < cellsInRow.length;i++) {
    var cell = cellsInRow[i];
    if (cell) {
      return cell.cellStart_ - 1;
    }
  }
  return JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowEndIndex(JSCompiler_StaticMethods_getRowStartIndex$self, rowIndex - 1) + 1;
}
function JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowEndIndex(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowEndIndex$self, rowIndex) {
  JSCompiler_StaticMethods_checkRowIndex(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowEndIndex$self, rowIndex);
  for (var cellsInRow = JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowEndIndex$self.cells_[rowIndex], i = cellsInRow.length - 1;-1 < i;i--) {
    var cell = cellsInRow[i];
    if (cell) {
      return cell.cellEnd_;
    }
  }
  return JSCompiler_StaticMethods_getRowStartIndex(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowEndIndex$self, rowIndex);
}
function JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getCellStartIndex(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getCellStartIndex$self, cellReference) {
  var cell = JSCompiler_StaticMethods_getCellByReference(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getCellStartIndex$self, cellReference);
  if (!cell) {
    throw Error("Tried to get start index for null cell.");
  }
  return cell.cellStart_;
}
function JSCompiler_StaticMethods_getTableLocation(JSCompiler_StaticMethods_getTableLocation$self, spacerIndex) {
  if (spacerIndex >= JSCompiler_StaticMethods_getTableLocation$self.docs_text_model_MutableSpacersTable$endIndex_ || spacerIndex <= JSCompiler_StaticMethods_getTableLocation$self.docs_text_model_MutableSpacersTable$startIndex_) {
    return null;
  }
  for (var cells = JSCompiler_StaticMethods_getTableLocation$self.cells_, left = 0, right = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(JSCompiler_StaticMethods_getTableLocation$self) * JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(JSCompiler_StaticMethods_getTableLocation$self);left < right;) {
    for (var middle = left + right >> 1, rowIndex = Math.floor(middle / JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(JSCompiler_StaticMethods_getTableLocation$self)), columnIndex = middle % JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(JSCompiler_StaticMethods_getTableLocation$self), cell = cells[rowIndex][columnIndex], nonNullMiddle = middle;!cell && nonNullMiddle > left;) {
      nonNullMiddle--, rowIndex = Math.floor(nonNullMiddle / JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(JSCompiler_StaticMethods_getTableLocation$self)), columnIndex = nonNullMiddle % JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(JSCompiler_StaticMethods_getTableLocation$self), cell = cells[rowIndex][columnIndex];
    }
    if (!cell || spacerIndex > cell.cellEnd_) {
      left = middle + 1;
    } else {
      if (spacerIndex < cell.cellStart_) {
        right = nonNullMiddle;
      } else {
        return new docs$table$model$TableCellReference(rowIndex, columnIndex);
      }
    }
  }
  return null;
}
function JSCompiler_StaticMethods_getNextColumnIndexInRow_(JSCompiler_StaticMethods_getNextColumnIndexInRow_$self, rowIndex) {
  for (var row = JSCompiler_StaticMethods_getCellsInRow(JSCompiler_StaticMethods_getNextColumnIndexInRow_$self, rowIndex), j = row.length - 1;0 <= j;j--) {
    if (row[j]) {
      return j + 1;
    }
  }
  return 0;
}
function JSCompiler_StaticMethods_getInsertSplitIndex_(spacers) {
  if (-1 == spacers.indexOf("\u001c") && -1 == spacers.indexOf("\u0012")) {
    return null;
  }
  var firstBaseSpacerIndex = 0;
  -1 != spacers.indexOf("\u0011") && (firstBaseSpacerIndex = JSCompiler_StaticMethods_getFirstBaseSpacerIndex_(spacers));
  if (0 == firstBaseSpacerIndex && ("\u001c" == spacers.charAt(0) || "\u0012" == spacers.charAt(0))) {
    return null;
  }
  var markerIndex = docs$text$model$TableUtil$forTableSpacersLeft(spacers, firstBaseSpacerIndex, function(spacer) {
    return "\u001c" != spacer && "\u0012" != spacer;
  });
  return markerIndex == spacers.length ? null : markerIndex;
}
function JSCompiler_StaticMethods_getFirstBaseSpacerIndex_(spacers) {
  var startMarkerCount = goog$string$countOf(spacers, "\u0010"), endMarkerCount = goog$string$countOf(spacers, "\u0011");
  if (startMarkerCount > endMarkerCount) {
    throw Error("More start markers than end markers in spacer string " + spacers);
  }
  if (startMarkerCount == endMarkerCount) {
    return 0;
  }
  for (var nestingLevel = endMarkerCount - startMarkerCount, i = 0;i < spacers.length;i++) {
    var spacer = spacers.charAt(i);
    "\u0010" == spacer && nestingLevel++;
    if ("\u0011" == spacer && (nestingLevel--, 0 == nestingLevel)) {
      return i + 1;
    }
  }
  throw Error("Could not determine base table nesting level for spacer string " + spacers);
}
function JSCompiler_StaticMethods_updateCellsForInsertion_(JSCompiler_StaticMethods_updateCellsForInsertion_$self, insertIndex, spacers) {
  for (var cells = JSCompiler_StaticMethods_updateCellsForInsertion_$self.cells_, cellInsertionLocation = null, isRowOrCellInsert = "\u0012" == spacers.charAt(0) || "\u001c" == spacers.charAt(0), i = cells.length - 1;0 <= i;i--) {
    for (var j = cells[i].length - 1;0 <= j;j--) {
      var cell = cells[i][j];
      if (cell) {
        if (insertIndex > cell.cellEnd_ + 1 || insertIndex == cell.cellEnd_ + 1 && isRowOrCellInsert) {
          return cellInsertionLocation;
        }
        cell.cellStart_ <= insertIndex && (insertIndex <= cell.cellEnd_ || insertIndex == cell.cellEnd_ + 1 && !isRowOrCellInsert) && (cellInsertionLocation = new docs$table$model$TableCellReference(i, j));
        var JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForInsert$self = cell, isRowOrCellInsert$jscomp$0 = insertIndex == JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForInsert$self.cellEnd_ + 1 && ("\u0012" == spacers.charAt(0) || "\u001c" == spacers.charAt(0));
        if (!(insertIndex > JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForInsert$self.cellEnd_ + 1 || isRowOrCellInsert$jscomp$0)) {
          var numSpacers = spacers.length;
          insertIndex <= JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForInsert$self.cellStart_ && (JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForInsert$self.cellStart_ += numSpacers);
          JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForInsert$self.cellEnd_ += numSpacers;
        }
      }
    }
  }
  return cellInsertionLocation;
}
function JSCompiler_StaticMethods_calculateRowIndexForInsert_(JSCompiler_StaticMethods_calculateRowIndexForInsert_$self, spacerIndex) {
  if (spacerIndex == JSCompiler_StaticMethods_calculateRowIndexForInsert_$self.docs_text_model_MutableSpacersTable$startIndex_ + 1) {
    return 0;
  }
  for (var numRows = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(JSCompiler_StaticMethods_calculateRowIndexForInsert_$self), i = 0;i < numRows;i++) {
    if (spacerIndex == JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowEndIndex(JSCompiler_StaticMethods_calculateRowIndexForInsert_$self, i) + 1) {
      return i + 1;
    }
  }
  throw Error("Invalid insertion index for row marker " + spacerIndex);
}
function JSCompiler_StaticMethods_trimNullColumns_(JSCompiler_StaticMethods_trimNullColumns_$self) {
  for (var numColumnsRemovedFromEnd = 0, columnIndex = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(JSCompiler_StaticMethods_trimNullColumns_$self) - 1;0 <= columnIndex;columnIndex--) {
    if (goog$array$every(JSCompiler_StaticMethods_trimNullColumns_$self.cells_, function(row) {
      return !row[columnIndex];
    })) {
      numColumnsRemovedFromEnd++;
    } else {
      break;
    }
  }
  0 < numColumnsRemovedFromEnd && goog$array$forEach(JSCompiler_StaticMethods_trimNullColumns_$self.cells_, function(row) {
    row.splice(-numColumnsRemovedFromEnd, numColumnsRemovedFromEnd);
  });
}
function docs$text$model$MutableSpacersTable$calculateCells_(startIndex, spacers) {
  for (var indices = docs$text$model$MutableSpacersTable$getCellIndicesForTableSpacers_(spacers), numColumns = 0, i = 0;i < indices.length;i++) {
    indices[i].length > numColumns && (numColumns = indices[i].length);
  }
  for (var cells = [], row = 0;row < indices.length;row++) {
    for (var currentRow = [], column = 0;column < numColumns;column++) {
      var cellIndices = indices[row][column];
      currentRow.push(cellIndices ? new docs$text$model$MutableSpacersCell(cellIndices[0] + startIndex, cellIndices[1] + startIndex) : null);
    }
    cells.push(currentRow);
  }
  return cells;
}
function docs$text$model$MutableSpacersTable$getCellIndicesForTableSpacers_(spacers) {
  var cellIndices = [];
  docs$text$model$TableUtil$forTableSpacersLeft(spacers, 0, function(spacer, index) {
    var currentRowIndex = cellIndices.length - 1;
    if ("\u0012" == spacer) {
      if (0 <= currentRowIndex) {
        var previousRow = cellIndices[currentRowIndex], previousCell = previousRow[previousRow.length - 1];
        previousCell && (previousCell[1] = index - 1);
      }
      cellIndices.push([]);
    } else {
      if ("\u001c" == spacer) {
        var currentRow = cellIndices[currentRowIndex];
        currentRow || (currentRow = [], cellIndices.push(currentRow));
        (previousCell = currentRow[currentRow.length - 1]) && (previousCell[1] = index - 1);
        currentRow.push([index]);
      } else {
        if ("\u0011" == spacer) {
          var lastRow = cellIndices[cellIndices.length - 1];
          if (lastRow) {
            var lastCell = lastRow[lastRow.length - 1];
            lastCell && (lastCell[1] = index - 1);
          }
        }
      }
    }
    return !0;
  });
  var lastRow = cellIndices[cellIndices.length - 1];
  if (lastRow) {
    var lastCell = lastRow[lastRow.length - 1];
    lastCell && 1 == lastCell.length && (lastCell[1] = spacers.length - 1);
  }
  return cellIndices;
}
docs$text$model$MutableSpacersTable.prototype.clone = function $docs$text$model$MutableSpacersTable$$clone$() {
  for (var cells = this.cells_, cellsCopy = [], i = 0, row;row = cells[i];i++) {
    for (var rowList = [], j = 0;j < row.length;j++) {
      var cell = row[j];
      rowList.push(cell ? cell.clone() : null);
    }
    cellsCopy.push(rowList);
  }
  for (var copy = new docs$text$model$MutableSpacersTable(this.docs_text_model_MutableSpacersTable$startIndex_, this.docs_text_model_MutableSpacersTable$endIndex_, cellsCopy), cellReferences = JSCompiler_StaticMethods_docs_table_model_TableRange_prototype$getCells(new docs$table$model$TableRange(0, 0, JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(copy), JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(copy))), i$jscomp$0 = 0, cellReference;cellReference = 
  cellReferences[i$jscomp$0];i$jscomp$0++) {
    var cell$jscomp$0 = JSCompiler_StaticMethods_getCellByReference(copy, cellReference);
    if (cell$jscomp$0 && 0 == JSCompiler_StaticMethods_getMergeState(cell$jscomp$0)) {
      var mergedCellReferences = JSCompiler_StaticMethods_docs_table_model_TableRange_prototype$getCells(new docs$table$model$TableRange(cellReference.docs_table_model_TableCellReference$row_, cellReference.docs_table_model_TableCellReference$column_, cell$jscomp$0.getRowSpan(), cell$jscomp$0.getColumnSpan()));
      mergedCellReferences.shift();
      for (var mergedCells, JSCompiler_StaticMethods_getCellsForReferences$self = copy, cellReferences$jscomp$0 = mergedCellReferences, cells$jscomp$0 = [], i$jscomp$1 = 0;i$jscomp$1 < cellReferences$jscomp$0.length;i$jscomp$1++) {
        cells$jscomp$0.push(JSCompiler_StaticMethods_getCellByReference(JSCompiler_StaticMethods_getCellsForReferences$self, cellReferences$jscomp$0[i$jscomp$1]));
      }
      mergedCells = cells$jscomp$0;
      for (var j$jscomp$0 = 0;j$jscomp$0 < mergedCells.length;j$jscomp$0++) {
        var mergedCell = mergedCells[j$jscomp$0];
        if (!mergedCell) {
          throw Error("Attempted to merge across a hole in the table.");
        }
        JSCompiler_StaticMethods_merge(mergedCell, cell$jscomp$0);
      }
    }
  }
  return copy;
};
docs$text$model$MutableSpacersTable.prototype.equals = function $docs$text$model$MutableSpacersTable$$equals$(other) {
  return this == other ? !0 : other && other instanceof docs$text$model$MutableSpacersTable ? docs$text$model$MutableSpacersTable.superClass_.equals.call(this, other) && this.docs_text_model_MutableSpacersTable$startIndex_ == other.docs_text_model_MutableSpacersTable$startIndex_ && this.docs_text_model_MutableSpacersTable$endIndex_ == other.docs_text_model_MutableSpacersTable$endIndex_ : !1;
};
// Input 315
// Input 316
// Input 317
function docs$text$model$TableStateImpl() {
  this.tables_ = [];
  this.updateState_ = new docs$text$model$TableStateImpl$0UpdateState_;
}
function docs$text$model$TableStateImpl$compareFn_(table1, table2) {
  return table1.docs_text_model_MutableSpacersTable$startIndex_ - table2.docs_text_model_MutableSpacersTable$startIndex_;
}
function JSCompiler_StaticMethods_getTable(JSCompiler_StaticMethods_getTable$self, spacerIndex) {
  var closestTableIndex = goog$array$binarySelect(JSCompiler_StaticMethods_getTable$self.tables_, function(currTable) {
    return spacerIndex - currTable.docs_text_model_MutableSpacersTable$startIndex_;
  });
  0 > closestTableIndex && (closestTableIndex = -closestTableIndex - 2);
  for (var currIndex = closestTableIndex;0 <= currIndex;currIndex--) {
    var currentTable = JSCompiler_StaticMethods_getTable$self.tables_[currIndex];
    if (spacerIndex <= currentTable.docs_text_model_MutableSpacersTable$endIndex_) {
      return currentTable;
    }
  }
  return null;
}
function JSCompiler_StaticMethods_updateForInsert_(JSCompiler_StaticMethods_updateForInsert_$self, spacerIndex, spacers$jscomp$0) {
  for (var tableStack = [], currentTableEnd = spacers$jscomp$0.indexOf("\u0011", 0), searchIndex = 0;0 <= currentTableEnd;) {
    for (var nextTableStart = spacers$jscomp$0.indexOf("\u0010", searchIndex);0 <= nextTableStart && nextTableStart < currentTableEnd;) {
      tableStack.push(nextTableStart), nextTableStart = spacers$jscomp$0.indexOf("\u0010", nextTableStart + 1);
    }
    var currentTableStart = tableStack.pop(), table, startIndex = currentTableStart + spacerIndex, spacers = spacers$jscomp$0.slice(currentTableStart, currentTableEnd + 1);
    goog$asserts$assert("\u0010" == spacers.charAt(0));
    goog$asserts$assert("\u0011" == spacers.charAt(spacers.length - 1));
    table = new docs$text$model$MutableSpacersTable(startIndex, startIndex + spacers.length - 1, docs$text$model$MutableSpacersTable$calculateCells_(startIndex, spacers));
    goog$array$binaryInsert(JSCompiler_StaticMethods_updateForInsert_$self.tables_, table, docs$text$model$TableStateImpl$compareFn_);
    searchIndex = currentTableEnd + 1;
    currentTableEnd = spacers$jscomp$0.indexOf("\u0011", searchIndex);
  }
}
docs$text$model$TableStateImpl.prototype.copyTo = function $docs$text$model$TableStateImpl$$copyTo$(other) {
  if (!(other instanceof docs$text$model$TableStateImpl)) {
    throw Error("copyTo must be called with a TableStateImpl");
  }
  for (var tables = [], i = 0;i < this.tables_.length;i++) {
    tables.push(this.tables_[i].clone());
  }
  other.tables_ = tables;
  other.updateState_ = this.updateState_.clone();
};
function docs$text$model$TableStateImpl$0UpdateState_() {
  this.pendingSpacers_ = "";
  this.docs_text_model_TableStateImpl$UpdateState_$startIndex_ = -1;
}
docs$text$model$TableStateImpl$0UpdateState_.prototype.reset = function $docs$text$model$TableStateImpl$0UpdateState_$$reset$() {
  this.pendingSpacers_ = "";
  this.docs_text_model_TableStateImpl$UpdateState_$startIndex_ = -1;
};
docs$text$model$TableStateImpl$0UpdateState_.prototype.clone = function $docs$text$model$TableStateImpl$0UpdateState_$$clone$() {
  var clone = new docs$text$model$TableStateImpl$0UpdateState_;
  clone.pendingSpacers_ = this.pendingSpacers_;
  clone.docs_text_model_TableStateImpl$UpdateState_$startIndex_ = this.docs_text_model_TableStateImpl$UpdateState_$startIndex_;
  return clone;
};
// Input 318
function docs$text$model$TextAndParagraphStyleResolver(styleType) {
  this.docs_text_model_TextAndParagraphStyleResolver$styleType_ = styleType;
}
docs$text$model$TextAndParagraphStyleResolver.prototype.docs_text_model_CellStyleResolver_prototype$getConcreteStyle = function $docs$text$model$TextAndParagraphStyleResolver$$docs_text_model_CellStyleResolver_prototype$getConcreteStyle$(rawStyleProvider, style, spacerIndex, concreteEntityProvider, tableState, opt_paragraphMarkerIndex) {
  if ("text" != style.getType() && "paragraph" != style.getType() || !JSCompiler_StaticMethods_hasInheritValues(style)) {
    return style;
  }
  if (JSCompiler_StaticMethods_getTable(tableState, spacerIndex)) {
    var table = JSCompiler_StaticMethods_getTable(tableState, spacerIndex);
    spacerIndex == table.docs_text_model_MutableSpacersTable$startIndex_ ? spacerIndex += 2 : rawStyleProvider.getRawTetheredStyle("row", spacerIndex) && (spacerIndex += 1);
  }
  var headingNum = rawStyleProvider.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle("paragraph", goog$isDef(opt_paragraphMarkerIndex) ? opt_paragraphMarkerIndex : spacerIndex).docs_text_protocol_ParagraphStyle$state_.heading_, parentStyle = docs$text$model$StyleUtil$getConcreteStyleThroughHeadingsAndTableStyle(rawStyleProvider, tableState, spacerIndex, style.getType(), headingNum);
  return JSCompiler_StaticMethods_getConcreteCopy(style, parentStyle);
};
docs$text$model$TextAndParagraphStyleResolver.prototype.getResolvableStyleType = function $docs$text$model$TextAndParagraphStyleResolver$$getResolvableStyleType$() {
  return this.docs_text_model_TextAndParagraphStyleResolver$styleType_;
};
// Input 319
// Input 320
// Input 321
function docs$text$protocol$DefaultEntitiesProvider(enabledEntityProvidersMap) {
  this.enabledEntityProvidersMap_ = enabledEntityProvidersMap;
  this.enabledEntityTypes_ = goog$object$getKeys(this.enabledEntityProvidersMap_);
  goog$array$sort(this.enabledEntityTypes_);
}
function JSCompiler_StaticMethods_getDefaultEntity(JSCompiler_StaticMethods_getDefaultEntity$self, type, id, propertyMap, opt_noDefinedProperties) {
  if (!(type in JSCompiler_StaticMethods_getDefaultEntity$self.enabledEntityProvidersMap_)) {
    throw Error("Call to getDefaultEntity for disabled entity type: " + type);
  }
  var entity = JSCompiler_StaticMethods_getDefaultEntity$self.enabledEntityProvidersMap_[type](id, propertyMap);
  opt_noDefinedProperties || entity.update(propertyMap);
  return entity;
}
docs$text$protocol$DefaultEntitiesProvider.prototype.equals = function $docs$text$protocol$DefaultEntitiesProvider$$equals$(other) {
  return other instanceof docs$text$protocol$DefaultEntitiesProvider ? goog$array$equals(this.enabledEntityTypes_, other.enabledEntityTypes_) : !1;
};
docs$text$protocol$DefaultEntitiesProvider.prototype.clone = function $docs$text$protocol$DefaultEntitiesProvider$$clone$() {
  return new docs$text$protocol$DefaultEntitiesProvider(goog$object$clone(this.enabledEntityProvidersMap_));
};
// Input 322
function docs$text$protocol$BookmarkEntity(id) {
  docs$text$protocol$Entity.call(this, "bookmark", docs$text$protocol$PropertyNames$NO_PROPERTIES, id);
}
goog$inherits(docs$text$protocol$BookmarkEntity, docs$text$protocol$Entity);
docs$text$protocol$BookmarkEntity.prototype.clone = function $docs$text$protocol$BookmarkEntity$$clone$() {
  var clone = new docs$text$protocol$BookmarkEntity(this.getId());
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$BookmarkEntity.prototype.updateInternal = goog$nullFunction;
// Input 323
function docs$text$protocol$CommentEntity(id) {
  docs$text$protocol$Entity.call(this, "comment", docs$text$protocol$PropertyNames$NO_PROPERTIES, id);
}
goog$inherits(docs$text$protocol$CommentEntity, docs$text$protocol$Entity);
docs$text$protocol$CommentEntity.prototype.clone = function $docs$text$protocol$CommentEntity$$clone$() {
  var clone = new docs$text$protocol$CommentEntity(this.getId());
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$CommentEntity.prototype.updateInternal = goog$nullFunction;
// Input 324
function docs$text$protocol$FootnoteEntity(id) {
  docs$text$protocol$Entity.call(this, "footnote", docs$text$protocol$PropertyNames$NO_PROPERTIES, id);
}
goog$inherits(docs$text$protocol$FootnoteEntity, docs$text$protocol$Entity);
docs$text$protocol$FootnoteEntity.prototype.clone = function $docs$text$protocol$FootnoteEntity$$clone$() {
  var clone = new docs$text$protocol$FootnoteEntity(this.getId());
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$FootnoteEntity.prototype.updateInternal = goog$nullFunction;
// Input 325
function docs$text$protocol$HeaderFooterEntity(id) {
  docs$text$protocol$Entity.call(this, "header-footer", docs$text$protocol$HeaderFooterEntity$propertyNames_, id);
  this.headerFooterType_ = 0;
}
goog$inherits(docs$text$protocol$HeaderFooterEntity, docs$text$protocol$Entity);
var docs$text$protocol$HeaderFooterEntity$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({HEADER_FOOTER_TYPE:"hfe_hft"});
docs$text$protocol$HeaderFooterEntity.prototype.clone = function $docs$text$protocol$HeaderFooterEntity$$clone$() {
  var clone = new docs$text$protocol$HeaderFooterEntity(this.getId());
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$HeaderFooterEntity.prototype.copyToInternal = function $docs$text$protocol$HeaderFooterEntity$$copyToInternal$(other) {
  docs$text$protocol$HeaderFooterEntity.superClass_.copyToInternal.call(this, other);
  other.headerFooterType_ = this.headerFooterType_;
};
docs$text$protocol$HeaderFooterEntity.prototype.getValueInternal = function $docs$text$protocol$HeaderFooterEntity$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "hfe_hft":
      return this.headerFooterType_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$HeaderFooterEntity.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$HeaderFooterEntity$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "hfe_hft":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$HeaderFooterEntity.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$HeaderFooterEntity$$docs_text_protocol_Annotation_prototype$serializeInternal$() {
  var serialized = {};
  serialized.hfe_hft = this.headerFooterType_;
  return serialized;
};
docs$text$protocol$HeaderFooterEntity.prototype.updateInternal = function $docs$text$protocol$HeaderFooterEntity$$updateInternal$(propertyMap) {
  "hfe_hft" in propertyMap && (this.headerFooterType_ = propertyMap.hfe_hft);
};
docs$text$protocol$HeaderFooterEntity.prototype.equalsInternal = function $docs$text$protocol$HeaderFooterEntity$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$HeaderFooterEntity ? docs$text$protocol$HeaderFooterEntity.superClass_.equalsInternal.call(this, other, strategy) && this.headerFooterType_ == other.headerFooterType_ : !1;
};
// Input 326
function docs$text$protocol$Line(opt_propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$Line$propertyNames_);
  this.docs_text_protocol_Line$color_ = new docs$text$protocol$HexColor(docs$text$protocol$Line$DEFAULT_COLOR_PROPERTY_MAP_);
  this.docs_text_protocol_Line$colorDefined_ = !1;
  this.docs_text_protocol_Line$width_ = 0;
  this.docs_text_protocol_Line$widthDefined_ = !1;
  this.docs_text_protocol_Line$style_ = 0;
  this.styleDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$Line, docs$text$protocol$Annotation);
var docs$text$protocol$Line$DEFAULT_COLOR_PROPERTY_MAP_ = {hclr_color:"#000000"};
(new docs$text$protocol$Line).setImmutable();
var docs$text$protocol$Line$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COLOR:"ln_c", WIDTH:"ln_w", STYLE:"ln_s"});
docs$text$protocol$Line.prototype.updateInternal = function $docs$text$protocol$Line$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("ln_c" in propertyMap) {
    var value = propertyMap.ln_c;
    if (!requireDefined || this.docs_text_protocol_Line$colorDefined_) {
      this.docs_text_protocol_Line$colorDefined_ = !0;
      var colorMap = {clr_type:0};
      colorMap.hclr_color = value;
      this.docs_text_protocol_Line$color_.subsetEquals(colorMap) || (this.docs_text_protocol_Line$color_ = new docs$text$protocol$HexColor(colorMap));
    }
  }
  "ln_w" in propertyMap && (value = propertyMap.ln_w, !requireDefined || this.docs_text_protocol_Line$widthDefined_) && (this.docs_text_protocol_Line$widthDefined_ = !0, this.docs_text_protocol_Line$width_ = value);
  "ln_s" in propertyMap && (value = propertyMap.ln_s, !requireDefined || this.styleDefined_) && (this.styleDefined_ = !0, this.docs_text_protocol_Line$style_ = value);
};
docs$text$protocol$Line.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Line$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.docs_text_protocol_Line$colorDefined_ || (serializedObj.ln_c = this.docs_text_protocol_Line$color_.hexColor_);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_Line$widthDefined_) {
    serializedObj.ln_w = this.docs_text_protocol_Line$width_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.styleDefined_) {
    serializedObj.ln_s = this.docs_text_protocol_Line$style_;
  }
  return serializedObj;
};
docs$text$protocol$Line.prototype.equalsInternal = function $docs$text$protocol$Line$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$Line && (!strategy.compareDefined_ || this.docs_text_protocol_Line$colorDefined_ == other.docs_text_protocol_Line$colorDefined_ && this.docs_text_protocol_Line$widthDefined_ == other.docs_text_protocol_Line$widthDefined_ && this.styleDefined_ == other.styleDefined_) ? JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_Line$color_, other.docs_text_protocol_Line$color_, strategy) && this.docs_text_protocol_Line$width_ == other.docs_text_protocol_Line$width_ && 
  this.docs_text_protocol_Line$style_ == other.docs_text_protocol_Line$style_ : !1;
};
docs$text$protocol$Line.prototype.getValueInternal = function $docs$text$protocol$Line$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "ln_c":
      return this.docs_text_protocol_Line$color_.hexColor_;
    case "ln_w":
      return this.docs_text_protocol_Line$width_;
    case "ln_s":
      return this.docs_text_protocol_Line$style_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Line.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Line$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "ln_c":
      return this.docs_text_protocol_Line$colorDefined_;
    case "ln_w":
      return this.docs_text_protocol_Line$widthDefined_;
    case "ln_s":
      return this.styleDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Line.prototype.clone = function $docs$text$protocol$Line$$clone$() {
  var line = new docs$text$protocol$Line;
  this.copyTo(line);
  return line;
};
docs$text$protocol$Line.prototype.copyToInternal = function $docs$text$protocol$Line$$copyToInternal$(other) {
  other.docs_text_protocol_Line$color_ = this.docs_text_protocol_Line$color_.clone();
  other.docs_text_protocol_Line$colorDefined_ = this.docs_text_protocol_Line$colorDefined_;
  other.docs_text_protocol_Line$width_ = this.docs_text_protocol_Line$width_;
  other.docs_text_protocol_Line$widthDefined_ = this.docs_text_protocol_Line$widthDefined_;
  other.docs_text_protocol_Line$style_ = this.docs_text_protocol_Line$style_;
  other.styleDefined_ = this.styleDefined_;
};
// Input 327
function docs$text$protocol$LinkedContent() {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$LinkedContent$propertyNames_);
  this.sourceType_ = 0;
  this.sourceTypeDefined_ = !1;
  this.sourceCosmoId_ = "";
  this.sourceCosmoIdDefined_ = !1;
  this.objectId_ = "";
  this.objectIdDefined_ = !1;
  this.checksum_ = "";
  this.checksumDefined_ = !1;
}
goog$inherits(docs$text$protocol$LinkedContent, docs$text$protocol$Annotation);
var docs$text$protocol$LinkedContent$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({SOURCE_TYPE:"lc_ct", SOURCE_COSMO_ID:"lc_sci", OBJECT_ID:"lc_oi", CHECKSUM:"lc_cs"});
docs$text$protocol$LinkedContent.prototype.updateInternal = function $docs$text$protocol$LinkedContent$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("lc_ct" in propertyMap) {
    var value = propertyMap.lc_ct;
    if (!requireDefined || this.sourceTypeDefined_) {
      this.sourceTypeDefined_ = !0, this.sourceType_ = value;
    }
  }
  "lc_sci" in propertyMap && (value = propertyMap.lc_sci, !requireDefined || this.sourceCosmoIdDefined_) && (this.sourceCosmoIdDefined_ = !0, this.sourceCosmoId_ = value);
  "lc_oi" in propertyMap && (value = propertyMap.lc_oi, !requireDefined || this.objectIdDefined_) && (this.objectIdDefined_ = !0, this.objectId_ = value);
  "lc_cs" in propertyMap && (value = propertyMap.lc_cs, !requireDefined || this.checksumDefined_) && (this.checksumDefined_ = !0, this.checksum_ = value);
};
docs$text$protocol$LinkedContent.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$LinkedContent$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var obj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.sourceTypeDefined_) {
    obj.lc_ct = this.sourceType_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.sourceCosmoIdDefined_) {
    obj.lc_sci = this.sourceCosmoId_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.objectIdDefined_) {
    obj.lc_oi = this.objectId_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.checksumDefined_) {
    obj.lc_cs = this.checksum_;
  }
  return obj;
};
docs$text$protocol$LinkedContent.prototype.equalsInternal = function $docs$text$protocol$LinkedContent$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$LinkedContent && (!strategy.compareDefined_ || this.sourceTypeDefined_ == other.sourceTypeDefined_ && this.sourceCosmoIdDefined_ == other.sourceCosmoIdDefined_ && this.objectIdDefined_ == other.objectIdDefined_ && this.checksumDefined_ == other.checksumDefined_) ? this.sourceType_ == other.sourceType_ && this.sourceCosmoId_ == other.sourceCosmoId_ && this.objectId_ == other.objectId_ && this.checksum_ == other.checksum_ : !1;
};
docs$text$protocol$LinkedContent.prototype.getValueInternal = function $docs$text$protocol$LinkedContent$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "lc_ct":
      return this.sourceType_;
    case "lc_sci":
      return this.sourceCosmoId_;
    case "lc_oi":
      return this.objectId_;
    case "lc_cs":
      return this.checksum_;
  }
  throw Error("Unknown linked content property name " + propertyName);
};
docs$text$protocol$LinkedContent.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$LinkedContent$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "lc_ct":
      return this.sourceTypeDefined_;
    case "lc_sci":
      return this.sourceCosmoIdDefined_;
    case "lc_oi":
      return this.objectIdDefined_;
    case "lc_cs":
      return this.checksumDefined_;
  }
  throw Error("Unknown linked content property name " + propertyName);
};
docs$text$protocol$LinkedContent.prototype.clone = function $docs$text$protocol$LinkedContent$$clone$() {
  var copy = new docs$text$protocol$LinkedContent;
  this.copyTo(copy);
  return copy;
};
docs$text$protocol$LinkedContent.prototype.copyToInternal = function $docs$text$protocol$LinkedContent$$copyToInternal$(other) {
  other.sourceType_ = this.sourceType_;
  other.sourceTypeDefined_ = this.sourceTypeDefined_;
  other.sourceCosmoId_ = this.sourceCosmoId_;
  other.sourceCosmoIdDefined_ = this.sourceCosmoIdDefined_;
  other.objectId_ = this.objectId_;
  other.objectIdDefined_ = this.objectIdDefined_;
  other.checksum_ = this.checksum_;
  other.checksumDefined_ = this.checksumDefined_;
};
docs$text$protocol$LinkedContent.prototype.toString = function $docs$text$protocol$LinkedContent$$toString$() {
  return 0 == this.sourceType_ ? "NONE" : "sourceCosmoId = " + this.sourceCosmoId_ + ", objectId = " + this.objectId_ + ", checksum = " + this.checksum_;
};
// Input 328
function docs$text$protocol$EmbeddedObject(type, propertyNames, opt_propertyMap) {
  docs$text$protocol$Annotation.call(this, propertyNames);
  this.docs_text_protocol_EmbeddedObject$type_ = type;
  this.docs_text_protocol_EmbeddedObject$width_ = 0;
  this.docs_text_protocol_EmbeddedObject$widthDefined_ = !1;
  this.docs_text_protocol_EmbeddedObject$height_ = 0;
  this.heightDefined_ = !1;
  this.docs_text_protocol_EmbeddedObject$marginLeft_ = 1.5;
  this.docs_text_protocol_EmbeddedObject$marginLeftDefined_ = !1;
  this.docs_text_protocol_EmbeddedObject$marginRight_ = 1.5;
  this.docs_text_protocol_EmbeddedObject$marginRightDefined_ = !1;
  this.docs_text_protocol_EmbeddedObject$marginTop_ = 1.5;
  this.docs_text_protocol_EmbeddedObject$marginTopDefined_ = !1;
  this.docs_text_protocol_EmbeddedObject$marginBottom_ = 1.5;
  this.hasBorderDefined_ = this.hasBorder_ = this.docs_text_protocol_EmbeddedObject$marginBottomDefined_ = !1;
  this.border_ = new docs$text$protocol$Line;
  this.borderDefined_ = !1;
  this.linkedContent_ = new docs$text$protocol$LinkedContent;
  this.altTitle_ = null;
  this.altTitleDefined_ = !1;
  this.altDescription_ = null;
  this.altDescriptionDefined_ = !1;
  this.docs_text_protocol_EmbeddedObject$roundtripData_ = "";
  this.docs_text_protocol_EmbeddedObject$roundtripDataDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$EmbeddedObject, docs$text$protocol$Annotation);
var docs$text$protocol$EmbeddedObject$propertyNames, enabledPropertyNames$jscomp$inline_1196 = "eo_type eo_at eo_ad eo_bo eo_hb i_ht eo_lco eo_ml eo_mr eo_mt eo_mb i_wth".split(" ");
JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-erds") && (enabledPropertyNames$jscomp$inline_1196 = enabledPropertyNames$jscomp$inline_1196.concat(["eo_rtd"]));
docs$text$protocol$EmbeddedObject$propertyNames = new docs$text$protocol$PropertyNames(enabledPropertyNames$jscomp$inline_1196, {});
docs$text$protocol$EmbeddedObject.prototype.getType = function $docs$text$protocol$EmbeddedObject$$getType$() {
  return this.docs_text_protocol_EmbeddedObject$type_;
};
docs$text$protocol$EmbeddedObject.prototype.updateInternal = function $docs$text$protocol$EmbeddedObject$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("i_ht" in propertyMap) {
    var value = propertyMap.i_ht;
    if (!requireDefined || this.heightDefined_) {
      this.heightDefined_ = !0, this.docs_text_protocol_EmbeddedObject$height_ = value;
    }
  }
  "eo_lco" in propertyMap && (value = propertyMap.eo_lco, this.linkedContent_.update(value, opt_strategy));
  "eo_ml" in propertyMap && (value = propertyMap.eo_ml, !requireDefined || this.docs_text_protocol_EmbeddedObject$marginLeftDefined_) && (this.docs_text_protocol_EmbeddedObject$marginLeftDefined_ = !0, this.docs_text_protocol_EmbeddedObject$marginLeft_ = value);
  "eo_mr" in propertyMap && (value = propertyMap.eo_mr, !requireDefined || this.docs_text_protocol_EmbeddedObject$marginRightDefined_) && (this.docs_text_protocol_EmbeddedObject$marginRightDefined_ = !0, this.docs_text_protocol_EmbeddedObject$marginRight_ = value);
  "eo_mt" in propertyMap && (value = propertyMap.eo_mt, !requireDefined || this.docs_text_protocol_EmbeddedObject$marginTopDefined_) && (this.docs_text_protocol_EmbeddedObject$marginTopDefined_ = !0, this.docs_text_protocol_EmbeddedObject$marginTop_ = value);
  "eo_mb" in propertyMap && (value = propertyMap.eo_mb, !requireDefined || this.docs_text_protocol_EmbeddedObject$marginBottomDefined_) && (this.docs_text_protocol_EmbeddedObject$marginBottomDefined_ = !0, this.docs_text_protocol_EmbeddedObject$marginBottom_ = value);
  "eo_hb" in propertyMap && (value = propertyMap.eo_hb, !requireDefined || this.hasBorderDefined_) && (this.hasBorderDefined_ = !0, this.hasBorder_ = value);
  "eo_bo" in propertyMap && (value = propertyMap.eo_bo, !requireDefined || this.borderDefined_) && (this.borderDefined_ = !0, this.border_.update(value, opt_strategy));
  "i_wth" in propertyMap && (value = propertyMap.i_wth, !requireDefined || this.docs_text_protocol_EmbeddedObject$widthDefined_) && (this.docs_text_protocol_EmbeddedObject$widthDefined_ = !0, this.docs_text_protocol_EmbeddedObject$width_ = value);
  "eo_at" in propertyMap && (value = propertyMap.eo_at, !requireDefined || this.altTitleDefined_) && (this.altTitleDefined_ = !0, this.altTitle_ = value);
  "eo_ad" in propertyMap && (value = propertyMap.eo_ad, !requireDefined || this.altDescriptionDefined_) && (this.altDescriptionDefined_ = !0, this.altDescription_ = value);
  "eo_rtd" in propertyMap && (value = propertyMap.eo_rtd, !requireDefined || this.docs_text_protocol_EmbeddedObject$roundtripDataDefined_) && (this.docs_text_protocol_EmbeddedObject$roundtripDataDefined_ = !0, this.docs_text_protocol_EmbeddedObject$roundtripData_ = value);
};
docs$text$protocol$EmbeddedObject.prototype.getValueInternal = function $docs$text$protocol$EmbeddedObject$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "eo_type":
      return this.docs_text_protocol_EmbeddedObject$type_;
    case "i_ht":
      return this.docs_text_protocol_EmbeddedObject$height_;
    case "eo_lco":
      return this.linkedContent_;
    case "eo_ml":
      return this.docs_text_protocol_EmbeddedObject$marginLeft_;
    case "eo_mr":
      return this.docs_text_protocol_EmbeddedObject$marginRight_;
    case "eo_mt":
      return this.docs_text_protocol_EmbeddedObject$marginTop_;
    case "eo_mb":
      return this.docs_text_protocol_EmbeddedObject$marginBottom_;
    case "eo_hb":
      return this.hasBorder_;
    case "eo_bo":
      return this.border_;
    case "i_wth":
      return this.docs_text_protocol_EmbeddedObject$width_;
    case "eo_at":
      return this.altTitle_;
    case "eo_ad":
      return this.altDescription_;
    case "eo_rtd":
      return this.docs_text_protocol_EmbeddedObject$roundtripData_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$EmbeddedObject.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$EmbeddedObject$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "eo_type":
      return !0;
    case "i_ht":
      return this.heightDefined_;
    case "eo_lco":
      return !0;
    case "eo_ml":
      return this.docs_text_protocol_EmbeddedObject$marginLeftDefined_;
    case "eo_mr":
      return this.docs_text_protocol_EmbeddedObject$marginRightDefined_;
    case "eo_mt":
      return this.docs_text_protocol_EmbeddedObject$marginTopDefined_;
    case "eo_mb":
      return this.docs_text_protocol_EmbeddedObject$marginBottomDefined_;
    case "eo_hb":
      return this.hasBorderDefined_;
    case "eo_bo":
      return this.borderDefined_;
    case "i_wth":
      return this.docs_text_protocol_EmbeddedObject$widthDefined_;
    case "eo_at":
      return this.altTitleDefined_;
    case "eo_ad":
      return this.altDescriptionDefined_;
    case "eo_rtd":
      return this.docs_text_protocol_EmbeddedObject$roundtripDataDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$EmbeddedObject.prototype.equalsInternal = function $docs$text$protocol$EmbeddedObject$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$EmbeddedObject && (!strategy.compareDefined_ || this.heightDefined_ == other.heightDefined_ && this.docs_text_protocol_EmbeddedObject$marginLeftDefined_ == other.docs_text_protocol_EmbeddedObject$marginLeftDefined_ && this.docs_text_protocol_EmbeddedObject$marginRightDefined_ == other.docs_text_protocol_EmbeddedObject$marginRightDefined_ && this.docs_text_protocol_EmbeddedObject$marginTopDefined_ == other.docs_text_protocol_EmbeddedObject$marginTopDefined_ && 
  this.docs_text_protocol_EmbeddedObject$marginBottomDefined_ == other.docs_text_protocol_EmbeddedObject$marginBottomDefined_ && this.hasBorderDefined_ == other.hasBorderDefined_ && this.borderDefined_ == other.borderDefined_ && this.docs_text_protocol_EmbeddedObject$widthDefined_ == other.docs_text_protocol_EmbeddedObject$widthDefined_ && this.altTitleDefined_ == other.altTitleDefined_ && this.altDescriptionDefined_ == other.altDescriptionDefined_ && this.docs_text_protocol_EmbeddedObject$roundtripDataDefined_ == 
  other.docs_text_protocol_EmbeddedObject$roundtripDataDefined_) ? this.docs_text_protocol_EmbeddedObject$type_ == other.docs_text_protocol_EmbeddedObject$type_ && this.docs_text_protocol_EmbeddedObject$height_ == other.docs_text_protocol_EmbeddedObject$height_ && JSCompiler_StaticMethods_equalsWithStrategy(this.linkedContent_, other.linkedContent_, strategy) && this.docs_text_protocol_EmbeddedObject$marginLeft_ == other.docs_text_protocol_EmbeddedObject$marginLeft_ && this.docs_text_protocol_EmbeddedObject$marginRight_ == 
  other.docs_text_protocol_EmbeddedObject$marginRight_ && this.docs_text_protocol_EmbeddedObject$marginTop_ == other.docs_text_protocol_EmbeddedObject$marginTop_ && this.docs_text_protocol_EmbeddedObject$marginBottom_ == other.docs_text_protocol_EmbeddedObject$marginBottom_ && this.hasBorder_ == other.hasBorder_ && JSCompiler_StaticMethods_equalsWithStrategy(this.border_, other.border_, strategy) && this.docs_text_protocol_EmbeddedObject$width_ == other.docs_text_protocol_EmbeddedObject$width_ && 
  this.altTitle_ == other.altTitle_ && this.altDescription_ == other.altDescription_ && this.docs_text_protocol_EmbeddedObject$roundtripData_ == other.docs_text_protocol_EmbeddedObject$roundtripData_ : !1;
};
docs$text$protocol$EmbeddedObject.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$EmbeddedObject$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = {};
  serializedObject.eo_type = this.docs_text_protocol_EmbeddedObject$type_;
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_EmbeddedObject$widthDefined_) {
    serializedObject.i_wth = this.docs_text_protocol_EmbeddedObject$width_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.heightDefined_) {
    serializedObject.i_ht = this.docs_text_protocol_EmbeddedObject$height_;
  }
  var serializedLinkedContent = this.linkedContent_.serialize(strategy);
  JSCompiler_StaticMethods_shouldSerializeNestedAnnotation(strategy, serializedLinkedContent) && (serializedObject.eo_lco = serializedLinkedContent);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_EmbeddedObject$marginLeftDefined_) {
    serializedObject.eo_ml = this.docs_text_protocol_EmbeddedObject$marginLeft_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_EmbeddedObject$marginRightDefined_) {
    serializedObject.eo_mr = this.docs_text_protocol_EmbeddedObject$marginRight_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_EmbeddedObject$marginTopDefined_) {
    serializedObject.eo_mt = this.docs_text_protocol_EmbeddedObject$marginTop_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_EmbeddedObject$marginBottomDefined_) {
    serializedObject.eo_mb = this.docs_text_protocol_EmbeddedObject$marginBottom_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.hasBorderDefined_) {
    serializedObject.eo_hb = this.hasBorder_;
  }
  strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.borderDefined_ || (serializedObject.eo_bo = this.border_.serialize(strategy));
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.altTitleDefined_) {
    serializedObject.eo_at = this.altTitle_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.altDescriptionDefined_) {
    serializedObject.eo_ad = this.altDescription_;
  }
  !JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-text-erds") || strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.docs_text_protocol_EmbeddedObject$roundtripDataDefined_ || (serializedObject.eo_rtd = this.docs_text_protocol_EmbeddedObject$roundtripData_);
  return serializedObject;
};
docs$text$protocol$EmbeddedObject.prototype.isNestedAnnotation = function $docs$text$protocol$EmbeddedObject$$isNestedAnnotation$(propertyName) {
  return "eo_bo" == propertyName || "eo_lco" == propertyName;
};
docs$text$protocol$EmbeddedObject.prototype.copyToInternal = function $docs$text$protocol$EmbeddedObject$$copyToInternal$(other) {
  other.docs_text_protocol_EmbeddedObject$width_ = this.docs_text_protocol_EmbeddedObject$width_;
  other.docs_text_protocol_EmbeddedObject$widthDefined_ = this.docs_text_protocol_EmbeddedObject$widthDefined_;
  other.docs_text_protocol_EmbeddedObject$height_ = this.docs_text_protocol_EmbeddedObject$height_;
  other.heightDefined_ = this.heightDefined_;
  this.linkedContent_.copyTo(other.linkedContent_);
  other.docs_text_protocol_EmbeddedObject$marginLeft_ = this.docs_text_protocol_EmbeddedObject$marginLeft_;
  other.docs_text_protocol_EmbeddedObject$marginLeftDefined_ = this.docs_text_protocol_EmbeddedObject$marginLeftDefined_;
  other.docs_text_protocol_EmbeddedObject$marginRight_ = this.docs_text_protocol_EmbeddedObject$marginRight_;
  other.docs_text_protocol_EmbeddedObject$marginRightDefined_ = this.docs_text_protocol_EmbeddedObject$marginRightDefined_;
  other.docs_text_protocol_EmbeddedObject$marginTop_ = this.docs_text_protocol_EmbeddedObject$marginTop_;
  other.docs_text_protocol_EmbeddedObject$marginTopDefined_ = this.docs_text_protocol_EmbeddedObject$marginTopDefined_;
  other.docs_text_protocol_EmbeddedObject$marginBottom_ = this.docs_text_protocol_EmbeddedObject$marginBottom_;
  other.docs_text_protocol_EmbeddedObject$marginBottomDefined_ = this.docs_text_protocol_EmbeddedObject$marginBottomDefined_;
  other.hasBorder_ = this.hasBorder_;
  other.hasBorderDefined_ = this.hasBorderDefined_;
  this.border_.copyTo(other.border_);
  other.borderDefined_ = this.borderDefined_;
  other.altTitle_ = this.altTitle_;
  other.altTitleDefined_ = this.altTitleDefined_;
  other.altDescription_ = this.altDescription_;
  other.altDescriptionDefined_ = this.altDescriptionDefined_;
  other.docs_text_protocol_EmbeddedObject$roundtripData_ = this.docs_text_protocol_EmbeddedObject$roundtripData_;
  other.docs_text_protocol_EmbeddedObject$roundtripDataDefined_ = this.docs_text_protocol_EmbeddedObject$roundtripDataDefined_;
};
// Input 329
function docs$text$protocol$Drawing(opt_propertyMap) {
  docs$text$protocol$EmbeddedObject.call(this, 2, docs$text$protocol$Drawing$propertyNames_, opt_propertyMap);
  this.docs_text_protocol_Drawing$id_ = null;
  this.idDefined_ = !1;
  this.docs_text_protocol_Drawing$revision_ = 0;
  this.revisionDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$Drawing, docs$text$protocol$EmbeddedObject);
var docs$text$protocol$Drawing$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({ID:"d_id", REVISION:"d_revision"}, docs$text$protocol$EmbeddedObject$propertyNames);
docs$text$protocol$Drawing.prototype.getId = function $docs$text$protocol$Drawing$$getId$() {
  return this.docs_text_protocol_Drawing$id_;
};
docs$text$protocol$Drawing.prototype.updateInternal = function $docs$text$protocol$Drawing$$updateInternal$(propertyMap, opt_strategy) {
  docs$text$protocol$Drawing.superClass_.updateInternal.call(this, propertyMap, opt_strategy);
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("d_id" in propertyMap) {
    var value = propertyMap.d_id;
    if (!requireDefined || this.idDefined_) {
      this.idDefined_ = !0, this.docs_text_protocol_Drawing$id_ = value;
    }
  }
  "d_revision" in propertyMap && (value = propertyMap.d_revision, !requireDefined || this.revisionDefined_) && (this.revisionDefined_ = !0, this.docs_text_protocol_Drawing$revision_ = value);
};
docs$text$protocol$Drawing.prototype.getValueInternal = function $docs$text$protocol$Drawing$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "d_id":
      return this.docs_text_protocol_Drawing$id_;
    case "d_revision":
      return this.docs_text_protocol_Drawing$revision_;
  }
  return docs$text$protocol$Drawing.superClass_.getValueInternal.call(this, propertyName);
};
docs$text$protocol$Drawing.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Drawing$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "d_id":
      return this.idDefined_;
    case "d_revision":
      return this.revisionDefined_;
  }
  return docs$text$protocol$Drawing.superClass_.docs_text_protocol_Annotation_prototype$isDefined.call(this, propertyName);
};
docs$text$protocol$Drawing.prototype.equalsInternal = function $docs$text$protocol$Drawing$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$Drawing && (!strategy.compareDefined_ || this.idDefined_ == other.idDefined_ && this.revisionDefined_ == other.revisionDefined_) ? docs$text$protocol$Drawing.superClass_.equalsInternal.call(this, other, strategy) && this.docs_text_protocol_Drawing$id_ == other.docs_text_protocol_Drawing$id_ && this.docs_text_protocol_Drawing$revision_ == other.docs_text_protocol_Drawing$revision_ : !1;
};
docs$text$protocol$Drawing.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Drawing$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = docs$text$protocol$Drawing.superClass_.docs_text_protocol_Annotation_prototype$serializeInternal.call(this, strategy);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.idDefined_) {
    serializedObject.d_id = this.docs_text_protocol_Drawing$id_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.revisionDefined_) {
    serializedObject.d_revision = this.docs_text_protocol_Drawing$revision_;
  }
  return serializedObject;
};
docs$text$protocol$Drawing.prototype.clone = function $docs$text$protocol$Drawing$$clone$() {
  var clone = new docs$text$protocol$Drawing;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$Drawing.prototype.copyToInternal = function $docs$text$protocol$Drawing$$copyToInternal$(other) {
  docs$text$protocol$Drawing.superClass_.copyToInternal.call(this, other);
  other.docs_text_protocol_Drawing$id_ = this.docs_text_protocol_Drawing$id_;
  other.idDefined_ = this.idDefined_;
  other.docs_text_protocol_Drawing$revision_ = this.docs_text_protocol_Drawing$revision_;
  other.revisionDefined_ = this.revisionDefined_;
};
// Input 330
function docs$text$protocol$ColorStop(color, position) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$ColorStop$propertyNames_);
  this.docs_text_protocol_ColorStop$color_ = color;
  if (0 > position || 1 < position) {
    throw Error("Position needs to between 0 and 1");
  }
  this.position_ = position;
  this.setImmutable();
}
goog$inherits(docs$text$protocol$ColorStop, docs$text$protocol$Annotation);
var docs$text$protocol$ColorStop$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({COLOR:"clst_c", POSITION:"clst_p"});
docs$text$protocol$ColorStop.prototype.updateInternal = goog$nullFunction;
docs$text$protocol$ColorStop.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$ColorStop$$docs_text_protocol_Annotation_prototype$serializeInternal$() {
  var serializedObj = {};
  serializedObj.clst_c = this.docs_text_protocol_ColorStop$color_.hexColor_;
  serializedObj.clst_p = this.position_;
  return serializedObj;
};
docs$text$protocol$ColorStop.prototype.equalsInternal = function $docs$text$protocol$ColorStop$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$ColorStop ? this.position_ == other.position_ && JSCompiler_StaticMethods_equalsWithStrategy(this.docs_text_protocol_ColorStop$color_, other.docs_text_protocol_ColorStop$color_, strategy) : !1;
};
docs$text$protocol$ColorStop.prototype.getValueInternal = function $docs$text$protocol$ColorStop$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "clst_c":
      return this.docs_text_protocol_ColorStop$color_.hexColor_;
    case "clst_p":
      return this.position_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ColorStop.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$ColorStop$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "clst_c":
    case "clst_p":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$ColorStop.prototype.clone = function $docs$text$protocol$ColorStop$$clone$() {
  return this;
};
docs$text$protocol$ColorStop.prototype.copyToInternal = function $docs$text$protocol$ColorStop$$copyToInternal$() {
  throw Error("Cannot copy immutable color stop annotation.");
};
function docs$text$protocol$ColorStop$create(propertyMap$jscomp$0) {
  var color = propertyMap$jscomp$0.clst_c, position = propertyMap$jscomp$0.clst_p;
  if (!color || null == position) {
    throw Error("Creating a color stop requires a color and a position.");
  }
  var JSCompiler_inline_result, propertyMap = {clr_type:0};
  propertyMap.hclr_color = color;
  JSCompiler_inline_result = new docs$text$protocol$HexColor(propertyMap);
  return new docs$text$protocol$ColorStop(JSCompiler_inline_result, position);
}
;
// Input 331
function docs$text$protocol$Crop(opt_propertyMap) {
  docs$text$protocol$Annotation.call(this, docs$text$protocol$Crop$propertyNames_);
  this.offsetXRatio_ = 0;
  this.offsetXRatioDefined_ = !1;
  this.offsetYRatio_ = 0;
  this.offsetYRatioDefined_ = !1;
  this.widthRatio_ = 1;
  this.widthRatioDefined_ = !1;
  this.heightRatio_ = 1;
  this.heightRatioDefined_ = !1;
  this.docs_text_protocol_Crop$rotation_ = 0;
  this.docs_text_protocol_Crop$rotationDefined_ = !1;
  opt_propertyMap && this.update(opt_propertyMap);
}
goog$inherits(docs$text$protocol$Crop, docs$text$protocol$Annotation);
var docs$text$protocol$Crop$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({OFFSET_X_RATIO:"crop_oxr", OFFSET_Y_RATIO:"crop_oyr", WIDTH_RATIO:"crop_wr", HEIGHT_RATIO:"crop_hr", ROTATION:"crop_rot"});
docs$text$protocol$Crop.prototype.updateInternal = function $docs$text$protocol$Crop$$updateInternal$(propertyMap, opt_strategy) {
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("crop_oxr" in propertyMap) {
    var value = propertyMap.crop_oxr;
    if (!requireDefined || this.offsetXRatioDefined_) {
      this.offsetXRatioDefined_ = !0, this.offsetXRatio_ = value;
    }
  }
  "crop_oyr" in propertyMap && (value = propertyMap.crop_oyr, !requireDefined || this.offsetYRatioDefined_) && (this.offsetYRatioDefined_ = !0, this.offsetYRatio_ = value);
  "crop_wr" in propertyMap && (value = propertyMap.crop_wr, !requireDefined || this.widthRatioDefined_) && (this.widthRatioDefined_ = !0, this.widthRatio_ = value);
  "crop_hr" in propertyMap && (value = propertyMap.crop_hr, !requireDefined || this.heightRatioDefined_) && (this.heightRatioDefined_ = !0, this.heightRatio_ = value);
  "crop_rot" in propertyMap && (value = propertyMap.crop_rot, !requireDefined || this.docs_text_protocol_Crop$rotationDefined_) && (this.docs_text_protocol_Crop$rotationDefined_ = !0, this.docs_text_protocol_Crop$rotation_ = value);
};
docs$text$protocol$Crop.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Crop$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {};
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.offsetXRatioDefined_) {
    serializedObj.crop_oxr = this.offsetXRatio_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.offsetYRatioDefined_) {
    serializedObj.crop_oyr = this.offsetYRatio_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.widthRatioDefined_) {
    serializedObj.crop_wr = this.widthRatio_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.heightRatioDefined_) {
    serializedObj.crop_hr = this.heightRatio_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_Crop$rotationDefined_) {
    serializedObj.crop_rot = this.docs_text_protocol_Crop$rotation_;
  }
  return serializedObj;
};
docs$text$protocol$Crop.prototype.equalsInternal = function $docs$text$protocol$Crop$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$Crop && (!strategy.compareDefined_ || this.offsetXRatioDefined_ == other.offsetXRatioDefined_ && this.offsetYRatioDefined_ == other.offsetYRatioDefined_ && this.widthRatioDefined_ == other.widthRatioDefined_ && this.heightRatioDefined_ == other.heightRatioDefined_ && this.docs_text_protocol_Crop$rotationDefined_ == other.docs_text_protocol_Crop$rotationDefined_) ? this.offsetXRatio_ == other.offsetXRatio_ && this.offsetYRatio_ == other.offsetYRatio_ && 
  this.widthRatio_ == other.widthRatio_ && this.heightRatio_ == other.heightRatio_ && this.docs_text_protocol_Crop$rotation_ == other.docs_text_protocol_Crop$rotation_ : !1;
};
docs$text$protocol$Crop.prototype.getValueInternal = function $docs$text$protocol$Crop$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "crop_oxr":
      return this.offsetXRatio_;
    case "crop_oyr":
      return this.offsetYRatio_;
    case "crop_wr":
      return this.widthRatio_;
    case "crop_hr":
      return this.heightRatio_;
    case "crop_rot":
      return this.docs_text_protocol_Crop$rotation_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Crop.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Crop$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "crop_oxr":
      return this.offsetXRatioDefined_;
    case "crop_oyr":
      return this.offsetYRatioDefined_;
    case "crop_wr":
      return this.widthRatioDefined_;
    case "crop_hr":
      return this.heightRatioDefined_;
    case "crop_rot":
      return this.docs_text_protocol_Crop$rotationDefined_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$Crop.prototype.clone = function $docs$text$protocol$Crop$$clone$() {
  var crop = new docs$text$protocol$Crop;
  this.copyTo(crop);
  return crop;
};
docs$text$protocol$Crop.prototype.copyToInternal = function $docs$text$protocol$Crop$$copyToInternal$(other) {
  other.offsetXRatio_ = this.offsetXRatio_;
  other.offsetXRatioDefined_ = this.offsetXRatioDefined_;
  other.offsetYRatio_ = this.offsetYRatio_;
  other.offsetYRatioDefined_ = this.offsetYRatioDefined_;
  other.widthRatio_ = this.widthRatio_;
  other.widthRatioDefined_ = this.widthRatioDefined_;
  other.heightRatio_ = this.heightRatio_;
  other.heightRatioDefined_ = this.heightRatioDefined_;
  other.docs_text_protocol_Crop$rotation_ = this.docs_text_protocol_Crop$rotation_;
  other.docs_text_protocol_Crop$rotationDefined_ = this.docs_text_protocol_Crop$rotationDefined_;
};
// Input 332
function docs$text$protocol$Image(opt_propertyMap) {
  this.crop_ = new docs$text$protocol$Crop;
  this.cropDefined_ = !1;
  this.docs_text_protocol_Image$rotation_ = 0;
  this.docs_text_protocol_Image$rotationDefined_ = !1;
  this.brightness_ = 0;
  this.brightnessDefined_ = !1;
  this.contrast_ = 0;
  this.contrastDefined_ = !1;
  this.opacity_ = 1;
  this.opacityDefined_ = !1;
  this.recolorStops_ = new docs$text$protocol$Collection(new docs$text$protocol$AnnotationCollectionStrategy(docs$text$protocol$ColorStop$create));
  docs$text$protocol$EmbeddedObject.call(this, 0, docs$text$protocol$Image$propertyNames_, opt_propertyMap);
}
goog$inherits(docs$text$protocol$Image, docs$text$protocol$EmbeddedObject);
var docs$text$protocol$Image$propertyNames_ = docs$text$protocol$PropertyNames$fromBasePropertyNames("i_bri i_cont i_cid i_crop i_opa i_clst i_rot i_src".split(" "), docs$text$protocol$EmbeddedObject$propertyNames);
docs$text$protocol$Image.prototype.src_ = "";
docs$text$protocol$Image.prototype.srcDefined_ = !1;
docs$text$protocol$Image.prototype.cosmoId_ = "";
docs$text$protocol$Image.prototype.cosmoIdDefined_ = !1;
docs$text$protocol$Image.prototype.isNestedAnnotation = function $docs$text$protocol$Image$$isNestedAnnotation$(propertyName) {
  switch(propertyName) {
    case "i_clst":
    case "i_crop":
      return !0;
  }
  return docs$text$protocol$Image.superClass_.isNestedAnnotation.call(this, propertyName);
};
docs$text$protocol$Image.prototype.updateInternal = function $docs$text$protocol$Image$$updateInternal$(propertyMap, opt_strategy) {
  docs$text$protocol$Image.superClass_.updateInternal.call(this, propertyMap, opt_strategy);
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("i_bri" in propertyMap) {
    var value = propertyMap.i_bri;
    if (!requireDefined || this.brightnessDefined_) {
      this.brightnessDefined_ = !0;
      var brightness = value;
      if (-1 > brightness || 1 < brightness) {
        throw Error("Brightness must be between -1 and 1.");
      }
      this.brightness_ = brightness;
    }
  }
  if ("i_clst" in propertyMap) {
    value = propertyMap.i_clst;
    var colorStops = new docs$text$protocol$Collection(new docs$text$protocol$AnnotationCollectionStrategy(docs$text$protocol$ColorStop$create));
    colorStops.update(value, void 0);
    var colorStopValues = colorStops.getValues(), numColorStops = colorStopValues.length;
    if (0 != numColorStops) {
      if (1 == numColorStops) {
        throw Error("There cannot be a single color stop value");
      }
      if (256 < numColorStops) {
        throw Error("There cannot be more than 256 color stops");
      }
      if (0 != colorStopValues[0].position_) {
        throw Error("First color stop must have position of 0");
      }
      if (1 != colorStopValues[numColorStops - 1].position_) {
        throw Error("Last color stop must have position of 1");
      }
      for (var lastPosition = colorStopValues[0].position_, i = 1;i < numColorStops;i++) {
        var position = colorStopValues[i].position_;
        if (position <= lastPosition) {
          throw Error("Color stop positions must be strictly increasing");
        }
        lastPosition = position;
      }
    }
    this.recolorStops_ = colorStops;
  }
  if ("i_cont" in propertyMap && (value = propertyMap.i_cont, !requireDefined || this.contrastDefined_)) {
    this.contrastDefined_ = !0;
    var contrast = value;
    if (-1 > contrast || 1 < contrast) {
      throw Error("Contrast must be between -1 and 1.");
    }
    this.contrast_ = contrast;
  }
  "i_cid" in propertyMap && (value = propertyMap.i_cid, !requireDefined || this.cosmoIdDefined_) && (this.cosmoIdDefined_ = !0, this.cosmoId_ = value || "");
  "i_crop" in propertyMap && (value = propertyMap.i_crop, !requireDefined || this.cropDefined_) && (this.cropDefined_ = !0, this.crop_.update(value, opt_strategy));
  if ("i_opa" in propertyMap && (value = propertyMap.i_opa, !requireDefined || this.opacityDefined_)) {
    this.opacityDefined_ = !0;
    var opacity = value;
    if (0 > opacity || 1 < opacity) {
      throw Error("Opacity must be between 0 and 1.");
    }
    this.opacity_ = opacity;
  }
  "i_rot" in propertyMap && (value = propertyMap.i_rot, !requireDefined || this.docs_text_protocol_Image$rotationDefined_) && (this.docs_text_protocol_Image$rotationDefined_ = !0, this.docs_text_protocol_Image$rotation_ = value);
  "i_src" in propertyMap && (value = propertyMap.i_src, !requireDefined || this.srcDefined_) && (this.srcDefined_ = !0, this.src_ = value || "");
};
docs$text$protocol$Image.prototype.getValueInternal = function $docs$text$protocol$Image$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "i_bri":
      return this.brightness_;
    case "i_clst":
      return this.recolorStops_;
    case "i_cont":
      return this.contrast_;
    case "i_cid":
      return this.cosmoId_;
    case "i_crop":
      return this.crop_;
    case "i_opa":
      return this.opacity_;
    case "i_rot":
      return this.docs_text_protocol_Image$rotation_;
    case "i_src":
      return this.src_;
  }
  return docs$text$protocol$Image.superClass_.getValueInternal.call(this, propertyName);
};
docs$text$protocol$Image.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$Image$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "i_bri":
      return this.brightnessDefined_;
    case "i_clst":
      return !0;
    case "i_cont":
      return this.contrastDefined_;
    case "i_cid":
      return this.cosmoIdDefined_;
    case "i_crop":
      return this.cropDefined_;
    case "i_opa":
      return this.opacityDefined_;
    case "i_rot":
      return this.docs_text_protocol_Image$rotationDefined_;
    case "i_src":
      return this.srcDefined_;
  }
  return docs$text$protocol$Image.superClass_.docs_text_protocol_Annotation_prototype$isDefined.call(this, propertyName);
};
docs$text$protocol$Image.prototype.equalsInternal = function $docs$text$protocol$Image$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$Image && (!strategy.compareDefined_ || this.brightnessDefined_ == other.brightnessDefined_ && this.contrastDefined_ == other.contrastDefined_ && this.cosmoIdDefined_ == other.cosmoIdDefined_ && this.cropDefined_ == other.cropDefined_ && this.opacityDefined_ == other.opacityDefined_ && this.docs_text_protocol_Image$rotationDefined_ == other.docs_text_protocol_Image$rotationDefined_ && this.srcDefined_ == other.srcDefined_) ? docs$text$protocol$Image.superClass_.equalsInternal.call(this, 
  other, strategy) && this.brightness_ == other.brightness_ && JSCompiler_StaticMethods_equalsWithStrategy(this.recolorStops_, other.recolorStops_, strategy) && this.contrast_ == other.contrast_ && this.cosmoId_ == other.cosmoId_ && JSCompiler_StaticMethods_equalsWithStrategy(this.crop_, other.crop_, strategy) && this.opacity_ == other.opacity_ && this.docs_text_protocol_Image$rotation_ == other.docs_text_protocol_Image$rotation_ && this.src_ == other.src_ : !1;
};
docs$text$protocol$Image.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$Image$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = docs$text$protocol$Image.superClass_.docs_text_protocol_Annotation_prototype$serializeInternal.call(this, strategy);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.brightnessDefined_) {
    serializedObject.i_bri = this.brightness_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.contrastDefined_) {
    serializedObject.i_cont = this.contrast_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.opacityDefined_) {
    serializedObject.i_opa = this.opacity_;
  }
  var serializedRecolorStops = this.recolorStops_.serialize(strategy);
  goog$object$isEmpty(serializedRecolorStops) || (serializedObject.i_clst = serializedRecolorStops);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.cosmoIdDefined_) {
    serializedObject.i_cid = this.cosmoId_;
  }
  strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && !this.cropDefined_ || (serializedObject.i_crop = this.crop_.serialize(strategy));
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.docs_text_protocol_Image$rotationDefined_) {
    serializedObject.i_rot = this.docs_text_protocol_Image$rotation_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.srcDefined_) {
    serializedObject.i_src = this.src_;
  }
  return serializedObject;
};
docs$text$protocol$Image.prototype.clone = function $docs$text$protocol$Image$$clone$() {
  var clone = new docs$text$protocol$Image;
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$Image.prototype.copyToInternal = function $docs$text$protocol$Image$$copyToInternal$(other) {
  docs$text$protocol$Image.superClass_.copyToInternal.call(this, other);
  other.brightness_ = this.brightness_;
  other.brightnessDefined_ = this.brightnessDefined_;
  other.recolorStops_ = this.recolorStops_.clone();
  other.contrast_ = this.contrast_;
  other.contrastDefined_ = this.contrastDefined_;
  other.cosmoId_ = this.cosmoId_;
  other.cosmoIdDefined_ = this.cosmoIdDefined_;
  this.crop_.copyTo(other.crop_);
  other.cropDefined_ = this.cropDefined_;
  other.opacity_ = this.opacity_;
  other.opacityDefined_ = this.opacityDefined_;
  other.docs_text_protocol_Image$rotation_ = this.docs_text_protocol_Image$rotation_;
  other.docs_text_protocol_Image$rotationDefined_ = this.docs_text_protocol_Image$rotationDefined_;
  other.src_ = this.src_;
  other.srcDefined_ = this.srcDefined_;
};
// Input 333
// Input 334
function docs$text$protocol$EmbeddedEntity(type, propertyNames, id, embeddedObjectType) {
  docs$text$protocol$Entity.call(this, type, propertyNames, id);
  var JSCompiler_inline_result;
  a: {
    switch(embeddedObjectType) {
      case 2:
        JSCompiler_inline_result = new docs$text$protocol$Drawing;
        break a;
      case 0:
        JSCompiler_inline_result = new docs$text$protocol$Image;
        break a;
      default:
        throw Error("Unknown embedded object type " + embeddedObjectType);
    }
  }
  this.embeddedObject_ = JSCompiler_inline_result;
}
goog$inherits(docs$text$protocol$EmbeddedEntity, docs$text$protocol$Entity);
var docs$text$protocol$EmbeddedEntity$propertyNames = docs$text$protocol$PropertyNames$fromNonInheritableEnum({EMBEDDED_OBJECT:"ee_eo"}), docs$text$protocol$EmbeddedEntity$NESTING_ANNOTATION_PROPERTY_NAMES_ = ["ee_eo"];
docs$text$protocol$EmbeddedEntity.prototype.copyToInternal = function $docs$text$protocol$EmbeddedEntity$$copyToInternal$(other) {
  docs$text$protocol$EmbeddedEntity.superClass_.copyToInternal.call(this, other);
  other.embeddedObject_ = this.embeddedObject_.clone();
};
docs$text$protocol$EmbeddedEntity.prototype.updateInternal = function $docs$text$protocol$EmbeddedEntity$$updateInternal$(propertyMap, opt_strategy) {
  "ee_eo" in propertyMap && this.embeddedObject_.update(propertyMap.ee_eo, opt_strategy);
};
docs$text$protocol$EmbeddedEntity.prototype.getValueInternal = function $docs$text$protocol$EmbeddedEntity$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "ee_eo":
      return this.embeddedObject_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$EmbeddedEntity.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$EmbeddedEntity$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "ee_eo":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$EmbeddedEntity.prototype.equalsInternal = function $docs$text$protocol$EmbeddedEntity$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$EmbeddedEntity ? JSCompiler_StaticMethods_equalsWithStrategy(this.embeddedObject_, other.embeddedObject_, strategy) && docs$text$protocol$EmbeddedEntity.superClass_.equalsInternal.call(this, other, strategy) : !1;
};
docs$text$protocol$EmbeddedEntity.prototype.isNestedAnnotation = function $docs$text$protocol$EmbeddedEntity$$isNestedAnnotation$(propertyName) {
  return "ee_eo" == propertyName;
};
docs$text$protocol$EmbeddedEntity.prototype.getNestedAnnotationPropertyNames = function $docs$text$protocol$EmbeddedEntity$$getNestedAnnotationPropertyNames$() {
  return docs$text$protocol$EmbeddedEntity$NESTING_ANNOTATION_PROPERTY_NAMES_;
};
docs$text$protocol$EmbeddedEntity.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$EmbeddedEntity$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObj = {}, serializedEmbeddedObject = this.embeddedObject_.serialize(strategy);
  strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ && goog$object$isEmpty(serializedEmbeddedObject) || (serializedObj.ee_eo = serializedEmbeddedObject);
  return serializedObj;
};
// Input 335
function docs$text$protocol$InlineEntity(id, embeddedObjectType) {
  docs$text$protocol$EmbeddedEntity.call(this, "inline", docs$text$protocol$EmbeddedEntity$propertyNames, id, embeddedObjectType);
}
goog$inherits(docs$text$protocol$InlineEntity, docs$text$protocol$EmbeddedEntity);
docs$text$protocol$InlineEntity.prototype.clone = function $docs$text$protocol$InlineEntity$$clone$() {
  var clone = new docs$text$protocol$InlineEntity(this.getId(), this.embeddedObject_.getType());
  this.copyTo(clone);
  return clone;
};
// Input 336
function docs$text$protocol$NamedRangeEntity(id, name) {
  docs$text$protocol$Entity.call(this, "named-range", docs$text$protocol$NamedRangeEntity$PROPERTY_NAMES_, id);
  this.docs_text_protocol_NamedRangeEntity$name_ = name;
}
goog$inherits(docs$text$protocol$NamedRangeEntity, docs$text$protocol$Entity);
var docs$text$protocol$NamedRangeEntity$PROPERTY_NAMES_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({NAME:"nre_n"});
docs$text$protocol$NamedRangeEntity.prototype.clone = function $docs$text$protocol$NamedRangeEntity$$clone$() {
  var clonedEntity = new docs$text$protocol$NamedRangeEntity(this.getId(), this.docs_text_protocol_NamedRangeEntity$name_);
  this.copyTo(clonedEntity);
  return clonedEntity;
};
docs$text$protocol$NamedRangeEntity.prototype.getValueInternal = function $docs$text$protocol$NamedRangeEntity$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "nre_n":
      return this.docs_text_protocol_NamedRangeEntity$name_;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$NamedRangeEntity.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$NamedRangeEntity$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "nre_n":
      return !0;
  }
  throw Error("Unknown annotation property name " + propertyName);
};
docs$text$protocol$NamedRangeEntity.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$NamedRangeEntity$$docs_text_protocol_Annotation_prototype$serializeInternal$() {
  return {nre_n:this.docs_text_protocol_NamedRangeEntity$name_};
};
docs$text$protocol$NamedRangeEntity.prototype.updateInternal = function $docs$text$protocol$NamedRangeEntity$$updateInternal$(propertyMap) {
  "nre_n" in propertyMap && (this.docs_text_protocol_NamedRangeEntity$name_ = goog$asserts$assertString(propertyMap.nre_n, "Named-range entity name value must be a string"));
};
docs$text$protocol$NamedRangeEntity.prototype.equalsInternal = function $docs$text$protocol$NamedRangeEntity$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$NamedRangeEntity ? docs$text$protocol$NamedRangeEntity.superClass_.equalsInternal.call(this, other, strategy) && this.docs_text_protocol_NamedRangeEntity$name_ == other.docs_text_protocol_NamedRangeEntity$name_ : !1;
};
// Input 337
function docs$text$protocol$PositionedEntity(id, embeddedObjectType) {
  docs$text$protocol$EmbeddedEntity.call(this, "positioned", docs$text$protocol$PositionedEntity$propertyNames_, id, embeddedObjectType);
}
goog$inherits(docs$text$protocol$PositionedEntity, docs$text$protocol$EmbeddedEntity);
docs$text$protocol$PositionedEntity.prototype.offsetLeft_ = 0;
docs$text$protocol$PositionedEntity.prototype.offsetLeftDefined_ = !1;
docs$text$protocol$PositionedEntity.prototype.offsetTop_ = 0;
docs$text$protocol$PositionedEntity.prototype.offsetTopDefined_ = !1;
docs$text$protocol$PositionedEntity.prototype.layout_ = 0;
docs$text$protocol$PositionedEntity.prototype.layoutDefined_ = !1;
var docs$text$protocol$PositionedEntity$propertyNames_ = docs$text$protocol$PropertyNames$fromNonInheritableEnum({LAYOUT:"pe_l", OFFSET_LEFT:"pe_lo", OFFSET_TOP:"pe_to"}, docs$text$protocol$EmbeddedEntity$propertyNames);
docs$text$protocol$PositionedEntity.prototype.clone = function $docs$text$protocol$PositionedEntity$$clone$() {
  var clone = new docs$text$protocol$PositionedEntity(this.getId(), this.embeddedObject_.getType());
  this.copyTo(clone);
  return clone;
};
docs$text$protocol$PositionedEntity.prototype.copyToInternal = function $docs$text$protocol$PositionedEntity$$copyToInternal$(other) {
  docs$text$protocol$PositionedEntity.superClass_.copyToInternal.call(this, other);
  other.offsetLeft_ = this.offsetLeft_;
  other.offsetLeftDefined_ = this.offsetLeftDefined_;
  other.offsetTop_ = this.offsetTop_;
  other.offsetTopDefined_ = this.offsetTopDefined_;
  other.layout_ = this.layout_;
  other.layoutDefined_ = this.layoutDefined_;
};
docs$text$protocol$PositionedEntity.prototype.updateInternal = function $docs$text$protocol$PositionedEntity$$updateInternal$(propertyMap, opt_strategy) {
  docs$text$protocol$PositionedEntity.superClass_.updateInternal.call(this, propertyMap, opt_strategy);
  var requireDefined = !!opt_strategy && opt_strategy.docs_text_protocol_PropertyMapStrategyState$onlyDefined_;
  if ("pe_lo" in propertyMap) {
    var value = propertyMap.pe_lo;
    if (!requireDefined || this.offsetLeftDefined_) {
      this.offsetLeftDefined_ = !0, this.offsetLeft_ = value;
    }
  }
  "pe_to" in propertyMap && (value = propertyMap.pe_to, !requireDefined || this.offsetTopDefined_) && (this.offsetTopDefined_ = !0, this.offsetTop_ = value);
  "pe_l" in propertyMap && (value = propertyMap.pe_l, !requireDefined || this.layoutDefined_) && (this.layoutDefined_ = !0, this.layout_ = value);
};
docs$text$protocol$PositionedEntity.prototype.getValueInternal = function $docs$text$protocol$PositionedEntity$$getValueInternal$(propertyName) {
  switch(propertyName) {
    case "pe_lo":
      return this.offsetLeft_;
    case "pe_to":
      return this.offsetTop_;
    case "pe_l":
      return this.layout_;
  }
  return docs$text$protocol$PositionedEntity.superClass_.getValueInternal.call(this, propertyName);
};
docs$text$protocol$PositionedEntity.prototype.docs_text_protocol_Annotation_prototype$isDefined = function $docs$text$protocol$PositionedEntity$$docs_text_protocol_Annotation_prototype$isDefined$(propertyName) {
  switch(propertyName) {
    case "pe_lo":
      return this.offsetLeftDefined_;
    case "pe_to":
      return this.offsetTopDefined_;
    case "pe_l":
      return this.layoutDefined_;
  }
  return docs$text$protocol$PositionedEntity.superClass_.docs_text_protocol_Annotation_prototype$isDefined.call(this, propertyName);
};
docs$text$protocol$PositionedEntity.prototype.equalsInternal = function $docs$text$protocol$PositionedEntity$$equalsInternal$(other, strategy) {
  return other instanceof docs$text$protocol$PositionedEntity && (!strategy.compareDefined_ || this.offsetLeftDefined_ == other.offsetLeftDefined_ && this.offsetTopDefined_ == other.offsetTopDefined_ && this.layoutDefined_ == other.layoutDefined_) ? this.offsetLeft_ == other.offsetLeft_ && this.offsetTop_ == other.offsetTop_ && this.layout_ == other.layout_ && docs$text$protocol$PositionedEntity.superClass_.equalsInternal.call(this, other, strategy) : !1;
};
docs$text$protocol$PositionedEntity.prototype.docs_text_protocol_Annotation_prototype$serializeInternal = function $docs$text$protocol$PositionedEntity$$docs_text_protocol_Annotation_prototype$serializeInternal$(strategy) {
  var serializedObject = docs$text$protocol$PositionedEntity.superClass_.docs_text_protocol_Annotation_prototype$serializeInternal.call(this, strategy);
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.layoutDefined_) {
    serializedObject.pe_l = this.layout_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.offsetLeftDefined_) {
    serializedObject.pe_lo = this.offsetLeft_;
  }
  if (!strategy.docs_text_protocol_SerializationStrategyState$onlyDefined_ || this.offsetTopDefined_) {
    serializedObject.pe_to = this.offsetTop_;
  }
  return serializedObject;
};
// Input 338
var docs$text$protocol$Entities$ALL_ENTITY_PROVIDERS = {bookmark:function(id) {
  return new docs$text$protocol$BookmarkEntity(id);
}, comment:function(id) {
  return new docs$text$protocol$CommentEntity(id);
}, footnote:function(id) {
  return new docs$text$protocol$FootnoteEntity(id);
}, "header-footer":function(id) {
  return new docs$text$protocol$HeaderFooterEntity(id);
}, inline:function(id, opt_propertyMap) {
  goog$asserts$assert(opt_propertyMap);
  return new docs$text$protocol$InlineEntity(id, opt_propertyMap.ee_eo.eo_type);
}, list:function(id) {
  return new docs$text$protocol$ListEntity(id);
}, "named-range":function(id, opt_propertyMap) {
  goog$asserts$assert(opt_propertyMap);
  return new docs$text$protocol$NamedRangeEntity(id, goog$asserts$assertString(opt_propertyMap.nre_n));
}, positioned:function(id, opt_propertyMap) {
  goog$asserts$assert(opt_propertyMap);
  return new docs$text$protocol$PositionedEntity(id, opt_propertyMap.ee_eo.eo_type);
}};
// Input 339
// Input 340
function docs$text$mutations$AbstractDeleteSpacersMutation(mutationType, startIndex, endIndex) {
  this.docs_commands_AbstractCommand$type_ = mutationType;
  if (0 > startIndex || 0 > endIndex) {
    throw Error("Invalid delete spacer indices.");
  }
  this.docs_text_mutations_AbstractDeleteSpacersMutation$startIndex_ = startIndex;
  this.docs_text_mutations_AbstractDeleteSpacersMutation$endIndex_ = endIndex;
}
goog$inherits(docs$text$mutations$AbstractDeleteSpacersMutation, docs$text$mutations$Mutation);
// Input 341
function docs$text$mutations$AbstractInsertSpacersMutation(mutationType, insertBeforeIndex, spacers) {
  this.docs_commands_AbstractCommand$type_ = mutationType;
  if (0 > insertBeforeIndex) {
    throw Error("Invalid insert spacer mutation index.");
  }
  this.insertBeforeIndex_ = insertBeforeIndex;
  this.docs_text_mutations_AbstractInsertSpacersMutation$spacers_ = spacers;
}
goog$inherits(docs$text$mutations$AbstractInsertSpacersMutation, docs$text$mutations$Mutation);
// Input 342
// Input 343
function docs$text$mutations$AbstractDeleteEntityMutation(mutationType, entityId) {
  this.docs_commands_AbstractCommand$type_ = mutationType;
  this.docs_text_mutations_AbstractDeleteEntityMutation$entityId_ = entityId;
}
goog$inherits(docs$text$mutations$AbstractDeleteEntityMutation, docs$text$mutations$Mutation);
docs$text$mutations$AbstractDeleteEntityMutation.prototype.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId = function $docs$text$mutations$AbstractDeleteEntityMutation$$docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId$() {
  return this.docs_text_mutations_AbstractDeleteEntityMutation$entityId_;
};
// Input 344
function docs$text$protocol$ListItemLocation(paragraphIndex) {
  this.docs_text_protocol_Location$type_ = 2;
  this.docs_text_protocol_ListItemLocation$paragraphIndex_ = paragraphIndex;
}
goog$inherits(docs$text$protocol$ListItemLocation, docs$text$protocol$Location);
docs$text$protocol$ListItemLocation.prototype.serialize = function $docs$text$protocol$ListItemLocation$$serialize$() {
  var serializedObj = docs$text$protocol$ListItemLocation.superClass_.serialize.call(this);
  serializedObj.pi = this.docs_text_protocol_ListItemLocation$paragraphIndex_;
  return serializedObj;
};
docs$text$protocol$ListItemLocation.prototype.docs_text_protocol_Location_prototype$compare = function $docs$text$protocol$ListItemLocation$$docs_text_protocol_Location_prototype$compare$(location) {
  var superClassCompare = docs$text$protocol$ListItemLocation.superClass_.docs_text_protocol_Location_prototype$compare.call(this, location);
  return 0 != superClassCompare ? superClassCompare : this.docs_text_protocol_ListItemLocation$paragraphIndex_ - location.docs_text_protocol_ListItemLocation$paragraphIndex_;
};
docs$text$protocol$ListItemLocation.prototype.shift = function $docs$text$protocol$ListItemLocation$$shift$(delta) {
  return new docs$text$protocol$ListItemLocation(this.docs_text_protocol_ListItemLocation$paragraphIndex_ + delta);
};
docs$text$protocol$ListItemLocation.prototype.toString = function $docs$text$protocol$ListItemLocation$$toString$() {
  return "ListItemLocation(" + this.docs_text_protocol_ListItemLocation$paragraphIndex_ + ")";
};
// Input 345
function docs$text$protocol$ListNestingLevelLocation(listId, nestingLevel, paragraphIndex) {
  this.docs_text_protocol_Location$type_ = 3;
  this.docs_text_protocol_ListNestingLevelLocation$listId_ = listId;
  this.docs_text_protocol_ListNestingLevelLocation$nestingLevel_ = nestingLevel;
  this.docs_text_protocol_ListNestingLevelLocation$paragraphIndex_ = paragraphIndex;
}
goog$inherits(docs$text$protocol$ListNestingLevelLocation, docs$text$protocol$Location);
docs$text$protocol$ListNestingLevelLocation.prototype.serialize = function $docs$text$protocol$ListNestingLevelLocation$$serialize$() {
  var obj = docs$text$protocol$ListNestingLevelLocation.superClass_.serialize.call(this);
  obj.li = this.docs_text_protocol_ListNestingLevelLocation$listId_;
  obj.nl = this.docs_text_protocol_ListNestingLevelLocation$nestingLevel_;
  obj.pi = this.docs_text_protocol_ListNestingLevelLocation$paragraphIndex_;
  return obj;
};
docs$text$protocol$ListNestingLevelLocation.prototype.docs_text_protocol_Location_prototype$compare = function $docs$text$protocol$ListNestingLevelLocation$$docs_text_protocol_Location_prototype$compare$(location) {
  var superClassCompare = docs$text$protocol$ListNestingLevelLocation.superClass_.docs_text_protocol_Location_prototype$compare.call(this, location);
  return 0 != superClassCompare ? superClassCompare : 9 * goog$string$caseInsensitiveCompare(this.docs_text_protocol_ListNestingLevelLocation$listId_, location.docs_text_protocol_ListNestingLevelLocation$listId_) + (this.docs_text_protocol_ListNestingLevelLocation$nestingLevel_ - location.docs_text_protocol_ListNestingLevelLocation$nestingLevel_);
};
docs$text$protocol$ListNestingLevelLocation.prototype.shift = function $docs$text$protocol$ListNestingLevelLocation$$shift$(delta) {
  return new docs$text$protocol$ListNestingLevelLocation(this.docs_text_protocol_ListNestingLevelLocation$listId_, this.docs_text_protocol_ListNestingLevelLocation$nestingLevel_, this.docs_text_protocol_ListNestingLevelLocation$paragraphIndex_ + delta);
};
docs$text$protocol$ListNestingLevelLocation.prototype.toString = function $docs$text$protocol$ListNestingLevelLocation$$toString$() {
  return "ListNestingLevelLocation(" + this.docs_text_protocol_ListNestingLevelLocation$listId_ + "," + this.docs_text_protocol_ListNestingLevelLocation$nestingLevel_ + "," + this.docs_text_protocol_ListNestingLevelLocation$paragraphIndex_ + ")";
};
// Input 346
// Input 347
function docs$text$transform$SelectionTransformer() {
  goog$Disposable.call(this);
}
goog$inherits(docs$text$transform$SelectionTransformer, goog$Disposable);
// Input 348
// Input 349
// Input 350
// Input 351
// Input 352
// Input 353
// Input 354
// Input 355
// Input 356
// Input 357
// Input 358
// Input 359
function kix$model$TextDocumentModelFactory(errorReporter, defaultStylesProvider) {
  this.kix_model_TextDocumentModelFactory$errorReporter_ = errorReporter;
  this.kix_model_TextDocumentModelFactory$defaultStylesProvider_ = defaultStylesProvider;
}
;
// Input 360
function docs$text$mutations$AbstractAddEntityMutation(mutationType, entityType, entityId, propertyMap) {
  this.docs_commands_AbstractCommand$type_ = mutationType;
  this.entityType_ = entityType;
  this.docs_text_mutations_AbstractAddEntityMutation$entityId_ = entityId;
  this.docs_text_mutations_AbstractAddEntityMutation$propertyMap_ = propertyMap;
}
goog$inherits(docs$text$mutations$AbstractAddEntityMutation, docs$text$mutations$Mutation);
docs$text$mutations$AbstractAddEntityMutation.prototype.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId = function $docs$text$mutations$AbstractAddEntityMutation$$docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId$() {
  return this.docs_text_mutations_AbstractAddEntityMutation$entityId_;
};
// Input 361
function docs$text$mutations$AddEntityMutation(entityType, entityId, propertyMap) {
  docs$text$mutations$AbstractAddEntityMutation.call(this, "kix-ae", entityType, entityId, propertyMap);
}
goog$inherits(docs$text$mutations$AddEntityMutation, docs$text$mutations$AbstractAddEntityMutation);
// Input 362
// Input 363
function kix$mutations$MutationSerializer(type) {
  this.kix_mutations_MutationSerializer$type_ = type;
}
kix$mutations$MutationSerializer.prototype.serialize = function $kix$mutations$MutationSerializer$$serialize$() {
  var serializedObj = {};
  serializedObj.ty = this.kix_mutations_MutationSerializer$type_;
  return serializedObj;
};
// Input 364
// Input 365
function kix$mutations$AddEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "ae";
}
goog$inherits(kix$mutations$AddEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$AddEntityMutationSerializer.prototype.serialize = function $kix$mutations$AddEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$AddEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.et = mutation.entityType_;
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.epm = mutation.docs_text_mutations_AbstractAddEntityMutation$propertyMap_;
  return serializedObject;
};
kix$mutations$AddEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$AddEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$AddEntityMutation(object.et, object.id, object.epm);
};
// Input 366
function docs$text$mutations$AddSuggestedEntityMutation(suggestionId, entityType, entityId, propertyMap) {
  docs$text$mutations$AbstractAddEntityMutation.call(this, "kix-ase", entityType, entityId, propertyMap);
  if (goog$array$contains(["comment", "named-range"], entityType)) {
    throw Error("Entities of type " + entityType + " cannot be suggested");
  }
  this.docs_text_mutations_AddSuggestedEntityMutation$suggestionId_ = suggestionId;
}
goog$inherits(docs$text$mutations$AddSuggestedEntityMutation, docs$text$mutations$AbstractAddEntityMutation);
docs$text$mutations$AddSuggestedEntityMutation.prototype.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId = function $docs$text$mutations$AddSuggestedEntityMutation$$docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId$() {
  return this.docs_text_mutations_AddSuggestedEntityMutation$suggestionId_;
};
// Input 367
function kix$mutations$AddSuggestedEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "ase";
}
goog$inherits(kix$mutations$AddSuggestedEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$AddSuggestedEntityMutationSerializer.prototype.serialize = function $kix$mutations$AddSuggestedEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$AddSuggestedEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.et = mutation.entityType_;
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  serializedObject.epm = mutation.docs_text_mutations_AbstractAddEntityMutation$propertyMap_;
  return serializedObject;
};
kix$mutations$AddSuggestedEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$AddSuggestedEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$AddSuggestedEntityMutation(object.sugid, object.et, object.id, object.epm);
};
// Input 368
function docs$text$mutations$ApplyStyleMutation(styleType, startIndex, endIndex, styleMap, opt_forceMetadata) {
  docs$text$mutations$AbstractStylePropertiesMutation.call(this, "kix-as", styleType, startIndex, endIndex, styleMap, opt_forceMetadata);
}
goog$inherits(docs$text$mutations$ApplyStyleMutation, docs$text$mutations$AbstractApplyStyleMutation);
// Input 369
function kix$mutations$AbstractStylePropertiesMutationSerializer(serializedMutationType, docosEnabled, opt_errorReporter) {
  this.kix_mutations_MutationSerializer$type_ = serializedMutationType;
  this.docosEnabled_ = docosEnabled;
  this.kix_mutations_AbstractStylePropertiesMutationSerializer$errorReporter_ = opt_errorReporter || null;
}
goog$inherits(kix$mutations$AbstractStylePropertiesMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$AbstractStylePropertiesMutationSerializer.prototype.serialize = function $kix$mutations$AbstractStylePropertiesMutationSerializer$$serialize$(mutation) {
  if (mutation.docs_commands_AbstractCommand_prototype$isMetadata()) {
    return this.kix_mutations_AbstractStylePropertiesMutationSerializer$errorReporter_ && this.kix_mutations_AbstractStylePropertiesMutationSerializer$errorReporter_.log(Error("Metadata styles of type: " + mutation.docs_text_mutations_AbstractStylePropertiesMutation$styleType_ + " should not be serialized and sent to the server.")), {};
  }
  var serializedObject = kix$mutations$AbstractStylePropertiesMutationSerializer.superClass_.serialize.call(this, mutation), styleType = mutation.docs_text_mutations_AbstractStylePropertiesMutation$styleType_, styleMap = mutation.docs_text_mutations_AbstractStylePropertiesMutation$styleMap_;
  this.docosEnabled_ && "comment" == styleType && (styleType = "doco_anchor", styleMap = goog$object$unsafeClone(styleMap), styleMap.das_a = styleMap.cs_cids, delete styleMap.cs_cids);
  serializedObject.st = styleType;
  serializedObject.si = mutation.docs_text_mutations_AbstractStylePropertiesMutation$startIndex_;
  serializedObject.ei = mutation.docs_text_mutations_AbstractStylePropertiesMutation$endIndex_;
  serializedObject.sm = styleMap;
  return serializedObject;
};
kix$mutations$AbstractStylePropertiesMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$AbstractStylePropertiesMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  var styleType = object.st, styleMap = object.sm;
  if ("doco_anchor" == styleType) {
    if (this.docosEnabled_) {
      styleType = "comment", styleMap = goog$object$unsafeClone(styleMap), styleMap.cs_cids = styleMap.das_a, delete styleMap.das_a;
    } else {
      return docs$commands$NullCommand.getInstance();
    }
  } else {
    if (!(styleType in docs$text$protocol$StyleTypes$styleTypeInfos_)) {
      return docs$commands$NullCommand.getInstance();
    }
  }
  return this.createMutation(styleType, object.si, object.ei, styleMap, !!object.fm, object);
};
// Input 370
function kix$mutations$ApplyStyleMutationSerializer(docosEnabled, opt_errorReporter) {
  kix$mutations$AbstractStylePropertiesMutationSerializer.call(this, "as", docosEnabled, opt_errorReporter);
}
goog$inherits(kix$mutations$ApplyStyleMutationSerializer, kix$mutations$AbstractStylePropertiesMutationSerializer);
kix$mutations$ApplyStyleMutationSerializer.prototype.createMutation = function $kix$mutations$ApplyStyleMutationSerializer$$createMutation$(styleType, startIndex, endIndex, styleMap, forceMetadata) {
  return new docs$text$mutations$ApplyStyleMutation(styleType, startIndex, endIndex, styleMap, forceMetadata);
};
// Input 371
function docs$text$mutations$ApplyStyleToSuggestedSpacersMutation(styleType, startIndex, endIndex, styleMap, opt_forceMetadata) {
  docs$text$mutations$AbstractStylePropertiesMutation.call(this, "kix-astss", styleType, startIndex, endIndex, styleMap, opt_forceMetadata);
}
goog$inherits(docs$text$mutations$ApplyStyleToSuggestedSpacersMutation, docs$text$mutations$AbstractApplyStyleMutation);
// Input 372
function kix$mutations$ApplyStyleToSuggestedSpacersMutationSerializer(docosEnabled, opt_errorReporter) {
  kix$mutations$AbstractStylePropertiesMutationSerializer.call(this, "astss", docosEnabled, opt_errorReporter);
}
goog$inherits(kix$mutations$ApplyStyleToSuggestedSpacersMutationSerializer, kix$mutations$AbstractStylePropertiesMutationSerializer);
kix$mutations$ApplyStyleToSuggestedSpacersMutationSerializer.prototype.createMutation = function $kix$mutations$ApplyStyleToSuggestedSpacersMutationSerializer$$createMutation$(styleType, startIndex, endIndex, styleMap, forceMetadata) {
  return new docs$text$mutations$ApplyStyleToSuggestedSpacersMutation(styleType, startIndex, endIndex, styleMap, forceMetadata);
};
// Input 373
function docs$text$mutations$DeleteEntityMutation(entityId) {
  docs$text$mutations$AbstractDeleteEntityMutation.call(this, "kix-de", entityId);
}
goog$inherits(docs$text$mutations$DeleteEntityMutation, docs$text$mutations$AbstractDeleteEntityMutation);
// Input 374
function kix$mutations$DeleteEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "de";
}
goog$inherits(kix$mutations$DeleteEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$DeleteEntityMutationSerializer.prototype.serialize = function $kix$mutations$DeleteEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$DeleteEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  return serializedObject;
};
kix$mutations$DeleteEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$DeleteEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$DeleteEntityMutation(object.id);
};
// Input 375
function docs$text$mutations$DeleteSpacersMutation(startIndex, endIndex) {
  docs$text$mutations$AbstractDeleteSpacersMutation.call(this, "kix-ds", startIndex, endIndex);
}
goog$inherits(docs$text$mutations$DeleteSpacersMutation, docs$text$mutations$AbstractDeleteSpacersMutation);
// Input 376
function kix$mutations$DeleteSpacersMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "ds";
}
goog$inherits(kix$mutations$DeleteSpacersMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$DeleteSpacersMutationSerializer.prototype.serialize = function $kix$mutations$DeleteSpacersMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$DeleteSpacersMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.si = mutation.docs_text_mutations_AbstractDeleteSpacersMutation$startIndex_;
  serializedObject.ei = mutation.docs_text_mutations_AbstractDeleteSpacersMutation$endIndex_;
  return serializedObject;
};
kix$mutations$DeleteSpacersMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$DeleteSpacersMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$DeleteSpacersMutation(object.si, object.ei);
};
// Input 377
function docs$text$mutations$DeleteSuggestedEntityMutation(entityId) {
  docs$text$mutations$AbstractDeleteEntityMutation.call(this, "kix-dse", entityId);
}
goog$inherits(docs$text$mutations$DeleteSuggestedEntityMutation, docs$text$mutations$AbstractDeleteEntityMutation);
// Input 378
function kix$mutations$DeleteSuggestedEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "dse";
}
goog$inherits(kix$mutations$DeleteSuggestedEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$DeleteSuggestedEntityMutationSerializer.prototype.serialize = function $kix$mutations$DeleteSuggestedEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$DeleteSuggestedEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  return serializedObject;
};
kix$mutations$DeleteSuggestedEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$DeleteSuggestedEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$DeleteSuggestedEntityMutation(object.id);
};
// Input 379
function docs$text$mutations$DeleteSuggestedSpacersMutation(startIndex, endIndex) {
  docs$text$mutations$AbstractDeleteSpacersMutation.call(this, "kix-dss", startIndex, endIndex);
}
goog$inherits(docs$text$mutations$DeleteSuggestedSpacersMutation, docs$text$mutations$AbstractDeleteSpacersMutation);
// Input 380
function kix$mutations$DeleteSuggestedSpacersMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "dss";
}
goog$inherits(kix$mutations$DeleteSuggestedSpacersMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$DeleteSuggestedSpacersMutationSerializer.prototype.serialize = function $kix$mutations$DeleteSuggestedSpacersMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$DeleteSuggestedSpacersMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.si = mutation.docs_text_mutations_AbstractDeleteSpacersMutation$startIndex_;
  serializedObject.ei = mutation.docs_text_mutations_AbstractDeleteSpacersMutation$endIndex_;
  return serializedObject;
};
kix$mutations$DeleteSuggestedSpacersMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$DeleteSuggestedSpacersMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$DeleteSuggestedSpacersMutation(object.si, object.ei);
};
// Input 381
function docs$text$mutations$InsertSpacersMutation(insertBeforeIndex, spacers) {
  docs$text$mutations$AbstractInsertSpacersMutation.call(this, "kix-is", insertBeforeIndex, spacers);
}
goog$inherits(docs$text$mutations$InsertSpacersMutation, docs$text$mutations$AbstractInsertSpacersMutation);
// Input 382
function kix$mutations$InsertSpacersMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "is";
}
goog$inherits(kix$mutations$InsertSpacersMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$InsertSpacersMutationSerializer.prototype.serialize = function $kix$mutations$InsertSpacersMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$InsertSpacersMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.ibi = mutation.insertBeforeIndex_;
  serializedObject.s = mutation.docs_text_mutations_AbstractInsertSpacersMutation$spacers_;
  return serializedObject;
};
kix$mutations$InsertSpacersMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$InsertSpacersMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$InsertSpacersMutation(object.ibi, object.s);
};
// Input 383
function docs$text$mutations$InsertSuggestedSpacersMutation(suggestionId, insertBeforeIndex, spacers) {
  docs$text$mutations$AbstractInsertSpacersMutation.call(this, "kix-iss", insertBeforeIndex, spacers);
  this.docs_text_mutations_InsertSuggestedSpacersMutation$suggestionId_ = suggestionId;
}
goog$inherits(docs$text$mutations$InsertSuggestedSpacersMutation, docs$text$mutations$AbstractInsertSpacersMutation);
docs$text$mutations$InsertSuggestedSpacersMutation.prototype.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId = function $docs$text$mutations$InsertSuggestedSpacersMutation$$docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId$() {
  return this.docs_text_mutations_InsertSuggestedSpacersMutation$suggestionId_;
};
// Input 384
function kix$mutations$InsertSuggestedSpacersMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "iss";
}
goog$inherits(kix$mutations$InsertSuggestedSpacersMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$InsertSuggestedSpacersMutationSerializer.prototype.serialize = function $kix$mutations$InsertSuggestedSpacersMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$InsertSuggestedSpacersMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  serializedObject.ibi = mutation.insertBeforeIndex_;
  serializedObject.s = mutation.docs_text_mutations_AbstractInsertSpacersMutation$spacers_;
  return serializedObject;
};
kix$mutations$InsertSuggestedSpacersMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$InsertSuggestedSpacersMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$InsertSuggestedSpacersMutation(object.sugid, object.ibi, object.s);
};
// Input 385
function docs$text$mutations$AbstractMarkEntityMutation(mutationType, suggestionId, entityId) {
  this.docs_commands_AbstractCommand$type_ = mutationType;
  this.docs_text_mutations_AbstractMarkEntityMutation$suggestionId_ = suggestionId;
  this.docs_text_mutations_AbstractMarkEntityMutation$entityId_ = entityId;
}
goog$inherits(docs$text$mutations$AbstractMarkEntityMutation, docs$text$mutations$Mutation);
docs$text$mutations$AbstractMarkEntityMutation.prototype.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId = function $docs$text$mutations$AbstractMarkEntityMutation$$docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId$() {
  return this.docs_text_mutations_AbstractMarkEntityMutation$suggestionId_;
};
docs$text$mutations$AbstractMarkEntityMutation.prototype.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId = function $docs$text$mutations$AbstractMarkEntityMutation$$docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId$() {
  return this.docs_text_mutations_AbstractMarkEntityMutation$entityId_;
};
// Input 386
function docs$text$mutations$MarkEntityForDeletionMutation(suggestionId, entityId) {
  docs$text$mutations$AbstractMarkEntityMutation.call(this, "kix-mefd", suggestionId, entityId);
}
goog$inherits(docs$text$mutations$MarkEntityForDeletionMutation, docs$text$mutations$AbstractMarkEntityMutation);
// Input 387
function kix$mutations$MarkEntityForDeletionMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "mefd";
}
goog$inherits(kix$mutations$MarkEntityForDeletionMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$MarkEntityForDeletionMutationSerializer.prototype.serialize = function $kix$mutations$MarkEntityForDeletionMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$MarkEntityForDeletionMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  return serializedObject;
};
kix$mutations$MarkEntityForDeletionMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$MarkEntityForDeletionMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$MarkEntityForDeletionMutation(object.sugid, object.id);
};
// Input 388
function docs$text$mutations$AbstractMarkSpacersMutation(mutationType, suggestionId, startIndex, endIndex) {
  this.docs_commands_AbstractCommand$type_ = mutationType;
  if (0 > startIndex || 0 > endIndex) {
    throw Error("Invalid delete spacer indices.");
  }
  this.docs_text_mutations_AbstractMarkSpacersMutation$suggestionId_ = suggestionId;
  this.docs_text_mutations_AbstractMarkSpacersMutation$startIndex_ = startIndex;
  this.docs_text_mutations_AbstractMarkSpacersMutation$endIndex_ = endIndex;
}
goog$inherits(docs$text$mutations$AbstractMarkSpacersMutation, docs$text$mutations$Mutation);
docs$text$mutations$AbstractMarkSpacersMutation.prototype.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId = function $docs$text$mutations$AbstractMarkSpacersMutation$$docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId$() {
  return this.docs_text_mutations_AbstractMarkSpacersMutation$suggestionId_;
};
// Input 389
function docs$text$mutations$MarkSpacersForDeletionMutation(suggestionId, startIndex, endIndex) {
  docs$text$mutations$AbstractMarkSpacersMutation.call(this, "kix-msfd", suggestionId, startIndex, endIndex);
}
goog$inherits(docs$text$mutations$MarkSpacersForDeletionMutation, docs$text$mutations$AbstractMarkSpacersMutation);
// Input 390
function kix$mutations$MarkSpacersForDeletionMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "msfd";
}
goog$inherits(kix$mutations$MarkSpacersForDeletionMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$MarkSpacersForDeletionMutationSerializer.prototype.serialize = function $kix$mutations$MarkSpacersForDeletionMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$MarkSpacersForDeletionMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  serializedObject.si = mutation.docs_text_mutations_AbstractMarkSpacersMutation$startIndex_;
  serializedObject.ei = mutation.docs_text_mutations_AbstractMarkSpacersMutation$endIndex_;
  return serializedObject;
};
kix$mutations$MarkSpacersForDeletionMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$MarkSpacersForDeletionMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$MarkSpacersForDeletionMutation(object.sugid, object.si, object.ei);
};
// Input 391
function docs$text$mutations$MarkSpacersForInsertionMutation(suggestionId, startIndex, endIndex) {
  docs$text$mutations$AbstractMarkSpacersMutation.call(this, "kix-msfi", suggestionId, startIndex, endIndex);
}
goog$inherits(docs$text$mutations$MarkSpacersForInsertionMutation, docs$text$mutations$AbstractMarkSpacersMutation);
// Input 392
function kix$mutations$MarkSpacersForInsertionMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "msfi";
}
goog$inherits(kix$mutations$MarkSpacersForInsertionMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$MarkSpacersForInsertionMutationSerializer.prototype.serialize = function $kix$mutations$MarkSpacersForInsertionMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$MarkSpacersForInsertionMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.si = mutation.docs_text_mutations_AbstractMarkSpacersMutation$startIndex_;
  serializedObject.ei = mutation.docs_text_mutations_AbstractMarkSpacersMutation$endIndex_;
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  return serializedObject;
};
kix$mutations$MarkSpacersForInsertionMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$MarkSpacersForInsertionMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$MarkSpacersForInsertionMutation(object.sugid, object.si, object.ei);
};
// Input 393
function docs$text$mutations$MoveCursorMutation(selection) {
  this.docs_commands_AbstractCommand$type_ = "kix-mc";
  this.selection_ = selection;
}
goog$inherits(docs$text$mutations$MoveCursorMutation, docs$text$mutations$Mutation);
docs$text$mutations$MoveCursorMutation.prototype.getSelection = function $docs$text$mutations$MoveCursorMutation$$getSelection$() {
  return this.selection_;
};
// Input 394
function docs$text$protocol$PositionedLocation(id) {
  this.docs_text_protocol_Location$type_ = 1;
  this.docs_text_protocol_PositionedLocation$id_ = id;
}
goog$inherits(docs$text$protocol$PositionedLocation, docs$text$protocol$Location);
docs$text$protocol$PositionedLocation.prototype.getId = function $docs$text$protocol$PositionedLocation$$getId$() {
  return this.docs_text_protocol_PositionedLocation$id_;
};
docs$text$protocol$PositionedLocation.prototype.serialize = function $docs$text$protocol$PositionedLocation$$serialize$() {
  var serializedObj = docs$text$protocol$PositionedLocation.superClass_.serialize.call(this);
  serializedObj.id = this.docs_text_protocol_PositionedLocation$id_;
  return serializedObj;
};
docs$text$protocol$PositionedLocation.prototype.docs_text_protocol_Location_prototype$compare = function $docs$text$protocol$PositionedLocation$$docs_text_protocol_Location_prototype$compare$(location) {
  var superClassCompare = docs$text$protocol$PositionedLocation.superClass_.docs_text_protocol_Location_prototype$compare.call(this, location);
  return 0 != superClassCompare ? superClassCompare : goog$string$caseInsensitiveCompare(this.docs_text_protocol_PositionedLocation$id_, location.getId());
};
docs$text$protocol$PositionedLocation.prototype.toString = function $docs$text$protocol$PositionedLocation$$toString$() {
  return "PositionedLocation(" + this.docs_text_protocol_PositionedLocation$id_ + ")";
};
// Input 395
function kix$mutations$MoveCursorMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "mc";
}
goog$inherits(kix$mutations$MoveCursorMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$MoveCursorMutationSerializer.prototype.serialize = function $kix$mutations$MoveCursorMutationSerializer$$serialize$(mutation) {
  for (var serializedObject = kix$mutations$MoveCursorMutationSerializer.superClass_.serialize.call(this, mutation), selection = mutation.getSelection(), serializedSelectedRanges = [], selectedRanges = selection.selectedRanges_, i = 0;i < selectedRanges.length;++i) {
    serializedSelectedRanges.push(JSCompiler_StaticMethods_serializeRange_(selectedRanges[i]));
  }
  serializedObject.cl = selection.cursorLocation_.serialize();
  serializedObject.sr = serializedSelectedRanges;
  for (var cursorSelectedRange = selection.cursorMarkedRange_, serializedCursorSelectedRange = cursorSelectedRange ? JSCompiler_StaticMethods_serializeRange_(JSCompiler_StaticMethods_asRange(cursorSelectedRange)) : null, anchorSelectedRange = selection.anchorMarkedRange_, serializedAnchorSelectedRange = anchorSelectedRange ? JSCompiler_StaticMethods_serializeRange_(JSCompiler_StaticMethods_asRange(anchorSelectedRange)) : null, serializedAnchorLocation = anchorSelectedRange ? anchorSelectedRange.mark_.serialize() : 
  null, serializedOtherSelectedRanges = [], otherSelectedRanges = selection.otherSelectedRanges_, i = 0;i < otherSelectedRanges.length;++i) {
    serializedOtherSelectedRanges.push(JSCompiler_StaticMethods_serializeRange_(otherSelectedRanges[i]));
  }
  serializedObject.csr = serializedCursorSelectedRange;
  serializedObject.asr = serializedAnchorSelectedRange;
  serializedObject.al = serializedAnchorLocation;
  serializedObject.osr = serializedOtherSelectedRanges;
  return serializedObject;
};
kix$mutations$MoveCursorMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$MoveCursorMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  var serializedCursorLocation = object.cl, serializedCursorSelectedRange = object.csr, serializedAnchorLocation = object.al, serializedAnchorSelectedRange = object.asr, serializedSelectedRanges = object.sr, serializedOtherSelectedRanges = object.osr || [], location;
  switch(serializedCursorLocation.loc_type) {
    case 0:
      location = new docs$text$protocol$InlineLocation(serializedCursorLocation.si, serializedCursorLocation.aps, serializedCursorLocation.sbi);
      break;
    case 1:
      location = new docs$text$protocol$PositionedLocation(serializedCursorLocation.id);
      break;
    case 2:
      location = new docs$text$protocol$ListItemLocation(serializedCursorLocation.pi);
      break;
    case 3:
      location = new docs$text$protocol$ListNestingLevelLocation(serializedCursorLocation.li, serializedCursorLocation.nl, serializedCursorLocation.pi);
      break;
    case 4:
      for (var deserializedTuples = [], rawTuples = serializedCursorLocation.cb, i = 0;i < rawTuples.length;i++) {
        deserializedTuples.push(docs$text$protocol$CellBorderTuple$deserialize(rawTuples[i]));
      }
      location = new docs$text$protocol$CellBorderLocation(deserializedTuples);
      break;
    default:
      return new docs$text$mutations$MoveCursorMutation(new docs$text$protocol$Selection(new docs$text$protocol$InlineLocation(1)));
  }
  if (serializedCursorSelectedRange || serializedAnchorSelectedRange || 0 != serializedOtherSelectedRanges.length) {
    var cursorMarkedRange;
    if (serializedCursorSelectedRange) {
      if (location instanceof docs$text$protocol$InlineLocation) {
        cursorMarkedRange = new docs$text$protocol$MarkedRange(serializedCursorSelectedRange[0], serializedCursorSelectedRange[1], location);
      } else {
        throw Error("Serialized selection had a cursor selected range, and a non-inline location.");
      }
    }
    var anchorMarkedRange;
    serializedAnchorSelectedRange && serializedAnchorLocation && (anchorMarkedRange = new docs$text$protocol$MarkedRange(serializedAnchorSelectedRange[0], serializedAnchorSelectedRange[1], new docs$text$protocol$InlineLocation(serializedAnchorLocation.si, serializedAnchorLocation.aps, serializedAnchorLocation.sbi)));
    for (var otherSelectedRanges = [], i$jscomp$0 = 0;i$jscomp$0 < serializedOtherSelectedRanges.length;i$jscomp$0++) {
      var serializedRange = serializedOtherSelectedRanges[i$jscomp$0];
      otherSelectedRanges.push(new goog$math$Range(serializedRange[0], serializedRange[1]));
    }
    var selection = new docs$text$protocol$Selection(location, cursorMarkedRange, anchorMarkedRange, otherSelectedRanges);
  } else {
    for (var selectedRanges = [], i$jscomp$0 = 0;i$jscomp$0 < serializedSelectedRanges.length;i$jscomp$0++) {
      var serializedSelectedRange = serializedSelectedRanges[i$jscomp$0];
      selectedRanges.push(new goog$math$Range(serializedSelectedRange[0], serializedSelectedRange[1]));
    }
    var JSCompiler_temp;
    if (location instanceof docs$text$protocol$InlineLocation) {
      a: {
        var cursorLocation = location;
        if (0 == selectedRanges.length) {
          JSCompiler_temp = new docs$text$protocol$Selection(cursorLocation);
        } else {
          for (var cursorSpacerIndex = cursorLocation.docs_text_protocol_InlineLocation$spacerIndex_, cursorMarkedRange$jscomp$0, i$jscomp$1 = 0;i$jscomp$1 < selectedRanges.length;i$jscomp$1++) {
            if (cursorSpacerIndex >= selectedRanges[i$jscomp$1].start && cursorSpacerIndex <= selectedRanges[i$jscomp$1].end + 1) {
              cursorMarkedRange$jscomp$0 = new docs$text$protocol$MarkedRange(selectedRanges[i$jscomp$1].start, selectedRanges[i$jscomp$1].end, cursorLocation);
              goog$array$removeAt(selectedRanges, i$jscomp$1);
              JSCompiler_temp = new docs$text$protocol$Selection(cursorMarkedRange$jscomp$0.mark_, cursorMarkedRange$jscomp$0, null, selectedRanges);
              break a;
            }
          }
          for (var errorMessage = "Cursor location " + cursorSpacerIndex + " was not contained in the range(s) [" + selectedRanges[0].start + ", " + selectedRanges[0].end + "]", i$jscomp$1 = 1;i$jscomp$1 < selectedRanges.length;i$jscomp$1++) {
            errorMessage += ", [" + selectedRanges[i$jscomp$1].start + selectedRanges[i$jscomp$1].end + "]";
          }
          throw Error(errorMessage);
        }
      }
    } else {
      JSCompiler_temp = new docs$text$protocol$Selection(location);
    }
    selection = JSCompiler_temp;
  }
  return new docs$text$mutations$MoveCursorMutation(selection);
};
function JSCompiler_StaticMethods_serializeRange_(range) {
  return [range.start, range.end];
}
;
// Input 396
function kix$mutations$MultiMutationSerializer(serializer) {
  this.kix_mutations_MutationSerializer$type_ = "mlti";
  this.serializer_ = serializer;
}
goog$inherits(kix$mutations$MultiMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$MultiMutationSerializer.prototype.serialize = function $kix$mutations$MultiMutationSerializer$$serialize$(mutation) {
  for (var serializedObject = kix$mutations$MultiMutationSerializer.superClass_.serialize.call(this, mutation), serializedMutations = [], mutations = mutation.docs_commands_MultiCommand$commands_, i = 0;i < mutations.length;i++) {
    serializedMutations.push(this.serializer_.serialize(mutations[i]));
  }
  serializedObject.mts = serializedMutations;
  return serializedObject;
};
kix$mutations$MultiMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$MultiMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  for (var serializedMutations = object.mts, mutations = [], i = 0;i < serializedMutations.length;i++) {
    mutations.push(this.serializer_.docs_commands_CommandRegistry_prototype$deserialize(serializedMutations[i]));
  }
  return new docs$commands$MultiCommand(mutations);
};
// Input 397
function kix$mutations$NullMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "null";
}
goog$inherits(kix$mutations$NullMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$NullMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$NullMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$() {
  return docs$commands$NullCommand.getInstance();
};
// Input 398
function docs$text$mutations$RejectApplyStyleMutation(suggestionId, startIndex, endIndex) {
  this.docs_commands_AbstractCommand$type_ = "kix-ras";
  if (startIndex > endIndex || 0 > startIndex || 0 > endIndex) {
    throw Error("Invalid indices. Start (" + startIndex + ") > end (" + endIndex + ").");
  }
  this.docs_text_mutations_RejectApplyStyleMutation$suggestionId_ = suggestionId;
  this.docs_text_mutations_RejectApplyStyleMutation$startIndex_ = startIndex;
  this.docs_text_mutations_RejectApplyStyleMutation$endIndex_ = endIndex;
}
goog$inherits(docs$text$mutations$RejectApplyStyleMutation, docs$text$mutations$Mutation);
docs$text$mutations$RejectApplyStyleMutation.prototype.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId = function $docs$text$mutations$RejectApplyStyleMutation$$docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId$() {
  return this.docs_text_mutations_RejectApplyStyleMutation$suggestionId_;
};
// Input 399
function kix$mutations$RejectApplyStyleMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "ras";
}
goog$inherits(kix$mutations$RejectApplyStyleMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$RejectApplyStyleMutationSerializer.prototype.serialize = function $kix$mutations$RejectApplyStyleMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$RejectApplyStyleMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  serializedObject.si = mutation.docs_text_mutations_RejectApplyStyleMutation$startIndex_;
  serializedObject.ei = mutation.docs_text_mutations_RejectApplyStyleMutation$endIndex_;
  return serializedObject;
};
kix$mutations$RejectApplyStyleMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$RejectApplyStyleMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$RejectApplyStyleMutation(object.sugid, object.si, object.ei);
};
// Input 400
function docs$text$mutations$AbstractRejectEntityMutation(mutationType, suggestionId, entityId) {
  this.docs_commands_AbstractCommand$type_ = mutationType;
  this.docs_text_mutations_AbstractRejectEntityMutation$suggestionId_ = suggestionId;
  this.docs_text_mutations_AbstractRejectEntityMutation$entityId_ = entityId;
}
goog$inherits(docs$text$mutations$AbstractRejectEntityMutation, docs$text$mutations$Mutation);
docs$text$mutations$AbstractRejectEntityMutation.prototype.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId = function $docs$text$mutations$AbstractRejectEntityMutation$$docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId$() {
  return this.docs_text_mutations_AbstractRejectEntityMutation$suggestionId_;
};
docs$text$mutations$AbstractRejectEntityMutation.prototype.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId = function $docs$text$mutations$AbstractRejectEntityMutation$$docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId$() {
  return this.docs_text_mutations_AbstractRejectEntityMutation$entityId_;
};
// Input 401
function docs$text$mutations$RejectTetherEntityMutation(suggestionId, entityId) {
  docs$text$mutations$AbstractRejectEntityMutation.call(this, "kix-rte", suggestionId, entityId);
}
goog$inherits(docs$text$mutations$RejectTetherEntityMutation, docs$text$mutations$AbstractRejectEntityMutation);
// Input 402
function kix$mutations$RejectTetherEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "rte";
}
goog$inherits(kix$mutations$RejectTetherEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$RejectTetherEntityMutationSerializer.prototype.serialize = function $kix$mutations$RejectTetherEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$RejectTetherEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  return serializedObject;
};
kix$mutations$RejectTetherEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$RejectTetherEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$RejectTetherEntityMutation(object.sugid, object.id);
};
// Input 403
function docs$text$mutations$RejectUpdateEntityMutation(suggestionId, entityId) {
  docs$text$mutations$AbstractRejectEntityMutation.call(this, "kix-rue", suggestionId, entityId);
}
goog$inherits(docs$text$mutations$RejectUpdateEntityMutation, docs$text$mutations$AbstractRejectEntityMutation);
// Input 404
function kix$mutations$RejectUpdateEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "rue";
}
goog$inherits(kix$mutations$RejectUpdateEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$RejectUpdateEntityMutationSerializer.prototype.serialize = function $kix$mutations$RejectUpdateEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$RejectUpdateEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  return serializedObject;
};
kix$mutations$RejectUpdateEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$RejectUpdateEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$RejectUpdateEntityMutation(object.sugid, object.id);
};
// Input 405
// Input 406
function docs$commands$AbstractSnapshotCommand(type, snapshot) {
  this.docs_commands_AbstractCommand$type_ = type;
  this.snapshot_ = snapshot;
}
goog$inherits(docs$commands$AbstractSnapshotCommand, docs$commands$AbstractCommand);
// Input 407
function docs$commands$ReplaceCommand(snapshot) {
  docs$commands$AbstractSnapshotCommand.call(this, "docs-replace", snapshot);
}
goog$inherits(docs$commands$ReplaceCommand, docs$commands$AbstractSnapshotCommand);
// Input 408
function kix$mutations$SnapshotMutationSerializer(type, serializer) {
  this.kix_mutations_MutationSerializer$type_ = type;
  this.serializer_ = serializer;
}
goog$inherits(kix$mutations$SnapshotMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$SnapshotMutationSerializer.prototype.serialize = function $kix$mutations$SnapshotMutationSerializer$$serialize$(command) {
  for (var serializedObj = kix$mutations$SnapshotMutationSerializer.superClass_.serialize.call(this, command), snapshot = command.snapshot_, serializedSnapshot = [], i = 0;i < snapshot.length;i++) {
    serializedSnapshot.push(this.serializer_.serialize(snapshot[i]));
  }
  serializedObj.snapshot = serializedSnapshot;
  return serializedObj;
};
function JSCompiler_StaticMethods_deserializeSnapshot(JSCompiler_StaticMethods_deserializeSnapshot$self, object) {
  for (var mutations = [], snapshot = object.snapshot, i = 0;i < snapshot.length;i++) {
    mutations.push(JSCompiler_StaticMethods_deserializeSnapshot$self.serializer_.docs_commands_CommandRegistry_prototype$deserialize(snapshot[i]));
  }
  return mutations;
}
;
// Input 409
function kix$mutations$ReplaceMutationSerializer(serializer) {
  kix$mutations$SnapshotMutationSerializer.call(this, "rplc", serializer);
}
goog$inherits(kix$mutations$ReplaceMutationSerializer, kix$mutations$SnapshotMutationSerializer);
kix$mutations$ReplaceMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$ReplaceMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$commands$ReplaceCommand(JSCompiler_StaticMethods_deserializeSnapshot(this, object));
};
// Input 410
function docs$commands$RevertCommand(revision, snapshot) {
  docs$commands$AbstractSnapshotCommand.call(this, "docs-revert", snapshot);
  goog$asserts$assert(0 <= revision);
}
goog$inherits(docs$commands$RevertCommand, docs$commands$AbstractSnapshotCommand);
// Input 411
function kix$mutations$RevertMutationSerializer(serializer) {
  kix$mutations$SnapshotMutationSerializer.call(this, "rvrt", serializer);
}
goog$inherits(kix$mutations$RevertMutationSerializer, kix$mutations$SnapshotMutationSerializer);
kix$mutations$RevertMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$RevertMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$commands$RevertCommand(0, JSCompiler_StaticMethods_deserializeSnapshot(this, object));
};
// Input 412
function kix$mutations$SuggestApplyStyleMutationSerializer(docosEnabled, opt_errorReporter) {
  kix$mutations$AbstractStylePropertiesMutationSerializer.call(this, "sas", docosEnabled, opt_errorReporter);
}
goog$inherits(kix$mutations$SuggestApplyStyleMutationSerializer, kix$mutations$AbstractStylePropertiesMutationSerializer);
kix$mutations$SuggestApplyStyleMutationSerializer.prototype.serialize = function $kix$mutations$SuggestApplyStyleMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$SuggestApplyStyleMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  return serializedObject;
};
kix$mutations$SuggestApplyStyleMutationSerializer.prototype.createMutation = function $kix$mutations$SuggestApplyStyleMutationSerializer$$createMutation$(styleType, startIndex, endIndex, styleMap, forceMetadata, object) {
  return new docs$text$mutations$SuggestApplyStyleMutation(object.sugid, styleType, startIndex, endIndex, styleMap, forceMetadata);
};
// Input 413
function docs$text$mutations$AbstractEntityLocationMutation(mutationType, entityId, spacerIndex) {
  this.docs_commands_AbstractCommand$type_ = mutationType;
  if (-1 > spacerIndex) {
    throw Error("Invalid tether entity mutation index.");
  }
  this.docs_text_mutations_AbstractEntityLocationMutation$entityId_ = entityId;
  this.docs_text_mutations_AbstractEntityLocationMutation$spacerIndex_ = spacerIndex;
}
goog$inherits(docs$text$mutations$AbstractEntityLocationMutation, docs$text$mutations$Mutation);
docs$text$mutations$AbstractEntityLocationMutation.prototype.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId = function $docs$text$mutations$AbstractEntityLocationMutation$$docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId$() {
  return this.docs_text_mutations_AbstractEntityLocationMutation$entityId_;
};
// Input 414
function docs$text$mutations$SuggestTetherEntityMutation(suggestionId, entityId, spacerIndex) {
  docs$text$mutations$AbstractEntityLocationMutation.call(this, "kix-ste", entityId, spacerIndex);
  this.docs_text_mutations_SuggestTetherEntityMutation$suggestionId_ = suggestionId;
}
goog$inherits(docs$text$mutations$SuggestTetherEntityMutation, docs$text$mutations$AbstractEntityLocationMutation);
docs$text$mutations$SuggestTetherEntityMutation.prototype.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId = function $docs$text$mutations$SuggestTetherEntityMutation$$docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId$() {
  return this.docs_text_mutations_SuggestTetherEntityMutation$suggestionId_;
};
// Input 415
function kix$mutations$SuggestTetherEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "ste";
}
goog$inherits(kix$mutations$SuggestTetherEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$SuggestTetherEntityMutationSerializer.prototype.serialize = function $kix$mutations$SuggestTetherEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$SuggestTetherEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  serializedObject.spi = mutation.docs_text_mutations_AbstractEntityLocationMutation$spacerIndex_;
  return serializedObject;
};
kix$mutations$SuggestTetherEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$SuggestTetherEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$SuggestTetherEntityMutation(object.sugid, object.id, object.spi);
};
// Input 416
function docs$text$mutations$AbstractEntityPropertiesMutation(mutationType, entityId, propertyMap) {
  this.docs_commands_AbstractCommand$type_ = mutationType;
  this.docs_text_mutations_AbstractEntityPropertiesMutation$entityId_ = entityId;
  this.docs_text_mutations_AbstractEntityPropertiesMutation$propertyMap_ = propertyMap;
}
goog$inherits(docs$text$mutations$AbstractEntityPropertiesMutation, docs$text$mutations$Mutation);
docs$text$mutations$AbstractEntityPropertiesMutation.prototype.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId = function $docs$text$mutations$AbstractEntityPropertiesMutation$$docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId$() {
  return this.docs_text_mutations_AbstractEntityPropertiesMutation$entityId_;
};
// Input 417
function docs$text$mutations$SuggestUpdateEntityMutation(suggestionId, entityId, propertyMap) {
  docs$text$mutations$AbstractEntityPropertiesMutation.call(this, "kix-sue", entityId, propertyMap);
  this.docs_text_mutations_SuggestUpdateEntityMutation$suggestionId_ = suggestionId;
}
goog$inherits(docs$text$mutations$SuggestUpdateEntityMutation, docs$text$mutations$AbstractEntityPropertiesMutation);
docs$text$mutations$SuggestUpdateEntityMutation.prototype.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId = function $docs$text$mutations$SuggestUpdateEntityMutation$$docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId$() {
  return this.docs_text_mutations_SuggestUpdateEntityMutation$suggestionId_;
};
// Input 418
function kix$mutations$SuggestUpdateEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "sue";
}
goog$inherits(kix$mutations$SuggestUpdateEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$SuggestUpdateEntityMutationSerializer.prototype.serialize = function $kix$mutations$SuggestUpdateEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$SuggestUpdateEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  serializedObject.epm = mutation.docs_text_mutations_AbstractEntityPropertiesMutation$propertyMap_;
  return serializedObject;
};
kix$mutations$SuggestUpdateEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$SuggestUpdateEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$SuggestUpdateEntityMutation(object.sugid, object.id, object.epm);
};
// Input 419
function docs$text$mutations$AbstractTetherEntityMutation(mutationType, entityId, spacerIndex) {
  docs$text$mutations$AbstractEntityLocationMutation.call(this, mutationType, entityId, spacerIndex);
}
goog$inherits(docs$text$mutations$AbstractTetherEntityMutation, docs$text$mutations$AbstractEntityLocationMutation);
// Input 420
function docs$text$mutations$TetherEntityMutation(entityId, spacerIndex) {
  docs$text$mutations$AbstractEntityLocationMutation.call(this, "kix-te", entityId, spacerIndex);
}
goog$inherits(docs$text$mutations$TetherEntityMutation, docs$text$mutations$AbstractTetherEntityMutation);
// Input 421
function kix$mutations$TetherEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "te";
}
goog$inherits(kix$mutations$TetherEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$TetherEntityMutationSerializer.prototype.serialize = function $kix$mutations$TetherEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$TetherEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.spi = mutation.docs_text_mutations_AbstractEntityLocationMutation$spacerIndex_;
  return serializedObject;
};
kix$mutations$TetherEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$TetherEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$TetherEntityMutation(object.id, object.spi);
};
// Input 422
function docs$text$mutations$TetherSuggestedEntityMutation(entityId, spacerIndex) {
  docs$text$mutations$AbstractEntityLocationMutation.call(this, "kix-tse", entityId, spacerIndex);
}
goog$inherits(docs$text$mutations$TetherSuggestedEntityMutation, docs$text$mutations$AbstractTetherEntityMutation);
// Input 423
function kix$mutations$TetherSuggestedEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "tse";
}
goog$inherits(kix$mutations$TetherSuggestedEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$TetherSuggestedEntityMutationSerializer.prototype.serialize = function $kix$mutations$TetherSuggestedEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$TetherSuggestedEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.spi = mutation.docs_text_mutations_AbstractEntityLocationMutation$spacerIndex_;
  return serializedObject;
};
kix$mutations$TetherSuggestedEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$TetherSuggestedEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$TetherSuggestedEntityMutation(object.id, object.spi);
};
// Input 424
function docs$text$mutations$UnmarkEntityForDeletionMutation(suggestionId, entityId) {
  docs$text$mutations$AbstractMarkEntityMutation.call(this, "kix-uefd", suggestionId, entityId);
}
goog$inherits(docs$text$mutations$UnmarkEntityForDeletionMutation, docs$text$mutations$AbstractMarkEntityMutation);
// Input 425
function kix$mutations$UnmarkEntityForDeletionMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "uefd";
}
goog$inherits(kix$mutations$UnmarkEntityForDeletionMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$UnmarkEntityForDeletionMutationSerializer.prototype.serialize = function $kix$mutations$UnmarkEntityForDeletionMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$UnmarkEntityForDeletionMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  return serializedObject;
};
kix$mutations$UnmarkEntityForDeletionMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$UnmarkEntityForDeletionMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$UnmarkEntityForDeletionMutation(object.sugid, object.id);
};
// Input 426
function docs$text$mutations$UnmarkSpacersForDeletionMutation(suggestionId, startIndex, endIndex) {
  docs$text$mutations$AbstractMarkSpacersMutation.call(this, "kix-usfd", suggestionId, startIndex, endIndex);
}
goog$inherits(docs$text$mutations$UnmarkSpacersForDeletionMutation, docs$text$mutations$AbstractMarkSpacersMutation);
// Input 427
function kix$mutations$UnmarkSpacersForDeletionMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "usfd";
}
goog$inherits(kix$mutations$UnmarkSpacersForDeletionMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$UnmarkSpacersForDeletionMutationSerializer.prototype.serialize = function $kix$mutations$UnmarkSpacersForDeletionMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$UnmarkSpacersForDeletionMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.sugid = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
  serializedObject.si = mutation.docs_text_mutations_AbstractMarkSpacersMutation$startIndex_;
  serializedObject.ei = mutation.docs_text_mutations_AbstractMarkSpacersMutation$endIndex_;
  return serializedObject;
};
kix$mutations$UnmarkSpacersForDeletionMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$UnmarkSpacersForDeletionMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$UnmarkSpacersForDeletionMutation(object.sugid, object.si, object.ei);
};
// Input 428
function docs$text$mutations$AbstractUpdateEntityMutation(mutationType, entityId, propertyMap) {
  docs$text$mutations$AbstractEntityPropertiesMutation.call(this, mutationType, entityId, propertyMap);
}
goog$inherits(docs$text$mutations$AbstractUpdateEntityMutation, docs$text$mutations$AbstractEntityPropertiesMutation);
// Input 429
function docs$text$mutations$UpdateEntityMutation(entityId, propertyMap) {
  docs$text$mutations$AbstractEntityPropertiesMutation.call(this, "kix-ue", entityId, propertyMap);
}
goog$inherits(docs$text$mutations$UpdateEntityMutation, docs$text$mutations$AbstractUpdateEntityMutation);
// Input 430
function kix$mutations$UpdateEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "ue";
}
goog$inherits(kix$mutations$UpdateEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$UpdateEntityMutationSerializer.prototype.serialize = function $kix$mutations$UpdateEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$UpdateEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.epm = mutation.docs_text_mutations_AbstractEntityPropertiesMutation$propertyMap_;
  return serializedObject;
};
kix$mutations$UpdateEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$UpdateEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$UpdateEntityMutation(object.id, object.epm);
};
// Input 431
function docs$commands$UpdateFeatureVersionCommand(featureVersion) {
  this.docs_commands_AbstractCommand$type_ = "docs-updatemodelversion";
  goog$asserts$assert(0 <= featureVersion);
  this.featureVersion_ = featureVersion;
}
goog$inherits(docs$commands$UpdateFeatureVersionCommand, docs$commands$AbstractCommand);
// Input 432
function kix$mutations$UpdateFeatureVersionMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "umv";
}
goog$inherits(kix$mutations$UpdateFeatureVersionMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$UpdateFeatureVersionMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$UpdateFeatureVersionMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$commands$UpdateFeatureVersionCommand(object.mv);
};
kix$mutations$UpdateFeatureVersionMutationSerializer.prototype.serialize = function $kix$mutations$UpdateFeatureVersionMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$UpdateFeatureVersionMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.mv = mutation.featureVersion_;
  return serializedObject;
};
// Input 433
function docs$text$mutations$UpdateSuggestedEntityMutation(entityId, propertyMap) {
  docs$text$mutations$AbstractEntityPropertiesMutation.call(this, "kix-use", entityId, propertyMap);
}
goog$inherits(docs$text$mutations$UpdateSuggestedEntityMutation, docs$text$mutations$AbstractUpdateEntityMutation);
// Input 434
function kix$mutations$UpdateSuggestedEntityMutationSerializer() {
  this.kix_mutations_MutationSerializer$type_ = "use";
}
goog$inherits(kix$mutations$UpdateSuggestedEntityMutationSerializer, kix$mutations$MutationSerializer);
kix$mutations$UpdateSuggestedEntityMutationSerializer.prototype.serialize = function $kix$mutations$UpdateSuggestedEntityMutationSerializer$$serialize$(mutation) {
  var serializedObject = kix$mutations$UpdateSuggestedEntityMutationSerializer.superClass_.serialize.call(this, mutation);
  serializedObject.id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId();
  serializedObject.epm = mutation.docs_text_mutations_AbstractEntityPropertiesMutation$propertyMap_;
  return serializedObject;
};
kix$mutations$UpdateSuggestedEntityMutationSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $kix$mutations$UpdateSuggestedEntityMutationSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(object) {
  return new docs$text$mutations$UpdateSuggestedEntityMutation(object.id, object.epm);
};
// Input 435
function kix$mutations$RegistryUtil$registerSerializers(registry, opt_errorReporter) {
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-is", new kix$mutations$InsertSpacersMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-iss", new kix$mutations$InsertSuggestedSpacersMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-msfi", new kix$mutations$MarkSpacersForInsertionMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-ds", new kix$mutations$DeleteSpacersMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-dss", new kix$mutations$DeleteSuggestedSpacersMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-msfd", new kix$mutations$MarkSpacersForDeletionMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-usfd", new kix$mutations$UnmarkSpacersForDeletionMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-ae", new kix$mutations$AddEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-ase", new kix$mutations$AddSuggestedEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-ue", new kix$mutations$UpdateEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-use", new kix$mutations$UpdateSuggestedEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-sue", new kix$mutations$SuggestUpdateEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-rue", new kix$mutations$RejectUpdateEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-de", new kix$mutations$DeleteEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-dse", new kix$mutations$DeleteSuggestedEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-mefd", new kix$mutations$MarkEntityForDeletionMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-uefd", new kix$mutations$UnmarkEntityForDeletionMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-te", new kix$mutations$TetherEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-tse", new kix$mutations$TetherSuggestedEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-ste", new kix$mutations$SuggestTetherEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-rte", new kix$mutations$RejectTetherEntityMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-as", new kix$mutations$ApplyStyleMutationSerializer(!0, opt_errorReporter));
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-sas", new kix$mutations$SuggestApplyStyleMutationSerializer(!0, opt_errorReporter));
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-astss", new kix$mutations$ApplyStyleToSuggestedSpacersMutationSerializer(!0, opt_errorReporter));
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-ras", new kix$mutations$RejectApplyStyleMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "kix-mc", new kix$mutations$MoveCursorMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "docs-revert", new kix$mutations$RevertMutationSerializer(registry));
  JSCompiler_StaticMethods_registerSerializer(registry, "docs-replace", new kix$mutations$ReplaceMutationSerializer(registry));
  JSCompiler_StaticMethods_registerSerializer(registry, "docs-mlti", new kix$mutations$MultiMutationSerializer(registry));
  JSCompiler_StaticMethods_registerSerializer(registry, "docs-null", new kix$mutations$NullMutationSerializer);
  JSCompiler_StaticMethods_registerSerializer(registry, "docs-updatemodelversion", new kix$mutations$UpdateFeatureVersionMutationSerializer);
}
;
// Input 436
// Input 437
function kix$mutations$SerializedTypeExtractor() {
  this.typeMap_ = {};
  this.typeMap_.is = "kix-is";
  this.typeMap_.iss = "kix-iss";
  this.typeMap_.ds = "kix-ds";
  this.typeMap_.dss = "kix-dss";
  this.typeMap_.msfi = "kix-msfi";
  this.typeMap_.msfd = "kix-msfd";
  this.typeMap_.usfd = "kix-usfd";
  this.typeMap_.ae = "kix-ae";
  this.typeMap_.ase = "kix-ase";
  this.typeMap_.ue = "kix-ue";
  this.typeMap_.use = "kix-use";
  this.typeMap_.sue = "kix-sue";
  this.typeMap_.rue = "kix-rue";
  this.typeMap_.de = "kix-de";
  this.typeMap_.dse = "kix-dse";
  this.typeMap_.mefd = "kix-mefd";
  this.typeMap_.uefd = "kix-uefd";
  this.typeMap_.te = "kix-te";
  this.typeMap_.tse = "kix-tse";
  this.typeMap_.ste = "kix-ste";
  this.typeMap_.rte = "kix-rte";
  this.typeMap_.as = "kix-as";
  this.typeMap_.sas = "kix-sas";
  this.typeMap_.astss = "kix-astss";
  this.typeMap_.ras = "kix-ras";
  this.typeMap_.mc = "kix-mc";
  this.typeMap_.rvrt = "docs-revert";
  this.typeMap_.rplc = "docs-replace";
  this.typeMap_.mlti = "docs-mlti";
  this.typeMap_["null"] = "docs-null";
  this.typeMap_.umv = "docs-updatemodelversion";
}
kix$mutations$SerializedTypeExtractor.prototype.getType = function $kix$mutations$SerializedTypeExtractor$$getType$(object) {
  return this.typeMap_[object.ty];
};
// Input 438
function docs$structs$ConstrainedMap(opt_map) {
  this.map_ = {};
  if (opt_map) {
    for (var key in opt_map) {
      this.set(key, opt_map[key]);
    }
  }
}
docs$structs$ConstrainedMap.prototype.get = function $docs$structs$ConstrainedMap$$get$(key) {
  if (!(key in this.map_)) {
    throw Error("No value for key " + key);
  }
  return this.map_[key];
};
docs$structs$ConstrainedMap.prototype.set = function $docs$structs$ConstrainedMap$$set$(key, value) {
  this.map_[key] = value;
};
// Input 439
// Input 440
// Input 441
// Input 442
// Input 443
// Input 444
function docs$commands$CommandRegistry(typeExtractor) {
  this.typeExtractor_ = typeExtractor;
  this.applierMap_ = new docs$structs$ConstrainedMap;
  this.inverterMap_ = new docs$structs$ConstrainedMap;
  this.serializerMap_ = new docs$structs$ConstrainedMap;
  new docs$structs$ConstrainedMap;
  this.compactorMap_ = new docs$structs$ConstrainedMap;
  new docs$structs$ConstrainedMap;
}
docs$commands$CommandRegistry.prototype.apply = function $docs$commands$CommandRegistry$$apply$(command, model) {
  return this.applierMap_.get(command.getType()).apply(command, model);
};
docs$commands$CommandRegistry.prototype.serialize = function $docs$commands$CommandRegistry$$serialize$(command) {
  return this.serializerMap_.get(command.getType()).serialize(command);
};
docs$commands$CommandRegistry.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $docs$commands$CommandRegistry$$docs_commands_CommandRegistry_prototype$deserialize$(obj) {
  var type = this.typeExtractor_.getType(obj);
  return this.serializerMap_.get(type).docs_commands_CommandRegistry_prototype$deserialize(obj);
};
function JSCompiler_StaticMethods_registerApplier(JSCompiler_StaticMethods_registerApplier$self, type, applier) {
  JSCompiler_StaticMethods_registerApplier$self.applierMap_.set(type, applier);
}
function JSCompiler_StaticMethods_registerInverter(JSCompiler_StaticMethods_registerInverter$self, type, inverter) {
  JSCompiler_StaticMethods_registerInverter$self.inverterMap_.set(type, inverter);
}
function JSCompiler_StaticMethods_registerSerializer(JSCompiler_StaticMethods_registerSerializer$self, type, serializer) {
  JSCompiler_StaticMethods_registerSerializer$self.serializerMap_.set(type, serializer);
}
function JSCompiler_StaticMethods_registerCompactor(JSCompiler_StaticMethods_registerCompactor$self, type, compactor) {
  JSCompiler_StaticMethods_registerCompactor$self.compactorMap_.set(type, compactor);
}
;
// Input 445
// Input 446
// Input 447
// Input 448
function docs$storage$WebStorageUtil$isSupported() {
  try {
    var store = goog$global.localStorage;
    if (store && (goog$userAgent$product$CHROME || goog$userAgent$product$SAFARI) && (store.setItem("test", "test"), "test" == store.getItem("test") && (store.removeItem("test"), null == store.getItem("test")))) {
      return !0;
    }
  } catch (error) {
  }
  return !1;
}
;
// Input 449
// Input 450
function goog$async$FreeList(create, reset, limit) {
  this.goog_async_FreeList$limit_ = limit;
  this.create_ = create;
  this.goog_async_FreeList$reset_ = reset;
  this.occupants_ = 0;
  this.goog_async_FreeList$head_ = null;
}
goog$async$FreeList.prototype.get = function $goog$async$FreeList$$get$() {
  var item;
  0 < this.occupants_ ? (this.occupants_--, item = this.goog_async_FreeList$head_, this.goog_async_FreeList$head_ = item.next, item.next = null) : item = this.create_();
  return item;
};
function JSCompiler_StaticMethods_goog_async_FreeList_prototype$put(JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self, item) {
  JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self.goog_async_FreeList$reset_(item);
  JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self.occupants_ < JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self.goog_async_FreeList$limit_ && (JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self.occupants_++, item.next = JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self.goog_async_FreeList$head_, JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self.goog_async_FreeList$head_ = item);
}
;
// Input 451
function goog$async$throwException(exception) {
  goog$global.setTimeout(function() {
    throw exception;
  }, 0);
}
var goog$async$nextTick$setImmediate_;
function goog$async$nextTick$getSetImmediateEmulator_() {
  var Channel = goog$global.MessageChannel;
  "undefined" === typeof Channel && "undefined" !== typeof window && window.postMessage && window.addEventListener && !goog$labs$userAgent$util$matchUserAgent("Presto") && (Channel = function $Channel$() {
    var iframe = document.createElement("IFRAME");
    iframe.style.display = "none";
    iframe.src = "";
    document.documentElement.appendChild(iframe);
    var win = iframe.contentWindow, doc = win.document;
    doc.open();
    doc.write("");
    doc.close();
    var message = "callImmediate" + Math.random(), origin = "file:" == win.location.protocol ? "*" : win.location.protocol + "//" + win.location.host, onmessage = goog$bind(function(e) {
      if (("*" == origin || e.origin == origin) && e.data == message) {
        this.port1.onmessage();
      }
    }, this);
    win.addEventListener("message", onmessage, !1);
    this.port1 = {};
    this.port2 = {postMessage:function $this$port2$postMessage$() {
      win.postMessage(message, origin);
    }};
  });
  if ("undefined" !== typeof Channel && !goog$labs$userAgent$util$matchUserAgent("Trident") && !goog$labs$userAgent$util$matchUserAgent("MSIE")) {
    var channel = new Channel, head = {}, tail = head;
    channel.port1.onmessage = function $channel$port1$onmessage$() {
      if (goog$isDef(head.next)) {
        head = head.next;
        var cb = head.cb;
        head.cb = null;
        cb();
      }
    };
    return function(cb) {
      tail.next = {cb:cb};
      tail = tail.next;
      channel.port2.postMessage(0);
    };
  }
  return "undefined" !== typeof document && "onreadystatechange" in document.createElement("SCRIPT") ? function(cb) {
    var script = document.createElement("SCRIPT");
    script.onreadystatechange = function $script$onreadystatechange$() {
      script.onreadystatechange = null;
      script.parentNode.removeChild(script);
      script = null;
      cb();
      cb = null;
    };
    document.documentElement.appendChild(script);
  } : function(cb) {
    goog$global.setTimeout(cb, 0);
  };
}
var goog$async$nextTick$wrapCallback_ = goog$functions$identity;
goog$debug$entryPointRegistry$register(function(transformer) {
  goog$async$nextTick$wrapCallback_ = transformer;
});
// Input 452
var goog$async$WorkQueue$freelist_ = new goog$async$FreeList(function() {
  return new goog$async$WorkItem;
}, function(item) {
  item.reset();
}, 100);
function JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$remove() {
  var JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$remove$self = goog$async$run$workQueue_, item = null;
  JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$remove$self.workHead_ && (item = JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$remove$self.workHead_, JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$remove$self.workHead_ = JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$remove$self.workHead_.next, JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$remove$self.workHead_ || (JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$remove$self.workTail_ = null), 
  item.next = null);
  return item;
}
function goog$async$WorkItem() {
  this.next = this.goog_async_WorkItem$scope = this.fn = null;
}
goog$async$WorkItem.prototype.set = function $goog$async$WorkItem$$set$(fn, scope) {
  this.fn = fn;
  this.goog_async_WorkItem$scope = scope;
  this.next = null;
};
goog$async$WorkItem.prototype.reset = function $goog$async$WorkItem$$reset$() {
  this.next = this.goog_async_WorkItem$scope = this.fn = null;
};
// Input 453
function goog$async$run(callback, opt_context) {
  goog$async$run$schedule_ || goog$async$run$initializeRunner_();
  goog$async$run$workQueueScheduled_ || (goog$async$run$schedule_(), goog$async$run$workQueueScheduled_ = !0);
  var JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$add$self = goog$async$run$workQueue_, item = goog$async$WorkQueue$freelist_.get();
  item.set(callback, opt_context);
  JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$add$self.workTail_ ? JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$add$self.workTail_.next = item : (goog$asserts$assert(!JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$add$self.workHead_), JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$add$self.workHead_ = item);
  JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$add$self.workTail_ = item;
}
var goog$async$run$schedule_;
function goog$async$run$initializeRunner_() {
  if (-1 != String(goog$global.Promise).indexOf("[native code]")) {
    var promise = goog$global.Promise.resolve(void 0);
    goog$async$run$schedule_ = function $goog$async$run$schedule_$() {
      promise.then(goog$async$run$processWorkQueue);
    };
  } else {
    goog$async$run$schedule_ = function $goog$async$run$schedule_$() {
      var cb = goog$async$run$processWorkQueue, cb = goog$async$nextTick$wrapCallback_(cb);
      !goog$isFunction(goog$global.setImmediate) || goog$global.Window && goog$global.Window.prototype && !goog$labs$userAgent$util$matchUserAgent("Edge") && goog$global.Window.prototype.setImmediate == goog$global.setImmediate ? (goog$async$nextTick$setImmediate_ || (goog$async$nextTick$setImmediate_ = goog$async$nextTick$getSetImmediateEmulator_()), goog$async$nextTick$setImmediate_(cb)) : goog$global.setImmediate(cb);
    };
  }
}
var goog$async$run$workQueueScheduled_ = !1, goog$async$run$workQueue_ = new function() {
  this.workTail_ = this.workHead_ = null;
};
function goog$async$run$processWorkQueue() {
  for (var item;item = JSCompiler_StaticMethods_goog_async_WorkQueue_prototype$remove();) {
    try {
      item.fn.call(item.goog_async_WorkItem$scope);
    } catch (e) {
      goog$async$throwException(e);
    }
    JSCompiler_StaticMethods_goog_async_FreeList_prototype$put(goog$async$WorkQueue$freelist_, item);
  }
  goog$async$run$workQueueScheduled_ = !1;
}
;
// Input 454
// Input 455
function goog$Thenable$addImplementation(ctor) {
  ctor.prototype.then = ctor.prototype.then;
  ctor.prototype.$goog_Thenable = !0;
}
function goog$Thenable$isImplementedBy(object) {
  if (!object) {
    return !1;
  }
  try {
    return !!object.$goog_Thenable;
  } catch (e) {
    return !1;
  }
}
;
// Input 456
function goog$Promise(resolver, opt_context) {
  this.goog_Promise$state_ = 0;
  this.goog_Promise$result_ = void 0;
  this.callbackEntriesTail_ = this.callbackEntries_ = this.goog_Promise$parent_ = null;
  this.hadUnhandledRejection_ = this.executing_ = !1;
  if (resolver != goog$nullFunction) {
    try {
      var self = this;
      resolver.call(opt_context, function(value) {
        JSCompiler_StaticMethods_resolve_(self, 2, value);
      }, function(reason) {
        if (!(reason instanceof goog$Promise$CancellationError)) {
          try {
            if (reason instanceof Error) {
              throw reason;
            }
            throw Error("Promise rejected.");
          } catch (e) {
          }
        }
        JSCompiler_StaticMethods_resolve_(self, 3, reason);
      });
    } catch (e) {
      JSCompiler_StaticMethods_resolve_(this, 3, e);
    }
  }
}
function goog$Promise$CallbackEntry_() {
  this.next = this.context = this.onRejected = this.onFulfilled = this.child = null;
  this.always = !1;
}
goog$Promise$CallbackEntry_.prototype.reset = function $goog$Promise$CallbackEntry_$$reset$() {
  this.context = this.onRejected = this.onFulfilled = this.child = null;
  this.always = !1;
};
var goog$Promise$freelist_ = new goog$async$FreeList(function() {
  return new goog$Promise$CallbackEntry_;
}, function(item) {
  item.reset();
}, 100);
function goog$Promise$getCallbackEntry_(onFulfilled, onRejected, context) {
  var entry = goog$Promise$freelist_.get();
  entry.onFulfilled = onFulfilled;
  entry.onRejected = onRejected;
  entry.context = context;
  return entry;
}
function goog$Promise$resolve() {
  var promise = new goog$Promise(goog$nullFunction);
  JSCompiler_StaticMethods_resolve_(promise, 2, void 0);
  return promise;
}
function goog$Promise$reject(opt_reason) {
  return new goog$Promise(function(resolve, reject) {
    reject(opt_reason);
  });
}
function goog$Promise$resolveThen_(value, onFulfilled, onRejected) {
  goog$Promise$maybeThen_(value, onFulfilled, onRejected, null) || goog$async$run(goog$partial(onFulfilled, value));
}
function goog$Promise$allSettled(promises) {
  return new goog$Promise(function(resolve) {
    var toSettle = promises.length, results = [];
    if (toSettle) {
      for (var onSettled = function $onSettled$(index, fulfilled, result) {
        toSettle--;
        results[index] = fulfilled ? {fulfilled:!0, value:result} : {fulfilled:!1, reason:result};
        0 == toSettle && resolve(results);
      }, i = 0, promise;i < promises.length;i++) {
        promise = promises[i], goog$Promise$resolveThen_(promise, goog$partial(onSettled, i, !0), goog$partial(onSettled, i, !1));
      }
    } else {
      resolve(results);
    }
  });
}
function goog$Promise$withResolver() {
  var resolve, reject, promise = new goog$Promise(function(rs, rj) {
    resolve = rs;
    reject = rj;
  });
  return new goog$Promise$Resolver_(promise, resolve, reject);
}
goog$Promise.prototype.then = function $goog$Promise$$then$(opt_onFulfilled, opt_onRejected, opt_context) {
  null != opt_onFulfilled && goog$asserts$assertFunction(opt_onFulfilled, "opt_onFulfilled should be a function.");
  null != opt_onRejected && goog$asserts$assertFunction(opt_onRejected, "opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");
  return JSCompiler_StaticMethods_addChildPromise_(this, goog$isFunction(opt_onFulfilled) ? opt_onFulfilled : null, goog$isFunction(opt_onRejected) ? opt_onRejected : null, opt_context);
};
goog$Thenable$addImplementation(goog$Promise);
function JSCompiler_StaticMethods_thenAlways(JSCompiler_StaticMethods_thenAlways$self, onSettled) {
  var entry = goog$Promise$getCallbackEntry_(onSettled, onSettled, void 0);
  entry.always = !0;
  JSCompiler_StaticMethods_addCallbackEntry_(JSCompiler_StaticMethods_thenAlways$self, entry);
  return JSCompiler_StaticMethods_thenAlways$self;
}
function JSCompiler_StaticMethods_thenCatch(JSCompiler_StaticMethods_thenCatch$self, onRejected) {
  JSCompiler_StaticMethods_addChildPromise_(JSCompiler_StaticMethods_thenCatch$self, null, onRejected, void 0);
}
goog$Promise.prototype.cancel = function $goog$Promise$$cancel$(opt_message) {
  0 == this.goog_Promise$state_ && goog$async$run(function() {
    var err = new goog$Promise$CancellationError(opt_message);
    JSCompiler_StaticMethods_cancelInternal_(this, err);
  }, this);
};
function JSCompiler_StaticMethods_cancelInternal_(JSCompiler_StaticMethods_cancelInternal_$self, err) {
  if (0 == JSCompiler_StaticMethods_cancelInternal_$self.goog_Promise$state_) {
    if (JSCompiler_StaticMethods_cancelInternal_$self.goog_Promise$parent_) {
      var JSCompiler_StaticMethods_cancelChild_$self = JSCompiler_StaticMethods_cancelInternal_$self.goog_Promise$parent_;
      if (JSCompiler_StaticMethods_cancelChild_$self.callbackEntries_) {
        for (var childCount = 0, childEntry = null, beforeChildEntry = null, entry = JSCompiler_StaticMethods_cancelChild_$self.callbackEntries_;entry && (entry.always || (childCount++, entry.child == JSCompiler_StaticMethods_cancelInternal_$self && (childEntry = entry), !(childEntry && 1 < childCount)));entry = entry.next) {
          childEntry || (beforeChildEntry = entry);
        }
        if (childEntry) {
          if (0 == JSCompiler_StaticMethods_cancelChild_$self.goog_Promise$state_ && 1 == childCount) {
            JSCompiler_StaticMethods_cancelInternal_(JSCompiler_StaticMethods_cancelChild_$self, err);
          } else {
            if (beforeChildEntry) {
              var previous = beforeChildEntry;
              goog$asserts$assert(JSCompiler_StaticMethods_cancelChild_$self.callbackEntries_);
              goog$asserts$assert(null != previous);
              previous.next == JSCompiler_StaticMethods_cancelChild_$self.callbackEntriesTail_ && (JSCompiler_StaticMethods_cancelChild_$self.callbackEntriesTail_ = previous);
              previous.next = previous.next.next;
            } else {
              JSCompiler_StaticMethods_popEntry_(JSCompiler_StaticMethods_cancelChild_$self);
            }
            JSCompiler_StaticMethods_executeCallback_(JSCompiler_StaticMethods_cancelChild_$self, childEntry, 3, err);
          }
        }
      }
      JSCompiler_StaticMethods_cancelInternal_$self.goog_Promise$parent_ = null;
    } else {
      JSCompiler_StaticMethods_resolve_(JSCompiler_StaticMethods_cancelInternal_$self, 3, err);
    }
  }
}
function JSCompiler_StaticMethods_addCallbackEntry_(JSCompiler_StaticMethods_addCallbackEntry_$self, callbackEntry) {
  JSCompiler_StaticMethods_addCallbackEntry_$self.callbackEntries_ || 2 != JSCompiler_StaticMethods_addCallbackEntry_$self.goog_Promise$state_ && 3 != JSCompiler_StaticMethods_addCallbackEntry_$self.goog_Promise$state_ || JSCompiler_StaticMethods_scheduleCallbacks_(JSCompiler_StaticMethods_addCallbackEntry_$self);
  goog$asserts$assert(null != callbackEntry.onFulfilled);
  JSCompiler_StaticMethods_addCallbackEntry_$self.callbackEntriesTail_ ? JSCompiler_StaticMethods_addCallbackEntry_$self.callbackEntriesTail_.next = callbackEntry : JSCompiler_StaticMethods_addCallbackEntry_$self.callbackEntries_ = callbackEntry;
  JSCompiler_StaticMethods_addCallbackEntry_$self.callbackEntriesTail_ = callbackEntry;
}
function JSCompiler_StaticMethods_addChildPromise_(JSCompiler_StaticMethods_addChildPromise_$self, onFulfilled, onRejected, opt_context) {
  var callbackEntry = goog$Promise$getCallbackEntry_(null, null, null);
  callbackEntry.child = new goog$Promise(function(resolve, reject) {
    callbackEntry.onFulfilled = onFulfilled ? function(value) {
      try {
        var result = onFulfilled.call(opt_context, value);
        resolve(result);
      } catch (err) {
        reject(err);
      }
    } : resolve;
    callbackEntry.onRejected = onRejected ? function(reason) {
      try {
        var result = onRejected.call(opt_context, reason);
        !goog$isDef(result) && reason instanceof goog$Promise$CancellationError ? reject(reason) : resolve(result);
      } catch (err) {
        reject(err);
      }
    } : reject;
  });
  callbackEntry.child.goog_Promise$parent_ = JSCompiler_StaticMethods_addChildPromise_$self;
  JSCompiler_StaticMethods_addCallbackEntry_(JSCompiler_StaticMethods_addChildPromise_$self, callbackEntry);
  return callbackEntry.child;
}
goog$Promise.prototype.unblockAndFulfill_ = function $goog$Promise$$unblockAndFulfill_$(value) {
  goog$asserts$assert(1 == this.goog_Promise$state_);
  this.goog_Promise$state_ = 0;
  JSCompiler_StaticMethods_resolve_(this, 2, value);
};
goog$Promise.prototype.unblockAndReject_ = function $goog$Promise$$unblockAndReject_$(reason) {
  goog$asserts$assert(1 == this.goog_Promise$state_);
  this.goog_Promise$state_ = 0;
  JSCompiler_StaticMethods_resolve_(this, 3, reason);
};
function JSCompiler_StaticMethods_resolve_(JSCompiler_StaticMethods_resolve_$self, state, x) {
  0 == JSCompiler_StaticMethods_resolve_$self.goog_Promise$state_ && (JSCompiler_StaticMethods_resolve_$self === x && (state = 3, x = new TypeError("Promise cannot resolve to itself")), JSCompiler_StaticMethods_resolve_$self.goog_Promise$state_ = 1, goog$Promise$maybeThen_(x, JSCompiler_StaticMethods_resolve_$self.unblockAndFulfill_, JSCompiler_StaticMethods_resolve_$self.unblockAndReject_, JSCompiler_StaticMethods_resolve_$self) || (JSCompiler_StaticMethods_resolve_$self.goog_Promise$result_ = x, 
  JSCompiler_StaticMethods_resolve_$self.goog_Promise$state_ = state, JSCompiler_StaticMethods_resolve_$self.goog_Promise$parent_ = null, JSCompiler_StaticMethods_scheduleCallbacks_(JSCompiler_StaticMethods_resolve_$self), 3 != state || x instanceof goog$Promise$CancellationError || goog$Promise$addUnhandledRejection_(JSCompiler_StaticMethods_resolve_$self, x)));
}
function goog$Promise$maybeThen_(value, onFulfilled, onRejected, context) {
  if (value instanceof goog$Promise) {
    return null != onFulfilled && goog$asserts$assertFunction(onFulfilled, "opt_onFulfilled should be a function."), null != onRejected && goog$asserts$assertFunction(onRejected, "opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"), JSCompiler_StaticMethods_addCallbackEntry_(value, goog$Promise$getCallbackEntry_(onFulfilled || goog$nullFunction, onRejected || null, context)), !0;
  }
  if (goog$Thenable$isImplementedBy(value)) {
    return value.then(onFulfilled, onRejected, context), !0;
  }
  if (goog$isObject(value)) {
    try {
      var then = value.then;
      if (goog$isFunction(then)) {
        return goog$Promise$tryThen_(value, then, onFulfilled, onRejected, context), !0;
      }
    } catch (e) {
      return onRejected.call(context, e), !0;
    }
  }
  return !1;
}
function goog$Promise$tryThen_(thenable, then, onFulfilled, onRejected, context) {
  function reject(reason) {
    called || (called = !0, onRejected.call(context, reason));
  }
  function resolve(value) {
    called || (called = !0, onFulfilled.call(context, value));
  }
  var called = !1;
  try {
    then.call(thenable, resolve, reject);
  } catch (e) {
    reject(e);
  }
}
function JSCompiler_StaticMethods_scheduleCallbacks_(JSCompiler_StaticMethods_scheduleCallbacks_$self) {
  JSCompiler_StaticMethods_scheduleCallbacks_$self.executing_ || (JSCompiler_StaticMethods_scheduleCallbacks_$self.executing_ = !0, goog$async$run(JSCompiler_StaticMethods_scheduleCallbacks_$self.executeCallbacks_, JSCompiler_StaticMethods_scheduleCallbacks_$self));
}
function JSCompiler_StaticMethods_popEntry_(JSCompiler_StaticMethods_popEntry_$self) {
  var entry = null;
  JSCompiler_StaticMethods_popEntry_$self.callbackEntries_ && (entry = JSCompiler_StaticMethods_popEntry_$self.callbackEntries_, JSCompiler_StaticMethods_popEntry_$self.callbackEntries_ = entry.next, entry.next = null);
  JSCompiler_StaticMethods_popEntry_$self.callbackEntries_ || (JSCompiler_StaticMethods_popEntry_$self.callbackEntriesTail_ = null);
  null != entry && goog$asserts$assert(null != entry.onFulfilled);
  return entry;
}
goog$Promise.prototype.executeCallbacks_ = function $goog$Promise$$executeCallbacks_$() {
  for (var entry;entry = JSCompiler_StaticMethods_popEntry_(this);) {
    JSCompiler_StaticMethods_executeCallback_(this, entry, this.goog_Promise$state_, this.goog_Promise$result_);
  }
  this.executing_ = !1;
};
function JSCompiler_StaticMethods_executeCallback_(JSCompiler_StaticMethods_executeCallback_$self, callbackEntry, state, result) {
  if (3 == state && callbackEntry.onRejected && !callbackEntry.always) {
    var p;
    for (p = JSCompiler_StaticMethods_executeCallback_$self;p && p.hadUnhandledRejection_;p = p.goog_Promise$parent_) {
      p.hadUnhandledRejection_ = !1;
    }
  }
  if (callbackEntry.child) {
    callbackEntry.child.goog_Promise$parent_ = null, goog$Promise$invokeCallback_(callbackEntry, state, result);
  } else {
    try {
      callbackEntry.always ? callbackEntry.onFulfilled.call(callbackEntry.context) : goog$Promise$invokeCallback_(callbackEntry, state, result);
    } catch (err) {
      goog$Promise$handleRejection_.call(null, err);
    }
  }
  JSCompiler_StaticMethods_goog_async_FreeList_prototype$put(goog$Promise$freelist_, callbackEntry);
}
function goog$Promise$invokeCallback_(callbackEntry, state, result) {
  2 == state ? callbackEntry.onFulfilled.call(callbackEntry.context, result) : callbackEntry.onRejected && callbackEntry.onRejected.call(callbackEntry.context, result);
}
function goog$Promise$addUnhandledRejection_(promise, reason) {
  promise.hadUnhandledRejection_ = !0;
  goog$async$run(function() {
    promise.hadUnhandledRejection_ && goog$Promise$handleRejection_.call(null, reason);
  });
}
var goog$Promise$handleRejection_ = goog$async$throwException;
function goog$Promise$CancellationError(opt_message) {
  goog$debug$Error.call(this, opt_message);
}
goog$inherits(goog$Promise$CancellationError, goog$debug$Error);
goog$Promise$CancellationError.prototype.name = "cancel";
function goog$Promise$Resolver_(promise, resolve, reject) {
  this.promise = promise;
  this.goog_Promise_Resolver_$resolve = resolve;
  this.goog_Promise_Resolver_$reject = reject;
}
;
// Input 457
function goog$Timer(opt_interval, opt_timerObject) {
  goog$events$EventTarget.call(this);
  this.goog_Timer$interval_ = opt_interval || 1;
  this.timerObject_ = opt_timerObject || goog$global;
  this.boundTick_ = goog$bind(this.tick_, this);
  this.last_ = goog$now();
}
goog$inherits(goog$Timer, goog$events$EventTarget);
goog$Timer.prototype.goog_Timer_prototype$enabled = !1;
goog$Timer.prototype.timer_ = null;
goog$Timer.prototype.setInterval = function $goog$Timer$$setInterval$(interval) {
  this.goog_Timer$interval_ = interval;
  this.timer_ && this.goog_Timer_prototype$enabled ? (this.stop(), this.start()) : this.timer_ && this.stop();
};
goog$Timer.prototype.tick_ = function $goog$Timer$$tick_$() {
  if (this.goog_Timer_prototype$enabled) {
    var elapsed = goog$now() - this.last_;
    0 < elapsed && elapsed < 0.8 * this.goog_Timer$interval_ ? this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.goog_Timer$interval_ - elapsed) : (this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null), this.dispatchEvent("tick"), this.goog_Timer_prototype$enabled && (this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.goog_Timer$interval_), this.last_ = goog$now()));
  }
};
goog$Timer.prototype.start = function $goog$Timer$$start$() {
  this.goog_Timer_prototype$enabled = !0;
  this.timer_ || (this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.goog_Timer$interval_), this.last_ = goog$now());
};
goog$Timer.prototype.stop = function $goog$Timer$$stop$() {
  this.goog_Timer_prototype$enabled = !1;
  this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null);
};
goog$Timer.prototype.disposeInternal = function $goog$Timer$$disposeInternal$() {
  goog$Timer.superClass_.disposeInternal.call(this);
  this.stop();
  delete this.timerObject_;
};
function goog$Timer$callOnce(listener, opt_delay, opt_handler) {
  if (goog$isFunction(listener)) {
    opt_handler && (listener = goog$bind(listener, opt_handler));
  } else {
    if (listener && "function" == typeof listener.handleEvent) {
      listener = goog$bind(listener.handleEvent, listener);
    } else {
      throw Error("Invalid listener argument");
    }
  }
  return 2147483647 < Number(opt_delay) ? -1 : goog$global.setTimeout(listener, opt_delay || 0);
}
;
// Input 458
// Input 459
// Input 460
// Input 461
// Input 462
function goog$net$XmlHttpFactory() {
}
goog$net$XmlHttpFactory.prototype.cachedOptions_ = null;
function JSCompiler_StaticMethods_getOptions(JSCompiler_StaticMethods_getOptions$self) {
  var JSCompiler_temp;
  if (!(JSCompiler_temp = JSCompiler_StaticMethods_getOptions$self.cachedOptions_)) {
    var options = {};
    JSCompiler_StaticMethods_getProgId_(JSCompiler_StaticMethods_getOptions$self) && (options[0] = !0, options[1] = !0);
    JSCompiler_temp = JSCompiler_StaticMethods_getOptions$self.cachedOptions_ = options;
  }
  return JSCompiler_temp;
}
;
// Input 463
// Input 464
var goog$net$XmlHttp$factory_;
function goog$net$DefaultXmlHttpFactory() {
}
goog$inherits(goog$net$DefaultXmlHttpFactory, goog$net$XmlHttpFactory);
function JSCompiler_StaticMethods_createInstance(JSCompiler_StaticMethods_createInstance$self) {
  var progId = JSCompiler_StaticMethods_getProgId_(JSCompiler_StaticMethods_createInstance$self);
  return progId ? new ActiveXObject(progId) : new XMLHttpRequest;
}
function JSCompiler_StaticMethods_getProgId_(JSCompiler_StaticMethods_getProgId_$self) {
  if (!JSCompiler_StaticMethods_getProgId_$self.ieProgId_ && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {
    for (var ACTIVE_X_IDENTS = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], i = 0;i < ACTIVE_X_IDENTS.length;i++) {
      var candidate = ACTIVE_X_IDENTS[i];
      try {
        return new ActiveXObject(candidate), JSCompiler_StaticMethods_getProgId_$self.ieProgId_ = candidate;
      } catch (e) {
      }
    }
    throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
  }
  return JSCompiler_StaticMethods_getProgId_$self.ieProgId_;
}
goog$net$XmlHttp$factory_ = new goog$net$DefaultXmlHttpFactory;
// Input 465
function goog$net$XhrIo(opt_xmlHttpFactory) {
  goog$events$EventTarget.call(this);
  this.headers = new goog$structs$Map;
  this.xmlHttpFactory_ = opt_xmlHttpFactory || null;
  this.active_ = !1;
  this.xhrOptions_ = this.xhr_ = null;
  this.lastError_ = this.lastMethod_ = this.lastUri_ = "";
  this.inAbort_ = this.inOpen_ = this.inSend_ = this.errorDispatched_ = !1;
  this.timeoutInterval_ = 0;
  this.timeoutId_ = null;
  this.responseType_ = "";
  this.useXhr2Timeout_ = this.withCredentials_ = !1;
}
goog$inherits(goog$net$XhrIo, goog$events$EventTarget);
goog$net$XhrIo.prototype.goog_net_XhrIo_prototype$logger_ = goog$debug$LogManager$getLogger("goog.net.XhrIo");
var goog$net$XhrIo$HTTP_SCHEME_PATTERN = /^https?$/i, goog$net$XhrIo$METHODS_WITH_FORM_DATA = ["POST", "PUT"], goog$net$XhrIo$sendInstances_ = [];
goog$net$XhrIo.prototype.cleanupSend_ = function $goog$net$XhrIo$$cleanupSend_$() {
  this.dispose();
  goog$array$remove(goog$net$XhrIo$sendInstances_, this);
};
function JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self, url, opt_method, opt_content, opt_headers) {
  if (JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_) {
    throw Error("[goog.net.XhrIo] Object is active with another request=" + JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.lastUri_ + "; newUri=" + url);
  }
  var method = opt_method ? opt_method.toUpperCase() : "GET";
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.lastUri_ = url;
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.lastError_ = "";
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.lastMethod_ = method;
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.errorDispatched_ = !1;
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.active_ = !0;
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_ = JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xmlHttpFactory_ ? JSCompiler_StaticMethods_createInstance(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xmlHttpFactory_) : JSCompiler_StaticMethods_createInstance(goog$net$XmlHttp$factory_);
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhrOptions_ = JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xmlHttpFactory_ ? JSCompiler_StaticMethods_getOptions(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xmlHttpFactory_) : JSCompiler_StaticMethods_getOptions(goog$net$XmlHttp$factory_);
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_.onreadystatechange = goog$bind(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.onReadyStateChange_, JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self);
  try {
    goog$log$fine(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.goog_net_XhrIo_prototype$logger_, JSCompiler_StaticMethods_formatMsg_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self, "Opening Xhr")), JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.inOpen_ = !0, JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_.open(method, String(url), !0), JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.inOpen_ = !1;
  } catch (err) {
    goog$log$fine(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.goog_net_XhrIo_prototype$logger_, JSCompiler_StaticMethods_formatMsg_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self, "Error opening Xhr: " + err.message));
    JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self, err);
    return;
  }
  var content = opt_content || "", headers = JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.headers.clone();
  opt_headers && goog$structs$forEach(opt_headers, function(value, key) {
    headers.set(key, value);
  });
  var contentTypeKey = goog$array$find(headers.getKeys()), contentIsFormData = goog$global.FormData && content instanceof goog$global.FormData;
  !goog$array$contains(goog$net$XhrIo$METHODS_WITH_FORM_DATA, method) || contentTypeKey || contentIsFormData || headers.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
  headers.forEach(function(value, key) {
    this.xhr_.setRequestHeader(key, value);
  }, JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self);
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.responseType_ && (JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_.responseType = JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.responseType_);
  "withCredentials" in JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_ && JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_.withCredentials !== JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.withCredentials_ && (JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_.withCredentials = JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.withCredentials_);
  try {
    JSCompiler_StaticMethods_cleanUpTimeoutTimer_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self), 0 < JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.timeoutInterval_ && (JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.useXhr2Timeout_ = !1, goog$log$fine(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.goog_net_XhrIo_prototype$logger_, JSCompiler_StaticMethods_formatMsg_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self, "Will abort after " + 
    JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.timeoutInterval_ + "ms if incomplete, xhr2 " + JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.useXhr2Timeout_)), JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.useXhr2Timeout_ ? (JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_.timeout = JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.timeoutInterval_, JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_.ontimeout = goog$bind(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.timeout_, 
    JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self)) : JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.timeoutId_ = goog$Timer$callOnce(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.timeout_, JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.timeoutInterval_, JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self)), goog$log$fine(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.goog_net_XhrIo_prototype$logger_, JSCompiler_StaticMethods_formatMsg_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self, 
    "Sending request")), JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.inSend_ = !0, JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.xhr_.send(content), JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.inSend_ = !1;
  } catch (err$2) {
    goog$log$fine(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self.goog_net_XhrIo_prototype$logger_, JSCompiler_StaticMethods_formatMsg_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self, "Send error: " + err$2.message)), JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send$self, err$2);
  }
}
function goog$net$XhrIo$isContentTypeHeader_(header) {
  return "content-type" == header.toLowerCase();
}
goog$net$XhrIo.prototype.timeout_ = function $goog$net$XhrIo$$timeout_$() {
  "undefined" != typeof goog && this.xhr_ && (this.lastError_ = "Timed out after " + this.timeoutInterval_ + "ms, aborting", goog$log$fine(this.goog_net_XhrIo_prototype$logger_, JSCompiler_StaticMethods_formatMsg_(this, this.lastError_)), this.dispatchEvent("timeout"), this.abort(8));
};
function JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self, err) {
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self.active_ = !1;
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self.xhr_ && (JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self.inAbort_ = !0, JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self.xhr_.abort(), JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self.inAbort_ = !1);
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self.lastError_ = err;
  JSCompiler_StaticMethods_dispatchErrors_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self);
  JSCompiler_StaticMethods_cleanUpXhr_(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self);
}
function JSCompiler_StaticMethods_dispatchErrors_(JSCompiler_StaticMethods_dispatchErrors_$self) {
  JSCompiler_StaticMethods_dispatchErrors_$self.errorDispatched_ || (JSCompiler_StaticMethods_dispatchErrors_$self.errorDispatched_ = !0, JSCompiler_StaticMethods_dispatchErrors_$self.dispatchEvent("complete"), JSCompiler_StaticMethods_dispatchErrors_$self.dispatchEvent("error"));
}
goog$net$XhrIo.prototype.abort = function $goog$net$XhrIo$$abort$() {
  this.xhr_ && this.active_ && (goog$log$fine(this.goog_net_XhrIo_prototype$logger_, JSCompiler_StaticMethods_formatMsg_(this, "Aborting")), this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1, this.dispatchEvent("complete"), this.dispatchEvent("abort"), JSCompiler_StaticMethods_cleanUpXhr_(this));
};
goog$net$XhrIo.prototype.disposeInternal = function $goog$net$XhrIo$$disposeInternal$() {
  this.xhr_ && (this.active_ && (this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1), JSCompiler_StaticMethods_cleanUpXhr_(this, !0));
  goog$net$XhrIo.superClass_.disposeInternal.call(this);
};
goog$net$XhrIo.prototype.onReadyStateChange_ = function $goog$net$XhrIo$$onReadyStateChange_$() {
  if (!this.disposed_) {
    if (this.inOpen_ || this.inSend_ || this.inAbort_) {
      JSCompiler_StaticMethods_onReadyStateChangeHelper_(this);
    } else {
      this.onReadyStateChangeEntryPoint_();
    }
  }
};
goog$net$XhrIo.prototype.onReadyStateChangeEntryPoint_ = function $goog$net$XhrIo$$onReadyStateChangeEntryPoint_$() {
  JSCompiler_StaticMethods_onReadyStateChangeHelper_(this);
};
function JSCompiler_StaticMethods_onReadyStateChangeHelper_(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self) {
  if (JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.active_ && "undefined" != typeof goog) {
    if (JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.xhrOptions_[1] && 4 == JSCompiler_StaticMethods_getReadyState(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self) && 2 == JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getStatus(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self)) {
      goog$log$fine(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.goog_net_XhrIo_prototype$logger_, JSCompiler_StaticMethods_formatMsg_(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self, "Local request error detected and ignored"));
    } else {
      if (JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.inSend_ && 4 == JSCompiler_StaticMethods_getReadyState(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self)) {
        goog$Timer$callOnce(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.onReadyStateChange_, 0, JSCompiler_StaticMethods_onReadyStateChangeHelper_$self);
      } else {
        if (JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.dispatchEvent("readystatechange"), 4 == JSCompiler_StaticMethods_getReadyState(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self)) {
          goog$log$fine(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.goog_net_XhrIo_prototype$logger_, JSCompiler_StaticMethods_formatMsg_(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self, "Request complete"));
          JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.active_ = !1;
          try {
            if (JSCompiler_StaticMethods_isSuccess(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self)) {
              JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.dispatchEvent("complete"), JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.dispatchEvent("success");
            } else {
              var JSCompiler_inline_result;
              try {
                JSCompiler_inline_result = 2 < JSCompiler_StaticMethods_getReadyState(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self) ? JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.xhr_.statusText : "";
              } catch (e) {
                goog$log$fine(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.goog_net_XhrIo_prototype$logger_, "Can not get status: " + e.message), JSCompiler_inline_result = "";
              }
              JSCompiler_StaticMethods_onReadyStateChangeHelper_$self.lastError_ = JSCompiler_inline_result + " [" + JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getStatus(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self) + "]";
              JSCompiler_StaticMethods_dispatchErrors_(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self);
            }
          } finally {
            JSCompiler_StaticMethods_cleanUpXhr_(JSCompiler_StaticMethods_onReadyStateChangeHelper_$self);
          }
        }
      }
    }
  }
}
function JSCompiler_StaticMethods_cleanUpXhr_(JSCompiler_StaticMethods_cleanUpXhr_$self, opt_fromDispose) {
  if (JSCompiler_StaticMethods_cleanUpXhr_$self.xhr_) {
    JSCompiler_StaticMethods_cleanUpTimeoutTimer_(JSCompiler_StaticMethods_cleanUpXhr_$self);
    var xhr = JSCompiler_StaticMethods_cleanUpXhr_$self.xhr_, clearedOnReadyStateChange = JSCompiler_StaticMethods_cleanUpXhr_$self.xhrOptions_[0] ? goog$nullFunction : null;
    JSCompiler_StaticMethods_cleanUpXhr_$self.xhr_ = null;
    JSCompiler_StaticMethods_cleanUpXhr_$self.xhrOptions_ = null;
    opt_fromDispose || JSCompiler_StaticMethods_cleanUpXhr_$self.dispatchEvent("ready");
    try {
      xhr.onreadystatechange = clearedOnReadyStateChange;
    } catch (e) {
      goog$log$error(JSCompiler_StaticMethods_cleanUpXhr_$self.goog_net_XhrIo_prototype$logger_, "Problem encountered resetting onreadystatechange: " + e.message);
    }
  }
}
function JSCompiler_StaticMethods_cleanUpTimeoutTimer_(JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self) {
  JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.xhr_ && JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.useXhr2Timeout_ && (JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.xhr_.ontimeout = null);
  goog$isNumber(JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.timeoutId_) && (goog$global.clearTimeout(JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.timeoutId_), JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self.timeoutId_ = null);
}
function JSCompiler_StaticMethods_isSuccess(JSCompiler_StaticMethods_isSuccess$self) {
  var status = JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getStatus(JSCompiler_StaticMethods_isSuccess$self), JSCompiler_inline_result;
  a: {
    switch(status) {
      case 200:
      case 201:
      case 202:
      case 204:
      case 206:
      case 304:
      case 1223:
        JSCompiler_inline_result = !0;
        break a;
      default:
        JSCompiler_inline_result = !1;
    }
  }
  var JSCompiler_temp;
  if (!(JSCompiler_temp = JSCompiler_inline_result)) {
    var JSCompiler_temp$jscomp$0;
    if (JSCompiler_temp$jscomp$0 = 0 === status) {
      var scheme = String(JSCompiler_StaticMethods_isSuccess$self.lastUri_).match(goog$uri$utils$splitRe_)[1] || null;
      if (!scheme && goog$global.self && goog$global.self.location) {
        var protocol = goog$global.self.location.protocol, scheme = protocol.substr(0, protocol.length - 1);
      }
      JSCompiler_temp$jscomp$0 = !goog$net$XhrIo$HTTP_SCHEME_PATTERN.test(scheme ? scheme.toLowerCase() : "");
    }
    JSCompiler_temp = JSCompiler_temp$jscomp$0;
  }
  return JSCompiler_temp;
}
function JSCompiler_StaticMethods_getReadyState(JSCompiler_StaticMethods_getReadyState$self) {
  return JSCompiler_StaticMethods_getReadyState$self.xhr_ ? JSCompiler_StaticMethods_getReadyState$self.xhr_.readyState : 0;
}
function JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getStatus(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getStatus$self) {
  try {
    return 2 < JSCompiler_StaticMethods_getReadyState(JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getStatus$self) ? JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getStatus$self.xhr_.status : -1;
  } catch (e) {
    return -1;
  }
}
function JSCompiler_StaticMethods_formatMsg_(JSCompiler_StaticMethods_formatMsg_$self, msg) {
  return msg + " [" + JSCompiler_StaticMethods_formatMsg_$self.lastMethod_ + " " + JSCompiler_StaticMethods_formatMsg_$self.lastUri_ + " " + JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getStatus(JSCompiler_StaticMethods_formatMsg_$self) + "]";
}
goog$debug$entryPointRegistry$register(function(transformer) {
  goog$net$XhrIo.prototype.onReadyStateChangeEntryPoint_ = transformer(goog$net$XhrIo.prototype.onReadyStateChangeEntryPoint_);
});
// Input 466
function goog$structs$SimplePool(initialCount, maxCount) {
  goog$Disposable.call(this);
  this.maxCount_ = maxCount;
  this.freeQueue_ = [];
  if (initialCount > this.maxCount_) {
    throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");
  }
  for (var i = 0;i < initialCount;i++) {
    this.freeQueue_.push(this.createObject());
  }
}
goog$inherits(goog$structs$SimplePool, goog$Disposable);
function JSCompiler_StaticMethods_releaseObject(JSCompiler_StaticMethods_releaseObject$self, obj) {
  JSCompiler_StaticMethods_releaseObject$self.freeQueue_.length < JSCompiler_StaticMethods_releaseObject$self.maxCount_ ? JSCompiler_StaticMethods_releaseObject$self.freeQueue_.push(obj) : JSCompiler_StaticMethods_releaseObject$self.disposeObject(obj);
}
goog$structs$SimplePool.prototype.createObject = function $goog$structs$SimplePool$$createObject$() {
  return {};
};
goog$structs$SimplePool.prototype.disposeObject = function $goog$structs$SimplePool$$disposeObject$(obj) {
  if (goog$isObject(obj)) {
    if (goog$isFunction(obj.dispose)) {
      obj.dispose();
    } else {
      for (var i in obj) {
        delete obj[i];
      }
    }
  }
};
goog$structs$SimplePool.prototype.disposeInternal = function $goog$structs$SimplePool$$disposeInternal$() {
  goog$structs$SimplePool.superClass_.disposeInternal.call(this);
  for (var freeQueue = this.freeQueue_;freeQueue.length;) {
    this.disposeObject(freeQueue.pop());
  }
  delete this.freeQueue_;
};
// Input 467
function goog$debug$Trace_() {
  this.goog_debug_Trace_$events_ = [];
  this.outstandingEvents_ = new goog$structs$Map;
  this.tracerOverheadComment_ = this.tracerOverheadEnd_ = this.tracerOverheadStart_ = this.goog_debug_Trace_$startTime_ = 0;
  this.stats_ = new goog$structs$Map;
  this.commentCount_ = this.tracerCount_ = 0;
  this.nextId_ = 1;
  this.eventPool_ = new goog$structs$SimplePool(0, 4000);
  this.eventPool_.createObject = function $this$eventPool_$createObject$() {
    return new goog$debug$Trace_$Event_;
  };
  this.statPool_ = new goog$structs$SimplePool(0, 50);
  this.statPool_.createObject = function $this$statPool_$createObject$() {
    return new goog$debug$Trace_$Stat_;
  };
  var self = this;
  this.idPool_ = new goog$structs$SimplePool(0, 2000);
  this.idPool_.createObject = function $this$idPool_$createObject$() {
    return String(self.nextId_++);
  };
  this.idPool_.disposeObject = JSCompiler_emptyFn();
}
function goog$debug$Trace_$Stat_() {
  this.varAlloc = this.time = this.count = 0;
}
goog$debug$Trace_$Stat_.prototype.toString = function $goog$debug$Trace_$Stat_$$toString$() {
  var sb = [];
  sb.push(this.type, " ", this.count, " (", Math.round(10 * this.time) / 10, " ms)");
  this.varAlloc && sb.push(" [VarAlloc = ", this.varAlloc, "]");
  return sb.join("");
};
function goog$debug$Trace_$Event_() {
}
function JSCompiler_StaticMethods_toTraceString(JSCompiler_StaticMethods_toTraceString$self, startTime, prevTime, indent) {
  var sb = [];
  -1 == prevTime ? sb.push("    ") : sb.push(goog$debug$Trace_$longToPaddedString_(JSCompiler_StaticMethods_toTraceString$self.eventTime - prevTime));
  sb.push(" ", goog$debug$Trace_$formatTime_(JSCompiler_StaticMethods_toTraceString$self.eventTime - startTime));
  0 == JSCompiler_StaticMethods_toTraceString$self.eventType ? sb.push(" Start        ") : 1 == JSCompiler_StaticMethods_toTraceString$self.eventType ? (sb.push(" Done "), sb.push(goog$debug$Trace_$longToPaddedString_(JSCompiler_StaticMethods_toTraceString$self.stopTime - JSCompiler_StaticMethods_toTraceString$self.startTime), " ms ")) : sb.push(" Comment      ");
  sb.push(indent, JSCompiler_StaticMethods_toTraceString$self);
  0 < JSCompiler_StaticMethods_toTraceString$self.totalVarAlloc && sb.push("[VarAlloc ", JSCompiler_StaticMethods_toTraceString$self.totalVarAlloc, "] ");
  return sb.join("");
}
goog$debug$Trace_$Event_.prototype.toString = function $goog$debug$Trace_$Event_$$toString$() {
  return null == this.type ? this.comment : "[" + this.type + "] " + this.comment;
};
goog$debug$Trace_.prototype.reset = function $goog$debug$Trace_$$reset$() {
  for (var i = 0;i < this.goog_debug_Trace_$events_.length;i++) {
    var event = this.goog_debug_Trace_$events_[i];
    event.id && JSCompiler_StaticMethods_releaseObject(this.idPool_, event.id);
    JSCompiler_StaticMethods_releaseObject(this.eventPool_, event);
  }
  this.goog_debug_Trace_$events_.length = 0;
  this.outstandingEvents_.clear();
  this.goog_debug_Trace_$startTime_ = goog$now();
  this.commentCount_ = this.tracerCount_ = this.tracerOverheadComment_ = this.tracerOverheadEnd_ = this.tracerOverheadStart_ = 0;
  for (var keys = this.stats_.getKeys(), i$jscomp$0 = 0;i$jscomp$0 < keys.length;i$jscomp$0++) {
    var stat = this.stats_.get(keys[i$jscomp$0]);
    stat.count = 0;
    stat.time = 0;
    stat.varAlloc = 0;
    JSCompiler_StaticMethods_releaseObject(this.statPool_, stat);
  }
  this.stats_.clear();
};
goog$debug$Trace_.prototype.toString = function $goog$debug$Trace_$$toString$() {
  for (var sb = [], etime = -1, indent = [], i = 0;i < this.goog_debug_Trace_$events_.length;i++) {
    var e = this.goog_debug_Trace_$events_[i];
    1 == e.eventType && indent.pop();
    sb.push(" ", JSCompiler_StaticMethods_toTraceString(e, this.goog_debug_Trace_$startTime_, etime, indent.join("")));
    etime = e.eventTime;
    sb.push("\n");
    0 == e.eventType && indent.push("|  ");
  }
  if (0 != this.outstandingEvents_.getCount()) {
    var now = goog$now();
    sb.push(" Unstopped timers:\n");
    goog$iter$forEach(this.outstandingEvents_, function(startEvent) {
      sb.push("  ", startEvent, " (", now - startEvent.startTime, " ms, started at ", goog$debug$Trace_$formatTime_(startEvent.startTime), ")\n");
    });
  }
  for (var statKeys = this.stats_.getKeys(), i = 0;i < statKeys.length;i++) {
    var stat = this.stats_.get(statKeys[i]);
    1 < stat.count && sb.push(" TOTAL ", stat, "\n");
  }
  sb.push("Total tracers created ", this.tracerCount_, "\n", "Total comments created ", this.commentCount_, "\n", "Overhead start: ", this.tracerOverheadStart_, " ms\n", "Overhead end: ", this.tracerOverheadEnd_, " ms\n", "Overhead comment: ", this.tracerOverheadComment_, " ms\n");
  return sb.join("");
};
function goog$debug$Trace_$longToPaddedString_(v) {
  v = Math.round(v);
  var space = "";
  1000 > v && (space = " ");
  100 > v && (space = "  ");
  10 > v && (space = "   ");
  return space + v;
}
function goog$debug$Trace_$formatTime_(time) {
  time = Math.round(time);
  return String(100 + time / 1000 % 60).substring(1, 3) + "." + String(1000 + time % 1000).substring(1, 4);
}
new goog$debug$Trace_;
// Input 468
function goog$debug$ErrorHandler(handler) {
  goog$Disposable.call(this);
  this.errorHandlerFn_ = handler;
}
goog$inherits(goog$debug$ErrorHandler, goog$Disposable);
goog$debug$ErrorHandler.prototype.wrap = function $goog$debug$ErrorHandler$$wrap$(fn) {
  return JSCompiler_StaticMethods_protectEntryPoint(this, goog$asserts$assertFunction(fn));
};
function JSCompiler_StaticMethods_goog_debug_EntryPointMonitor_prototype$unwrap(JSCompiler_StaticMethods_goog_debug_EntryPointMonitor_prototype$unwrap$self, fn) {
  goog$asserts$assertFunction(fn);
  return fn[JSCompiler_StaticMethods_getFunctionIndex_(JSCompiler_StaticMethods_goog_debug_EntryPointMonitor_prototype$unwrap$self, !1)] || fn;
}
function JSCompiler_StaticMethods_getFunctionIndex_(JSCompiler_StaticMethods_getFunctionIndex_$self, wrapper) {
  return (wrapper ? "__wrapper_" : "__protected_") + (JSCompiler_StaticMethods_getFunctionIndex_$self[goog$UID_PROPERTY_] || (JSCompiler_StaticMethods_getFunctionIndex_$self[goog$UID_PROPERTY_] = ++goog$uidCounter_)) + "__";
}
function JSCompiler_StaticMethods_protectEntryPoint(JSCompiler_StaticMethods_protectEntryPoint$self, fn) {
  var protectedFnName = JSCompiler_StaticMethods_getFunctionIndex_(JSCompiler_StaticMethods_protectEntryPoint$self, !0);
  fn[protectedFnName] || ((fn[protectedFnName] = JSCompiler_StaticMethods_getProtectedFunction(JSCompiler_StaticMethods_protectEntryPoint$self, fn))[JSCompiler_StaticMethods_getFunctionIndex_(JSCompiler_StaticMethods_protectEntryPoint$self, !1)] = fn);
  return fn[protectedFnName];
}
function JSCompiler_StaticMethods_getProtectedFunction(JSCompiler_StaticMethods_getProtectedFunction$self, fn) {
  function googDebugErrorHandlerProtectedFunction() {
    if (JSCompiler_StaticMethods_getProtectedFunction$self.disposed_) {
      return fn.apply(this, arguments);
    }
    try {
      return fn.apply(this, arguments);
    } catch (e) {
      if (!(e && "object" === typeof e && e.message && 0 == e.message.indexOf("Error in protected function: ") || "string" === typeof e && 0 == e.indexOf("Error in protected function: "))) {
        throw JSCompiler_StaticMethods_getProtectedFunction$self.errorHandlerFn_(e), new goog$debug$ErrorHandler$ProtectedFunctionError(e);
      }
    } finally {
    }
  }
  googDebugErrorHandlerProtectedFunction[JSCompiler_StaticMethods_getFunctionIndex_(JSCompiler_StaticMethods_getProtectedFunction$self, !1)] = fn;
  return googDebugErrorHandlerProtectedFunction;
}
function JSCompiler_StaticMethods_protectWindowFunctionsHelper_(JSCompiler_StaticMethods_protectWindowFunctionsHelper_$self, fnName) {
  var win = goog$getObjectByName("window"), originalFn = win[fnName];
  win[fnName] = function $win$fnName$(fn, time) {
    goog$isString(fn) && (fn = goog$partial(goog$globalEval, fn));
    arguments[0] = fn = JSCompiler_StaticMethods_protectEntryPoint(JSCompiler_StaticMethods_protectWindowFunctionsHelper_$self, fn);
    if (originalFn.apply) {
      return originalFn.apply(this, arguments);
    }
    var callback = fn;
    if (2 < arguments.length) {
      var args = Array.prototype.slice.call(arguments, 2), callback = function $callback$() {
        fn.apply(this, args);
      };
    }
    return originalFn(callback, time);
  };
  win[fnName][JSCompiler_StaticMethods_getFunctionIndex_(JSCompiler_StaticMethods_protectWindowFunctionsHelper_$self, !1)] = originalFn;
}
goog$debug$ErrorHandler.prototype.disposeInternal = function $goog$debug$ErrorHandler$$disposeInternal$() {
  var win = goog$getObjectByName("window");
  win.setTimeout = JSCompiler_StaticMethods_goog_debug_EntryPointMonitor_prototype$unwrap(this, win.setTimeout);
  win.setInterval = JSCompiler_StaticMethods_goog_debug_EntryPointMonitor_prototype$unwrap(this, win.setInterval);
  goog$debug$ErrorHandler.superClass_.disposeInternal.call(this);
};
function goog$debug$ErrorHandler$ProtectedFunctionError(cause) {
  goog$debug$Error.call(this, "Error in protected function: " + (cause && cause.message ? String(cause.message) : String(cause)));
  var stack = cause && cause.stack;
  stack && goog$isString(stack) && (this.stack = stack);
}
goog$inherits(goog$debug$ErrorHandler$ProtectedFunctionError, goog$debug$Error);
// Input 469
function goog$debug$ErrorReporter(handlerUrl, opt_contextProvider, opt_noAutoProtect) {
  goog$events$EventTarget.call(this);
  this.contextProvider_ = opt_contextProvider || null;
  this.additionalArguments_ = {};
  this.xhrSender_ = goog$debug$ErrorReporter$defaultXhrSender;
  this.handlerUrl_ = handlerUrl;
  if (!opt_noAutoProtect) {
    this.errorHandler_ = null;
    this.errorHandler_ = new goog$debug$ErrorHandler(goog$bind(this.handleException, this));
    JSCompiler_StaticMethods_protectWindowFunctionsHelper_(this.errorHandler_, "setTimeout");
    JSCompiler_StaticMethods_protectWindowFunctionsHelper_(this.errorHandler_, "setInterval");
    for (var JSCompiler_StaticMethods_protectWindowRequestAnimationFrame$self = this.errorHandler_, win = goog$getObjectByName("window"), fnNames = ["requestAnimationFrame", "mozRequestAnimationFrame", "webkitAnimationFrame", "msRequestAnimationFrame"], i = 0;i < fnNames.length;i++) {
      var fnName = fnNames[i];
      fnNames[i] in win && JSCompiler_StaticMethods_protectWindowFunctionsHelper_(JSCompiler_StaticMethods_protectWindowRequestAnimationFrame$self, fnName);
    }
    var monitor = this.errorHandler_;
    goog$debug$entryPointRegistry$monitorsMayExist_ = !0;
    for (var transformer = goog$bind(monitor.wrap, monitor), i$jscomp$0 = 0;i$jscomp$0 < goog$debug$entryPointRegistry$refList_.length;i$jscomp$0++) {
      goog$debug$entryPointRegistry$refList_[i$jscomp$0](transformer);
    }
    goog$debug$entryPointRegistry$monitors_.push(monitor);
  }
}
goog$inherits(goog$debug$ErrorReporter, goog$events$EventTarget);
function goog$debug$ErrorReporter$ExceptionEvent(error, context) {
  goog$events$Event.call(this, "f");
  this.error = error;
  this.context = context;
}
goog$inherits(goog$debug$ErrorReporter$ExceptionEvent, goog$events$Event);
var goog$debug$ErrorReporter$logger_ = goog$debug$LogManager$getLogger("goog.debug.ErrorReporter");
function goog$debug$ErrorReporter$defaultXhrSender(uri, method, content, opt_headers) {
  var x = new goog$net$XhrIo;
  goog$net$XhrIo$sendInstances_.push(x);
  x.docs_events_SimpleEventTarget_prototype$listenOnce("ready", x.cleanupSend_);
  JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send(x, uri, method, content, opt_headers);
}
goog$debug$ErrorReporter.prototype.handleException = function $goog$debug$ErrorReporter$$handleException$(e$jscomp$0, opt_context) {
  var error = goog$debug$normalizeErrorObject(e$jscomp$0), context = opt_context ? goog$object$clone(opt_context) : {};
  if (this.contextProvider_) {
    try {
      this.contextProvider_(error, context);
    } catch (err) {
      goog$log$error(goog$debug$ErrorReporter$logger_, "Context provider threw an exception: " + err.message);
    }
  }
  var message = error.message.substring(0, 1900), fileName = error.fileName, line = error.lineNumber, opt_trace = error.stack;
  try {
    var requestUrl = goog$uri$utils$appendParams(this.handlerUrl_, "script", fileName, "error", message, "line", line);
    goog$object$isEmpty(this.additionalArguments_) || (requestUrl = goog$uri$utils$appendQueryData_(goog$uri$utils$buildQueryDataBufferFromMap_([requestUrl], this.additionalArguments_)));
    var queryMap = {};
    queryMap.trace = opt_trace;
    if (context) {
      for (var entry in context) {
        queryMap["context." + entry] = context[entry];
      }
    }
    var queryData, buffer = goog$uri$utils$buildQueryDataBufferFromMap_([], queryMap);
    buffer[0] = "";
    queryData = buffer.join("");
    goog$isNumber(null) && (queryData = queryData.substring(0, null));
    this.xhrSender_(requestUrl, "POST", queryData, this.extraHeaders_);
  } catch (e) {
    goog$log$info(goog$debug$ErrorReporter$logger_, goog$string$buildString("Error occurred in sending an error report.\n\n", "script:", fileName, "\n", "line:", line, "\n", "error:", message, "\n", "trace:", opt_trace));
  }
  try {
    this.dispatchEvent(new goog$debug$ErrorReporter$ExceptionEvent(error, context));
  } catch (ex) {
  }
};
goog$debug$ErrorReporter.prototype.disposeInternal = function $goog$debug$ErrorReporter$$disposeInternal$() {
  goog$dispose(this.errorHandler_);
  goog$debug$ErrorReporter.superClass_.disposeInternal.call(this);
};
// Input 470
function goog$debug$RelativeTimeProvider() {
  this.relativeTimeStart_ = goog$now();
}
var goog$debug$RelativeTimeProvider$defaultInstance_ = new goog$debug$RelativeTimeProvider;
goog$debug$RelativeTimeProvider.prototype.set = function $goog$debug$RelativeTimeProvider$$set$(timeStamp) {
  this.relativeTimeStart_ = timeStamp;
};
goog$debug$RelativeTimeProvider.prototype.reset = function $goog$debug$RelativeTimeProvider$$reset$() {
  this.set(goog$now());
};
goog$debug$RelativeTimeProvider.prototype.get = function $goog$debug$RelativeTimeProvider$$get$() {
  return this.relativeTimeStart_;
};
// Input 471
function goog$debug$Formatter(opt_prefix) {
  this.prefix_ = opt_prefix || "";
  this.startTimeProvider_ = goog$debug$RelativeTimeProvider$defaultInstance_;
}
goog$debug$Formatter.prototype.appendNewline = !0;
goog$debug$Formatter.prototype.showAbsoluteTime = !0;
goog$debug$Formatter.prototype.showExceptionText = !1;
function goog$debug$Formatter$getTwoDigitString_(n) {
  return 10 > n ? "0" + n : String(n);
}
function goog$debug$Formatter$getRelativeTime_(logRecord, relativeTimeStart) {
  var sec = (logRecord.time_ - relativeTimeStart) / 1000, str = sec.toFixed(3), spacesToPrepend = 0;
  if (1 > sec) {
    spacesToPrepend = 2;
  } else {
    for (;100 > sec;) {
      spacesToPrepend++, sec *= 10;
    }
  }
  for (;0 < spacesToPrepend--;) {
    str = " " + str;
  }
  return str;
}
function goog$debug$TextFormatter(opt_prefix) {
  goog$debug$Formatter.call(this, opt_prefix);
}
goog$inherits(goog$debug$TextFormatter, goog$debug$Formatter);
// Input 472
function goog$events$EventHandler(opt_scope) {
  goog$Disposable.call(this);
  this.goog_events_EventHandler$handler_ = opt_scope;
  this.goog_events_EventHandler$keys_ = {};
}
goog$inherits(goog$events$EventHandler, goog$Disposable);
var goog$events$EventHandler$typeArray_ = [];
goog$events$EventHandler.prototype.listen = function $goog$events$EventHandler$$listen$(src, type$jscomp$0, opt_fn, opt_capture) {
  var type = type$jscomp$0;
  goog$isArray(type) || (type && (goog$events$EventHandler$typeArray_[0] = type.toString()), type = goog$events$EventHandler$typeArray_);
  for (var i = 0;i < type.length;i++) {
    var listenerObj = goog$events$listen(src, type[i], opt_fn || this.handleEvent, opt_capture || !1, this.goog_events_EventHandler$handler_ || this);
    if (!listenerObj) {
      break;
    }
    this.goog_events_EventHandler$keys_[listenerObj.key] = listenerObj;
  }
  return this;
};
function JSCompiler_StaticMethods_goog_events_EventHandler_prototype$listenOnce(JSCompiler_StaticMethods_goog_events_EventHandler_prototype$listenOnce$self, src, opt_fn) {
  JSCompiler_StaticMethods_listenOnce_(JSCompiler_StaticMethods_goog_events_EventHandler_prototype$listenOnce$self, src, "message", opt_fn, void 0);
}
function JSCompiler_StaticMethods_listenOnce_(JSCompiler_StaticMethods_listenOnce_$self, src, type, opt_fn, opt_capture, opt_scope) {
  if (goog$isArray(type)) {
    for (var i = 0;i < type.length;i++) {
      JSCompiler_StaticMethods_listenOnce_(JSCompiler_StaticMethods_listenOnce_$self, src, type[i], opt_fn, opt_capture, opt_scope);
    }
  } else {
    var listenerObj = goog$events$listenOnce(src, type, opt_fn || JSCompiler_StaticMethods_listenOnce_$self.handleEvent, opt_capture, opt_scope || JSCompiler_StaticMethods_listenOnce_$self.goog_events_EventHandler$handler_ || JSCompiler_StaticMethods_listenOnce_$self);
    if (!listenerObj) {
      return;
    }
    JSCompiler_StaticMethods_listenOnce_$self.goog_events_EventHandler$keys_[listenerObj.key] = listenerObj;
  }
}
goog$events$EventHandler.prototype.unlisten = function $goog$events$EventHandler$$unlisten$(src, type, opt_fn, opt_capture, opt_scope) {
  if (goog$isArray(type)) {
    for (var i = 0;i < type.length;i++) {
      this.unlisten(src, type[i], opt_fn, opt_capture, opt_scope);
    }
  } else {
    var listener;
    var listener$jscomp$0 = opt_fn || this.handleEvent, opt_handler = opt_scope || this.goog_events_EventHandler$handler_ || this, listener$jscomp$0 = goog$events$wrapListener(listener$jscomp$0), capture = !!opt_capture;
    if (goog$events$Listenable$isImplementedBy(src)) {
      listener = src.docs_events_SimpleEventTarget_prototype$getListener(type, listener$jscomp$0, capture, opt_handler);
    } else {
      if (src) {
        var listenerMap = goog$events$getListenerMap_(src);
        listener = listenerMap ? JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener(listenerMap, type, listener$jscomp$0, capture, opt_handler) : null;
      } else {
        listener = null;
      }
    }
    listener && (goog$events$unlistenByKey(listener), delete this.goog_events_EventHandler$keys_[listener.key]);
  }
  return this;
};
function JSCompiler_StaticMethods_goog_events_EventHandler_prototype$removeAll(JSCompiler_StaticMethods_goog_events_EventHandler_prototype$removeAll$self) {
  goog$object$forEach(JSCompiler_StaticMethods_goog_events_EventHandler_prototype$removeAll$self.goog_events_EventHandler$keys_, function(listenerObj, key) {
    this.goog_events_EventHandler$keys_.hasOwnProperty(key) && goog$events$unlistenByKey(listenerObj);
  }, JSCompiler_StaticMethods_goog_events_EventHandler_prototype$removeAll$self);
  JSCompiler_StaticMethods_goog_events_EventHandler_prototype$removeAll$self.goog_events_EventHandler$keys_ = {};
}
goog$events$EventHandler.prototype.disposeInternal = function $goog$events$EventHandler$$disposeInternal$() {
  goog$events$EventHandler.superClass_.disposeInternal.call(this);
  JSCompiler_StaticMethods_goog_events_EventHandler_prototype$removeAll(this);
};
goog$events$EventHandler.prototype.handleEvent = function $goog$events$EventHandler$$handleEvent$() {
  throw Error("EventHandler.handleEvent not implemented");
};
// Input 473
// Input 474
// Input 475
// Input 476
// Input 477
// Input 478
function docs$localstore$LocalStoreError(type, message) {
  goog$debug$Error.call(this, "Local storage error: " + message);
  this.type = type;
}
goog$inherits(docs$localstore$LocalStoreError, goog$debug$Error);
// Input 479
// Input 480
function docs$localstore$idb$DatabaseUtil() {
}
var docs$localstore$idb$DatabaseUtil$KEY_RANGE_ = goog$global.IDBKeyRange || goog$global.webkitIDBKeyRange;
function JSCompiler_StaticMethods_getCursorRequest(store, opt_lowerBound, opt_upperBound, opt_index, opt_reverse, opt_keyedCursor) {
  var range = goog$isDef(opt_lowerBound) ? JSCompiler_StaticMethods_createKeyRange_(opt_lowerBound, opt_upperBound) : null, direction = opt_reverse ? "prev" : "next";
  if (opt_index) {
    var index = JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$getIndex(store, opt_index), JSCompiler_temp;
    if (opt_keyedCursor) {
      var hasRange = goog$isDef(range), hasDirection = goog$isDef(direction), request;
      request = hasRange && hasDirection ? index.docs_localstore_idb_Index$index_.openKeyCursor(range, direction) : hasRange ? index.docs_localstore_idb_Index$index_.openKeyCursor(range) : index.docs_localstore_idb_Index$index_.openKeyCursor();
      JSCompiler_temp = new docs$localstore$idb$Request(request, index.docs_localstore_idb_Index$errorReporter_, index.docs_localstore_idb_Index$index_.name + ".openKeyCursor(" + (range ? range.lower + ", " + range.upper : range) + ", " + direction + ")", index.docs_localstore_idb_Index$transactionStatus_, index.docs_localstore_idb_Index$requestTracker_);
    } else {
      var hasRange$jscomp$0 = goog$isDef(range), hasDirection$jscomp$0 = goog$isDef(direction), request$jscomp$0;
      request$jscomp$0 = hasRange$jscomp$0 && hasDirection$jscomp$0 ? index.docs_localstore_idb_Index$index_.openCursor(range, direction) : hasRange$jscomp$0 ? index.docs_localstore_idb_Index$index_.openCursor(range) : index.docs_localstore_idb_Index$index_.openCursor();
      JSCompiler_temp = new docs$localstore$idb$Request(request$jscomp$0, index.docs_localstore_idb_Index$errorReporter_, index.docs_localstore_idb_Index$index_.name + ".openCursor(" + (range ? range.lower + ", " + range.upper : range) + ", " + direction + ")", index.docs_localstore_idb_Index$transactionStatus_, index.docs_localstore_idb_Index$requestTracker_);
    }
    return JSCompiler_temp;
  }
  var hasRange$jscomp$1 = goog$isDef(range), hasDirection$jscomp$1 = goog$isDef(direction), request$jscomp$1;
  request$jscomp$1 = hasRange$jscomp$1 && hasDirection$jscomp$1 ? store.objectStore_.openCursor(range, direction) : hasRange$jscomp$1 ? store.objectStore_.openCursor(range) : store.objectStore_.openCursor();
  return new docs$localstore$idb$Request(request$jscomp$1, store.docs_localstore_idb_ObjectStore$errorReporter_, store.objectStore_.name + ".openCursor(" + (range ? range.lower + ", " + range.upper : range) + ", " + direction + ")", store.docs_localstore_idb_ObjectStore$transactionStatus_, store.docs_localstore_idb_ObjectStore$requestTracker_);
}
function JSCompiler_StaticMethods_deleteFromStore(store, lowerBound, opt_upperBound, opt_successCallback) {
  var range = JSCompiler_StaticMethods_createKeyRange_(lowerBound, opt_upperBound), request = JSCompiler_StaticMethods_deleteKey(store, range);
  opt_successCallback && JSCompiler_StaticMethods_setSuccessCallback(request, opt_successCallback);
}
function JSCompiler_StaticMethods_iterateIdbCursor(transaction, readFunction, opt_successCallback) {
  var store = JSCompiler_StaticMethods_getObjectStore(transaction, "Documents"), results = [];
  JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getCursorRequest(store, void 0, void 0, void 0, void 0, void 0), function(e) {
    var cursorRequest = e.target;
    docs$localstore$idb$DatabaseUtil$verifyRequestDone(cursorRequest);
    var cursor = cursorRequest.result;
    if (cursor) {
      if (goog$isDef(cursor.value)) {
        var result = cursor.value;
      } else {
        goog$asserts$assert(goog$isDef(cursor.key), "Only cursor requests are supported."), result = cursor.key;
      }
      (result = readFunction(result)) && results.push(result);
      cursor["continue"]();
    } else {
      opt_successCallback && opt_successCallback(results);
    }
  });
}
function docs$localstore$idb$DatabaseUtil$verifyRequestDone(cursorRequest) {
  goog$asserts$assert(2 == cursorRequest.readyState || "done" == cursorRequest.readyState, "Request should be in DONE state.");
}
function docs$localstore$idb$DatabaseUtil$formatError(e) {
  var domError = e.target.error, domErrorName = domError && domError.name, errorMessage = domError && domError.message || e.target.webkitErrorMessage;
  e.target.docs_internalAbort && (errorMessage = "Internal abort: " + errorMessage);
  return domErrorName + " (" + errorMessage + ")";
}
function docs$localstore$idb$DatabaseUtil$createDatabaseErrorCallback(message, errorCallback) {
  return function(e) {
    e.stopPropagation();
    errorCallback(new docs$localstore$LocalStoreError(1, message + " (" + docs$localstore$idb$DatabaseUtil$formatError(e) + ")"));
  };
}
function JSCompiler_StaticMethods_createKeyRange_(lowerBound, opt_upperBound) {
  return goog$isDef(opt_upperBound) && lowerBound != opt_upperBound ? docs$localstore$idb$DatabaseUtil$KEY_RANGE_.bound(lowerBound, opt_upperBound) : docs$localstore$idb$DatabaseUtil$KEY_RANGE_.only(lowerBound);
}
;
// Input 481
// Input 482
/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function goog$async$Deferred(opt_onCancelFunction, opt_defaultScope) {
  this.sequence_ = [];
  this.onCancelFunction_ = opt_onCancelFunction;
  this.defaultScope_ = opt_defaultScope || null;
  this.hadError_ = this.fired_ = !1;
  this.goog_async_Deferred$result_ = void 0;
  this.silentlyCanceled_ = this.blocking_ = this.blocked_ = !1;
  this.unhandledErrorId_ = 0;
  this.goog_async_Deferred$parent_ = null;
  this.branches_ = 0;
}
goog$async$Deferred.prototype.cancel = function $goog$async$Deferred$$cancel$(opt_deepCancel) {
  if (this.fired_) {
    this.goog_async_Deferred$result_ instanceof goog$async$Deferred && this.goog_async_Deferred$result_.cancel();
  } else {
    if (this.goog_async_Deferred$parent_) {
      var parent = this.goog_async_Deferred$parent_;
      delete this.goog_async_Deferred$parent_;
      opt_deepCancel ? parent.cancel(opt_deepCancel) : (parent.branches_--, 0 >= parent.branches_ && parent.cancel());
    }
    this.onCancelFunction_ ? this.onCancelFunction_.call(this.defaultScope_, this) : this.silentlyCanceled_ = !0;
    this.fired_ || this.errback(new goog$async$Deferred$CanceledError);
  }
};
goog$async$Deferred.prototype.continue_ = function $goog$async$Deferred$$continue_$(isSuccess, res) {
  this.blocked_ = !1;
  JSCompiler_StaticMethods_updateResult_(this, isSuccess, res);
};
function JSCompiler_StaticMethods_updateResult_(JSCompiler_StaticMethods_updateResult_$self, isSuccess, res) {
  JSCompiler_StaticMethods_updateResult_$self.fired_ = !0;
  JSCompiler_StaticMethods_updateResult_$self.goog_async_Deferred$result_ = res;
  JSCompiler_StaticMethods_updateResult_$self.hadError_ = !isSuccess;
  JSCompiler_StaticMethods_fire_(JSCompiler_StaticMethods_updateResult_$self);
}
function JSCompiler_StaticMethods_check_(JSCompiler_StaticMethods_check_$self) {
  if (JSCompiler_StaticMethods_check_$self.fired_) {
    if (!JSCompiler_StaticMethods_check_$self.silentlyCanceled_) {
      throw new goog$async$Deferred$AlreadyCalledError;
    }
    JSCompiler_StaticMethods_check_$self.silentlyCanceled_ = !1;
  }
}
goog$async$Deferred.prototype.callback = function $goog$async$Deferred$$callback$(opt_result) {
  JSCompiler_StaticMethods_check_(this);
  JSCompiler_StaticMethods_assertNotDeferred_(opt_result);
  JSCompiler_StaticMethods_updateResult_(this, !0, opt_result);
};
goog$async$Deferred.prototype.errback = function $goog$async$Deferred$$errback$(opt_result) {
  JSCompiler_StaticMethods_check_(this);
  JSCompiler_StaticMethods_assertNotDeferred_(opt_result);
  JSCompiler_StaticMethods_updateResult_(this, !1, opt_result);
};
function JSCompiler_StaticMethods_assertNotDeferred_(obj) {
  goog$asserts$assert(!(obj instanceof goog$async$Deferred), "An execution sequence may not be initiated with a blocking Deferred.");
}
function JSCompiler_StaticMethods_addCallback(JSCompiler_StaticMethods_addCallback$self, cb, opt_scope) {
  return JSCompiler_StaticMethods_addCallbacks(JSCompiler_StaticMethods_addCallback$self, cb, null, opt_scope);
}
function JSCompiler_StaticMethods_addFinally(JSCompiler_StaticMethods_addFinally$self, f, opt_scope) {
  JSCompiler_StaticMethods_addCallbacks(JSCompiler_StaticMethods_addFinally$self, f, function(err) {
    var result = f.call(JSCompiler_StaticMethods_addFinally$self, err);
    if (!goog$isDef(result)) {
      throw err;
    }
    return result;
  }, opt_scope);
}
function JSCompiler_StaticMethods_addCallbacks(JSCompiler_StaticMethods_addCallbacks$self, cb, eb, opt_scope) {
  goog$asserts$assert(!JSCompiler_StaticMethods_addCallbacks$self.blocking_, "Blocking Deferreds can not be re-used");
  JSCompiler_StaticMethods_addCallbacks$self.sequence_.push([cb, eb, opt_scope]);
  JSCompiler_StaticMethods_addCallbacks$self.fired_ && JSCompiler_StaticMethods_fire_(JSCompiler_StaticMethods_addCallbacks$self);
  return JSCompiler_StaticMethods_addCallbacks$self;
}
goog$async$Deferred.prototype.then = function $goog$async$Deferred$$then$(opt_onFulfilled, opt_onRejected, opt_context) {
  var resolve, reject, promise = new goog$Promise(function(res, rej) {
    resolve = res;
    reject = rej;
  });
  JSCompiler_StaticMethods_addCallbacks(this, resolve, function(reason) {
    reason instanceof goog$async$Deferred$CanceledError ? promise.cancel() : reject(reason);
  });
  return promise.then(opt_onFulfilled, opt_onRejected, opt_context);
};
goog$Thenable$addImplementation(goog$async$Deferred);
function JSCompiler_StaticMethods_awaitDeferred(JSCompiler_StaticMethods_awaitDeferred$self, otherDeferred) {
  otherDeferred instanceof goog$async$Deferred ? JSCompiler_StaticMethods_addCallback(JSCompiler_StaticMethods_awaitDeferred$self, goog$bind(otherDeferred.branch, otherDeferred)) : JSCompiler_StaticMethods_addCallback(JSCompiler_StaticMethods_awaitDeferred$self, function() {
    return otherDeferred;
  });
}
goog$async$Deferred.prototype.branch = function $goog$async$Deferred$$branch$(opt_propagateCancel) {
  var d = new goog$async$Deferred;
  JSCompiler_StaticMethods_addCallbacks(this, d.callback, d.errback, d);
  opt_propagateCancel && (d.goog_async_Deferred$parent_ = this, this.branches_++);
  return d;
};
function JSCompiler_StaticMethods_hasErrback_(JSCompiler_StaticMethods_hasErrback_$self) {
  return goog$array$some(JSCompiler_StaticMethods_hasErrback_$self.sequence_, function(sequenceRow) {
    return goog$isFunction(sequenceRow[1]);
  });
}
function JSCompiler_StaticMethods_fire_(JSCompiler_StaticMethods_fire_$self) {
  if (JSCompiler_StaticMethods_fire_$self.unhandledErrorId_ && JSCompiler_StaticMethods_fire_$self.fired_ && JSCompiler_StaticMethods_hasErrback_(JSCompiler_StaticMethods_fire_$self)) {
    var id = JSCompiler_StaticMethods_fire_$self.unhandledErrorId_, error = goog$async$Deferred$errorMap_[id];
    error && (goog$global.clearTimeout(error.goog_async_Deferred_Error_$id_), delete goog$async$Deferred$errorMap_[id]);
    JSCompiler_StaticMethods_fire_$self.unhandledErrorId_ = 0;
  }
  JSCompiler_StaticMethods_fire_$self.goog_async_Deferred$parent_ && (JSCompiler_StaticMethods_fire_$self.goog_async_Deferred$parent_.branches_--, delete JSCompiler_StaticMethods_fire_$self.goog_async_Deferred$parent_);
  for (var res = JSCompiler_StaticMethods_fire_$self.goog_async_Deferred$result_, unhandledException = !1, isNewlyBlocked = !1;JSCompiler_StaticMethods_fire_$self.sequence_.length && !JSCompiler_StaticMethods_fire_$self.blocked_;) {
    var sequenceEntry = JSCompiler_StaticMethods_fire_$self.sequence_.shift(), callback = sequenceEntry[0], errback = sequenceEntry[1], scope = sequenceEntry[2], f = JSCompiler_StaticMethods_fire_$self.hadError_ ? errback : callback;
    if (f) {
      try {
        var ret = f.call(scope || JSCompiler_StaticMethods_fire_$self.defaultScope_, res);
        goog$isDef(ret) && (JSCompiler_StaticMethods_fire_$self.hadError_ = JSCompiler_StaticMethods_fire_$self.hadError_ && (ret == res || ret instanceof Error), JSCompiler_StaticMethods_fire_$self.goog_async_Deferred$result_ = res = ret);
        if (goog$Thenable$isImplementedBy(res) || "function" === typeof goog$global.Promise && res instanceof goog$global.Promise) {
          isNewlyBlocked = !0, JSCompiler_StaticMethods_fire_$self.blocked_ = !0;
        }
      } catch (ex) {
        res = ex, JSCompiler_StaticMethods_fire_$self.hadError_ = !0, JSCompiler_StaticMethods_hasErrback_(JSCompiler_StaticMethods_fire_$self) || (unhandledException = !0);
      }
    }
  }
  JSCompiler_StaticMethods_fire_$self.goog_async_Deferred$result_ = res;
  if (isNewlyBlocked) {
    var onCallback = goog$bind(JSCompiler_StaticMethods_fire_$self.continue_, JSCompiler_StaticMethods_fire_$self, !0), onErrback = goog$bind(JSCompiler_StaticMethods_fire_$self.continue_, JSCompiler_StaticMethods_fire_$self, !1);
    res instanceof goog$async$Deferred ? (JSCompiler_StaticMethods_addCallbacks(res, onCallback, onErrback), res.blocking_ = !0) : res.then(onCallback, onErrback);
  }
  if (unhandledException) {
    var deferredError = new goog$async$Deferred$Error_(res);
    goog$async$Deferred$errorMap_[deferredError.goog_async_Deferred_Error_$id_] = deferredError;
    JSCompiler_StaticMethods_fire_$self.unhandledErrorId_ = deferredError.goog_async_Deferred_Error_$id_;
  }
}
function goog$async$Deferred$succeed(opt_result) {
  var d = new goog$async$Deferred;
  d.callback(opt_result);
  return d;
}
function goog$async$Deferred$AlreadyCalledError() {
  goog$debug$Error.call(this);
}
goog$inherits(goog$async$Deferred$AlreadyCalledError, goog$debug$Error);
goog$async$Deferred$AlreadyCalledError.prototype.message = "Deferred has already fired";
goog$async$Deferred$AlreadyCalledError.prototype.name = "AlreadyCalledError";
function goog$async$Deferred$CanceledError() {
  goog$debug$Error.call(this);
}
goog$inherits(goog$async$Deferred$CanceledError, goog$debug$Error);
goog$async$Deferred$CanceledError.prototype.message = "Deferred was canceled";
goog$async$Deferred$CanceledError.prototype.name = "CanceledError";
function goog$async$Deferred$Error_(error) {
  this.goog_async_Deferred_Error_$id_ = goog$global.setTimeout(goog$bind(this.throwError, this), 0);
  this.goog_async_Deferred_Error_$error_ = error;
}
goog$async$Deferred$Error_.prototype.throwError = function $goog$async$Deferred$Error_$$throwError$() {
  goog$asserts$assert(goog$async$Deferred$errorMap_[this.goog_async_Deferred_Error_$id_], "Cannot throw an error that is not scheduled.");
  delete goog$async$Deferred$errorMap_[this.goog_async_Deferred_Error_$id_];
  throw this.goog_async_Deferred_Error_$error_;
};
var goog$async$Deferred$errorMap_ = {};
// Input 483
function goog$async$DeferredList(list, opt_fireOnOneCallback, opt_fireOnOneErrback, opt_consumeErrors, opt_canceler, opt_defaultScope) {
  goog$async$Deferred.call(this, opt_canceler, opt_defaultScope);
  this.list_ = list;
  this.deferredResults_ = [];
  this.fireOnOneCallback_ = !!opt_fireOnOneCallback;
  this.fireOnOneErrback_ = !!opt_fireOnOneErrback;
  this.consumeErrors_ = !!opt_consumeErrors;
  for (var i = this.numFinished_ = 0;i < list.length;i++) {
    JSCompiler_StaticMethods_addCallbacks(list[i], goog$bind(this.handleCallback_, this, i, !0), goog$bind(this.handleCallback_, this, i, !1));
  }
  0 != list.length || this.fireOnOneCallback_ || this.callback(this.deferredResults_);
}
goog$inherits(goog$async$DeferredList, goog$async$Deferred);
goog$async$DeferredList.prototype.handleCallback_ = function $goog$async$DeferredList$$handleCallback_$(index, success, result) {
  this.numFinished_++;
  this.deferredResults_[index] = [success, result];
  this.fired_ || (this.fireOnOneCallback_ && success ? this.callback([index, result]) : this.fireOnOneErrback_ && !success ? this.errback(result) : this.numFinished_ == this.list_.length && this.callback(this.deferredResults_));
  this.consumeErrors_ && !success && (result = null);
  return result;
};
goog$async$DeferredList.prototype.errback = function $goog$async$DeferredList$$errback$(res) {
  goog$async$DeferredList.superClass_.errback.call(this, res);
  for (var i = 0;i < this.list_.length;i++) {
    this.list_[i].cancel();
  }
};
// Input 484
function goog$string$format(formatString, var_args) {
  var args = Array.prototype.slice.call(arguments), template = args.shift();
  if ("undefined" == typeof template) {
    throw Error("[goog.string.format] Template required");
  }
  return template.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g, function replacerDemuxer(match, flags, width, dotp, precision, type, offset, wholeString) {
    if ("%" == type) {
      return "%";
    }
    var value = args.shift();
    if ("undefined" == typeof value) {
      throw Error("[goog.string.format] Not enough arguments");
    }
    arguments[0] = value;
    return goog$string$format$demuxes_[type].apply(null, arguments);
  });
}
var goog$string$format$demuxes_ = {s:function(value, flags, width) {
  var replacement = value;
  return isNaN(width) || "" == width || replacement.length >= Number(width) ? replacement : replacement = -1 < flags.indexOf("-", 0) ? replacement + goog$string$repeat(" ", Number(width) - replacement.length) : goog$string$repeat(" ", Number(width) - replacement.length) + replacement;
}, f:function(value, flags, width, dotp, precision) {
  var replacement = value.toString();
  isNaN(precision) || "" == precision || (replacement = parseFloat(value).toFixed(precision));
  var sign;
  sign = 0 > Number(value) ? "-" : 0 <= flags.indexOf("+") ? "+" : 0 <= flags.indexOf(" ") ? " " : "";
  0 <= Number(value) && (replacement = sign + replacement);
  if (isNaN(width) || replacement.length >= Number(width)) {
    return replacement;
  }
  var replacement = isNaN(precision) ? Math.abs(Number(value)).toString() : Math.abs(Number(value)).toFixed(precision), padCount = Number(width) - replacement.length - sign.length;
  if (0 <= flags.indexOf("-", 0)) {
    replacement = sign + replacement + goog$string$repeat(" ", padCount);
  } else {
    var paddingChar = 0 <= flags.indexOf("0", 0) ? "0" : " ", replacement = sign + goog$string$repeat(paddingChar, padCount) + replacement;
  }
  return replacement;
}, d:function(value, flags, width, dotp, precision, type, offset, wholeString) {
  return goog$string$format$demuxes_.f(parseInt(value, 10), flags, width, dotp, 0, type, offset, wholeString);
}};
goog$string$format$demuxes_.i = goog$string$format$demuxes_.d;
goog$string$format$demuxes_.u = goog$string$format$demuxes_.d;
// Input 485
function goog$structs$CircularBuffer(opt_maxSize) {
  this.nextPtr_ = 0;
  this.maxSize_ = opt_maxSize || 100;
  this.buff_ = [];
}
goog$structs$CircularBuffer.prototype.get = function $goog$structs$CircularBuffer$$get$(index) {
  index = JSCompiler_StaticMethods_normalizeIndex_(this, index);
  return this.buff_[index];
};
goog$structs$CircularBuffer.prototype.set = function $goog$structs$CircularBuffer$$set$(index, item) {
  index = JSCompiler_StaticMethods_normalizeIndex_(this, index);
  this.buff_[index] = item;
};
goog$structs$CircularBuffer.prototype.getCount = function $goog$structs$CircularBuffer$$getCount$() {
  return this.buff_.length;
};
goog$structs$CircularBuffer.prototype.clear = function $goog$structs$CircularBuffer$$clear$() {
  this.nextPtr_ = this.buff_.length = 0;
};
goog$structs$CircularBuffer.prototype.getValues = function $goog$structs$CircularBuffer$$getValues$() {
  for (var maxCount = this.getCount(), l = this.getCount(), rv = [], i = this.getCount() - maxCount;i < l;i++) {
    rv.push(this.get(i));
  }
  return rv;
};
goog$structs$CircularBuffer.prototype.getKeys = function $goog$structs$CircularBuffer$$getKeys$() {
  for (var rv = [], l = this.getCount(), i = 0;i < l;i++) {
    rv[i] = i;
  }
  return rv;
};
goog$structs$CircularBuffer.prototype.containsValue = function $goog$structs$CircularBuffer$$containsValue$(value) {
  for (var l = this.getCount(), i = 0;i < l;i++) {
    if (this.get(i) == value) {
      return !0;
    }
  }
  return !1;
};
function JSCompiler_StaticMethods_getLast(JSCompiler_StaticMethods_getLast$self) {
  return 0 == JSCompiler_StaticMethods_getLast$self.getCount() ? null : JSCompiler_StaticMethods_getLast$self.get(JSCompiler_StaticMethods_getLast$self.getCount() - 1);
}
function JSCompiler_StaticMethods_normalizeIndex_(JSCompiler_StaticMethods_normalizeIndex_$self, index) {
  if (index >= JSCompiler_StaticMethods_normalizeIndex_$self.buff_.length) {
    throw Error("Out of bounds exception");
  }
  return JSCompiler_StaticMethods_normalizeIndex_$self.buff_.length < JSCompiler_StaticMethods_normalizeIndex_$self.maxSize_ ? index : (JSCompiler_StaticMethods_normalizeIndex_$self.nextPtr_ + Number(index)) % JSCompiler_StaticMethods_normalizeIndex_$self.maxSize_;
}
;
// Input 486
function goog$stats$BasicStat(interval) {
  goog$asserts$assert(50 < interval);
  this.goog_stats_BasicStat$interval_ = interval;
  this.slotInterval_ = Math.floor(interval / 50);
  this.slots_ = new goog$structs$CircularBuffer(50);
}
goog$stats$BasicStat.prototype.goog_stats_BasicStat_prototype$logger_ = goog$debug$LogManager$getLogger("goog.stats.BasicStat");
goog$stats$BasicStat.prototype.get = function $goog$stats$BasicStat$$get$(opt_now) {
  return JSCompiler_StaticMethods_reduceSlots_(this, opt_now, function(sum, slot) {
    return sum + slot.count;
  });
};
function JSCompiler_StaticMethods_reduceSlots_(JSCompiler_StaticMethods_reduceSlots_$self, now, func) {
  now = now || goog$now();
  JSCompiler_StaticMethods_checkForTimeTravel_(JSCompiler_StaticMethods_reduceSlots_$self, now);
  for (var rval = 0, start = JSCompiler_StaticMethods_reduceSlots_$self.slotInterval_ * (Math.floor(now / JSCompiler_StaticMethods_reduceSlots_$self.slotInterval_) + 1) - JSCompiler_StaticMethods_reduceSlots_$self.goog_stats_BasicStat$interval_, i = JSCompiler_StaticMethods_reduceSlots_$self.slots_.getCount() - 1;0 <= i;--i) {
    var slot = JSCompiler_StaticMethods_reduceSlots_$self.slots_.get(i);
    if (slot.end <= start) {
      break;
    }
    rval = func(rval, slot);
  }
  return rval;
}
function JSCompiler_StaticMethods_checkForTimeTravel_(JSCompiler_StaticMethods_checkForTimeTravel_$self, now) {
  var slot = JSCompiler_StaticMethods_getLast(JSCompiler_StaticMethods_checkForTimeTravel_$self.slots_);
  if (slot) {
    var slotStart = slot.end - JSCompiler_StaticMethods_checkForTimeTravel_$self.slotInterval_;
    if (now < slotStart) {
      var logger = JSCompiler_StaticMethods_checkForTimeTravel_$self.goog_stats_BasicStat_prototype$logger_, msg = goog$string$format("Went backwards in time: now=%d, slotStart=%d.  Resetting state.", now, slotStart);
      logger && logger.log(goog$debug$Logger$Level$WARNING, msg, void 0);
      JSCompiler_StaticMethods_checkForTimeTravel_$self.slots_.clear();
    }
  }
}
function goog$stats$BasicStat$Slot_(end) {
  this.end = end;
}
goog$stats$BasicStat$Slot_.prototype.count = 0;
goog$stats$BasicStat$Slot_.prototype.min = Number.MAX_VALUE;
goog$stats$BasicStat$Slot_.prototype.max = Number.MIN_VALUE;
// Input 487
function docs$net$QpsLimiter() {
  this.qpsWatcher_ = new goog$stats$BasicStat(8E3);
}
function docs$net$QpsLimiter$LimitError(msg) {
  goog$debug$Error.call(this, msg);
}
goog$inherits(docs$net$QpsLimiter$LimitError, goog$debug$Error);
// Input 488
function goog$async$Delay(listener, opt_interval, opt_handler) {
  goog$Disposable.call(this);
  this.goog_async_Delay$listener_ = listener;
  this.goog_async_Delay$interval_ = opt_interval || 0;
  this.goog_async_Delay$handler_ = opt_handler;
  this.callback_ = goog$bind(this.doAction_, this);
}
goog$inherits(goog$async$Delay, goog$Disposable);
goog$async$Delay.prototype.goog_async_Delay_prototype$id_ = 0;
goog$async$Delay.prototype.disposeInternal = function $goog$async$Delay$$disposeInternal$() {
  goog$async$Delay.superClass_.disposeInternal.call(this);
  this.stop();
  delete this.goog_async_Delay$listener_;
  delete this.goog_async_Delay$handler_;
};
goog$async$Delay.prototype.start = function $goog$async$Delay$$start$(opt_interval) {
  this.stop();
  this.goog_async_Delay_prototype$id_ = goog$Timer$callOnce(this.callback_, goog$isDef(opt_interval) ? opt_interval : this.goog_async_Delay$interval_);
};
goog$async$Delay.prototype.stop = function $goog$async$Delay$$stop$() {
  0 != this.goog_async_Delay_prototype$id_ && goog$global.clearTimeout(this.goog_async_Delay_prototype$id_);
  this.goog_async_Delay_prototype$id_ = 0;
};
goog$async$Delay.prototype.doAction_ = function $goog$async$Delay$$doAction_$() {
  this.goog_async_Delay_prototype$id_ = 0;
  this.goog_async_Delay$listener_ && this.goog_async_Delay$listener_.call(this.goog_async_Delay$handler_);
};
// Input 489
function docs$debug$ErrorSender(opt_maxErrorsStored) {
  goog$Disposable.call(this);
  this.xhrIo_ = new goog$net$XhrIo;
  this.resendDelay_ = new goog$async$Delay(this.maybeSendFront, 30000, this);
  this.qpsLimiter_ = new docs$net$QpsLimiter;
  this.qpsLimitExceeded_ = !1;
  this.pendingReportsDeferreds_ = new goog$structs$Set;
  this.docs_debug_ErrorSender$eventHandler_ = new goog$events$EventHandler(this);
  goog$asserts$assert(null == opt_maxErrorsStored || 0 < opt_maxErrorsStored);
  this.maxErrorsStored_ = opt_maxErrorsStored || 10;
  this.docs_debug_ErrorSender$eventHandler_.listen(this.xhrIo_, "complete", this.handleXhrCompletion_);
  this.docs_debug_ErrorSender$eventHandler_.listen(this.xhrIo_, "ready", this.maybeSendFront);
}
goog$inherits(docs$debug$ErrorSender, goog$Disposable);
function JSCompiler_StaticMethods_docs_debug_ErrorSender_prototype$send(JSCompiler_StaticMethods_docs_debug_ErrorSender_prototype$send$self, uri, method, content, opt_headers) {
  var deferred = JSCompiler_StaticMethods_addCallback(JSCompiler_StaticMethods_addCallback(JSCompiler_StaticMethods_docs_debug_ErrorSender_prototype$send$self.getQueueSize(), function(queueSize) {
    if (!(queueSize >= this.maxErrorsStored_)) {
      var requestData = {};
      requestData.u = uri;
      requestData.m = method;
      requestData.c = content;
      requestData.h = opt_headers;
      this.docs_debug_ErrorSender_prototype$enqueue(requestData);
    }
  }, JSCompiler_StaticMethods_docs_debug_ErrorSender_prototype$send$self), JSCompiler_StaticMethods_docs_debug_ErrorSender_prototype$send$self.maybeSendFront, JSCompiler_StaticMethods_docs_debug_ErrorSender_prototype$send$self);
  JSCompiler_StaticMethods_addFinally(deferred, function() {
    JSCompiler_StaticMethods_goog_structs_Map_prototype$remove(this.pendingReportsDeferreds_.map_, goog$structs$Set$getKey_(deferred));
  }, JSCompiler_StaticMethods_docs_debug_ErrorSender_prototype$send$self);
  JSCompiler_StaticMethods_goog_structs_Collection_prototype$add(JSCompiler_StaticMethods_docs_debug_ErrorSender_prototype$send$self.pendingReportsDeferreds_, deferred);
}
docs$debug$ErrorSender.prototype.maybeSendFront = function $docs$debug$ErrorSender$$maybeSendFront$() {
  0 != this.resendDelay_.goog_async_Delay_prototype$id_ || this.xhrIo_.xhr_ || this.qpsLimitExceeded_ || JSCompiler_StaticMethods_sendFront_(this);
};
function JSCompiler_StaticMethods_sendFront_(JSCompiler_StaticMethods_sendFront_$self) {
  goog$asserts$assert(0 == JSCompiler_StaticMethods_sendFront_$self.resendDelay_.goog_async_Delay_prototype$id_);
  goog$asserts$assert(!JSCompiler_StaticMethods_sendFront_$self.xhrIo_.xhr_);
  goog$asserts$assert(!JSCompiler_StaticMethods_sendFront_$self.qpsLimitExceeded_);
  JSCompiler_StaticMethods_addCallback(JSCompiler_StaticMethods_sendFront_$self.getFront(), function(frontEntry) {
    if (!this.xhrIo_.xhr_ && 0 == this.resendDelay_.goog_async_Delay_prototype$id_ && !this.qpsLimitExceeded_ && frontEntry) {
      if (4000 < frontEntry.u.length) {
        this.deleteFront();
      } else {
        try {
          var JSCompiler_StaticMethods_incrementAndCheck$self = this.qpsLimiter_;
          if (!(1 >= (JSCompiler_StaticMethods_incrementAndCheck$self.qpsWatcher_.get() + 1) / (JSCompiler_StaticMethods_incrementAndCheck$self.qpsWatcher_.goog_stats_BasicStat$interval_ / 1000))) {
            throw new docs$net$QpsLimiter$LimitError(goog$string$buildString("Query would cause ", "errorsender", " to exceed ", 1, " qps."));
          }
          var JSCompiler_StaticMethods_incBy$self = JSCompiler_StaticMethods_incrementAndCheck$self.qpsWatcher_, now = goog$now();
          JSCompiler_StaticMethods_checkForTimeTravel_(JSCompiler_StaticMethods_incBy$self, now);
          var slot = JSCompiler_StaticMethods_getLast(JSCompiler_StaticMethods_incBy$self.slots_);
          if (!slot || now >= slot.end) {
            var slot = new goog$stats$BasicStat$Slot_(JSCompiler_StaticMethods_incBy$self.slotInterval_ * (Math.floor(now / JSCompiler_StaticMethods_incBy$self.slotInterval_) + 1)), JSCompiler_StaticMethods_goog_structs_CircularBuffer_prototype$add$self = JSCompiler_StaticMethods_incBy$self.slots_;
            JSCompiler_StaticMethods_goog_structs_CircularBuffer_prototype$add$self.buff_[JSCompiler_StaticMethods_goog_structs_CircularBuffer_prototype$add$self.nextPtr_] = slot;
            JSCompiler_StaticMethods_goog_structs_CircularBuffer_prototype$add$self.nextPtr_ = (JSCompiler_StaticMethods_goog_structs_CircularBuffer_prototype$add$self.nextPtr_ + 1) % JSCompiler_StaticMethods_goog_structs_CircularBuffer_prototype$add$self.maxSize_;
          }
          slot.count += 1;
          slot.min = Math.min(1, slot.min);
          slot.max = Math.max(1, slot.max);
          JSCompiler_StaticMethods_goog_net_XhrIo_prototype$send(this.xhrIo_, frontEntry.u, frontEntry.m, frontEntry.c, frontEntry.h);
        } catch (exception) {
          if (exception instanceof docs$net$QpsLimiter$LimitError) {
            this.qpsLimitExceeded_ = !0;
          } else {
            throw exception;
          }
        }
      }
    }
  }, JSCompiler_StaticMethods_sendFront_$self);
}
docs$debug$ErrorSender.prototype.handleXhrCompletion_ = function $docs$debug$ErrorSender$$handleXhrCompletion_$() {
  var status = JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getStatus(this.xhrIo_);
  JSCompiler_StaticMethods_isSuccess(this.xhrIo_) || 400 <= status && 500 >= status ? this.deleteFront() : this.resendDelay_.start();
};
docs$debug$ErrorSender.prototype.disposeInternal = function $docs$debug$ErrorSender$$disposeInternal$() {
  goog$disposeAll(this.docs_debug_ErrorSender$eventHandler_, this.resendDelay_, this.xhrIo_);
  this.pendingReportsDeferreds_.clear();
  docs$debug$ErrorSender.superClass_.disposeInternal.call(this);
};
// Input 490
function docs$debug$IdbErrorSender(errorReporter, baseKey, fallbackErrorSender, opt_indexedDbFactory, opt_maxErrorsStored) {
  docs$debug$ErrorSender.call(this, opt_maxErrorsStored);
  goog$asserts$assert(!!docs$debug$IdbErrorSender$IDB_FACTORY_ && goog$userAgent$product$CHROME);
  this.docs_debug_IdbErrorSender$baseKey_ = baseKey;
  this.docs_debug_IdbErrorSender$frontIndexKey_ = baseKey + "-f";
  this.docs_debug_IdbErrorSender$nextIndexKey_ = baseKey + "-n";
  this.fallbackErrorSender_ = fallbackErrorSender;
  this.docs_debug_IdbErrorSender$errorReporter_ = errorReporter;
  this.docs_debug_IdbErrorSender$db_ = null;
  this.indexedDbFactory_ = opt_indexedDbFactory || goog$asserts$assert(docs$debug$IdbErrorSender$IDB_FACTORY_);
  var openRequest = this.indexedDbFactory_.open("DocsErrors", 1);
  openRequest.onsuccess = goog$bind(this.handleDbOpenSuccess_, this);
  openRequest.onupgradeneeded = goog$bind(this.handleUpgradeNeeded_, this);
  openRequest.onerror = goog$bind(this.handleDbError_, this);
  openRequest.onblocked = goog$bind(this.handleDbError_, this);
}
goog$inherits(docs$debug$IdbErrorSender, docs$debug$ErrorSender);
var docs$debug$IdbErrorSender$IDB_FACTORY_ = goog$global.indexedDB || goog$global.webkitIndexedDB;
docs$debug$IdbErrorSender.prototype.handleDbOpenSuccess_ = function $docs$debug$IdbErrorSender$$handleDbOpenSuccess_$(e) {
  var db = e.target.result, transaction = db.transaction(["Errors"], "readwrite");
  JSCompiler_StaticMethods_addCallback(new goog$async$DeferredList([JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$getInt_(this.docs_debug_IdbErrorSender$frontIndexKey_, transaction), JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$getInt_(this.docs_debug_IdbErrorSender$nextIndexKey_, transaction)]), function(args) {
    if (null == args[0][1] || null == args[1][1]) {
      var errorsStore = transaction.objectStore("Errors");
      errorsStore.put({key:this.docs_debug_IdbErrorSender$frontIndexKey_, value:"1"});
      errorsStore.put({key:this.docs_debug_IdbErrorSender$nextIndexKey_, value:"1"});
      transaction.oncomplete = goog$bind(this.dbInitialized_, this, db);
    } else {
      this.dbInitialized_(db);
    }
  }, this);
};
docs$debug$IdbErrorSender.prototype.dbInitialized_ = function $docs$debug$IdbErrorSender$$dbInitialized_$(db) {
  this.docs_debug_IdbErrorSender$db_ = db;
  this.maybeSendFront();
};
docs$debug$IdbErrorSender.prototype.handleUpgradeNeeded_ = function $docs$debug$IdbErrorSender$$handleUpgradeNeeded_$(e) {
  e.target.transaction.db.createObjectStore("Errors", {keyPath:"key"});
};
docs$debug$IdbErrorSender.prototype.handleDbError_ = function $docs$debug$IdbErrorSender$$handleDbError_$(e) {
  this.docs_debug_IdbErrorSender$db_ && (this.docs_debug_IdbErrorSender$db_.close(), this.docs_debug_IdbErrorSender$db_ = null);
  JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$warning(this.docs_debug_IdbErrorSender$errorReporter_, Error("IdbErrorSender: " + docs$localstore$idb$DatabaseUtil$formatError(e)));
};
docs$debug$IdbErrorSender.prototype.docs_debug_ErrorSender_prototype$enqueue = function $docs$debug$IdbErrorSender$$docs_debug_ErrorSender_prototype$enqueue$(requestData) {
  if (!this.docs_debug_IdbErrorSender$db_) {
    return this.fallbackErrorSender_.docs_debug_ErrorSender_prototype$enqueue(requestData);
  }
  var transaction = this.docs_debug_IdbErrorSender$db_.transaction(["Errors"], "readwrite"), deferred = new goog$async$Deferred;
  JSCompiler_StaticMethods_addCallback(JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$getInt_(this.docs_debug_IdbErrorSender$nextIndexKey_, transaction), function(oldNextIndex) {
    if (oldNextIndex) {
      var errorsStore = transaction.objectStore("Errors");
      errorsStore.put({key:this.docs_debug_IdbErrorSender$nextIndexKey_, value:String(oldNextIndex + 1)});
      errorsStore.put({key:this.docs_debug_IdbErrorSender$baseKey_ + "-e-" + oldNextIndex, value:goog$json$serialize(requestData)});
      transaction.oncomplete = goog$bind(deferred.callback, deferred);
    } else {
      deferred.callback();
    }
  }, this);
  return deferred;
};
docs$debug$IdbErrorSender.prototype.deleteFront = function $docs$debug$IdbErrorSender$$deleteFront$() {
  if (!this.docs_debug_IdbErrorSender$db_) {
    return this.fallbackErrorSender_.deleteFront();
  }
  var transaction = this.docs_debug_IdbErrorSender$db_.transaction(["Errors"], "readwrite"), deferred = new goog$async$Deferred;
  JSCompiler_StaticMethods_addCallback(new goog$async$DeferredList([JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$getInt_(this.docs_debug_IdbErrorSender$frontIndexKey_, transaction), JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$getInt_(this.docs_debug_IdbErrorSender$nextIndexKey_, transaction)]), function(args) {
    var frontIndex = args[0][1], nextIndex = args[1][1];
    if (!frontIndex || nextIndex <= frontIndex) {
      deferred.callback();
    } else {
      var errorsStore = transaction.objectStore("Errors");
      errorsStore["delete"](this.docs_debug_IdbErrorSender$baseKey_ + "-e-" + frontIndex);
      frontIndex++;
      errorsStore.put({key:this.docs_debug_IdbErrorSender$frontIndexKey_, value:String(frontIndex)});
      JSCompiler_StaticMethods_addCallback(JSCompiler_StaticMethods_getQueueSizeWithTransaction_(this, transaction), function(queueSize) {
        0 == queueSize && (errorsStore.put({key:this.docs_debug_IdbErrorSender$frontIndexKey_, value:"1"}), errorsStore.put({key:this.docs_debug_IdbErrorSender$nextIndexKey_, value:"1"}));
        transaction.oncomplete = goog$bind(deferred.callback, deferred);
      }, this);
    }
  }, this);
  return deferred;
};
docs$debug$IdbErrorSender.prototype.getFront = function $docs$debug$IdbErrorSender$$getFront$() {
  if (!this.docs_debug_IdbErrorSender$db_) {
    return this.fallbackErrorSender_.getFront();
  }
  var transaction = this.docs_debug_IdbErrorSender$db_.transaction(["Errors"], "readonly");
  return JSCompiler_StaticMethods_addCallback(new goog$async$DeferredList([JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$getInt_(this.docs_debug_IdbErrorSender$frontIndexKey_, transaction), JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$getInt_(this.docs_debug_IdbErrorSender$nextIndexKey_, transaction)]), function(args) {
    var frontIndex = args[0][1];
    return !frontIndex || 1 > args[1][1] - frontIndex ? null : JSCompiler_StaticMethods_addCallback(JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$get_(this.docs_debug_IdbErrorSender$baseKey_ + "-e-" + frontIndex, transaction), function(requestDataStr) {
      if (requestDataStr) {
        var requestData = goog$json$parse(requestDataStr);
        if (requestData) {
          return requestData;
        }
      }
      return JSCompiler_StaticMethods_addCallback(this.deleteFront(), this.getFront, this);
    }, this);
  }, this);
};
docs$debug$IdbErrorSender.prototype.getQueueSize = function $docs$debug$IdbErrorSender$$getQueueSize$() {
  if (!this.docs_debug_IdbErrorSender$db_) {
    return this.fallbackErrorSender_.getQueueSize();
  }
  var transaction = this.docs_debug_IdbErrorSender$db_.transaction(["Errors"], "readonly");
  return JSCompiler_StaticMethods_getQueueSizeWithTransaction_(this, transaction);
};
function JSCompiler_StaticMethods_getQueueSizeWithTransaction_(JSCompiler_StaticMethods_getQueueSizeWithTransaction_$self, transaction) {
  return JSCompiler_StaticMethods_addCallback(new goog$async$DeferredList([JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$getInt_(JSCompiler_StaticMethods_getQueueSizeWithTransaction_$self.docs_debug_IdbErrorSender$frontIndexKey_, transaction), JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$getInt_(JSCompiler_StaticMethods_getQueueSizeWithTransaction_$self.docs_debug_IdbErrorSender$nextIndexKey_, transaction)]), function(args) {
    return args[1][1] - args[0][1];
  });
}
function JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$getInt_(key, transaction) {
  return JSCompiler_StaticMethods_addCallback(JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$get_(key, transaction), function(strValue) {
    var value = parseInt(strValue, 10);
    return 0 > value || isNaN(value) ? null : value;
  });
}
function JSCompiler_StaticMethods_docs_debug_IdbErrorSender_prototype$get_(key, transaction) {
  var errorsStore = transaction.objectStore("Errors"), deferred = new goog$async$Deferred;
  errorsStore.get(key).onsuccess = function $errorsStore$get$onsuccess$(e) {
    e.target.result ? deferred.callback(e.target.result.value) : deferred.callback(null);
  };
  return deferred;
}
docs$debug$IdbErrorSender.prototype.disposeInternal = function $docs$debug$IdbErrorSender$$disposeInternal$() {
  this.docs_debug_IdbErrorSender$db_ && (this.docs_debug_IdbErrorSender$db_.close(), this.docs_debug_IdbErrorSender$db_ = null);
  docs$debug$IdbErrorSender.superClass_.disposeInternal.call(this);
};
// Input 491
function docs$util$CallOnceTracker() {
  goog$Disposable.call(this);
  this.timerIds_ = {};
}
goog$inherits(docs$util$CallOnceTracker, goog$Disposable);
docs$util$CallOnceTracker.prototype.callOnce = function $docs$util$CallOnceTracker$$callOnce$(listener, opt_delay, opt_handler) {
  if (goog$isFunction(listener)) {
    opt_handler && (listener = goog$bind(listener, opt_handler));
  } else {
    if (listener && "function" == typeof listener.handleEvent) {
      listener = goog$bind(listener.handleEvent, listener);
    } else {
      throw Error("Invalid listener argument");
    }
  }
  var idHolder = new docs$util$CallOnceTracker$0IdHolder_, timerId = goog$Timer$callOnce(goog$bind(this.handleCallOnce_, this, listener, idHolder), opt_delay);
  this.timerIds_[timerId] = !0;
  return idHolder.docs_util_CallOnceTracker$IdHolder_$id_ = timerId;
};
docs$util$CallOnceTracker.prototype.handleCallOnce_ = function $docs$util$CallOnceTracker$$handleCallOnce_$(fn, idHolder) {
  var id = idHolder.getId();
  null === id || delete this.timerIds_[id];
  fn();
};
docs$util$CallOnceTracker.prototype.clear = function $docs$util$CallOnceTracker$$clear$(timerId) {
  null === timerId || delete this.timerIds_[timerId];
  goog$global.clearTimeout(timerId);
};
docs$util$CallOnceTracker.prototype.disposeInternal = function $docs$util$CallOnceTracker$$disposeInternal$() {
  for (var idString in this.timerIds_) {
    goog$global.clearTimeout(Number(idString));
  }
  docs$util$CallOnceTracker.superClass_.disposeInternal.call(this);
};
function docs$util$CallOnceTracker$0IdHolder_() {
  this.docs_util_CallOnceTracker$IdHolder_$id_ = null;
}
docs$util$CallOnceTracker$0IdHolder_.prototype.getId = function $docs$util$CallOnceTracker$0IdHolder_$$getId$() {
  return this.docs_util_CallOnceTracker$IdHolder_$id_;
};
// Input 492
function docs$debug$LocalStorageErrorSender(baseKey, opt_maxErrorsStored) {
  docs$debug$ErrorSender.call(this, opt_maxErrorsStored);
  this.docs_debug_LocalStorageErrorSender$logger_ = goog$debug$LogManager$getLogger("docs.debug.LocalStorageErrorSender");
  this.docs_debug_LocalStorageErrorSender$baseKey_ = baseKey;
  this.versionKey_ = baseKey + "-v";
  this.docs_debug_LocalStorageErrorSender$frontIndexKey_ = baseKey + "-f";
  this.docs_debug_LocalStorageErrorSender$nextIndexKey_ = baseKey + "-n";
  this.store_ = goog$global.localStorage;
  goog$asserts$assert(docs$storage$WebStorageUtil$isSupported(), "Can't create LocalStorageErrorSender because web storage doesn't work.");
  var storeVersion = JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.versionKey_);
  if (!storeVersion || 1 > storeVersion) {
    this.store_.setItem(this.versionKey_, "1"), this.store_.setItem(this.docs_debug_LocalStorageErrorSender$frontIndexKey_, "1"), this.store_.setItem(this.docs_debug_LocalStorageErrorSender$nextIndexKey_, "1");
  }
  this.maybeSendFront();
  this.docs_debug_LocalStorageErrorSender$callOnceTracker_ = new docs$util$CallOnceTracker;
  JSCompiler_StaticMethods_registerDisposable(this, this.docs_debug_LocalStorageErrorSender$callOnceTracker_);
  this.docs_debug_LocalStorageErrorSender$callOnceTracker_.callOnce(this.cleanup_, 30000, this);
}
goog$inherits(docs$debug$LocalStorageErrorSender, docs$debug$ErrorSender);
docs$debug$LocalStorageErrorSender.prototype.docs_debug_ErrorSender_prototype$enqueue = function $docs$debug$LocalStorageErrorSender$$docs_debug_ErrorSender_prototype$enqueue$(requestData) {
  var oldNextIndex = JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.docs_debug_LocalStorageErrorSender$nextIndexKey_);
  if (!oldNextIndex || 1 != JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.versionKey_)) {
    return goog$async$Deferred$succeed();
  }
  try {
    this.store_.setItem(this.docs_debug_LocalStorageErrorSender$nextIndexKey_, String(oldNextIndex + 1)), this.store_.setItem(this.docs_debug_LocalStorageErrorSender$baseKey_ + "-e-" + oldNextIndex, goog$json$serialize(requestData));
  } catch (e) {
    goog$log$error(this.docs_debug_LocalStorageErrorSender$logger_, e), goog$log$error(this.docs_debug_LocalStorageErrorSender$logger_, "Failed to enqueue error in sender: " + requestData);
  }
  return goog$async$Deferred$succeed();
};
docs$debug$LocalStorageErrorSender.prototype.deleteFront = function $docs$debug$LocalStorageErrorSender$$deleteFront$() {
  var frontIndex = JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.docs_debug_LocalStorageErrorSender$frontIndexKey_);
  if (!frontIndex || 1 != JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.versionKey_)) {
    return goog$async$Deferred$succeed();
  }
  this.store_.removeItem(this.docs_debug_LocalStorageErrorSender$baseKey_ + "-e-" + frontIndex);
  frontIndex++;
  this.store_.setItem(this.docs_debug_LocalStorageErrorSender$frontIndexKey_, String(frontIndex));
  return JSCompiler_StaticMethods_addCallback(this.getQueueSize(), function(queueSize) {
    0 == queueSize && (this.store_.setItem(this.docs_debug_LocalStorageErrorSender$frontIndexKey_, "1"), this.store_.setItem(this.docs_debug_LocalStorageErrorSender$nextIndexKey_, "1"));
  }, this);
};
docs$debug$LocalStorageErrorSender.prototype.getFront = function $docs$debug$LocalStorageErrorSender$$getFront$() {
  var frontIndex = JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.docs_debug_LocalStorageErrorSender$frontIndexKey_);
  return frontIndex && 1 == JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.versionKey_) ? JSCompiler_StaticMethods_addCallback(this.getQueueSize(), function(queueSize) {
    if (1 > queueSize) {
      return null;
    }
    try {
      var index = goog$asserts$assert(frontIndex), requestDataStr;
      if (requestDataStr = this.store_.getItem(this.docs_debug_LocalStorageErrorSender$baseKey_ + "-e-" + index)) {
        var requestData = goog$json$parse(requestDataStr);
        if (requestData) {
          return requestData;
        }
      }
    } catch (ex) {
    }
    return JSCompiler_StaticMethods_addCallback(this.deleteFront(), this.getFront, this);
  }, this) : goog$async$Deferred$succeed(null);
};
docs$debug$LocalStorageErrorSender.prototype.getQueueSize = function $docs$debug$LocalStorageErrorSender$$getQueueSize$() {
  return goog$async$Deferred$succeed(JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.docs_debug_LocalStorageErrorSender$nextIndexKey_) - JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.docs_debug_LocalStorageErrorSender$frontIndexKey_));
};
function JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_$self, key) {
  var value = JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_$self.store_.getItem(key);
  return value ? JSCompiler_StaticMethods_parseInt_(value) : null;
}
function JSCompiler_StaticMethods_parseInt_(strValue) {
  var value = parseInt(strValue, 10);
  return 0 > value || isNaN(value) ? null : value;
}
docs$debug$LocalStorageErrorSender.prototype.cleanup_ = function $docs$debug$LocalStorageErrorSender$$cleanup_$() {
  if (JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.docs_debug_LocalStorageErrorSender$nextIndexKey_) && 1 == JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.versionKey_)) {
    for (var prefix = this.docs_debug_LocalStorageErrorSender$baseKey_ + "-e-", i = 0, len = this.store_.length;i < len;++i) {
      var key = this.store_.key(i);
      if (key && 0 == key.lastIndexOf(prefix, 0)) {
        var index = JSCompiler_StaticMethods_parseInt_(key.substring(prefix.length)), nextIndex = JSCompiler_StaticMethods_docs_debug_LocalStorageErrorSender_prototype$getInt_(this, this.docs_debug_LocalStorageErrorSender$nextIndexKey_);
        nextIndex && index && index >= nextIndex && this.store_.removeItem(key);
      }
    }
  }
};
// Input 493
function docs$debug$MemoryErrorSender(opt_maxErrorsStored) {
  docs$debug$ErrorSender.call(this, opt_maxErrorsStored);
  this.queue_ = [];
}
goog$inherits(docs$debug$MemoryErrorSender, docs$debug$ErrorSender);
docs$debug$MemoryErrorSender.prototype.docs_debug_ErrorSender_prototype$enqueue = function $docs$debug$MemoryErrorSender$$docs_debug_ErrorSender_prototype$enqueue$(requestData) {
  this.queue_.push(requestData);
  return goog$async$Deferred$succeed();
};
docs$debug$MemoryErrorSender.prototype.deleteFront = function $docs$debug$MemoryErrorSender$$deleteFront$() {
  this.queue_.shift();
  return goog$async$Deferred$succeed();
};
docs$debug$MemoryErrorSender.prototype.getFront = function $docs$debug$MemoryErrorSender$$getFront$() {
  return goog$async$Deferred$succeed(goog$isDef(this.queue_[0]) ? this.queue_[0] : null);
};
docs$debug$MemoryErrorSender.prototype.getQueueSize = function $docs$debug$MemoryErrorSender$$getQueueSize$() {
  return goog$async$Deferred$succeed(this.queue_.length);
};
docs$debug$MemoryErrorSender.prototype.disposeInternal = function $docs$debug$MemoryErrorSender$$disposeInternal$() {
  delete this.queue_;
  docs$debug$MemoryErrorSender.superClass_.disposeInternal.call(this);
};
// Input 494
// Input 495
// Input 496
function fava$services$ServiceId(serviceId, opt_moduleId, opt_dependencies) {
  goog$asserts$assert(serviceId, "Invalid service id + " + serviceId);
  if (opt_dependencies) {
    for (var i = 0;i < opt_dependencies.length;i++) {
      goog$asserts$assert(opt_dependencies[i], "Invalid dependency " + opt_dependencies[i] + " (index in dependency array: " + i + ") for service " + serviceId);
    }
  }
  this.serviceId_ = serviceId;
}
fava$services$ServiceId.prototype.toString = function $fava$services$ServiceId$$toString$() {
  return this.serviceId_;
};
// Input 497
new fava$services$ServiceId("tdUkaf");
new fava$services$ServiceId("fJuxOc");
new fava$services$ServiceId("ZtVrH");
new fava$services$ServiceId("WSziFf");
new fava$services$ServiceId("ZmXAm");
new fava$services$ServiceId("BWETze");
new fava$services$ServiceId("UBSgGf");
new fava$services$ServiceId("zZa4xc");
new fava$services$ServiceId("o1bZcd");
new fava$services$ServiceId("yRRtR");
new fava$services$ServiceId("WwG67d");
new fava$services$ServiceId("pVbxBc");
new fava$services$ServiceId("n73qwf");
new fava$services$ServiceId("z72MOc");
new fava$services$ServiceId("JccZRe");
new fava$services$ServiceId("amY3Td");
new fava$services$ServiceId("ABma3e");
new fava$services$ServiceId("GHAeAc");
new fava$services$ServiceId("gSshPb");
new fava$services$ServiceId("klpyYe");
new fava$services$ServiceId("OPbIxb");
new fava$services$ServiceId("pg9hFd");
new fava$services$ServiceId("Wt6vjf");
new fava$services$ServiceId("CV7dle");
new fava$services$ServiceId("yu4DA");
new fava$services$ServiceId("vk3Wc");
new fava$services$ServiceId("IykvEf");
new fava$services$ServiceId("J5K1Ad");
new fava$services$ServiceId("IW8Usd");
new fava$services$ServiceId("IaqD3e");
new fava$services$ServiceId("byfTOb");
new fava$services$ServiceId("jbDgG");
new fava$services$ServiceId("b8xKu");
new fava$services$ServiceId("d0RAGb");
new fava$services$ServiceId("AzG0ke");
new fava$services$ServiceId("J4QWB");
new fava$services$ServiceId("LEikZe");
new fava$services$ServiceId("rJmJrc");
new fava$services$ServiceId("TuDsZ");
new fava$services$ServiceId("MpJwZc");
new fava$services$ServiceId("UUJqVe");
new fava$services$ServiceId("hdXIif");
new fava$services$ServiceId("mITR5c");
new fava$services$ServiceId("VYNvce");
new fava$services$ServiceId("NGntwf");
new fava$services$ServiceId("Bgf0ib");
new fava$services$ServiceId("Xpw1of");
new fava$services$ServiceId("v5BQle");
new fava$services$ServiceId("ofuapc");
new fava$services$ServiceId("FENZqe");
new fava$services$ServiceId("tLnxq");
new fava$services$ServiceId("lsjVmc");
// Input 498
new fava$services$ServiceId("a");
// Input 499
function docs$debug$ErrorReporter(opt_useVerboseErrorDialog, opt_baseKey, opt_maxErrorsStored, opt_ignoreDebugMode, opt_suppressDialog, opt_fatalErrorNotifier, opt_useIdbSender, opt_loggingUrl) {
  goog$events$EventTarget.call(this);
  this.dynamicContext_ = {};
  this.docs_debug_ErrorReporter$errorReporter_ = null;
  this.staticContext_ = {};
  this.docs_debug_ErrorReporter$eventHandler_ = new goog$events$EventHandler(this);
  this.suppressDialog_ = !!opt_suppressDialog;
  this.errorSender_ = null;
  var errorSender;
  opt_baseKey && docs$storage$WebStorageUtil$isSupported() ? errorSender = new docs$debug$LocalStorageErrorSender(opt_baseKey, opt_maxErrorsStored) : errorSender = new docs$debug$MemoryErrorSender(opt_maxErrorsStored);
  opt_baseKey && docs$debug$IdbErrorSender$IDB_FACTORY_ && goog$userAgent$product$CHROME && opt_useIdbSender ? (this.errorSender_ = new docs$debug$IdbErrorSender(this, opt_baseKey, errorSender, void 0, opt_maxErrorsStored), JSCompiler_StaticMethods_registerDisposable(this, errorSender)) : this.errorSender_ = errorSender;
  var loggingUrl;
  loggingUrl = opt_loggingUrl ? opt_loggingUrl : JSCompiler_StaticMethods_docs_flag_FlagService_prototype$getString("docs-sup") + "/jserror";
  var jobset = JSCompiler_StaticMethods_docs_flag_FlagService_prototype$getString("jobset");
  jobset && (loggingUrl = goog$uri$utils$appendParams(loggingUrl, "jobset", jobset));
  if (opt_ignoreDebugMode) {
    if (docs$debug$ErrorReporter$installed_) {
      throw Error("ErrorReporter already installed.");
    }
    docs$debug$ErrorReporter$installed_ = !0;
    var opt_contextProvider = goog$bind(this.provideLogData_, this);
    this.docs_debug_ErrorReporter$errorReporter_ = new goog$debug$ErrorReporter(loggingUrl, opt_contextProvider, void 0);
    this.docs_debug_ErrorReporter$errorReporter_.extraHeaders_ = {"X-Same-Domain":"1", "X-No-Abort":"1"};
    var xhrSender = goog$bind(this.sendError_, this);
    this.docs_debug_ErrorReporter$errorReporter_.xhrSender_ = xhrSender;
    this.docs_debug_ErrorReporter$eventHandler_.listen(this.docs_debug_ErrorReporter$errorReporter_, "f", this.handleClosureErrorEvent_);
  }
  this.docs_debug_ErrorReporter$logger_ = goog$debug$LogManager$getLogger("docs.debug.ErrorReporter");
  this.fatalSentToServer_ = !1;
  this.shouldSendError_ = !0;
  this.forceSendError_ = !1;
}
goog$inherits(docs$debug$ErrorReporter, goog$events$EventTarget);
var docs$debug$ErrorReporter$installed_ = !1;
function JSCompiler_StaticMethods_addStaticContextEntry(JSCompiler_StaticMethods_addStaticContextEntry$self) {
  var value = JSCompiler_StaticMethods_docs_flag_FlagService_prototype$getString("buildLabel");
  JSCompiler_StaticMethods_addStaticContextEntry$self.staticContext_["build-label"] = value;
}
function JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$warning(JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$warning$self, error) {
  JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$warning$self.forceSendError_ = !1;
  JSCompiler_StaticMethods_sendToLogger_(JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$warning$self, error);
  JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$warning$self.docs_debug_ErrorReporter$errorReporter_ && JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$warning$self.docs_debug_ErrorReporter$errorReporter_.handleException(error, JSCompiler_StaticMethods_createContext_("warning", void 0));
}
function JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info$self, error, opt_context) {
  JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info$self.forceSendError_ = !1;
  JSCompiler_StaticMethods_sendToLogger_(JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info$self, error);
  JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info$self.docs_debug_ErrorReporter$errorReporter_ && JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info$self.docs_debug_ErrorReporter$errorReporter_.handleException(error, JSCompiler_StaticMethods_createContext_("incident", opt_context));
}
docs$debug$ErrorReporter.prototype.log = function $docs$debug$ErrorReporter$$log$(error, opt_context, opt_sendAfterFatal) {
  this.forceSendError_ = !!opt_sendAfterFatal;
  JSCompiler_StaticMethods_sendToLogger_(this, error);
  if (!this.docs_debug_ErrorReporter$errorReporter_) {
    throw error;
  }
  this.docs_debug_ErrorReporter$errorReporter_.handleException(error, JSCompiler_StaticMethods_createContext_("incident", opt_context));
};
function JSCompiler_StaticMethods_protectFunction(JSCompiler_StaticMethods_protectFunction$self, fn, selfObj, opt_rethrow) {
  return goog$bind(function(var_args) {
    var JSCompiler_inline_result;
    a: {
      var rethrow = !!opt_rethrow, args = arguments;
      if (this.docs_debug_ErrorReporter$errorReporter_) {
        try {
          JSCompiler_inline_result = fn.apply(selfObj, args);
          break a;
        } catch (error) {
          var error$jscomp$0 = error;
          this.forceSendError_ = !1;
          JSCompiler_StaticMethods_sendToLogger_(this, error$jscomp$0);
          if (!this.docs_debug_ErrorReporter$errorReporter_) {
            throw error$jscomp$0;
          }
          this.docs_debug_ErrorReporter$errorReporter_.handleException(error$jscomp$0, JSCompiler_StaticMethods_createContext_("fatal", void 0));
          if (rethrow) {
            throw error;
          }
        }
        JSCompiler_inline_result = void 0;
      } else {
        JSCompiler_inline_result = fn.apply(selfObj, args);
      }
    }
    return JSCompiler_inline_result;
  }, JSCompiler_StaticMethods_protectFunction$self);
}
function JSCompiler_StaticMethods_createContext_(severity, opt_context) {
  var context = opt_context ? goog$object$clone(opt_context) : {};
  context.severity = severity;
  return context;
}
docs$debug$ErrorReporter.prototype.handleClosureErrorEvent_ = function $docs$debug$ErrorReporter$$handleClosureErrorEvent_$(event) {
  var severity = event.context.severity, isFatal = "fatal" == severity || "postmortem" == severity;
  if (isFatal && !this.suppressDialog_ && window.confirm("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")) {
    var win = window;
    win.onbeforeunload = goog$nullFunction;
    win.location.reload();
  }
  this.dispatchEvent(new docs$debug$ErrorReporter$ExceptionEvent(isFatal ? "g" : "h", event.error, event.context));
};
docs$debug$ErrorReporter.prototype.provideLogData_ = function $docs$debug$ErrorReporter$$provideLogData_$(error, context) {
  for (var name in this.dynamicContext_) {
    try {
      context[name] = this.dynamicContext_[name]();
    } catch (e) {
    }
  }
  goog$object$extend(context, this.staticContext_);
  var severity = context.severity || "fatal", reportName = JSCompiler_StaticMethods_docs_flag_FlagService_prototype$getString("docs-jern");
  reportName && (context.reportName = reportName + "_" + severity);
  var JSCompiler_inline_result;
  a: {
    for (var key in Array.prototype) {
      JSCompiler_inline_result = !1;
      break a;
    }
    JSCompiler_inline_result = !0;
  }
  context.isArrayPrototypeIntact = JSCompiler_inline_result.toString();
  this.fatalSentToServer_ ? (this.shouldSendError_ = this.forceSendError_ || !JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-spfe"), "fatal" == severity ? severity = "postmortem" : "incident" == severity && (severity = "warningafterdeath")) : "fatal" == severity && (this.fatalSentToServer_ = !0);
  this.forceSendError_ = !1;
  context.severity = severity;
};
docs$debug$ErrorReporter.prototype.sendError_ = function $docs$debug$ErrorReporter$$sendError_$(uri, method, content, opt_headers) {
  this.shouldSendError_ && JSCompiler_StaticMethods_docs_debug_ErrorSender_prototype$send(this.errorSender_, uri, method, content, opt_headers);
};
function JSCompiler_StaticMethods_sendToLogger_(JSCompiler_StaticMethods_sendToLogger_$self, e) {
  var error = goog$debug$normalizeErrorObject(e), logger = JSCompiler_StaticMethods_sendToLogger_$self.docs_debug_ErrorReporter$logger_;
  logger && logger.log(goog$debug$Logger$Level$WARNING, error.message + " at " + error.fileName + ":" + error.lineNumber + "\n" + error.stack, void 0);
}
docs$debug$ErrorReporter.prototype.disposeInternal = function $docs$debug$ErrorReporter$$disposeInternal$() {
  docs$debug$ErrorReporter$installed_ = !1;
  goog$disposeAll(this.docs_debug_ErrorReporter$eventHandler_, this.docs_debug_ErrorReporter$errorReporter_, this.errorSender_);
  docs$debug$ErrorReporter.superClass_.disposeInternal.call(this);
};
function docs$debug$ErrorReporter$ExceptionEvent(type, error, context) {
  goog$events$Event.call(this, type);
  this.error = error;
  this.context = context;
}
goog$inherits(docs$debug$ErrorReporter$ExceptionEvent, goog$events$Event);
// Input 500
// Input 501
function docs$security$RevisionAccessInfo(mac) {
  this.mac_ = mac;
}
;
// Input 502
function docs$security$RevisionAccessInfoSerializer() {
}
docs$security$RevisionAccessInfoSerializer.prototype.serialize = function $docs$security$RevisionAccessInfoSerializer$$serialize$(accessInfo) {
  return accessInfo ? [accessInfo.mac_] : null;
};
function JSCompiler_StaticMethods_docs_security_RevisionAccessInfoSerializer_prototype$deserialize(serialized) {
  if (!serialized) {
    return null;
  }
  var mac = goog$asserts$assertString(serialized[0]);
  return new docs$security$RevisionAccessInfo(mac);
}
;
// Input 503
// Input 504
function docs$localstore$LocalStorageCommandBatch(revision, commands, opt_chunkIndex) {
  this.docs_localstore_LocalStorageCommandBatch$revision_ = revision;
  this.docs_localstore_LocalStorageCommandBatch$commands_ = commands;
  this.chunkIndex_ = opt_chunkIndex || 0;
}
;
// Input 505
function docs$localstore$CommandQueue() {
  goog$Disposable.call(this);
  this.unwrittenCommands_ = [];
}
goog$inherits(docs$localstore$CommandQueue, goog$Disposable);
docs$localstore$CommandQueue.prototype.docs_localstore_CommandQueue_prototype$logger_ = goog$debug$LogManager$getLogger("docs.localstore.CommandQueue");
docs$localstore$CommandQueue.prototype.shouldReplacePrevious_ = !1;
function JSCompiler_StaticMethods_docs_localstore_CommandQueue_prototype$addBatch(JSCompiler_StaticMethods_docs_localstore_CommandQueue_prototype$addBatch$self, commandBatch, opt_replace) {
  goog$log$info(JSCompiler_StaticMethods_docs_localstore_CommandQueue_prototype$addBatch$self.docs_localstore_CommandQueue_prototype$logger_, "addBatch() - local");
  opt_replace && (goog$log$info(JSCompiler_StaticMethods_docs_localstore_CommandQueue_prototype$addBatch$self.docs_localstore_CommandQueue_prototype$logger_, "addBatch() - replace"), JSCompiler_StaticMethods_docs_localstore_CommandQueue_prototype$addBatch$self.unwrittenCommands_ = [], JSCompiler_StaticMethods_docs_localstore_CommandQueue_prototype$addBatch$self.shouldReplacePrevious_ = !0);
  JSCompiler_StaticMethods_docs_localstore_CommandQueue_prototype$addBatch$self.unwrittenCommands_.push(commandBatch);
}
function JSCompiler_StaticMethods_moveCommandsTo(JSCompiler_StaticMethods_moveCommandsTo$self, receivingQueue) {
  goog$log$info(JSCompiler_StaticMethods_moveCommandsTo$self.docs_localstore_CommandQueue_prototype$logger_, "moveCommandsTo()");
  for (var i = 0;i < JSCompiler_StaticMethods_moveCommandsTo$self.unwrittenCommands_.length;++i) {
    JSCompiler_StaticMethods_docs_localstore_CommandQueue_prototype$addBatch(receivingQueue, JSCompiler_StaticMethods_moveCommandsTo$self.unwrittenCommands_[i], JSCompiler_StaticMethods_moveCommandsTo$self.shouldReplacePrevious_), JSCompiler_StaticMethods_moveCommandsTo$self.shouldReplacePrevious_ = !1;
  }
  JSCompiler_StaticMethods_moveCommandsTo$self.unwrittenCommands_ = [];
}
function JSCompiler_StaticMethods_getUnwrittenCommands(JSCompiler_StaticMethods_getUnwrittenCommands$self) {
  var commands = JSCompiler_StaticMethods_getUnwrittenCommands$self.unwrittenCommands_;
  JSCompiler_StaticMethods_getUnwrittenCommands$self.unwrittenCommands_ = [];
  JSCompiler_StaticMethods_getUnwrittenCommands$self.shouldReplacePrevious_ = !1;
  return commands;
}
docs$localstore$CommandQueue.prototype.disposeInternal = function $docs$localstore$CommandQueue$$disposeInternal$() {
  docs$localstore$CommandQueue.superClass_.disposeInternal.call(this);
  delete this.unwrittenCommands_;
};
// Input 506
function docs$localstore$DocumentLockRequirement(docId, level) {
  this.docs_localstore_DocumentLockRequirement$docId_ = docId;
  this.docs_localstore_DocumentLockRequirement$level_ = level;
}
docs$localstore$DocumentLockRequirement.prototype.getDocId = function $docs$localstore$DocumentLockRequirement$$getDocId$() {
  return this.docs_localstore_DocumentLockRequirement$docId_;
};
// Input 507
function docs$localstore$Record(recordType, opt_isNew) {
  goog$Disposable.call(this);
  this.docs_localstore_Record$recordType_ = recordType;
  this.properties_ = {};
  this.propertyModifications_ = {};
  this.docs_localstore_Record$isNew_ = opt_isNew || !1;
  this.initializing_ = !this.docs_localstore_Record$isNew_;
}
goog$inherits(docs$localstore$Record, goog$Disposable);
docs$localstore$Record.prototype.isModified = function $docs$localstore$Record$$isModified$() {
  return this.docs_localstore_Record$isNew_ || !goog$object$isEmpty(this.propertyModifications_);
};
function JSCompiler_StaticMethods_getNullableNumberProperty(JSCompiler_StaticMethods_getNullableNumberProperty$self, propertyName) {
  var value = JSCompiler_StaticMethods_getNullableProperty(JSCompiler_StaticMethods_getNullableNumberProperty$self, propertyName);
  return null == value ? null : goog$asserts$assertNumber(value, "Property %s was expected to be a number, but had the value %s", propertyName, value);
}
function JSCompiler_StaticMethods_getNumberProperty(JSCompiler_StaticMethods_getNumberProperty$self) {
  var value = JSCompiler_StaticMethods_docs_localstore_Record_prototype$getProperty(JSCompiler_StaticMethods_getNumberProperty$self, "revision");
  return goog$asserts$assertNumber(value, "Property %s was expected to be a number, but had the value %s", "revision", value);
}
function JSCompiler_StaticMethods_getStringProperty(JSCompiler_StaticMethods_getStringProperty$self, propertyName) {
  var value = JSCompiler_StaticMethods_docs_localstore_Record_prototype$getProperty(JSCompiler_StaticMethods_getStringProperty$self, propertyName);
  return goog$asserts$assertString(value, "Property %s was expected to be a string, but had the value %s", propertyName, value);
}
function JSCompiler_StaticMethods_getBooleanProperty(JSCompiler_StaticMethods_getBooleanProperty$self, propertyName) {
  var value = JSCompiler_StaticMethods_docs_localstore_Record_prototype$getProperty(JSCompiler_StaticMethods_getBooleanProperty$self, propertyName);
  goog$asserts$assertString(value, "Property %s was expected to be a string, but had the value %s", propertyName, value);
  return "" != value;
}
function JSCompiler_StaticMethods_setBooleanProperty(JSCompiler_StaticMethods_setBooleanProperty$self, propertyName, propertyValue) {
  goog$asserts$assert("boolean" == typeof propertyValue, "Can't set property %s to non-boolean value %s", propertyName, propertyValue);
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_setBooleanProperty$self, propertyName, propertyValue ? "true" : "");
}
function JSCompiler_StaticMethods_docs_localstore_Record_prototype$getProperty(JSCompiler_StaticMethods_docs_localstore_Record_prototype$getProperty$self, propertyName) {
  var value = JSCompiler_StaticMethods_docs_localstore_Record_prototype$getProperty$self.properties_[propertyName];
  goog$asserts$assert(null != value, "Property %s was unexpectedly null or undefined", propertyName);
  return value;
}
function JSCompiler_StaticMethods_getNullableProperty(JSCompiler_StaticMethods_getNullableProperty$self, propertyName) {
  var value = JSCompiler_StaticMethods_getNullableProperty$self.properties_[propertyName];
  return null != value ? value : null;
}
function JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self, propertyName, propertyValue) {
  goog$asserts$assert(!0, "Can't modify record marked for deletion");
  if (goog$isObject(propertyValue) && !goog$isArray(propertyValue)) {
    if (docs$util$ObjectUtil$throwIfObjectContainsCycle(propertyValue), docs$localstore$Record$assertSimpleObject_(propertyValue), null == JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.properties_[propertyName] || !docs$util$ObjectUtil$deepEquals(JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.properties_[propertyName], propertyValue)) {
      var propertyValueClone = goog$object$unsafeClone(propertyValue);
      JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.properties_[propertyName] = propertyValueClone;
      JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.initializing_ || (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.propertyModifications_[propertyName] = propertyValueClone);
    }
  } else {
    if (goog$isArray(propertyValue)) {
      var stack = [];
      docs$util$ArrayUtil$throwIfArrayContainsCycleHelper_(propertyValue, stack);
      goog$asserts$assert(0 == stack.length, "Stack must be empty, but had %s elements", stack.length);
      docs$util$ObjectUtil$throwIfObjectContainsCycle(propertyValue);
      docs$localstore$Record$assertValidArrayPropertyValue_(propertyValue);
      if (null == JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.properties_[propertyName] || !docs$util$ArrayUtil$deepArrayEquals(JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.properties_[propertyName], propertyValue)) {
        var propertyValueClone$jscomp$0 = goog$object$unsafeClone(propertyValue);
        JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.properties_[propertyName] = propertyValueClone$jscomp$0;
        JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.initializing_ || (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.propertyModifications_[propertyName] = propertyValueClone$jscomp$0);
      }
    } else {
      JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.properties_[propertyName] != propertyValue && (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.properties_[propertyName] = propertyValue, JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.initializing_ || (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty$self.propertyModifications_[propertyName] = propertyValue));
    }
  }
}
function docs$localstore$Record$assertValidArrayPropertyValue_(array) {
  for (var i = 0;i < array.length;i++) {
    goog$isObject(array[i]) && !goog$isArray(array[i]) && docs$localstore$Record$assertSimpleObject_(array[i]), goog$isArray(array[i]) && docs$localstore$Record$assertValidArrayPropertyValue_(array[i]);
  }
}
function docs$localstore$Record$assertSimpleObject_(object) {
  for (var key in object) {
    goog$asserts$assert(object.hasOwnProperty(key) && !goog$isFunction(key), "Complex objects are not supported");
    var property = object[key];
    goog$isObject(property) && !goog$isArray(property) ? docs$localstore$Record$assertSimpleObject_(property) : goog$isArray(property) && docs$localstore$Record$assertValidArrayPropertyValue_(property);
  }
}
function JSCompiler_StaticMethods_setMappedProperty(JSCompiler_StaticMethods_setMappedProperty$self, propertyName, key, value) {
  goog$asserts$assert(!0, "Can't modify record marked for deletion");
  JSCompiler_StaticMethods_mapOfMapsSet_(JSCompiler_StaticMethods_setMappedProperty$self.properties_, propertyName, key, value);
  JSCompiler_StaticMethods_setMappedProperty$self.initializing_ || JSCompiler_StaticMethods_mapOfMapsSet_(JSCompiler_StaticMethods_setMappedProperty$self.propertyModifications_, propertyName, key, value);
}
function JSCompiler_StaticMethods_mapOfMapsSet_(parentMap, parentKey, key, value) {
  var map = parentMap[parentKey];
  null == map && (parentMap[parentKey] = map = {});
  goog$asserts$assertObject(map, "Tried to treat a non-mapped property as mapped.");
  map[key] = value;
}
docs$localstore$Record.prototype.commitInternal = function $docs$localstore$Record$$commitInternal$() {
  goog$asserts$assert(!this.initializing_, "Wrote a record while it was still being initialized.");
  this.propertyModifications_ = {};
  this.docs_localstore_Record$isNew_ = !1;
};
docs$localstore$Record.prototype.getDocumentLockRequirement = JSCompiler_returnArg(null);
docs$localstore$Record.prototype.disposeInternal = function $docs$localstore$Record$$disposeInternal$() {
  docs$localstore$Record.superClass_.disposeInternal.call(this);
  delete this.properties_;
  delete this.propertyModifications_;
};
// Input 508
function docs$localstore$Document(id, type, isNew, opt_documentAdapter) {
  docs$localstore$Record.call(this, "document", isNew);
  this.documentAdapter_ = opt_documentAdapter || null;
  this.docs_localstore_Document$commandQueue_ = new docs$localstore$CommandQueue;
  this.docs_localstore_Document$revisionAccessInfoSerializer_ = new docs$security$RevisionAccessInfoSerializer;
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(this, "id", id);
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(this, "documentType", type);
}
goog$inherits(docs$localstore$Document, docs$localstore$Record);
docs$localstore$Document.prototype.getId = function $docs$localstore$Document$$getId$() {
  return JSCompiler_StaticMethods_getStringProperty(this, "id");
};
docs$localstore$Document.prototype.getType = function $docs$localstore$Document$$getType$() {
  return JSCompiler_StaticMethods_getStringProperty(this, "documentType");
};
function JSCompiler_StaticMethods_docs_localstore_Document_prototype$setRevision(JSCompiler_StaticMethods_docs_localstore_Document_prototype$setRevision$self, revision, accessInfo) {
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_Document_prototype$setRevision$self, "rev", revision);
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_Document_prototype$setRevision$self, "rai", JSCompiler_StaticMethods_docs_localstore_Document_prototype$setRevision$self.docs_localstore_Document$revisionAccessInfoSerializer_.serialize(accessInfo));
}
function JSCompiler_StaticMethods_docs_localstore_Document_prototype$setLastModifiedServerTimestamp(JSCompiler_StaticMethods_docs_localstore_Document_prototype$setLastModifiedServerTimestamp$self, lastModifiedTimestamp) {
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_Document_prototype$setLastModifiedServerTimestamp$self, "lastModifiedServerTimestamp", lastModifiedTimestamp);
}
function JSCompiler_StaticMethods_docs_localstore_Document_prototype$setLastModifiedClientTimestamp(JSCompiler_StaticMethods_docs_localstore_Document_prototype$setLastModifiedClientTimestamp$self, lastModifiedClientTimestamp) {
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_Document_prototype$setLastModifiedClientTimestamp$self, "lastModifiedClientTimestamp", lastModifiedClientTimestamp);
}
docs$localstore$Document.prototype.getDocumentLockRequirement = function $docs$localstore$Document$$getDocumentLockRequirement$() {
  var emptyCommandQueue = 0 == this.docs_localstore_Document$commandQueue_.unwrittenCommands_.length;
  if (emptyCommandQueue) {
    return docs$localstore$Document.superClass_.getDocumentLockRequirement.call(this);
  }
  var level = emptyCommandQueue ? 1 : 2;
  return new docs$localstore$DocumentLockRequirement(this.getId(), level);
};
function JSCompiler_StaticMethods_setLastServerSnapshotTimestamp(JSCompiler_StaticMethods_setLastServerSnapshotTimestamp$self, lastServerSnapshotTimestamp) {
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_setLastServerSnapshotTimestamp$self, "lastServerSnapshotTimestamp", lastServerSnapshotTimestamp);
}
function JSCompiler_StaticMethods_setSnapshotState(JSCompiler_StaticMethods_setSnapshotState$self, snapshotState) {
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_setSnapshotState$self, "snapshotState", snapshotState);
}
function JSCompiler_StaticMethods_docs_localstore_Document_prototype$setPendingQueueState(JSCompiler_StaticMethods_docs_localstore_Document_prototype$setPendingQueueState$self, pendingQueueState) {
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_Document_prototype$setPendingQueueState$self, "pendingQueueState", pendingQueueState);
}
docs$localstore$Document.prototype.isModified = function $docs$localstore$Document$$isModified$() {
  return docs$localstore$Document.superClass_.isModified.call(this) || 0 != this.docs_localstore_Document$commandQueue_.unwrittenCommands_.length;
};
docs$localstore$Document.prototype.readCommands = function $docs$localstore$Document$$readCommands$(partId, reportReadTime, startCallback, batchCallback, opt_successCallback) {
  var maybeStartCallback = startCallback;
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-offline-edrrwrc") && null !== JSCompiler_StaticMethods_getNullableNumberProperty(this, "rev") && (startCallback(JSCompiler_StaticMethods_getNullableNumberProperty(this, "rev")), maybeStartCallback = goog$nullFunction);
  goog$asserts$assert(this.documentAdapter_).readCommands(this, partId, reportReadTime, maybeStartCallback, batchCallback, opt_successCallback);
};
docs$localstore$Document.prototype.disposeInternal = function $docs$localstore$Document$$disposeInternal$() {
  delete this.documentAdapter_;
  this.docs_localstore_Document$commandQueue_.dispose();
  delete this.docs_localstore_Document$commandQueue_;
  docs$localstore$Document.superClass_.disposeInternal.call(this);
};
// Input 509
// Input 510
function docs$offline$messaging$AbstractTransport(opt_timeoutMs) {
  goog$Disposable.call(this);
  this.docs_offline_messaging_AbstractTransport$timeoutMs_ = opt_timeoutMs || 120000;
  this.pendingResolvers_ = new goog$structs$Set;
}
goog$inherits(docs$offline$messaging$AbstractTransport, goog$Disposable);
function JSCompiler_StaticMethods_docs_offline_messaging_AbstractTransport_prototype$send(JSCompiler_StaticMethods_docs_offline_messaging_AbstractTransport_prototype$send$self, requestMessage, opt_extraPorts) {
  var resolver = goog$Promise$withResolver();
  JSCompiler_StaticMethods_goog_structs_Collection_prototype$add(JSCompiler_StaticMethods_docs_offline_messaging_AbstractTransport_prototype$send$self.pendingResolvers_, resolver);
  var timeoutTimerId = goog$Timer$callOnce(function() {
    resolver.goog_Promise_Resolver_$reject(Error("Request to transport timed out."));
  }, JSCompiler_StaticMethods_docs_offline_messaging_AbstractTransport_prototype$send$self.docs_offline_messaging_AbstractTransport$timeoutMs_);
  JSCompiler_StaticMethods_sendInternal(JSCompiler_StaticMethods_docs_offline_messaging_AbstractTransport_prototype$send$self, resolver, requestMessage, opt_extraPorts || []);
  return JSCompiler_StaticMethods_thenAlways(resolver.promise, function() {
    goog$global.clearTimeout(timeoutTimerId);
    JSCompiler_StaticMethods_goog_structs_Map_prototype$remove(this.pendingResolvers_.map_, goog$structs$Set$getKey_(resolver));
  }.bind(JSCompiler_StaticMethods_docs_offline_messaging_AbstractTransport_prototype$send$self));
}
docs$offline$messaging$AbstractTransport.prototype.disposeInternal = function $docs$offline$messaging$AbstractTransport$$disposeInternal$() {
  for (var resolvers = this.pendingResolvers_.getValues(), i = 0;i < resolvers.length;i++) {
    resolvers[i].goog_Promise_Resolver_$reject("Sender was disposed");
  }
  docs$offline$messaging$AbstractTransport.superClass_.disposeInternal.call(this);
};
// Input 511
function docs$offline$messaging$MessageWithPorts(message, ports) {
  this.message = message;
  this.ports = ports;
}
docs$offline$messaging$MessageWithPorts.prototype.toString = function $docs$offline$messaging$MessageWithPorts$$toString$() {
  return "{message: " + this.message + ", ports: " + this.ports + "}";
};
// Input 512
function docs$offline$messaging$ChannelBasedTransport(opt_timeoutMs) {
  docs$offline$messaging$AbstractTransport.call(this, opt_timeoutMs);
  this.docs_offline_messaging_ChannelBasedTransport$eventHandler_ = new goog$events$EventHandler(this);
  JSCompiler_StaticMethods_registerDisposable(this, this.docs_offline_messaging_ChannelBasedTransport$eventHandler_);
}
goog$inherits(docs$offline$messaging$ChannelBasedTransport, docs$offline$messaging$AbstractTransport);
function JSCompiler_StaticMethods_sendInternal(JSCompiler_StaticMethods_sendInternal$self, resolver, message, ports) {
  var messageChannel = new MessageChannel;
  JSCompiler_StaticMethods_goog_events_EventHandler_prototype$listenOnce(JSCompiler_StaticMethods_sendInternal$self.docs_offline_messaging_ChannelBasedTransport$eventHandler_, messageChannel.port1, function(browserEvent) {
    var e = browserEvent.event_;
    resolver.goog_Promise_Resolver_$resolve(new docs$offline$messaging$MessageWithPorts(goog$asserts$assert(e.data), goog$asserts$assert(e.ports)));
  }.bind(JSCompiler_StaticMethods_sendInternal$self));
  messageChannel.port1.start();
  JSCompiler_StaticMethods_sendInternal$self.postMessage(message, [messageChannel.port2].concat(ports));
  JSCompiler_StaticMethods_thenAlways(resolver.promise, function() {
    messageChannel.port1.close();
  });
}
;
// Input 513
function docs$offline$messaging$WorkerScopeTransport(workerScope, opt_timeoutMs) {
  docs$offline$messaging$ChannelBasedTransport.call(this, opt_timeoutMs);
  this.workerScope_ = workerScope;
}
goog$inherits(docs$offline$messaging$WorkerScopeTransport, docs$offline$messaging$ChannelBasedTransport);
docs$offline$messaging$WorkerScopeTransport.prototype.postMessage = function $docs$offline$messaging$WorkerScopeTransport$$postMessage$(message, ports) {
  this.workerScope_.postMessage(message, ports);
};
// Input 514
function proto$docs$offline$tasks$TaskRequest(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$tasks$TaskRequest, jspb$Message);
proto$docs$offline$tasks$TaskRequest.prototype.getType = function $proto$docs$offline$tasks$TaskRequest$$getType$() {
  return jspb$Message$getField(this, 1);
};
function proto$docs$offline$tasks$TaskResponse(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$tasks$TaskResponse, jspb$Message);
proto$docs$offline$tasks$TaskResponse.prototype.getType = function $proto$docs$offline$tasks$TaskResponse$$getType$() {
  return jspb$Message$getField(this, 1);
};
function proto$docs$offline$tasks$ExecuteTaskRequest(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$tasks$ExecuteTaskRequest, jspb$Message);
function proto$docs$offline$tasks$ExecuteTaskResponse(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$tasks$ExecuteTaskResponse, jspb$Message);
// Input 515
function proto$docs$offline$eventbus$EventBusMessage(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$eventbus$EventBusMessage, jspb$Message);
proto$docs$offline$eventbus$EventBusMessage.prototype.getType = function $proto$docs$offline$eventbus$EventBusMessage$$getType$() {
  return jspb$Message$getField(this, 1);
};
function proto$docs$offline$eventbus$BroadcastMessage(opt_data) {
  jspb$Message$initialize(this, opt_data, 1, null);
}
goog$inherits(proto$docs$offline$eventbus$BroadcastMessage, jspb$Message);
var proto$docs$offline$eventbus$BroadcastMessage$extensions = {};
function proto$docs$offline$eventbus$LockSurveyRequest(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$eventbus$LockSurveyRequest, jspb$Message);
var proto$docs$offline$eventbus$LockSurveyRequest$lockSurveyRequest = new jspb$ExtensionFieldInfo(100413133, {lockSurveyRequest:0}, proto$docs$offline$eventbus$LockSurveyRequest, function(includeInstance, msg) {
  var obj = {documentId:jspb$Message$getField(msg, 1)};
  includeInstance && (obj.$jspbMessageInstance = msg);
  return obj;
});
proto$docs$offline$eventbus$BroadcastMessage$extensions[100413133] = proto$docs$offline$eventbus$LockSurveyRequest$lockSurveyRequest;
function proto$docs$offline$eventbus$LockSurveyResponse(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$eventbus$LockSurveyResponse, jspb$Message);
var proto$docs$offline$eventbus$LockSurveyResponse$lockSurveyResponse = new jspb$ExtensionFieldInfo(101605819, {lockSurveyResponse:0}, proto$docs$offline$eventbus$LockSurveyResponse, function(includeInstance, msg) {
  var obj = {documentId:jspb$Message$getField(msg, 1)};
  includeInstance && (obj.$jspbMessageInstance = msg);
  return obj;
});
proto$docs$offline$eventbus$BroadcastMessage$extensions[101605819] = proto$docs$offline$eventbus$LockSurveyResponse$lockSurveyResponse;
function proto$docs$offline$eventbus$DocumentAvailableOffline(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$eventbus$DocumentAvailableOffline, jspb$Message);
proto$docs$offline$eventbus$BroadcastMessage$extensions[100922934] = new jspb$ExtensionFieldInfo(100922934, {documentAvailableOffline:0}, proto$docs$offline$eventbus$DocumentAvailableOffline, function(includeInstance, msg) {
  var obj = {documentId:jspb$Message$getField(msg, 1)};
  includeInstance && (obj.$jspbMessageInstance = msg);
  return obj;
});
function proto$docs$offline$eventbus$OfflineEnabled(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$eventbus$OfflineEnabled, jspb$Message);
proto$docs$offline$eventbus$BroadcastMessage$extensions[108529910] = new jspb$ExtensionFieldInfo(108529910, {offlineEnabled:0}, proto$docs$offline$eventbus$OfflineEnabled, function(includeInstance, msg) {
  var obj = {};
  includeInstance && (obj.$jspbMessageInstance = msg);
  return obj;
});
function proto$docs$offline$eventbus$OfflineDisabled(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$eventbus$OfflineDisabled, jspb$Message);
proto$docs$offline$eventbus$BroadcastMessage$extensions[102041228] = new jspb$ExtensionFieldInfo(102041228, {offlineDisabled:0}, proto$docs$offline$eventbus$OfflineDisabled, function(includeInstance, msg) {
  var obj = {};
  includeInstance && (obj.$jspbMessageInstance = msg);
  return obj;
});
function proto$docs$offline$eventbus$OfflinePromoRejected(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$eventbus$OfflinePromoRejected, jspb$Message);
proto$docs$offline$eventbus$BroadcastMessage$extensions[140441684] = new jspb$ExtensionFieldInfo(140441684, {offlinePromoRejected:0}, proto$docs$offline$eventbus$OfflinePromoRejected, function(includeInstance, msg) {
  var obj = {};
  includeInstance && (obj.$jspbMessageInstance = msg);
  return obj;
});
function proto$docs$offline$eventbus$TaskFinished(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$eventbus$TaskFinished, jspb$Message);
proto$docs$offline$eventbus$BroadcastMessage$extensions[122453513] = new jspb$ExtensionFieldInfo(122453513, {taskFinished:0}, proto$docs$offline$eventbus$TaskFinished, function(includeInstance, msg) {
  var obj = {taskId:jspb$Message$getField(msg, 1), executionOutcome:jspb$Message$getField(msg, 2)};
  includeInstance && (obj.$jspbMessageInstance = msg);
  return obj;
});
function proto$docs$offline$eventbus$DataChanged(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, proto$docs$offline$eventbus$DataChanged$repeatedFields_);
}
goog$inherits(proto$docs$offline$eventbus$DataChanged, jspb$Message);
var proto$docs$offline$eventbus$DataChanged$repeatedFields_ = [1], proto$docs$offline$eventbus$DataChanged$dataChanged = new jspb$ExtensionFieldInfo(113007630, {dataChanged:0}, proto$docs$offline$eventbus$DataChanged, function(includeInstance, msg) {
  var ctor = proto$docs$offline$eventbus$DataChange;
  msg.wrappers_ || (msg.wrappers_ = {});
  if (!msg.wrappers_[1]) {
    for (var data = jspb$Message$getField(msg, 1), wrappers = [], i = 0;i < data.length;i++) {
      wrappers[i] = new ctor(data[i]);
    }
    msg.wrappers_[1] = wrappers;
  }
  var val = msg.wrappers_[1];
  val == jspb$Message$EMPTY_LIST_SENTINEL_ && (val = msg.wrappers_[1] = []);
  var obj = {dataChangeList:jspb$Message$toObjectList(val, proto$docs$offline$eventbus$DataChange$toObject, includeInstance)};
  includeInstance && (obj.$jspbMessageInstance = msg);
  return obj;
});
proto$docs$offline$eventbus$BroadcastMessage$extensions[113007630] = proto$docs$offline$eventbus$DataChanged$dataChanged;
function proto$docs$offline$eventbus$DataChange(opt_data) {
  jspb$Message$initialize(this, opt_data, 1, null);
}
goog$inherits(proto$docs$offline$eventbus$DataChange, jspb$Message);
function proto$docs$offline$eventbus$DataChange$toObject(includeInstance, msg) {
  var obj = {}, extensions = proto$docs$offline$eventbus$DataChange$extensions, getExtensionFn = proto$docs$offline$eventbus$DataChange.prototype.jspb_Message_prototype$getExtension, fieldNumber;
  for (fieldNumber in extensions) {
    var fieldInfo = extensions[fieldNumber], value = getExtensionFn.call(msg, fieldInfo);
    if (value) {
      for (var name in fieldInfo.fieldName) {
        if (fieldInfo.fieldName.hasOwnProperty(name)) {
          break;
        }
      }
      obj[name] = fieldInfo.toObjectFn ? fieldInfo.isRepeated ? jspb$Message$toObjectList(value, fieldInfo.toObjectFn, includeInstance) : fieldInfo.toObjectFn(includeInstance, value) : value;
    }
  }
  includeInstance && (obj.$jspbMessageInstance = msg);
  return obj;
}
var proto$docs$offline$eventbus$DataChange$extensions = {};
function proto$docs$offline$eventbus$DocumentChange(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, proto$docs$offline$eventbus$DocumentChange$repeatedFields_);
}
goog$inherits(proto$docs$offline$eventbus$DocumentChange, jspb$Message);
var proto$docs$offline$eventbus$DocumentChange$repeatedFields_ = [3], proto$docs$offline$eventbus$DocumentChange$documentChange = new jspb$ExtensionFieldInfo(112987886, {documentChange:0}, proto$docs$offline$eventbus$DocumentChange, function(includeInstance, msg) {
  var obj = {docId:jspb$Message$getField(msg, 1), changeType:jspb$Message$getField(msg, 2), modificationList:jspb$Message$getField(msg, 3)};
  includeInstance && (obj.$jspbMessageInstance = msg);
  return obj;
});
proto$docs$offline$eventbus$DataChange$extensions[112987886] = proto$docs$offline$eventbus$DocumentChange$documentChange;
proto$docs$offline$eventbus$DocumentChange.prototype.getDocId = function $proto$docs$offline$eventbus$DocumentChange$$getDocId$() {
  return jspb$Message$getField(this, 1);
};
// Input 516
// Input 517
function docs$localstore$LocalStorageDataChangesEvent(recordChanges, opt_target) {
  goog$events$Event.call(this, "k", opt_target);
  this.recordChanges = recordChanges;
}
goog$inherits(docs$localstore$LocalStorageDataChangesEvent, goog$events$Event);
function docs$localstore$LocalStorageDataChangesEvent$RecordChange(committedRecord, changeType, modifications) {
  this.committedRecord = committedRecord;
  this.changeType = changeType;
  this.modifications = modifications;
}
var docs$localstore$LocalStorageDataChangesEvent$RecordChangeType = {NEW:"new", UPDATE:"update", DELETE:"delete"};
// Input 518
function docs$localstore$EventBusLocalStoreListener(localStore, eventBusClient) {
  goog$Disposable.call(this);
  this.docs_localstore_EventBusLocalStoreListener$eventBusClient_ = eventBusClient;
  this.docs_localstore_EventBusLocalStoreListener$eventHandler_ = new goog$events$EventHandler(this);
  JSCompiler_StaticMethods_registerDisposable(this, this.docs_localstore_EventBusLocalStoreListener$eventHandler_);
  this.docs_localstore_EventBusLocalStoreListener$eventHandler_.listen(localStore, "k", this.handleDataChanged_);
}
goog$inherits(docs$localstore$EventBusLocalStoreListener, goog$Disposable);
docs$localstore$EventBusLocalStoreListener.prototype.handleDataChanged_ = function $docs$localstore$EventBusLocalStoreListener$$handleDataChanged_$(e) {
  for (var dataChanges = [], recordChanges = e.recordChanges, i = 0;i < recordChanges.length;i++) {
    var recordChange = recordChanges[i];
    switch(recordChange.committedRecord.docs_localstore_Record$recordType_) {
      case "document":
        var dataChanges$jscomp$0 = dataChanges, recordChange$jscomp$0 = recordChange, documentChange = new proto$docs$offline$eventbus$DocumentChange, value = recordChange$jscomp$0.committedRecord.getId();
        jspb$Message$setField(documentChange, 1, value);
        var JSCompiler_inline_result;
        a: {
          var changeType = recordChange$jscomp$0.changeType;
          switch(changeType) {
            case "new":
              JSCompiler_inline_result = 1;
              break a;
            case "update":
              JSCompiler_inline_result = 2;
              break a;
            case "delete":
              JSCompiler_inline_result = 3;
              break a;
            default:
              throw Error("Could not handle change type " + changeType);
          }
        }
        jspb$Message$setField(documentChange, 2, JSCompiler_inline_result);
        var documentModifications = [], modifications = recordChange$jscomp$0.modifications;
        goog$object$containsKey(modifications, "ip") && documentModifications.push(1);
        goog$object$containsKey(modifications, "lastModifiedClientTimestamp") && documentModifications.push(2);
        (goog$object$containsKey(modifications, "lsst") || goog$object$containsKey(modifications, "lsft") || goog$object$containsKey(modifications, "lss")) && documentModifications.push(3);
        goog$object$containsKey(modifications, "pendingCreation") && documentModifications.push(4);
        goog$object$containsKey(modifications, "title") && documentModifications.push(5);
        jspb$Message$setField(documentChange, 3, documentModifications || []);
        if (2 != jspb$Message$getField(documentChange, 2) || jspb$Message$getField(documentChange, 3).length) {
          var dataChange = new proto$docs$offline$eventbus$DataChange;
          dataChange.setExtension(proto$docs$offline$eventbus$DocumentChange$documentChange, documentChange);
          dataChanges$jscomp$0.push(dataChange);
        }
    }
  }
  if (dataChanges.length) {
    var dataChanged = new proto$docs$offline$eventbus$DataChanged, value$jscomp$0;
    dataChanged.wrappers_ || (dataChanged.wrappers_ = {});
    value$jscomp$0 = dataChanges || [];
    for (var data = [], i$jscomp$0 = 0;i$jscomp$0 < value$jscomp$0.length;i$jscomp$0++) {
      data[i$jscomp$0] = JSCompiler_StaticMethods_toArray(value$jscomp$0[i$jscomp$0]);
    }
    dataChanged.wrappers_[1] = value$jscomp$0;
    jspb$Message$setField(dataChanged, 1, data);
    var message = new proto$docs$offline$eventbus$BroadcastMessage;
    message.setExtension(proto$docs$offline$eventbus$DataChanged$dataChanged, dataChanged);
    JSCompiler_StaticMethods_publish(this.docs_localstore_EventBusLocalStoreListener$eventBusClient_, message);
  }
};
// Input 519
function docs$localstore$LocalStoreAndUser(localStore) {
  this.localStore = localStore;
}
;
// Input 520
function docs$commands$AbstractEs5Command(type) {
  this.docs_commands_AbstractEs5Command$type_ = type;
}
docs$commands$AbstractEs5Command.prototype.getType = function $docs$commands$AbstractEs5Command$$getType$() {
  return this.docs_commands_AbstractEs5Command$type_;
};
docs$commands$AbstractEs5Command.prototype.docs_commands_AbstractCommand_prototype$isMetadata = JSCompiler_returnArg(!1);
docs$commands$AbstractEs5Command.prototype.isWrapper = JSCompiler_returnArg(!1);
docs$commands$AbstractEs5Command.prototype.getSizeEstimate = JSCompiler_returnArg(1);
// Input 521
function docs$offline$OpaqueCommand(opaqueObject) {
  this.docs_commands_AbstractEs5Command$type_ = "offline-oc";
  this.opaqueObject_ = opaqueObject;
}
goog$inherits(docs$offline$OpaqueCommand, docs$commands$AbstractEs5Command);
// Input 522
function docs$offline$OpaqueCommandSerializer() {
}
docs$offline$OpaqueCommandSerializer.prototype.serialize = function $docs$offline$OpaqueCommandSerializer$$serialize$(command) {
  if ("offline-oc" != command.getType()) {
    throw Error("Invalid Type");
  }
  return command.opaqueObject_;
};
docs$offline$OpaqueCommandSerializer.prototype.docs_commands_CommandRegistry_prototype$deserialize = function $docs$offline$OpaqueCommandSerializer$$docs_commands_CommandRegistry_prototype$deserialize$(obj) {
  return new docs$offline$OpaqueCommand(obj);
};
// Input 523
// Input 524
function docs$localstore$Operation(type) {
  this.docs_localstore_Operation$type_ = type;
}
docs$localstore$Operation.prototype.getType = function $docs$localstore$Operation$$getType$() {
  return this.docs_localstore_Operation$type_;
};
function docs$localstore$Operation$isRecordOperation(operation) {
  var type = operation.getType();
  return "update-record" == type || "delete-record" == type;
}
;
// Input 525
function docs$localstore$DocumentOperation(operationType, docId, docType) {
  this.docs_localstore_Operation$type_ = operationType;
  this.docs_localstore_DocumentOperation$docId_ = docId;
  this.docType_ = docType;
}
goog$inherits(docs$localstore$DocumentOperation, docs$localstore$Operation);
docs$localstore$DocumentOperation.prototype.getDocId = function $docs$localstore$DocumentOperation$$getDocId$() {
  return this.docs_localstore_DocumentOperation$docId_;
};
// Input 526
function docs$localstore$AppendCommandsOperation(docId, docType, commandBatches, shouldReplace) {
  docs$localstore$DocumentOperation.call(this, "append-commands", docId, docType);
  this.docs_localstore_AppendCommandsOperation$commandBatches_ = commandBatches;
  this.docs_localstore_AppendCommandsOperation$shouldReplace_ = shouldReplace;
}
goog$inherits(docs$localstore$AppendCommandsOperation, docs$localstore$DocumentOperation);
// Input 527
function goog$net$Cookies(context) {
  this.goog_net_Cookies$document_ = context || {cookie:""};
}
var goog$net$Cookies$SPLIT_RE_ = /\s*;\s*/;
goog$net$Cookies.prototype.set = function $goog$net$Cookies$$set$(name, value, opt_maxAge, opt_path, opt_domain, opt_secure) {
  if (/[;=\s]/.test(name)) {
    throw Error('Invalid cookie name "' + name + '"');
  }
  if (/[;\r\n]/.test(value)) {
    throw Error('Invalid cookie value "' + value + '"');
  }
  goog$isDef(opt_maxAge) || (opt_maxAge = -1);
  var domainStr = opt_domain ? ";domain=" + opt_domain : "", pathStr = opt_path ? ";path=" + opt_path : "", secureStr = opt_secure ? ";secure" : "", expiresStr;
  expiresStr = 0 > opt_maxAge ? "" : 0 == opt_maxAge ? ";expires=" + (new Date(1970, 1, 1)).toUTCString() : ";expires=" + (new Date(goog$now() + 1000 * opt_maxAge)).toUTCString();
  this.goog_net_Cookies$document_.cookie = name + "=" + value + domainStr + pathStr + expiresStr + secureStr;
};
goog$net$Cookies.prototype.get = function $goog$net$Cookies$$get$(name, opt_default) {
  for (var nameEq = name + "=", parts = (this.goog_net_Cookies$document_.cookie || "").split(goog$net$Cookies$SPLIT_RE_), i = 0, part;part = parts[i];i++) {
    if (0 == part.lastIndexOf(nameEq, 0)) {
      return part.substr(nameEq.length);
    }
    if (part == name) {
      return "";
    }
  }
  return opt_default;
};
goog$net$Cookies.prototype.getKeys = function $goog$net$Cookies$$getKeys$() {
  return JSCompiler_StaticMethods_getKeyValues_(this).keys;
};
goog$net$Cookies.prototype.getValues = function $goog$net$Cookies$$getValues$() {
  return JSCompiler_StaticMethods_getKeyValues_(this).values;
};
goog$net$Cookies.prototype.getCount = function $goog$net$Cookies$$getCount$() {
  return this.goog_net_Cookies$document_.cookie ? (this.goog_net_Cookies$document_.cookie || "").split(goog$net$Cookies$SPLIT_RE_).length : 0;
};
goog$net$Cookies.prototype.containsValue = function $goog$net$Cookies$$containsValue$(value) {
  for (var values = JSCompiler_StaticMethods_getKeyValues_(this).values, i = 0;i < values.length;i++) {
    if (values[i] == value) {
      return !0;
    }
  }
  return !1;
};
goog$net$Cookies.prototype.clear = function $goog$net$Cookies$$clear$() {
  for (var keys = JSCompiler_StaticMethods_getKeyValues_(this).keys, i = keys.length - 1;0 <= i;i--) {
    var name = keys[i];
    this.get(name);
    this.set(name, "", 0, void 0, void 0);
  }
};
function JSCompiler_StaticMethods_getKeyValues_(JSCompiler_StaticMethods_getKeyValues_$self) {
  for (var parts = (JSCompiler_StaticMethods_getKeyValues_$self.goog_net_Cookies$document_.cookie || "").split(goog$net$Cookies$SPLIT_RE_), keys = [], values = [], index, part, i = 0;part = parts[i];i++) {
    index = part.indexOf("="), -1 == index ? (keys.push(""), values.push(part)) : (keys.push(part.substring(0, index)), values.push(part.substring(index + 1)));
  }
  return {keys:keys, values:values};
}
var goog$net$cookies = new goog$net$Cookies("undefined" == typeof document ? null : document);
goog$net$cookies.MAX_COOKIE_LENGTH = 3950;
// Input 528
// Input 529
function docs$diagnostics$InitialLoadTimingImpl(opt_cookies) {
  this.timingObject_ = {};
  this.cookies_ = opt_cookies || goog$net$cookies;
  this.setTime = this.docs_diagnostics_InitialLoadTiming_prototype$setTime;
  this.incrementTime = this.incrementTime;
  this.setServerValues = this.setServerValues;
}
goog$addSingletonGetter(docs$diagnostics$InitialLoadTimingImpl);
docs$diagnostics$InitialLoadTimingImpl.prototype.docs_diagnostics_InitialLoadTiming_prototype$setTime = function $docs$diagnostics$InitialLoadTimingImpl$$docs_diagnostics_InitialLoadTiming_prototype$setTime$(field) {
  JSCompiler_StaticMethods_setValue(this, field, goog$now());
};
docs$diagnostics$InitialLoadTimingImpl.prototype.incrementTime = function $docs$diagnostics$InitialLoadTimingImpl$$incrementTime$(field, timeDelta) {
  null != this.timingObject_[field] || (this.timingObject_[field] = 0);
  this.timingObject_[field] += timeDelta;
  goog$asserts$assert(!0);
};
function JSCompiler_StaticMethods_setValue(JSCompiler_StaticMethods_setValue$self, field, value) {
  if (null != JSCompiler_StaticMethods_setValue$self.timingObject_[field]) {
    throw Error("Field " + field + " is already set.");
  }
  JSCompiler_StaticMethods_setValue$self.timingObject_[field] = value;
}
docs$diagnostics$InitialLoadTimingImpl.prototype.setServerValues = function $docs$diagnostics$InitialLoadTimingImpl$$setServerValues$(serverPerfData) {
  if (!JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "icso")) {
    if (serverPerfData) {
      for (var name in serverPerfData) {
        JSCompiler_StaticMethods_setValue(this, name, serverPerfData[name]);
      }
    }
    var gfeLatencyMs, value = this.cookies_.get("GFE_RTT");
    isFinite(value) && (value = String(value));
    gfeLatencyMs = goog$isString(value) ? /^\s*-?0x/i.test(value) ? parseInt(value, 16) : parseInt(value, 10) : NaN;
    isNaN(gfeLatencyMs) || JSCompiler_StaticMethods_setValue(this, "gfertt", gfeLatencyMs);
    var JSCompiler_StaticMethods_goog_net_Cookies_prototype$remove$self = this.cookies_;
    JSCompiler_StaticMethods_goog_net_Cookies_prototype$remove$self.get("GFE_RTT");
    JSCompiler_StaticMethods_goog_net_Cookies_prototype$remove$self.set("GFE_RTT", "", 0, "/", ".docs.google.com");
    JSCompiler_StaticMethods_setValue(this, "sldummy", 0);
  }
};
goog$global._getTimingInstance = docs$diagnostics$InitialLoadTimingImpl.getInstance;
goog$global._docsTiming = docs$diagnostics$InitialLoadTimingImpl;
// Input 530
function docs$localstore$CommandsParser(serializer) {
  this.serializer_ = serializer;
  this.docs_localstore_CommandsParser$timing_ = docs$diagnostics$InitialLoadTimingImpl.getInstance();
}
goog$inherits(docs$localstore$CommandsParser, goog$Disposable);
docs$localstore$CommandsParser.prototype.parseCommands = function $docs$localstore$CommandsParser$$parseCommands$(commandObjects, opt_deserializationTiming) {
  for (var startTime = goog$now(), commandSerializer = this.serializer_, commands = [], i = 0;i < commandObjects.length;i++) {
    commands.push(commandSerializer.docs_commands_CommandRegistry_prototype$deserialize(commandObjects[i]));
  }
  if (opt_deserializationTiming) {
    var modelDeserializationTime = goog$now() - startTime;
    this.docs_localstore_CommandsParser$timing_.incrementTime("md", modelDeserializationTime);
  }
  return commands;
};
// Input 531
function docs$localstore$ModelChunkReadTimer(timingKey) {
  goog$Disposable.call(this);
  this.timingKey_ = timingKey;
  this.docs_localstore_ModelChunkReadTimer$timing_ = docs$diagnostics$InitialLoadTimingImpl.getInstance();
  this.isFirstModelChunk_ = !0;
}
goog$inherits(docs$localstore$ModelChunkReadTimer, goog$Disposable);
docs$localstore$ModelChunkReadTimer.prototype.modelChunkReadStartTime_ = null;
// Input 532
function docs$localstore$DocumentAdapter(documentType, serializer) {
  goog$Disposable.call(this);
  this.documentType_ = documentType;
  this.serializer_ = serializer;
  this.commandsParser_ = new docs$localstore$CommandsParser(this.serializer_);
  this.readTimer_ = new docs$localstore$ModelChunkReadTimer("mr");
}
goog$inherits(docs$localstore$DocumentAdapter, goog$Disposable);
docs$localstore$DocumentAdapter.prototype.getDocumentType = function $docs$localstore$DocumentAdapter$$getDocumentType$() {
  return this.documentType_;
};
docs$localstore$DocumentAdapter.prototype.parseCommands = function $docs$localstore$DocumentAdapter$$parseCommands$(commandObjects, opt_deserializationTiming) {
  return this.commandsParser_.parseCommands(commandObjects, opt_deserializationTiming);
};
docs$localstore$DocumentAdapter.prototype.createOperations = function $docs$localstore$DocumentAdapter$$createOperations$(document) {
  var commandQueue = new docs$localstore$CommandQueue;
  JSCompiler_StaticMethods_moveCommandsTo(document.docs_localstore_Document$commandQueue_, commandQueue);
  if (0 == commandQueue.unwrittenCommands_.length) {
    return [];
  }
  var shouldReplace = commandQueue.shouldReplacePrevious_;
  return [new docs$localstore$AppendCommandsOperation(document.getId(), document.getType(), JSCompiler_StaticMethods_getUnwrittenCommands(commandQueue), shouldReplace)];
};
// Input 533
// Input 534
function docs$app$CommandBasedModelPart(commands) {
  this.docs_app_CommandBasedModelPart$commands_ = commands;
}
;
// Input 535
function docs$localstore$idb$DocumentCommandsStorageObject(rawObject) {
  goog$Disposable.call(this);
  this.storageObject_ = rawObject;
}
goog$inherits(docs$localstore$idb$DocumentCommandsStorageObject, goog$Disposable);
var docs$localstore$idb$DocumentCommandsStorageObject$HIGH_KEY = [[]];
docs$localstore$idb$DocumentCommandsStorageObject.prototype.getDocId = function $docs$localstore$idb$DocumentCommandsStorageObject$$getDocId$() {
  return JSCompiler_StaticMethods_getKey_(this)[0];
};
function JSCompiler_StaticMethods_getKey_(JSCompiler_StaticMethods_getKey_$self) {
  var key = JSCompiler_StaticMethods_getKey_$self.storageObject_.dcKey;
  goog$asserts$assertArray(key, "Missing storage key.");
  return key;
}
function docs$localstore$idb$DocumentCommandsStorageObject$create(docId, revision, chunkInfo, opt_commands) {
  goog$asserts$assertString(docId);
  goog$asserts$assert(goog$isNumber(0) || goog$isString(0));
  goog$asserts$assertNumber(revision);
  var storageObject = {};
  storageObject.dcKey = [docId, 0, revision, chunkInfo];
  storageObject.t = null;
  opt_commands && (storageObject.c = opt_commands);
  return new docs$localstore$idb$DocumentCommandsStorageObject(storageObject);
}
function docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeLowerBound(docId, opt_secondKeyElement) {
  return null != opt_secondKeyElement ? [docId, opt_secondKeyElement] : [docId];
}
function docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeUpperBound(docId, opt_secondKeyElement) {
  return null != opt_secondKeyElement ? [docId, opt_secondKeyElement, []] : [docId, []];
}
docs$localstore$idb$DocumentCommandsStorageObject.prototype.disposeInternal = function $docs$localstore$idb$DocumentCommandsStorageObject$$disposeInternal$() {
  delete this.storageObject_;
  docs$localstore$idb$DocumentCommandsStorageObject.superClass_.disposeInternal.call(this);
};
// Input 536
function docs$localstore$idb$CommandsReader(idbUtil, parser, opt_readTimer) {
  goog$Disposable.call(this);
  this.parser_ = parser;
  this.readTimer_ = opt_readTimer;
}
goog$inherits(docs$localstore$idb$CommandsReader, goog$Disposable);
docs$localstore$idb$CommandsReader.prototype.handleGetRevisionSuccess_ = function $docs$localstore$idb$CommandsReader$$handleGetRevisionSuccess_$(resultCallback, e) {
  var request = e.target, cursor = request.result;
  if (!request["docs-stopped"]) {
    if (cursor) {
      var storageObject = new docs$localstore$idb$DocumentCommandsStorageObject(cursor.value);
      request["docs-stopped"] = !0;
      cursor["continue"]("next" == cursor.direction || "nextunique" == cursor.direction ? docs$localstore$idb$DocumentCommandsStorageObject$HIGH_KEY : -1);
      resultCallback(JSCompiler_StaticMethods_getKey_(storageObject)[2]);
    } else {
      resultCallback(0);
    }
  }
};
docs$localstore$idb$CommandsReader.prototype.readAllCommands = function $docs$localstore$idb$CommandsReader$$readAllCommands$(docId, partId, commandStore, reportReadTime, startCallback, batchCallback, latestRevision) {
  startCallback(latestRevision);
  this.readTimer_ && reportReadTime && (this.readTimer_.modelChunkReadStartTime_ = goog$now());
  JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getCursorRequest(commandStore, docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeLowerBound(docId, partId), docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeUpperBound(docId, partId), void 0, void 0), goog$bind(this.handleReadCommandsSuccess_, this, reportReadTime, batchCallback));
};
docs$localstore$idb$CommandsReader.prototype.handleReadCommandsSuccess_ = function $docs$localstore$idb$CommandsReader$$handleReadCommandsSuccess_$(reportReadTime, batchCallback, e) {
  var cursor = e.target.result;
  if (cursor) {
    var storageObject = new docs$localstore$idb$DocumentCommandsStorageObject(cursor.value), commandObjects = goog$asserts$assertArray(storageObject.storageObject_.c || null);
    if (this.readTimer_ && reportReadTime) {
      var JSCompiler_StaticMethods_incrementModelReadTime$self = this.readTimer_;
      goog$asserts$assert(null != JSCompiler_StaticMethods_incrementModelReadTime$self.modelChunkReadStartTime_);
      var modelChunkReadTime = goog$now() - JSCompiler_StaticMethods_incrementModelReadTime$self.modelChunkReadStartTime_;
      JSCompiler_StaticMethods_incrementModelReadTime$self.docs_localstore_ModelChunkReadTimer$timing_.incrementTime(JSCompiler_StaticMethods_incrementModelReadTime$self.timingKey_, modelChunkReadTime);
      JSCompiler_StaticMethods_incrementModelReadTime$self.isFirstModelChunk_ && (JSCompiler_StaticMethods_incrementModelReadTime$self.docs_localstore_ModelChunkReadTimer$timing_.docs_diagnostics_InitialLoadTiming_prototype$setTime("fmpdr"), JSCompiler_StaticMethods_incrementModelReadTime$self.isFirstModelChunk_ = !1);
    }
    var commands = this.parser_.parseCommands(commandObjects, reportReadTime), revision = JSCompiler_StaticMethods_getKey_(storageObject)[2];
    batchCallback(new docs$app$CommandBasedModelPart(commands), revision);
    cursor["continue"]();
    this.readTimer_ && reportReadTime && (this.readTimer_.modelChunkReadStartTime_ = goog$now());
  }
};
// Input 537
// Input 538
// Input 539
function docs$localstore$idb$CommandBasedDocumentAdapter(documentType, minSchemaVersion, maxSchemaVersion, serializer, database) {
  docs$localstore$DocumentAdapter.call(this, documentType, serializer);
  this.minSchemaVersion_ = minSchemaVersion;
  this.docs_localstore_idb_CommandBasedDocumentAdapter$maxSchemaVersion_ = maxSchemaVersion;
  this.docs_localstore_idb_CommandBasedDocumentAdapter$database_ = database;
  this.docs_localstore_idb_CommandBasedDocumentAdapter$commandsReader_ = new docs$localstore$idb$CommandsReader(0, this.commandsParser_, this.readTimer_);
}
goog$inherits(docs$localstore$idb$CommandBasedDocumentAdapter, docs$localstore$DocumentAdapter);
docs$localstore$idb$CommandBasedDocumentAdapter.prototype.docs_localstore_idb_CommandBasedDocumentAdapter_prototype$logger_ = goog$debug$LogManager$getLogger("docs.localstore.idb.CommandBasedDocumentAdapter");
docs$localstore$idb$CommandBasedDocumentAdapter.prototype.performOperation = function $docs$localstore$idb$CommandBasedDocumentAdapter$$performOperation$(operation, transaction) {
  goog$log$info(this.docs_localstore_idb_CommandBasedDocumentAdapter_prototype$logger_, "performOperation()");
  switch(operation.getType()) {
    case "append-commands":
      if (operation.docs_localstore_AppendCommandsOperation$shouldReplace_) {
        goog$log$info(this.docs_localstore_idb_CommandBasedDocumentAdapter_prototype$logger_, "Deleting existing mutation log");
        var writeCallback = goog$bind(this.writeCommandBatches_, this, operation, transaction), commandStore = JSCompiler_StaticMethods_getObjectStore(transaction, "DocumentCommands"), docId = operation.getDocId();
        JSCompiler_StaticMethods_deleteFromStore(commandStore, docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeLowerBound(docId), docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeUpperBound(docId), writeCallback);
      } else {
        this.writeCommandBatches_(operation, transaction);
      }
      break;
    default:
      throw Error("Unsupported operation type " + operation.getType());
  }
};
docs$localstore$idb$CommandBasedDocumentAdapter.prototype.writeCommandBatches_ = function $docs$localstore$idb$CommandBasedDocumentAdapter$$writeCommandBatches_$(operation, transaction) {
  for (var commandStore = JSCompiler_StaticMethods_getObjectStore(transaction, "DocumentCommands"), mutationBatches = operation.docs_localstore_AppendCommandsOperation$commandBatches_, i = 0;i < mutationBatches.length;++i) {
    for (var commandStore$jscomp$0 = commandStore, docId = operation.getDocId(), batch = mutationBatches[i], commands = batch.docs_localstore_LocalStorageCommandBatch$commands_, commandObjects = [], i$jscomp$0 = 0;i$jscomp$0 < commands.length;++i$jscomp$0) {
      commandObjects.push(this.serializer_.serialize(commands[i$jscomp$0]));
    }
    var storageObject = docs$localstore$idb$DocumentCommandsStorageObject$create(docId, batch.docs_localstore_LocalStorageCommandBatch$revision_, batch.chunkIndex_, commandObjects);
    JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(commandStore$jscomp$0, storageObject.storageObject_);
  }
};
docs$localstore$idb$CommandBasedDocumentAdapter.prototype.readCommands = function $docs$localstore$idb$CommandBasedDocumentAdapter$$readCommands$(doc, partId, reportReadTime, startCallback, batchCallback, opt_successCallback) {
  goog$asserts$assert(!(null === partId ^ null === startCallback), "partId and startCallback must both be defined or both be null");
  var transaction = JSCompiler_StaticMethods_openTransaction(this.docs_localstore_idb_CommandBasedDocumentAdapter$database_, ["DocumentCommands"], "readCommands");
  opt_successCallback && JSCompiler_StaticMethods_setCompletionCallback(transaction, opt_successCallback);
  var commandStore = JSCompiler_StaticMethods_getObjectStore(transaction, "DocumentCommands");
  if (null === partId) {
    var JSCompiler_StaticMethods_readAllCommandsWithoutPartId$self = this.docs_localstore_idb_CommandBasedDocumentAdapter$commandsReader_, docId = doc.getId();
    JSCompiler_StaticMethods_readAllCommandsWithoutPartId$self.readTimer_ && reportReadTime && (JSCompiler_StaticMethods_readAllCommandsWithoutPartId$self.readTimer_.modelChunkReadStartTime_ = goog$now());
    JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getCursorRequest(commandStore, docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeLowerBound(docId, void 0), docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeUpperBound(docId, void 0), void 0, void 0), goog$bind(JSCompiler_StaticMethods_readAllCommandsWithoutPartId$self.handleReadCommandsSuccess_, JSCompiler_StaticMethods_readAllCommandsWithoutPartId$self, reportReadTime, batchCallback));
  } else {
    var JSCompiler_StaticMethods_docs_localstore_idb_CommandsReader_prototype$getRevision$self = this.docs_localstore_idb_CommandBasedDocumentAdapter$commandsReader_, docId$jscomp$0 = doc.getId(), resultCallback = goog$bind(this.docs_localstore_idb_CommandBasedDocumentAdapter$commandsReader_.readAllCommands, this.docs_localstore_idb_CommandBasedDocumentAdapter$commandsReader_, doc.getId(), partId, commandStore, reportReadTime, startCallback, batchCallback);
    JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getCursorRequest(commandStore, docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeLowerBound(docId$jscomp$0, partId), docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeUpperBound(docId$jscomp$0, partId), void 0, !0), goog$bind(JSCompiler_StaticMethods_docs_localstore_idb_CommandsReader_prototype$getRevision$self.handleGetRevisionSuccess_, JSCompiler_StaticMethods_docs_localstore_idb_CommandsReader_prototype$getRevision$self, 
    resultCallback));
  }
};
// Input 540
// Input 541
function docs$localstore$DocumentLockOperation(docId, level) {
  this.docs_localstore_Operation$type_ = "document-lock";
  this.docs_localstore_DocumentLockOperation$docId_ = docId;
  this.docs_localstore_DocumentLockOperation$level_ = level;
}
goog$inherits(docs$localstore$DocumentLockOperation, docs$localstore$Operation);
docs$localstore$DocumentLockOperation.prototype.getDocId = function $docs$localstore$DocumentLockOperation$$getDocId$() {
  return this.docs_localstore_DocumentLockOperation$docId_;
};
// Input 542
function docs$localstore$LocalStore(storageAdapter) {
  goog$events$EventTarget.call(this);
  this.storageAdapter_ = storageAdapter;
  storageAdapter.goog_events_EventTarget$parentEventTarget_ = this;
  this.isWritable_ = !1;
}
goog$inherits(docs$localstore$LocalStore, goog$events$EventTarget);
docs$localstore$LocalStore.prototype.docs_localstore_LocalStore_prototype$logger_ = goog$debug$LogManager$getLogger("docs.localstore.LocalStore");
docs$localstore$LocalStore.prototype.getUserCapability = function $docs$localstore$LocalStore$$getUserCapability$() {
  return this.storageAdapter_.getUserCapability();
};
docs$localstore$LocalStore.prototype.write = function $docs$localstore$LocalStore$$write$(records, completionCallback, opt_errorCallback) {
  if (!this.isWritable_) {
    throw Error("Cannot write to read-only local store.");
  }
  goog$log$fine(this.docs_localstore_LocalStore_prototype$logger_, "write()");
  var dataChangedEvent = JSCompiler_StaticMethods_createDataChangedEvent_(records), operations = JSCompiler_StaticMethods_getOperationsForWriteAndCommit_(this, records);
  0 == operations.length ? (goog$log$fine(this.docs_localstore_LocalStore_prototype$logger_, "write() found no operations, abandoned."), completionCallback()) : (goog$log$fine(this.docs_localstore_LocalStore_prototype$logger_, "write() found operations, calling storage adapter."), JSCompiler_StaticMethods_performOperations(this.storageAdapter_, operations, goog$bind(function() {
    this.dispatchEvent(dataChangedEvent);
    completionCallback();
  }, this), opt_errorCallback));
};
function JSCompiler_StaticMethods_createDataChangedEvent_(records) {
  for (var recordChanges = [], i = 0;i < records.length;i++) {
    var record = records[i], RecordChangeType = docs$localstore$LocalStorageDataChangesEvent$RecordChangeType;
    recordChanges.push(new docs$localstore$LocalStorageDataChangesEvent$RecordChange(record, record.docs_localstore_Record$isNew_ ? RecordChangeType.NEW : RecordChangeType.UPDATE, record.propertyModifications_));
  }
  return new docs$localstore$LocalStorageDataChangesEvent(recordChanges);
}
function JSCompiler_StaticMethods_getOperationsForWriteAndCommit_(JSCompiler_StaticMethods_getOperationsForWriteAndCommit_$self, records) {
  for (var operations = [], lockRequirement = null, i = 0;i < records.length;i++) {
    var record = records[i];
    if (record.isModified()) {
      var storageCapability = JSCompiler_StaticMethods_getOperationsForWriteAndCommit_$self.storageAdapter_.recordTypeToCapabilityMap_[record.docs_localstore_Record$recordType_] || null;
      if (storageCapability) {
        var newOperations = storageCapability.createOperationsForRecord(record), operations = operations.concat(newOperations), recordLockRequirement = record.getDocumentLockRequirement();
        if (recordLockRequirement && lockRequirement) {
          var requirement1 = lockRequirement, requirement2 = recordLockRequirement;
          if (requirement1.getDocId() != requirement2.getDocId()) {
            throw Error("Cannot compare two requirements with different doc id.");
          }
          lockRequirement = requirement1.docs_localstore_DocumentLockRequirement$level_ > requirement2.docs_localstore_DocumentLockRequirement$level_ ? requirement1 : requirement2;
        } else {
          lockRequirement = lockRequirement || recordLockRequirement;
        }
        var JSCompiler_StaticMethods_commit$self = record;
        JSCompiler_StaticMethods_commit$self.commitInternal();
        goog$asserts$assert(!JSCompiler_StaticMethods_commit$self.isModified(), "Object still showed as modified after being committed");
      } else {
        throw Error("No Capability for record :" + record.docs_localstore_Record$recordType_);
      }
    }
  }
  lockRequirement && operations.unshift(new docs$localstore$DocumentLockOperation(lockRequirement.getDocId(), lockRequirement.docs_localstore_DocumentLockRequirement$level_));
  return operations;
}
;
// Input 543
// Input 544
// Input 545
JSCompiler_StaticMethods_docs_flag_FlagService_prototype$getString("docs-csi-reporting-uri-override");
// Input 546
// Input 547
// Input 548
// Input 549
function docs$offline$optin$OptInHelper$hasMatchingOuidInWebStorage() {
  var ouid;
  try {
    ouid = goog$global.localStorage.getItem("docs-oiouid");
  } catch (e) {
    ouid = null;
  }
  return JSCompiler_StaticMethods_docs_flag_FlagService_prototype$getString("docs-offline-lsuid") == ouid;
}
;
// Input 550
function docs$localstore$idb$ActiveTransactionsTracker(errorReporter) {
  this.docs_localstore_idb_ActiveTransactionsTracker$errorReporter_ = errorReporter;
  this.activeTransactions_ = {};
  this.handledFatalError_ = !1;
}
function JSCompiler_StaticMethods_docs_localstore_idb_ActiveTransactionsTracker_prototype$remove(JSCompiler_StaticMethods_docs_localstore_idb_ActiveTransactionsTracker_prototype$remove$self, transaction) {
  delete JSCompiler_StaticMethods_docs_localstore_idb_ActiveTransactionsTracker_prototype$remove$self.activeTransactions_[transaction.getId()];
}
;
// Input 551
function docs$localstore$IdleDelay(listener, delayMs, document, opt_nowFn) {
  goog$Disposable.call(this);
  this.docs_localstore_IdleDelay$listener_ = listener;
  this.delayMs_ = delayMs;
  this.docs_localstore_IdleDelay$document_ = document;
  this.nowFn_ = opt_nowFn || goog$now;
  this.expectedDelayTimestamp_ = this.docs_localstore_IdleDelay$id_ = 0;
  this.delays_ = [];
}
goog$inherits(docs$localstore$IdleDelay, goog$Disposable);
docs$localstore$IdleDelay.prototype.start = function $docs$localstore$IdleDelay$$start$() {
  if (this.expectedDelayTimestamp_) {
    throw Error("Idle delay has already been started");
  }
  this.expectedDelayTimestamp_ = this.nowFn_() + this.delayMs_;
  this.docs_localstore_IdleDelay$id_ = goog$Timer$callOnce(this.handleTimer_, this.delayMs_, this);
};
docs$localstore$IdleDelay.prototype.handleTimer_ = function $docs$localstore$IdleDelay$$handleTimer_$() {
  this.docs_localstore_IdleDelay$id_ = 0;
  var delayMs = this.nowFn_() - this.expectedDelayTimestamp_;
  this.delays_.push(delayMs);
  var toleranceMs = this.docs_localstore_IdleDelay$document_.hidden || this.docs_localstore_IdleDelay$document_.webkitHidden || this.docs_localstore_IdleDelay$document_.mozHidden || this.docs_localstore_IdleDelay$document_.msHidden ? 1020 : 20;
  10 > this.delays_.length && delayMs > toleranceMs ? (this.expectedDelayTimestamp_ = this.nowFn_() + 1000, this.docs_localstore_IdleDelay$id_ = goog$Timer$callOnce(this.handleTimer_, 1000, this)) : this.docs_localstore_IdleDelay$listener_(this);
};
docs$localstore$IdleDelay.prototype.disposeInternal = function $docs$localstore$IdleDelay$$disposeInternal$() {
  this.docs_localstore_IdleDelay$id_ && goog$global.clearTimeout(this.docs_localstore_IdleDelay$id_);
};
// Input 552
function docs$localstore$idb$Request(request, errorReporter, debugString, transactionStatus, requestTracker, opt_timeoutCallback, opt_logTimeout, opt_timeoutMs, opt_csiConstant) {
  this.request_ = request;
  this.docs_localstore_idb_Request$errorReporter_ = errorReporter;
  this.debugString_ = debugString;
  this.docs_localstore_idb_Request$transactionStatus_ = transactionStatus;
  this.docs_localstore_idb_Request$requestTracker_ = requestTracker;
  var requestId = requestTracker.nextRequestId_++;
  requestTracker.pendingRequests_[requestId] = debugString;
  this.docs_localstore_idb_Request$requestId_ = requestId;
  this.docs_localstore_idb_Request$errorCallback_ = this.successCallback_ = null;
  this.docs_localstore_idb_Request$timeoutCallback_ = opt_timeoutCallback || null;
  this.docs_localstore_idb_Request$performanceManager_ = docs$diagnostics$PerformanceManager.getInstance();
  this.docs_localstore_idb_Request$eventId_ = opt_csiConstant ? JSCompiler_StaticMethods_startEvent(this.docs_localstore_idb_Request$performanceManager_, opt_csiConstant) : null;
  this.docs_localstore_idb_Request$timeoutMs_ = opt_timeoutMs || 0;
  this.docs_localstore_idb_Request$timeoutDelay_ = null;
  0 < this.docs_localstore_idb_Request$timeoutMs_ && (this.docs_localstore_idb_Request$timeoutCallback_ || opt_logTimeout) && (this.docs_localstore_idb_Request$timeoutDelay_ = new docs$localstore$IdleDelay(goog$bind(this.docs_localstore_idb_Request_prototype$handleTimeout_, this), this.docs_localstore_idb_Request$timeoutMs_, document), this.docs_localstore_idb_Request$timeoutDelay_.start());
  this.request_.onsuccess = JSCompiler_StaticMethods_protectFunction(this.docs_localstore_idb_Request$errorReporter_, this.onSuccess_, this, !0);
  this.request_.onerror = JSCompiler_StaticMethods_protectFunction(this.docs_localstore_idb_Request$errorReporter_, this.docs_localstore_idb_Request_prototype$onError_, this, !0);
}
function JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_setSuccessCallback$self, successCallback) {
  if (JSCompiler_StaticMethods_setSuccessCallback$self.successCallback_) {
    throw Error("Success callback already set");
  }
  JSCompiler_StaticMethods_setSuccessCallback$self.successCallback_ = successCallback;
}
docs$localstore$idb$Request.prototype.onSuccess_ = function $docs$localstore$idb$Request$$onSuccess_$(e) {
  goog$dispose(this.docs_localstore_idb_Request$timeoutDelay_);
  this.docs_localstore_idb_Request$eventId_ && JSCompiler_StaticMethods_completeEvent(this.docs_localstore_idb_Request$performanceManager_, this.docs_localstore_idb_Request$eventId_);
  var JSCompiler_StaticMethods_recordSuccess$self = this.docs_localstore_idb_Request$requestTracker_, requestId = this.docs_localstore_idb_Request$requestId_;
  JSCompiler_StaticMethods_recordSuccess$self.requestSuccessCount_++;
  delete JSCompiler_StaticMethods_recordSuccess$self.pendingRequests_[requestId];
  this.docs_localstore_idb_Request$transactionStatus_.wasAbortRequested_ || this.successCallback_ && this.successCallback_(e);
};
function JSCompiler_StaticMethods_setErrorCallback(JSCompiler_StaticMethods_setErrorCallback$self, errorCallback) {
  if (JSCompiler_StaticMethods_setErrorCallback$self.docs_localstore_idb_Request$errorCallback_) {
    throw Error("Error callback already set");
  }
  JSCompiler_StaticMethods_setErrorCallback$self.docs_localstore_idb_Request$errorCallback_ = errorCallback;
}
docs$localstore$idb$Request.prototype.docs_localstore_idb_Request_prototype$onError_ = function $docs$localstore$idb$Request$$docs_localstore_idb_Request_prototype$onError_$(e) {
  goog$dispose(this.docs_localstore_idb_Request$timeoutDelay_);
  this.docs_localstore_idb_Request$eventId_ && JSCompiler_StaticMethods_discardEvent(this.docs_localstore_idb_Request$performanceManager_, this.docs_localstore_idb_Request$eventId_);
  var JSCompiler_StaticMethods_recordError$self = this.docs_localstore_idb_Request$requestTracker_, requestId = this.docs_localstore_idb_Request$requestId_;
  JSCompiler_StaticMethods_recordError$self.requestErrorCount_++;
  delete JSCompiler_StaticMethods_recordError$self.pendingRequests_[requestId];
  e.target.docs_requestContext = this.debugString_;
  if (!this.docs_localstore_idb_Request$transactionStatus_.wasAbortRequested_) {
    var domError = e.target.error;
    domError && "AbortError" == domError.name || this.docs_localstore_idb_Request$errorCallback_ && this.docs_localstore_idb_Request$errorCallback_(e);
  }
};
docs$localstore$idb$Request.prototype.nullOutCallbacks = function $docs$localstore$idb$Request$$nullOutCallbacks$(request) {
  request.onsuccess = goog$nullFunction;
  request.onerror = goog$nullFunction;
};
docs$localstore$idb$Request.prototype.docs_localstore_idb_Request_prototype$handleTimeout_ = function $docs$localstore$idb$Request$$docs_localstore_idb_Request_prototype$handleTimeout_$() {
  this.docs_localstore_idb_Request$eventId_ && JSCompiler_StaticMethods_discardEvent(this.docs_localstore_idb_Request$performanceManager_, this.docs_localstore_idb_Request$eventId_);
  JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(this.docs_localstore_idb_Request$errorReporter_, Error("A request was running for a long time"), {documentHidden:document.hidden || document.webkitHidden, request:this.debugString_, requestTimeoutMs:this.docs_localstore_idb_Request$timeoutMs_, timeoutCallbackSet:!!this.docs_localstore_idb_Request$timeoutCallback_, timeoutDelays:this.docs_localstore_idb_Request$timeoutDelay_.delays_.concat().toString()});
  goog$dispose(this.docs_localstore_idb_Request$timeoutDelay_);
  !this.docs_localstore_idb_Request$transactionStatus_.wasAbortRequested_ && this.docs_localstore_idb_Request$timeoutCallback_ && (this.nullOutCallbacks(this.request_), this.docs_localstore_idb_Request$timeoutCallback_());
};
// Input 553
function docs$localstore$idb$RequestTracker() {
  this.pendingRequests_ = {};
  this.nextRequestId_ = this.requestSuccessCount_ = this.requestErrorCount_ = 0;
}
;
// Input 554
// Input 555
function docs$localstore$idb$TransactionStatusRecorder() {
  this.isAbandoned_ = this.wasAborted_ = this.wasAbortRequested_ = !1;
}
;
// Input 556
function docs$localstore$idb$unsavedChangesBit$get(errorReporter) {
  try {
    var value = goog$global.localStorage.getItem("docs-ucb");
  } catch (e) {
    return JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(errorReporter, Error("Error reading unsaved changes bit: " + e.message)), "e";
  }
  switch(value) {
    case "1":
      return "t";
    case "0":
      return "f";
    default:
      return "u";
  }
}
;
// Input 557
function docs$localstore$idb$OpenDbRequest(request, errorReporter, debugString, opt_timeoutCallback, opt_timeoutMs, opt_csiConstant) {
  docs$localstore$idb$Request.call(this, request, errorReporter, debugString, new docs$localstore$idb$TransactionStatusRecorder, new docs$localstore$idb$RequestTracker, opt_timeoutCallback, !0, opt_timeoutMs, opt_csiConstant);
  this.upgradeNeededCallback_ = this.blockedCallback_ = null;
  request.onblocked = JSCompiler_StaticMethods_protectFunction(errorReporter, this.onBlocked_, this, !0);
  request.onupgradeneeded = JSCompiler_StaticMethods_protectFunction(errorReporter, this.onUpgradeNeeded_, this, !0);
}
goog$inherits(docs$localstore$idb$OpenDbRequest, docs$localstore$idb$Request);
docs$localstore$idb$OpenDbRequest.prototype.onBlocked_ = function $docs$localstore$idb$OpenDbRequest$$onBlocked_$(e) {
  goog$dispose(this.docs_localstore_idb_Request$timeoutDelay_);
  this.blockedCallback_ && this.blockedCallback_(e);
};
docs$localstore$idb$OpenDbRequest.prototype.onUpgradeNeeded_ = function $docs$localstore$idb$OpenDbRequest$$onUpgradeNeeded_$(e) {
  goog$dispose(this.docs_localstore_idb_Request$timeoutDelay_);
  if (e.dataLoss && "none" != e.dataLoss) {
    var context = {};
    context.dataLoss = e.dataLoss;
    context.dataLossMessage = e.dataLossMessage;
    context.optinBackup = docs$offline$optin$OptInHelper$hasMatchingOuidInWebStorage();
    context.requestContext = this.debugString_;
    context.unsavedChanges = docs$localstore$idb$unsavedChangesBit$get(this.docs_localstore_idb_Request$errorReporter_);
    JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(this.docs_localstore_idb_Request$errorReporter_, Error("upgradeNeeded after dataLoss"), context);
  }
  this.upgradeNeededCallback_ && this.upgradeNeededCallback_(e);
};
docs$localstore$idb$OpenDbRequest.prototype.nullOutCallbacks = function $docs$localstore$idb$OpenDbRequest$$nullOutCallbacks$(request) {
  docs$localstore$idb$OpenDbRequest.superClass_.nullOutCallbacks.call(this, request);
  request.onblocked = goog$nullFunction;
  request.onupgradeneeded = goog$nullFunction;
};
function JSCompiler_StaticMethods_setBlockedCallback(JSCompiler_StaticMethods_setBlockedCallback$self, callback) {
  if (JSCompiler_StaticMethods_setBlockedCallback$self.blockedCallback_) {
    throw Error("Blocked callback already set");
  }
  JSCompiler_StaticMethods_setBlockedCallback$self.blockedCallback_ = callback;
}
function JSCompiler_StaticMethods_setUpgradeNeededCallback(JSCompiler_StaticMethods_setUpgradeNeededCallback$self, callback) {
  if (JSCompiler_StaticMethods_setUpgradeNeededCallback$self.upgradeNeededCallback_) {
    throw Error("Upgrade needed callback already set");
  }
  JSCompiler_StaticMethods_setUpgradeNeededCallback$self.upgradeNeededCallback_ = callback;
}
;
// Input 558
function docs$localstore$idb$Index(index, transactionStatus, requestTracker, errorReporter) {
  this.docs_localstore_idb_Index$index_ = index;
  this.docs_localstore_idb_Index$transactionStatus_ = transactionStatus;
  this.docs_localstore_idb_Index$requestTracker_ = requestTracker;
  this.docs_localstore_idb_Index$errorReporter_ = errorReporter;
}
docs$localstore$idb$Index.prototype.get = function $docs$localstore$idb$Index$$get$(key) {
  return new docs$localstore$idb$Request(this.docs_localstore_idb_Index$index_.get(key), this.docs_localstore_idb_Index$errorReporter_, this.docs_localstore_idb_Index$index_.name + ".get(" + key + ")", this.docs_localstore_idb_Index$transactionStatus_, this.docs_localstore_idb_Index$requestTracker_);
};
// Input 559
function docs$localstore$idb$ObjectStore(objectStore, transactionStatus, requestTracker, errorReporter) {
  this.objectStore_ = objectStore;
  this.docs_localstore_idb_ObjectStore$transactionStatus_ = transactionStatus;
  this.docs_localstore_idb_ObjectStore$requestTracker_ = requestTracker;
  this.docs_localstore_idb_ObjectStore$errorReporter_ = errorReporter;
}
docs$localstore$idb$ObjectStore.prototype.get = function $docs$localstore$idb$ObjectStore$$get$(key) {
  return new docs$localstore$idb$Request(this.objectStore_.get(key), this.docs_localstore_idb_ObjectStore$errorReporter_, this.objectStore_.name + ".get(" + key + ")", this.docs_localstore_idb_ObjectStore$transactionStatus_, this.docs_localstore_idb_ObjectStore$requestTracker_);
};
function JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put$self, value) {
  var request = goog$isDef(void 0) ? JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put$self.objectStore_.put(value, void 0) : JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put$self.objectStore_.put(value);
  return new docs$localstore$idb$Request(request, JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put$self.docs_localstore_idb_ObjectStore$errorReporter_, JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put$self.objectStore_.name + ".put(undefined)", JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put$self.docs_localstore_idb_ObjectStore$transactionStatus_, JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put$self.docs_localstore_idb_ObjectStore$requestTracker_);
}
function JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add(JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add$self, value) {
  var request = goog$isDef(void 0) ? JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add$self.objectStore_.add(value, void 0) : JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add$self.objectStore_.add(value);
  new docs$localstore$idb$Request(request, JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add$self.docs_localstore_idb_ObjectStore$errorReporter_, JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add$self.objectStore_.name + ".add(undefined)", JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add$self.docs_localstore_idb_ObjectStore$transactionStatus_, JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add$self.docs_localstore_idb_ObjectStore$requestTracker_);
}
function JSCompiler_StaticMethods_deleteKey(JSCompiler_StaticMethods_deleteKey$self, key) {
  return new docs$localstore$idb$Request(JSCompiler_StaticMethods_deleteKey$self.objectStore_["delete"](key), JSCompiler_StaticMethods_deleteKey$self.docs_localstore_idb_ObjectStore$errorReporter_, JSCompiler_StaticMethods_deleteKey$self.objectStore_.name + ".delete(" + key + ")", JSCompiler_StaticMethods_deleteKey$self.docs_localstore_idb_ObjectStore$transactionStatus_, JSCompiler_StaticMethods_deleteKey$self.docs_localstore_idb_ObjectStore$requestTracker_);
}
docs$localstore$idb$ObjectStore.prototype.clear = function $docs$localstore$idb$ObjectStore$$clear$() {
  return new docs$localstore$idb$Request(this.objectStore_.clear(), this.docs_localstore_idb_ObjectStore$errorReporter_, this.objectStore_.name + ".clear()", this.docs_localstore_idb_ObjectStore$transactionStatus_, this.docs_localstore_idb_ObjectStore$requestTracker_);
};
docs$localstore$idb$ObjectStore.prototype.count = function $docs$localstore$idb$ObjectStore$$count$(opt_key) {
  var request = goog$isDef(opt_key) ? this.objectStore_.count(opt_key) : this.objectStore_.count();
  return new docs$localstore$idb$Request(request, this.docs_localstore_idb_ObjectStore$errorReporter_, this.objectStore_.name + ".count(" + opt_key + ")", this.docs_localstore_idb_ObjectStore$transactionStatus_, this.docs_localstore_idb_ObjectStore$requestTracker_);
};
function JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$getIndex(JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$getIndex$self, name) {
  return new docs$localstore$idb$Index(JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$getIndex$self.objectStore_.index(name), JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$getIndex$self.docs_localstore_idb_ObjectStore$transactionStatus_, JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$getIndex$self.docs_localstore_idb_ObjectStore$requestTracker_, JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$getIndex$self.docs_localstore_idb_ObjectStore$errorReporter_);
}
;
// Input 560
function docs$localstore$idb$Transaction(db, storeNames, errorContext, errorReporter, errorCallback, activeTransactionsTracker, opt_allowWrite, opt_timeoutMs, opt_timeoutCallback, opt_csiConstant) {
  this.docs_localstore_idb_Transaction$db_ = db;
  this.storeNames_ = storeNames;
  this.errorContext_ = errorContext;
  this.docs_localstore_idb_Transaction$errorReporter_ = errorReporter;
  this.docs_localstore_idb_Transaction$errorCallback_ = errorCallback;
  this.errorCallbackCalled_ = !1;
  this.allowWrite_ = !!opt_allowWrite;
  this.transaction_ = this.completionCallback_ = null;
  this.statusRecorder_ = new docs$localstore$idb$TransactionStatusRecorder;
  this.docs_localstore_idb_Transaction$requestTracker_ = new docs$localstore$idb$RequestTracker;
  this.docs_localstore_idb_Transaction$timeoutMs_ = opt_timeoutMs || 6E4;
  this.docs_localstore_idb_Transaction$timeoutDelay_ = new docs$localstore$IdleDelay(goog$bind(this.docs_localstore_idb_Transaction_prototype$handleTimeout_, this), this.docs_localstore_idb_Transaction$timeoutMs_, document);
  this.docs_localstore_idb_Transaction$timeoutCallback_ = opt_timeoutCallback || null;
  this.docs_localstore_idb_Transaction$performanceManager_ = docs$diagnostics$PerformanceManager.getInstance();
  this.docs_localstore_idb_Transaction$eventId_ = null;
  this.docs_localstore_idb_Transaction$id_ = docs$localstore$idb$Transaction$nextId_++;
  this.docs_localstore_idb_Transaction$activeTransactionsTracker_ = activeTransactionsTracker;
  this.csiConstant_ = goog$isDef(opt_csiConstant) ? opt_csiConstant : this.allowWrite_ ? "idbrwt" : "idbrot";
}
var docs$localstore$idb$Transaction$nextId_ = 0;
docs$localstore$idb$Transaction.prototype.docs_localstore_idb_Transaction_prototype$logger_ = goog$debug$LogManager$getLogger("docs.localstore.idb.Transaction");
docs$localstore$idb$Transaction.prototype.open = function $docs$localstore$idb$Transaction$$open$() {
  null != this.csiConstant_ && (this.docs_localstore_idb_Transaction$eventId_ = JSCompiler_StaticMethods_startEvent(this.docs_localstore_idb_Transaction$performanceManager_, this.csiConstant_, !0));
  var transactionMode = this.allowWrite_ ? "readwrite" : "readonly";
  goog$log$info(this.docs_localstore_idb_Transaction_prototype$logger_, transactionMode + " transaction " + this.docs_localstore_idb_Transaction$id_ + " opened on " + this.storeNames_);
  this.docs_localstore_idb_Transaction$timeoutDelay_.start();
  var transaction = this.docs_localstore_idb_Transaction$db_.transaction(this.storeNames_, transactionMode);
  transaction.onabort = JSCompiler_StaticMethods_protectFunction(this.docs_localstore_idb_Transaction$errorReporter_, this.onAbort_, this);
  transaction.oncomplete = JSCompiler_StaticMethods_protectFunction(this.docs_localstore_idb_Transaction$errorReporter_, this.onComplete_, this);
  transaction.onerror = JSCompiler_StaticMethods_protectFunction(this.docs_localstore_idb_Transaction$errorReporter_, this.docs_localstore_idb_Transaction_prototype$onError_, this, !0);
  this.transaction_ = transaction;
  var JSCompiler_StaticMethods_docs_localstore_idb_ActiveTransactionsTracker_prototype$add$self = this.docs_localstore_idb_Transaction$activeTransactionsTracker_;
  this.allowWrite_ && (goog$asserts$assert(!JSCompiler_StaticMethods_docs_localstore_idb_ActiveTransactionsTracker_prototype$add$self.handledFatalError_, "Cannot add transactions."), JSCompiler_StaticMethods_docs_localstore_idb_ActiveTransactionsTracker_prototype$add$self.activeTransactions_[this.getId()] = this);
};
function JSCompiler_StaticMethods_abandon(JSCompiler_StaticMethods_abandon$self) {
  goog$asserts$assert(!JSCompiler_StaticMethods_abandon$self.statusRecorder_.isAbandoned_, "The transaction was already abandoned.");
  goog$asserts$assert(!JSCompiler_StaticMethods_abandon$self.completionCallback_, "Cannot abandon a transaction with completion callback.");
  goog$asserts$assert(!(0 < goog$object$getValues(JSCompiler_StaticMethods_abandon$self.docs_localstore_idb_Transaction$requestTracker_.pendingRequests_).length), "Cannot abandon a transaction with pending requests.");
  JSCompiler_StaticMethods_abandon$self.statusRecorder_.isAbandoned_ = !0;
  JSCompiler_StaticMethods_abandon$self.docs_localstore_idb_Transaction$timeoutDelay_.dispose();
  JSCompiler_StaticMethods_abandon$self.docs_localstore_idb_Transaction$eventId_ && (JSCompiler_StaticMethods_discardEvent(JSCompiler_StaticMethods_abandon$self.docs_localstore_idb_Transaction$performanceManager_, JSCompiler_StaticMethods_abandon$self.docs_localstore_idb_Transaction$eventId_), JSCompiler_StaticMethods_abandon$self.docs_localstore_idb_Transaction$eventId_ = null);
  JSCompiler_StaticMethods_docs_localstore_idb_ActiveTransactionsTracker_prototype$remove(JSCompiler_StaticMethods_abandon$self.docs_localstore_idb_Transaction$activeTransactionsTracker_, JSCompiler_StaticMethods_abandon$self);
}
docs$localstore$idb$Transaction.prototype.abort = function $docs$localstore$idb$Transaction$$abort$(opt_localStoreError) {
  goog$asserts$assert(!this.statusRecorder_.isAbandoned_, "The transaction was already abandoned.");
  JSCompiler_StaticMethods_abort_(this, !1, opt_localStoreError);
};
function JSCompiler_StaticMethods_abort_(JSCompiler_StaticMethods_abort_$self, fromTimeout, opt_localStoreError) {
  var statusRecorder = JSCompiler_StaticMethods_abort_$self.statusRecorder_;
  if (!statusRecorder.wasAborted_ && !statusRecorder.wasAbortRequested_) {
    JSCompiler_StaticMethods_assertTransaction_(JSCompiler_StaticMethods_abort_$self);
    goog$log$info(JSCompiler_StaticMethods_abort_$self.docs_localstore_idb_Transaction_prototype$logger_, "Abort requested for transaction " + JSCompiler_StaticMethods_abort_$self.docs_localstore_idb_Transaction$id_);
    statusRecorder.wasAbortRequested_ = !0;
    try {
      JSCompiler_StaticMethods_abort_$self.transaction_.abort(), opt_localStoreError && !JSCompiler_StaticMethods_abort_$self.errorCallbackCalled_ && (JSCompiler_StaticMethods_abort_$self.docs_localstore_idb_Transaction$errorCallback_(opt_localStoreError), JSCompiler_StaticMethods_abort_$self.errorCallbackCalled_ = !0);
    } catch (e) {
      if ("InvalidStateError" != e.name || !fromTimeout) {
        var context = JSCompiler_StaticMethods_createDebugContext_(JSCompiler_StaticMethods_abort_$self);
        context.abortFromTimeout = fromTimeout;
        JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(JSCompiler_StaticMethods_abort_$self.docs_localstore_idb_Transaction$errorReporter_, e, context);
      }
    }
    JSCompiler_StaticMethods_abort_$self.docs_localstore_idb_Transaction$timeoutDelay_.dispose();
    JSCompiler_StaticMethods_docs_localstore_idb_ActiveTransactionsTracker_prototype$remove(JSCompiler_StaticMethods_abort_$self.docs_localstore_idb_Transaction$activeTransactionsTracker_, JSCompiler_StaticMethods_abort_$self);
  }
}
function JSCompiler_StaticMethods_getObjectStore(JSCompiler_StaticMethods_getObjectStore$self, storeName) {
  JSCompiler_StaticMethods_assertTransaction_(JSCompiler_StaticMethods_getObjectStore$self);
  return new docs$localstore$idb$ObjectStore(JSCompiler_StaticMethods_getObjectStore$self.transaction_.objectStore(storeName), JSCompiler_StaticMethods_getObjectStore$self.statusRecorder_, JSCompiler_StaticMethods_getObjectStore$self.docs_localstore_idb_Transaction$requestTracker_, JSCompiler_StaticMethods_getObjectStore$self.docs_localstore_idb_Transaction$errorReporter_);
}
function JSCompiler_StaticMethods_setCompletionCallback(JSCompiler_StaticMethods_setCompletionCallback$self, completionCallback) {
  if (JSCompiler_StaticMethods_setCompletionCallback$self.completionCallback_) {
    throw Error("Completion callback already set");
  }
  goog$asserts$assert(!JSCompiler_StaticMethods_setCompletionCallback$self.statusRecorder_.isAbandoned_, "Cannot set completion callback on an abandoned transaction.");
  JSCompiler_StaticMethods_setCompletionCallback$self.completionCallback_ = completionCallback;
}
function JSCompiler_StaticMethods_assertTransaction_(JSCompiler_StaticMethods_assertTransaction_$self) {
  if (!JSCompiler_StaticMethods_assertTransaction_$self.transaction_) {
    throw Error("Transaction does not exist");
  }
}
docs$localstore$idb$Transaction.prototype.onAbort_ = function $docs$localstore$idb$Transaction$$onAbort_$(e) {
  this.statusRecorder_.isAbandoned_ || (this.statusRecorder_.wasAborted_ = !0, this.docs_localstore_idb_Transaction$eventId_ && (JSCompiler_StaticMethods_discardEvent(this.docs_localstore_idb_Transaction$performanceManager_, this.docs_localstore_idb_Transaction$eventId_), this.docs_localstore_idb_Transaction$eventId_ = null), JSCompiler_StaticMethods_docs_localstore_idb_ActiveTransactionsTracker_prototype$remove(this.docs_localstore_idb_Transaction$activeTransactionsTracker_, this), this.docs_localstore_idb_Transaction$timeoutDelay_.dispose(), 
  this.statusRecorder_.wasAbortRequested_ ? goog$log$info(this.docs_localstore_idb_Transaction_prototype$logger_, "Transaction " + this.docs_localstore_idb_Transaction$id_ + " aborted explicitly") : (e.target.docs_internalAbort = !0, !this.allowWrite_ && e.target.error && "QuotaExceededError" == e.target.error.name ? (goog$log$info(this.docs_localstore_idb_Transaction_prototype$logger_, "Transaction " + this.docs_localstore_idb_Transaction$id_ + " aborted due to a QuotaExceededError: " + docs$localstore$idb$DatabaseUtil$formatError(e)), 
  this.completionCallback_ && this.completionCallback_()) : JSCompiler_StaticMethods_processError_(this, "LocalStore IndexedDB transaction abort", JSCompiler_StaticMethods_createDebugContext_(this), e)));
};
docs$localstore$idb$Transaction.prototype.onComplete_ = function $docs$localstore$idb$Transaction$$onComplete_$() {
  this.statusRecorder_.isAbandoned_ || (JSCompiler_StaticMethods_docs_localstore_idb_ActiveTransactionsTracker_prototype$remove(this.docs_localstore_idb_Transaction$activeTransactionsTracker_, this), this.docs_localstore_idb_Transaction$eventId_ && (JSCompiler_StaticMethods_completeEvent(this.docs_localstore_idb_Transaction$performanceManager_, this.docs_localstore_idb_Transaction$eventId_), this.docs_localstore_idb_Transaction$eventId_ = null), goog$log$info(this.docs_localstore_idb_Transaction_prototype$logger_, 
  "Transaction " + this.docs_localstore_idb_Transaction$id_ + " completed"), this.docs_localstore_idb_Transaction$timeoutDelay_.dispose(), this.completionCallback_ && this.completionCallback_());
};
docs$localstore$idb$Transaction.prototype.docs_localstore_idb_Transaction_prototype$onError_ = function $docs$localstore$idb$Transaction$$docs_localstore_idb_Transaction_prototype$onError_$(e) {
  e.stopPropagation();
  var statusRecorder = this.statusRecorder_;
  if (!statusRecorder.isAbandoned_ && !statusRecorder.wasAborted_ && !statusRecorder.wasAbortRequested_) {
    var domError = e.target.error;
    if (!domError || "AbortError" != domError.name) {
      var context = JSCompiler_StaticMethods_createDebugContext_(this);
      context.request = e.target.docs_requestContext;
      JSCompiler_StaticMethods_processError_(this, "LocalStore IndexedDB error", context, e);
      var JSCompiler_StaticMethods_handleFatalError$self = this.docs_localstore_idb_Transaction$activeTransactionsTracker_;
      if (JSCompiler_StaticMethods_getBoolean(docs$flag$FlagService.getInstance(), "docs-ewtaoe") && this.allowWrite_) {
        goog$asserts$assert(!JSCompiler_StaticMethods_handleFatalError$self.handledFatalError_);
        delete JSCompiler_StaticMethods_handleFatalError$self.activeTransactions_[this.getId()];
        var abortedTransactions = 0, i;
        for (i in JSCompiler_StaticMethods_handleFatalError$self.activeTransactions_) {
          var id = Number(i);
          JSCompiler_StaticMethods_handleFatalError$self.activeTransactions_[id].abort();
          delete JSCompiler_StaticMethods_handleFatalError$self.activeTransactions_[id];
          abortedTransactions++;
        }
        JSCompiler_StaticMethods_handleFatalError$self.handledFatalError_ = !0;
        JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(JSCompiler_StaticMethods_handleFatalError$self.docs_localstore_idb_ActiveTransactionsTracker$errorReporter_, Error("Handled fatal error of transaction: " + this.getId() + " and aborted " + abortedTransactions + " transactions "));
      }
    }
  }
};
function JSCompiler_StaticMethods_processError_(JSCompiler_StaticMethods_processError_$self, message, context, e) {
  var errorMessage = message + " (" + JSCompiler_StaticMethods_processError_$self.errorContext_ + "): " + docs$localstore$idb$DatabaseUtil$formatError(e);
  goog$log$info(JSCompiler_StaticMethods_processError_$self.docs_localstore_idb_Transaction_prototype$logger_, "Transaction " + JSCompiler_StaticMethods_processError_$self.docs_localstore_idb_Transaction$id_ + ": " + errorMessage);
  JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(JSCompiler_StaticMethods_processError_$self.docs_localstore_idb_Transaction$errorReporter_, Error(errorMessage), context);
  var localStoreError = new docs$localstore$LocalStoreError(1, errorMessage);
  JSCompiler_StaticMethods_processError_$self.errorCallbackCalled_ || (JSCompiler_StaticMethods_processError_$self.docs_localstore_idb_Transaction$errorCallback_(localStoreError), JSCompiler_StaticMethods_processError_$self.errorCallbackCalled_ = !0);
}
docs$localstore$idb$Transaction.prototype.docs_localstore_idb_Transaction_prototype$handleTimeout_ = function $docs$localstore$idb$Transaction$$docs_localstore_idb_Transaction_prototype$handleTimeout_$() {
  if (!this.statusRecorder_.isAbandoned_) {
    goog$log$info(this.docs_localstore_idb_Transaction_prototype$logger_, "Transaction " + this.docs_localstore_idb_Transaction$id_ + " running for more than " + this.docs_localstore_idb_Transaction$timeoutMs_ + "ms");
    var context = JSCompiler_StaticMethods_createDebugContext_(this);
    context.transactionTimeout = this.docs_localstore_idb_Transaction$timeoutMs_;
    context.timeoutDelays = this.docs_localstore_idb_Transaction$timeoutDelay_.delays_.concat().toString();
    context.documentHidden = document.hidden || document.webkitHidden;
    JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(this.docs_localstore_idb_Transaction$errorReporter_, Error("A transaction was running for a long time (" + this.errorContext_ + ")"), context);
    this.docs_localstore_idb_Transaction$timeoutDelay_.dispose();
    this.docs_localstore_idb_Transaction$timeoutCallback_ && (JSCompiler_StaticMethods_abort_(this, !0), this.docs_localstore_idb_Transaction$timeoutCallback_(), this.transaction_.oncomplete = null);
  }
};
docs$localstore$idb$Transaction.prototype.getId = function $docs$localstore$idb$Transaction$$getId$() {
  return this.docs_localstore_idb_Transaction$id_;
};
function JSCompiler_StaticMethods_createDebugContext_(JSCompiler_StaticMethods_createDebugContext_$self) {
  var context = {transactionAllowWrite:JSCompiler_StaticMethods_createDebugContext_$self.allowWrite_, transactionContext:JSCompiler_StaticMethods_createDebugContext_$self.errorContext_, transactionId:JSCompiler_StaticMethods_createDebugContext_$self.docs_localstore_idb_Transaction$id_, transactionObjectStores:JSCompiler_StaticMethods_createDebugContext_$self.storeNames_.toString()}, JSCompiler_StaticMethods_extendDebugContext$self = JSCompiler_StaticMethods_createDebugContext_$self.docs_localstore_idb_Transaction$requestTracker_, 
  pendingRequests = goog$object$getValues(JSCompiler_StaticMethods_extendDebugContext$self.pendingRequests_);
  context.pendingRequestCount = pendingRequests.length;
  context.pendingRequests = pendingRequests.toString();
  context.requestErrorCount = JSCompiler_StaticMethods_extendDebugContext$self.requestErrorCount_;
  context.requestSuccessCount = JSCompiler_StaticMethods_extendDebugContext$self.requestSuccessCount_;
  return context;
}
;
// Input 561
function docs$localstore$idb$VersionChangeEvent(newVersion, opt_target) {
  goog$events$Event.call(this, "l", opt_target);
}
goog$inherits(docs$localstore$idb$VersionChangeEvent, goog$events$Event);
// Input 562
function docs$localstore$idb$DocsDatabase(errorCallback, errorReporter) {
  goog$events$EventTarget.call(this);
  this.docs_localstore_idb_DocsDatabase$errorCallback_ = errorCallback;
  this.docs_localstore_idb_DocsDatabase$errorReporter_ = errorReporter;
  this.docs_localstore_idb_DocsDatabase$db_ = null;
  this.versionChanged_ = !1;
  this.docs_localstore_idb_DocsDatabase$activeTransactionsTracker_ = new docs$localstore$idb$ActiveTransactionsTracker(errorReporter);
}
goog$inherits(docs$localstore$idb$DocsDatabase, goog$events$EventTarget);
docs$localstore$idb$DocsDatabase.prototype.docs_localstore_idb_DocsDatabase_prototype$logger_ = goog$debug$LogManager$getLogger("docs.localstore.idb.DocsDatabase");
var docs$localstore$idb$DocsDatabase$IDB_FACTORY_ = goog$global.indexedDB || goog$global.webkitIndexedDB;
docs$localstore$idb$DocsDatabase.prototype.docs_localstore_idb_DocsDatabase_prototype$handleVersionChange_ = function $docs$localstore$idb$DocsDatabase$$docs_localstore_idb_DocsDatabase_prototype$handleVersionChange_$() {
  this.versionChanged_ = !0;
  goog$log$info(this.docs_localstore_idb_DocsDatabase_prototype$logger_, "Closing idb connection due to version change.");
  this.close();
  this.dispatchEvent(new docs$localstore$idb$VersionChangeEvent);
};
docs$localstore$idb$DocsDatabase.prototype.close = function $docs$localstore$idb$DocsDatabase$$close$() {
  this.docs_localstore_idb_DocsDatabase$db_ && (this.docs_localstore_idb_DocsDatabase$db_.onversionchange = null, this.docs_localstore_idb_DocsDatabase$db_.close(), this.docs_localstore_idb_DocsDatabase$db_ = null);
};
function JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize(JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize$self, db) {
  goog$log$info(JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize$self.docs_localstore_idb_DocsDatabase_prototype$logger_, "Initializing docs database.");
  if (JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize$self.docs_localstore_idb_DocsDatabase$db_) {
    throw Error("IdbDocsDatabase already managing a database.");
  }
  if (null != db.onversionchange) {
    throw Error("This database is being managed by another class.");
  }
  db.onclose = goog$bind(function() {
    var context = {};
    context.optinBackup = docs$offline$optin$OptInHelper$hasMatchingOuidInWebStorage();
    JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(this.docs_localstore_idb_DocsDatabase$errorReporter_, Error("The database connection was closed."), context);
    this.dispatchEvent("i");
  }, JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize$self);
  db.onerror = docs$localstore$idb$DatabaseUtil$createDatabaseErrorCallback("Database error.", JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize$self.docs_localstore_idb_DocsDatabase$errorCallback_);
  db.onversionchange = goog$bind(JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize$self.docs_localstore_idb_DocsDatabase_prototype$handleVersionChange_, JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize$self);
  JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize$self.docs_localstore_idb_DocsDatabase$db_ = db;
}
function JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$getVersion(JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$getVersion$self) {
  if (!JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$getVersion$self.docs_localstore_idb_DocsDatabase$db_) {
    return -1;
  }
  var dbVersion = parseInt(JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$getVersion$self.docs_localstore_idb_DocsDatabase$db_.version, 10);
  return 0 <= dbVersion ? dbVersion : -1;
}
function JSCompiler_StaticMethods_openTransaction(JSCompiler_StaticMethods_openTransaction$self, storeNames, errorMessage, opt_errorCallback, opt_allowWrite, opt_timeoutMs, opt_timeoutCallback, opt_csiConstant) {
  if (!JSCompiler_StaticMethods_openTransaction$self.docs_localstore_idb_DocsDatabase$db_) {
    throw Error("Cannot open transaction on uninitialized IdbDocsDatabase");
  }
  if (opt_allowWrite && JSCompiler_StaticMethods_openTransaction$self.docs_localstore_idb_DocsDatabase$activeTransactionsTracker_.handledFatalError_) {
    throw Error("Cannot open read-write transactions because of a previous fatal error in a read-write transaction.");
  }
  var transaction = new docs$localstore$idb$Transaction(JSCompiler_StaticMethods_openTransaction$self.docs_localstore_idb_DocsDatabase$db_, storeNames, errorMessage, JSCompiler_StaticMethods_openTransaction$self.docs_localstore_idb_DocsDatabase$errorReporter_, opt_errorCallback || JSCompiler_StaticMethods_openTransaction$self.docs_localstore_idb_DocsDatabase$errorCallback_, JSCompiler_StaticMethods_openTransaction$self.docs_localstore_idb_DocsDatabase$activeTransactionsTracker_, opt_allowWrite, opt_timeoutMs, 
  opt_timeoutCallback, opt_csiConstant);
  transaction.open();
  return transaction;
}
function JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion(JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion$self, newVersion, upgradeCallback, errorCallback, successCallback) {
  goog$log$info(JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion$self.docs_localstore_idb_DocsDatabase_prototype$logger_, "Setting new IDB version");
  if (JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$getVersion(JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion$self) >= newVersion) {
    throw Error("Upgrading to a version (" + newVersion + ") less than or equal to current version (" + JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$getVersion(JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion$self) + ")");
  }
  var databaseName = JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion$self.docs_localstore_idb_DocsDatabase$db_.name;
  JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion$self.close();
  var errorReporter = JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion$self.docs_localstore_idb_DocsDatabase$errorReporter_, openRequest = new docs$localstore$idb$OpenDbRequest(docs$localstore$idb$DocsDatabase$IDB_FACTORY_.open(databaseName, newVersion), errorReporter, "setVersion database.open");
  JSCompiler_StaticMethods_setUpgradeNeededCallback(openRequest, function(e) {
    var transaction = e.target.transaction;
    transaction.onabort = transaction.onerror = JSCompiler_StaticMethods_protectFunction(errorReporter, errorCallback, {}, !0);
    upgradeCallback(transaction);
  });
  JSCompiler_StaticMethods_setErrorCallback(openRequest, errorCallback);
  JSCompiler_StaticMethods_setBlockedCallback(openRequest, function(e) {
    JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(errorReporter, Error("Onblocked handler called when upgrading database."), {"Old version":e.oldVersion, "New version":e.newVersion});
  });
  JSCompiler_StaticMethods_setSuccessCallback(openRequest, goog$bind(function(e) {
    goog$log$info(this.docs_localstore_idb_DocsDatabase_prototype$logger_, "Idb version successfully set to " + newVersion);
    JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize(this, e.target.result);
    successCallback(e);
  }, JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion$self));
}
docs$localstore$idb$DocsDatabase.prototype.disposeInternal = function $docs$localstore$idb$DocsDatabase$$disposeInternal$() {
  this.close();
  docs$localstore$idb$DocsDatabase.superClass_.disposeInternal.call(this);
};
// Input 563
var docs$localstore$idb$DocsDatabaseFactory$IDB_FACTORY_ = goog$global.indexedDB || goog$global.webkitIndexedDB, docs$localstore$idb$DocsDatabaseFactory$logger_ = goog$debug$LogManager$getLogger("docs.localstore.idb.DocsDatabaseFactory");
function docs$localstore$idb$DocsDatabaseFactory$openDatabase(successCallback, errorCallback, errorReporter, initialErrorCallback, errorOnTimeout, opt_reportOpenDatabaseTiming) {
  goog$log$info(docs$localstore$idb$DocsDatabaseFactory$logger_, "Opening new idb connection.");
  var timeoutCallback = errorOnTimeout ? function() {
    initialErrorCallback(new docs$localstore$LocalStoreError(6, "Timeout opening database."));
  } : void 0, timing = docs$diagnostics$InitialLoadTimingImpl.getInstance();
  opt_reportOpenDatabaseTiming && (timing.docs_diagnostics_InitialLoadTiming_prototype$setTime("odbs"), goog$Timer$callOnce(goog$bind(timing.docs_diagnostics_InitialLoadTiming_prototype$setTime, timing, "odbjy")));
  var openRequest = new docs$localstore$idb$OpenDbRequest(docs$localstore$idb$DocsDatabaseFactory$IDB_FACTORY_.open("GoogleDocs"), errorReporter, "database.open", timeoutCallback, JSCompiler_StaticMethods_getNumber(docs$flag$getInstance(), "docs-localstore-iort"), "idbodb");
  JSCompiler_StaticMethods_setSuccessCallback(openRequest, function(e) {
    goog$log$info(docs$localstore$idb$DocsDatabaseFactory$logger_, "Idb connection obtained.");
    opt_reportOpenDatabaseTiming && timing.docs_diagnostics_InitialLoadTiming_prototype$setTime("odbc");
    var docsDb = new docs$localstore$idb$DocsDatabase(errorCallback, errorReporter);
    JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$initialize(docsDb, e.target.result);
    successCallback(docsDb);
  });
  JSCompiler_StaticMethods_setErrorCallback(openRequest, docs$localstore$idb$DatabaseUtil$createDatabaseErrorCallback("Error opening database.", initialErrorCallback));
}
;
// Input 564
// Input 565
// Input 566
// Input 567
// Input 568
// Input 569
function docs$localstore$User(id, isNew) {
  docs$localstore$Record.call(this, "user", isNew);
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(this, "id", id);
  JSCompiler_StaticMethods_setBooleanProperty(this, "fastTrack", !0);
}
goog$inherits(docs$localstore$User, docs$localstore$Record);
docs$localstore$User.prototype.getId = function $docs$localstore$User$$getId$() {
  return JSCompiler_StaticMethods_getStringProperty(this, "id");
};
// Input 570
// Input 571
function docs$localstore$RecordOperation(operationType, key, recordType) {
  this.docs_localstore_Operation$type_ = operationType;
  this.key_ = key;
  this.docs_localstore_RecordOperation$recordType_ = recordType;
}
goog$inherits(docs$localstore$RecordOperation, docs$localstore$Operation);
function JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey$self) {
  if (null === JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey$self.key_) {
    throw Error("Cannot getKey of operation for singleton record.");
  }
  return JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey$self.key_;
}
;
// Input 572
// Input 573
// Input 574
function docs$localstore$UpdateRecordOperation(key, record, opt_nullableProperties, opt_operationType) {
  docs$localstore$RecordOperation.call(this, opt_operationType || "update-record", key, record.docs_localstore_Record$recordType_);
  this.docs_localstore_UpdateRecordOperation$isNew_ = record.docs_localstore_Record$isNew_;
  this.modifications_ = {};
  var rawModifications = record.propertyModifications_, nullableProperties = opt_nullableProperties || [], propertyName;
  for (propertyName in rawModifications) {
    this.modifications_[propertyName] = goog$array$contains(nullableProperties, propertyName) ? JSCompiler_StaticMethods_getNullableProperty(record, propertyName) : JSCompiler_StaticMethods_docs_localstore_Record_prototype$getProperty(record, propertyName);
  }
}
goog$inherits(docs$localstore$UpdateRecordOperation, docs$localstore$RecordOperation);
// Input 575
function docs$localstore$AbstractStorageCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$AbstractStorageCapability, goog$events$EventTarget);
docs$localstore$AbstractStorageCapability.prototype.createOperationsForRecord = function $docs$localstore$AbstractStorageCapability$$createOperationsForRecord$(record) {
  if (!(0 <= goog$array$indexOf(this.getSupportedRecordTypes(), record.docs_localstore_Record$recordType_))) {
    throw Error("Cannot create operations for an unsupported record type " + record.docs_localstore_Record$recordType_);
  }
  return this.createOperationsForRecordInternal(record);
};
docs$localstore$AbstractStorageCapability.prototype.createOperationsForRecordInternal = function $docs$localstore$AbstractStorageCapability$$createOperationsForRecordInternal$(record, opt_nullableProperties) {
  var key = this.getKeyForRecord(record), operations = [];
  operations.push(new docs$localstore$UpdateRecordOperation(key, record, opt_nullableProperties));
  return operations;
};
docs$localstore$AbstractStorageCapability.prototype.getKeyForRecord = function $docs$localstore$AbstractStorageCapability$$getKeyForRecord$(record) {
  throw Error("Key cannot be obtained for record of type " + record.docs_localstore_Record$recordType_);
};
docs$localstore$AbstractStorageCapability.prototype.isOperationSupported = function $docs$localstore$AbstractStorageCapability$$isOperationSupported$(operation) {
  return docs$localstore$Operation$isRecordOperation(operation) ? 0 <= goog$array$indexOf(this.getSupportedRecordTypes(), operation.docs_localstore_RecordOperation$recordType_) : !1;
};
// Input 576
function docs$localstore$DocosCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$DocosCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$DocosCapability.prototype.getSupportedRecordTypes = function $docs$localstore$DocosCapability$$getSupportedRecordTypes$() {
  return ["comment"];
};
docs$localstore$DocosCapability.prototype.getKeyForRecord = function $docs$localstore$DocosCapability$$getKeyForRecord$(record) {
  return [record.docs_localstore_Comment_prototype$getDocumentId(), record.getId()];
};
// Input 577
// Input 578
// Input 579
function docs$localstore$idb$DocosCapability(db, idbUtil, storageObjectReaderWriter) {
  goog$events$EventTarget.call(this);
  this.docs_localstore_idb_DocosCapability$db_ = db;
  this.docs_localstore_idb_DocosCapability$storageObjectReaderWriter_ = storageObjectReaderWriter;
}
goog$inherits(docs$localstore$idb$DocosCapability, docs$localstore$DocosCapability);
docs$localstore$idb$DocosCapability.prototype.docs_localstore_idb_DocosCapability_prototype$logger_ = goog$debug$LogManager$getLogger("docs.localstore.idb.DocosCapability");
docs$localstore$idb$DocosCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$DocosCapability$$getObjectStoreNamesForOperation$() {
  return ["Comments"];
};
docs$localstore$idb$DocosCapability.prototype.performOperation = function $docs$localstore$idb$DocosCapability$$performOperation$(operation, transaction) {
  switch(operation.getType()) {
    case "update-record":
      var commentStore = JSCompiler_StaticMethods_getObjectStore(transaction, "Comments"), commentId = JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation)[1];
      if (operation.docs_localstore_UpdateRecordOperation$isNew_) {
        goog$log$info(this.docs_localstore_idb_DocosCapability_prototype$logger_, "Writing new comment record, id " + commentId);
        var modifications = operation.modifications_, commentObj = {};
        commentObj.cmtKey = JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation);
        commentObj.stateIndex = [modifications.s, modifications.di];
        commentObj.da = modifications.da;
        JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(commentStore, commentObj);
      } else {
        goog$log$info(this.docs_localstore_idb_DocosCapability_prototype$logger_, "Updating comment record, id " + commentId);
        var modifications$jscomp$0 = operation.modifications_, commentKey = JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation), modificationsToWrite = {};
        "s" in modifications$jscomp$0 && (modificationsToWrite.stateIndex = [modifications$jscomp$0.s, commentKey[0]], delete modifications$jscomp$0.s);
        for (var property in modifications$jscomp$0) {
          modificationsToWrite[property] = modifications$jscomp$0[property];
        }
        JSCompiler_StaticMethods_saveModifications(this.docs_localstore_idb_DocosCapability$storageObjectReaderWriter_, commentKey, modificationsToWrite, commentStore);
      }
      break;
    case "delete-record":
      var commentStore$jscomp$0 = JSCompiler_StaticMethods_getObjectStore(transaction, "Comments"), commentKey$jscomp$0 = JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation);
      goog$log$info(this.docs_localstore_idb_DocosCapability_prototype$logger_, "Deleting comment record, id " + commentKey$jscomp$0[1]);
      JSCompiler_StaticMethods_deleteKey(commentStore$jscomp$0, commentKey$jscomp$0);
      break;
    default:
      throw Error("Operation type " + operation.getType() + " not supported.");
  }
};
// Input 580
function docs$localstore$DocumentCapability(documentAdapters) {
  goog$events$EventTarget.call(this);
  this.documentAdapters_ = documentAdapters;
}
goog$inherits(docs$localstore$DocumentCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$DocumentCapability.prototype.getSupportedRecordTypes = function $docs$localstore$DocumentCapability$$getSupportedRecordTypes$() {
  return ["document"];
};
docs$localstore$DocumentCapability.prototype.getAdapterForType = function $docs$localstore$DocumentCapability$$getAdapterForType$(type) {
  var documentAdapter = this.documentAdapters_[type];
  if (!documentAdapter) {
    throw Error("No adapter found for this type: " + type);
  }
  return documentAdapter;
};
docs$localstore$DocumentCapability.prototype.isOperationSupported = function $docs$localstore$DocumentCapability$$isOperationSupported$(operation) {
  var type = operation.getType();
  return "append-commands" == type || "write-trix" == type ? !0 : docs$localstore$DocumentCapability.superClass_.isOperationSupported.call(this, operation);
};
docs$localstore$DocumentCapability.prototype.createOperationsForRecordInternal = function $docs$localstore$DocumentCapability$$createOperationsForRecordInternal$(record) {
  var baseOperations = docs$localstore$DocumentCapability.superClass_.createOperationsForRecordInternal.call(this, record, "lastModifiedClientTimestamp lastWarmStartedTimestamp ic odocid relevancyRank rev rai".split(" ")), adapterOperations = this.getAdapterForType(record.getType()).createOperations(record);
  return baseOperations.concat(adapterOperations);
};
docs$localstore$DocumentCapability.prototype.getKeyForRecord = function $docs$localstore$DocumentCapability$$getKeyForRecord$(record) {
  return record.getId();
};
// Input 581
function docs$localstore$NonSnapshottedDocsCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$NonSnapshottedDocsCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$NonSnapshottedDocsCapability.prototype.getSupportedRecordTypes = function $docs$localstore$NonSnapshottedDocsCapability$$getSupportedRecordTypes$() {
  return [];
};
// Input 582
function docs$localstore$idb$NonSnapshottedDocsCapability(db) {
  goog$events$EventTarget.call(this);
  this.docs_localstore_idb_NonSnapshottedDocsCapability$db_ = db;
}
goog$inherits(docs$localstore$idb$NonSnapshottedDocsCapability, docs$localstore$NonSnapshottedDocsCapability);
// Input 583
var docs$localstore$idb$PendingQueueStorageObject$CommandBundleKey = {LAST_ENTRY_INDEX:"l", SESSION_ID:"s", REQUEST_ID:"r"};
// Input 584
function docs$localstore$idb$DocumentCapability(db, idbUtil, storageObjectReaderWriter, documentAdapters) {
  docs$localstore$DocumentCapability.call(this, documentAdapters);
  this.docs_localstore_idb_DocumentCapability$db_ = db;
  this.docs_localstore_idb_DocumentCapability$storageObjectReaderWriter_ = storageObjectReaderWriter;
}
goog$inherits(docs$localstore$idb$DocumentCapability, docs$localstore$DocumentCapability);
docs$localstore$idb$DocumentCapability.prototype.docs_localstore_idb_DocumentCapability_prototype$logger = goog$debug$LogManager$getLogger("docs.localstore.idb.DocumentCapability");
var docs$localstore$idb$DocumentCapability$NULLABLE_PROPERTIES_ = "lastModifiedClientTimestamp lastWarmStartedTimestamp relevancyRank rev rai odocid".split(" ");
function JSCompiler_StaticMethods_readDocuments_(JSCompiler_StaticMethods_readDocuments_$self, resultCallback, opt_errorCallback) {
  if (JSCompiler_StaticMethods_readDocuments_$self.docs_localstore_idb_DocumentCapability$db_.versionChanged_) {
    goog$Timer$callOnce(goog$partial(resultCallback, []));
  } else {
    var transaction = JSCompiler_StaticMethods_openTransaction(JSCompiler_StaticMethods_readDocuments_$self.docs_localstore_idb_DocumentCapability$db_, ["Documents"], "Error reading documents.", opt_errorCallback);
    JSCompiler_StaticMethods_retrieveDocumentsFromStore_(JSCompiler_StaticMethods_readDocuments_$self, function(result) {
      JSCompiler_StaticMethods_abandon(transaction);
      resultCallback(result);
    }, transaction);
  }
}
function JSCompiler_StaticMethods_readAllDocuments(JSCompiler_StaticMethods_readAllDocuments$self, resultCallback, opt_errorCallback) {
  JSCompiler_StaticMethods_readDocuments_(JSCompiler_StaticMethods_readAllDocuments$self, resultCallback, opt_errorCallback);
}
function JSCompiler_StaticMethods_retrieveDocumentsFromStore_(JSCompiler_StaticMethods_retrieveDocumentsFromStore_$self, resultCallback, transaction) {
  JSCompiler_StaticMethods_iterateIdbCursor(transaction, goog$bind(JSCompiler_StaticMethods_retrieveDocumentsFromStore_$self.createAndReadDocumentFromStore_, JSCompiler_StaticMethods_retrieveDocumentsFromStore_$self, null, !1), resultCallback);
}
docs$localstore$idb$DocumentCapability.prototype.createAndReadDocumentFromStore_ = function $docs$localstore$idb$DocumentCapability$$createAndReadDocumentFromStore_$(userId, ignoreDocumentsWithPartialModelData, obj) {
  if (ignoreDocumentsWithPartialModelData && obj.hpmdo) {
    return null;
  }
  var doc;
  if (null != userId && obj.acl && !goog$isDef(obj.acl[userId])) {
    doc = null;
  } else {
    var doc$jscomp$0 = new docs$localstore$Document(obj.id, obj.documentType, !1);
    JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "title", obj.title);
    JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "lastSyncedTimestamp", obj.lastSyncedTimestamp);
    JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "jobset", obj.jobset);
    JSCompiler_StaticMethods_setBooleanProperty(doc$jscomp$0, "isFastTrack", !!obj.isFastTrack);
    JSCompiler_StaticMethods_docs_localstore_Document_prototype$setLastModifiedServerTimestamp(doc$jscomp$0, obj.lastModifiedServerTimestamp);
    JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "lastColdStartedTimestamp", obj.lastColdStartedTimestamp);
    JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "lastWarmStartedTimestamp", obj.lastWarmStartedTimestamp);
    var acl = obj.acl, user;
    for (user in acl) {
      JSCompiler_StaticMethods_setMappedProperty(doc$jscomp$0, "acl", user, acl[user]);
    }
    JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "docosKeyData", obj.docosKeyData || null);
    JSCompiler_StaticMethods_setBooleanProperty(doc$jscomp$0, "inc", !!obj.inc);
    var lastModifiedClientTimestamp = obj.lastModifiedClientTimestamp;
    null != lastModifiedClientTimestamp && JSCompiler_StaticMethods_docs_localstore_Document_prototype$setLastModifiedClientTimestamp(doc$jscomp$0, lastModifiedClientTimestamp);
    var startupHints = obj.startupHints;
    if (startupHints) {
      for (var hint in startupHints) {
        JSCompiler_StaticMethods_setMappedProperty(doc$jscomp$0, "startupHints", hint, startupHints[hint]);
      }
    }
    var initialCommands = obj.ic;
    initialCommands && JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "ic", initialCommands);
    JSCompiler_StaticMethods_setBooleanProperty(doc$jscomp$0, "hpmdo", !!obj.hpmdo);
    JSCompiler_StaticMethods_setBooleanProperty(doc$jscomp$0, "ips", !!obj.ips);
    JSCompiler_StaticMethods_setBooleanProperty(doc$jscomp$0, "ip", !!obj.ip);
    JSCompiler_StaticMethods_setBooleanProperty(doc$jscomp$0, "pendingCreation", !!obj.pendingCreation);
    var folderAtCreationTime = obj.fact;
    null != folderAtCreationTime && JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "fact", folderAtCreationTime);
    JSCompiler_StaticMethods_setBooleanProperty(doc$jscomp$0, "modelNeedsResync", !!obj.modelNeedsResync);
    JSCompiler_StaticMethods_setBooleanProperty(doc$jscomp$0, "ind", !!obj.ind);
    var modelVersion = obj.modelVersion;
    null != modelVersion && JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "modelVersion", modelVersion);
    var revision = obj.rev;
    if (null != revision) {
      var serializedAccessInfo = obj.rai, accessInfo = null != serializedAccessInfo ? JSCompiler_StaticMethods_docs_security_RevisionAccessInfoSerializer_prototype$deserialize(serializedAccessInfo) : null;
      JSCompiler_StaticMethods_docs_localstore_Document_prototype$setRevision(doc$jscomp$0, revision, accessInfo);
    }
    var lastSyncStartTimestamp = obj.lsst;
    null != lastSyncStartTimestamp && JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "lsst", lastSyncStartTimestamp);
    var lastSyncSucceeded = obj.lss;
    null != lastSyncSucceeded && JSCompiler_StaticMethods_setBooleanProperty(doc$jscomp$0, "lss", !!lastSyncSucceeded);
    var lastSyncFinishTimestamp = obj.lsft;
    null != lastSyncFinishTimestamp && JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "lsft", lastSyncFinishTimestamp);
    var sourceDocId = obj.odocid;
    null != sourceDocId && JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "odocid", sourceDocId);
    var relevancyRank = obj.relevancyRank;
    null != relevancyRank && JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc$jscomp$0, "relevancyRank", relevancyRank);
    var lastServerSnapshotTimestamp = obj.lastServerSnapshotTimestamp;
    null != lastServerSnapshotTimestamp && JSCompiler_StaticMethods_setLastServerSnapshotTimestamp(doc$jscomp$0, lastServerSnapshotTimestamp);
    var snapshotState = obj.snapshotState;
    null != snapshotState && JSCompiler_StaticMethods_setSnapshotState(doc$jscomp$0, snapshotState);
    var pendingQueueState = obj.pendingQueueState;
    null != pendingQueueState && JSCompiler_StaticMethods_docs_localstore_Document_prototype$setPendingQueueState(doc$jscomp$0, pendingQueueState);
    doc = doc$jscomp$0;
  }
  if (!doc || "trix" == doc.getType() || "syncstats" == doc.getType()) {
    return null;
  }
  var documentAdapter = this.documentAdapters_[doc.getType()];
  if (!documentAdapter) {
    throw Error("No document adapter found for type: " + doc.getType());
  }
  doc.documentAdapter_ = documentAdapter;
  doc.initializing_ = !1;
  return doc;
};
function JSCompiler_StaticMethods_getDocumentsToLocalSnapshot(JSCompiler_StaticMethods_getDocumentsToLocalSnapshot$self) {
  return JSCompiler_StaticMethods_readDocumentsWithFilter_(JSCompiler_StaticMethods_getDocumentsToLocalSnapshot$self, function(doc) {
    return 0 == JSCompiler_StaticMethods_getNullableProperty(doc, "snapshotState");
  });
}
function JSCompiler_StaticMethods_readDocumentsWithFilter_(JSCompiler_StaticMethods_readDocumentsWithFilter_$self, filterFn) {
  return new goog$Promise(function(resolve, reject) {
    JSCompiler_StaticMethods_readAllDocuments(this, function(documents) {
      resolve(documents.filter(filterFn));
    }, reject);
  }.bind(JSCompiler_StaticMethods_readDocumentsWithFilter_$self));
}
docs$localstore$idb$DocumentCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$DocumentCapability$$getObjectStoreNamesForOperation$(operation) {
  if (!this.isOperationSupported(operation)) {
    throw Error("Cannot get object store names for operation type " + operation.getType());
  }
  var storeNames = ["DocumentCommands", "Documents"];
  "delete-record" == operation.getType() && (storeNames = storeNames.concat(["Comments", "DocumentEntities", "PendingQueueCommands", "PendingQueues"]));
  return storeNames;
};
docs$localstore$idb$DocumentCapability.prototype.performOperation = function $docs$localstore$idb$DocumentCapability$$performOperation$(operation, transaction) {
  var documentStore = JSCompiler_StaticMethods_getObjectStore(transaction, "Documents");
  switch(operation.getType()) {
    case "update-record":
      operation.docs_localstore_UpdateRecordOperation$isNew_ ? JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add(documentStore, operation.modifications_) : JSCompiler_StaticMethods_saveModifications(this.docs_localstore_idb_DocumentCapability$storageObjectReaderWriter_, JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation), operation.modifications_, documentStore, docs$localstore$idb$DocumentCapability$NULLABLE_PROPERTIES_);
      break;
    case "delete-record":
      JSCompiler_StaticMethods_deleteDocument_(this, operation, transaction);
      break;
    default:
      this.getAdapterForType(operation.docType_).performOperation(operation, transaction);
  }
};
function JSCompiler_StaticMethods_deleteDocument_(JSCompiler_StaticMethods_deleteDocument_$self, operation, transaction) {
  operation.forceDelete_ ? JSCompiler_StaticMethods_deleteDocument_$self.deleteDocumentInternal(operation, transaction) : JSCompiler_StaticMethods_hasPendingChanges(JSCompiler_StaticMethods_deleteDocument_$self, JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation), transaction, goog$bind(function(hasPendingChanges) {
    hasPendingChanges ? transaction.abort(new docs$localstore$LocalStoreError(5, "Pending changes found")) : this.deleteDocumentInternal(operation, transaction);
  }, JSCompiler_StaticMethods_deleteDocument_$self));
}
function JSCompiler_StaticMethods_hasPendingChanges(JSCompiler_StaticMethods_hasPendingChanges$self, docId, transaction, resultCallback) {
  JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getCursorRequest(JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueueCommands"), [docId], [docId, []]), goog$bind(function(e) {
    e.target.result ? resultCallback(!0) : JSCompiler_StaticMethods_hasPendingComments_(docId, transaction, resultCallback);
  }, JSCompiler_StaticMethods_hasPendingChanges$self));
}
function JSCompiler_StaticMethods_hasPendingComments_(docId, transaction, resultCallback) {
  JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$getIndex(JSCompiler_StaticMethods_getObjectStore(transaction, "Comments"), "StateIndex").get([2, docId]), function(e) {
    resultCallback(!!e.target.result);
  });
}
docs$localstore$idb$DocumentCapability.prototype.deleteDocumentInternal = function $docs$localstore$idb$DocumentCapability$$deleteDocumentInternal$(operation, transaction) {
  var docId = JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation);
  goog$log$info(this.docs_localstore_idb_DocumentCapability_prototype$logger, "Deleting document record, id " + docId);
  var documentCommandsStore = JSCompiler_StaticMethods_getObjectStore(transaction, "DocumentCommands");
  JSCompiler_StaticMethods_deleteFromStore(documentCommandsStore, [docId], [docId, []]);
  var pendingQueueCommandsStore = JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueueCommands");
  JSCompiler_StaticMethods_deleteFromStore(pendingQueueCommandsStore, [docId], [docId, []]);
  var pendingQueuesStore = JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueues");
  JSCompiler_StaticMethods_deleteFromStore(pendingQueuesStore, docId);
  var documentStore = JSCompiler_StaticMethods_getObjectStore(transaction, "Documents");
  JSCompiler_StaticMethods_deleteFromStore(documentStore, docId);
  var documentLockStore = JSCompiler_StaticMethods_getObjectStore(transaction, "DocumentLocks");
  JSCompiler_StaticMethods_deleteFromStore(documentLockStore, [docId]);
  var commentsStore = JSCompiler_StaticMethods_getObjectStore(transaction, "Comments");
  JSCompiler_StaticMethods_deleteFromStore(commentsStore, [docId], [docId, []]);
  JSCompiler_StaticMethods_removeProfileDataDocumentIds(this.docs_localstore_idb_DocumentCapability$db_, "nonsnapshottedocumentids", [docId], goog$nullFunction);
  JSCompiler_StaticMethods_removeProfileDataDocumentIds(this.docs_localstore_idb_DocumentCapability$db_, "missingdocosdocumentids", [docId], goog$nullFunction);
  var entitiesStore = JSCompiler_StaticMethods_getObjectStore(transaction, "DocumentEntities");
  JSCompiler_StaticMethods_deleteFromStore(entitiesStore, [docId], [docId, []]);
};
// Input 585
function docs$localstore$UpdateApplicationMetadataOperation(key, record, initialCommands) {
  docs$localstore$UpdateRecordOperation.call(this, key, record, void 0, "update-application-metadata");
  this.docs_localstore_UpdateApplicationMetadataOperation$initialCommands_ = initialCommands;
}
goog$inherits(docs$localstore$UpdateApplicationMetadataOperation, docs$localstore$UpdateRecordOperation);
// Input 586
function docs$localstore$DocumentCreationCapability(documentAdapters) {
  goog$events$EventTarget.call(this);
  this.documentAdapters_ = documentAdapters;
}
goog$inherits(docs$localstore$DocumentCreationCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$DocumentCreationCapability.prototype.getSupportedRecordTypes = function $docs$localstore$DocumentCreationCapability$$getSupportedRecordTypes$() {
  return ["applicationMetadata"];
};
docs$localstore$DocumentCreationCapability.prototype.getKeyForRecord = function $docs$localstore$DocumentCreationCapability$$getKeyForRecord$(record) {
  return record.getDocumentType();
};
docs$localstore$DocumentCreationCapability.prototype.isOperationSupported = function $docs$localstore$DocumentCreationCapability$$isOperationSupported$(operation) {
  return "update-application-metadata" == operation.getType();
};
docs$localstore$DocumentCreationCapability.prototype.createOperationsForRecordInternal = function $docs$localstore$DocumentCreationCapability$$createOperationsForRecordInternal$(record) {
  var key = this.getKeyForRecord(record);
  return [new docs$localstore$UpdateApplicationMetadataOperation(key, record, record.docs_localstore_ApplicationMetadata_prototype$hasNewInitialCommands() ? record.docs_localstore_ApplicationMetadata_prototype$getInitialCommands().concat() : null)];
};
docs$localstore$DocumentCreationCapability.prototype.getAdapterForType = function $docs$localstore$DocumentCreationCapability$$getAdapterForType$(documentType) {
  var documentAdapter = this.documentAdapters_[documentType];
  if (!documentAdapter) {
    throw Error("No adapter found for this type: " + documentType);
  }
  return documentAdapter;
};
// Input 587
function docs$localstore$idb$DocumentCreationCapability(db, idbUtil, documentAdapters, storageObjectReaderWriter) {
  docs$localstore$DocumentCreationCapability.call(this, documentAdapters);
  this.docs_localstore_idb_DocumentCreationCapability$storageObjectReaderWriter_ = storageObjectReaderWriter;
}
goog$inherits(docs$localstore$idb$DocumentCreationCapability, docs$localstore$DocumentCreationCapability);
docs$localstore$idb$DocumentCreationCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$DocumentCreationCapability$$getObjectStoreNamesForOperation$(operation) {
  if (!this.isOperationSupported(operation)) {
    throw Error("Cannot get object store names for operation type " + operation.getType());
  }
  return ["ApplicationMetadata"];
};
docs$localstore$idb$DocumentCreationCapability.prototype.performOperation = function $docs$localstore$idb$DocumentCreationCapability$$performOperation$(operation, transaction) {
  switch(operation.getType()) {
    case "update-application-metadata":
      var documentAdapter = this.getAdapterForType(JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation)), modifications = operation.modifications_;
      if (null != operation.docs_localstore_UpdateApplicationMetadataOperation$initialCommands_) {
        var commands;
        if (operation.docs_localstore_UpdateApplicationMetadataOperation$initialCommands_) {
          commands = operation.docs_localstore_UpdateApplicationMetadataOperation$initialCommands_;
        } else {
          throw Error("No new initial commands are available.");
        }
        for (var commands$jscomp$0 = commands, commandObjects = [], i = 0;i < commands$jscomp$0.length;i++) {
          commandObjects.push(documentAdapter.serializer_.serialize(commands$jscomp$0[i]));
        }
        modifications.ic = commandObjects;
      }
      var applicationMetadataStore = JSCompiler_StaticMethods_getObjectStore(transaction, "ApplicationMetadata");
      operation.docs_localstore_UpdateRecordOperation$isNew_ ? JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(applicationMetadataStore, modifications) : JSCompiler_StaticMethods_saveModifications(this.docs_localstore_idb_DocumentCreationCapability$storageObjectReaderWriter_, JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation), modifications, applicationMetadataStore);
      break;
    default:
      throw Error("Cannot perform operation of type " + operation.getType());
  }
};
// Input 588
// Input 589
function docs$localstore$DocumentEntityCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$DocumentEntityCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$DocumentEntityCapability.prototype.getSupportedRecordTypes = function $docs$localstore$DocumentEntityCapability$$getSupportedRecordTypes$() {
  return ["documentEntity"];
};
docs$localstore$DocumentEntityCapability.prototype.getKeyForRecord = function $docs$localstore$DocumentEntityCapability$$getKeyForRecord$(record) {
  return [record.docs_localstore_DocumentEntity_prototype$getDocumentId(), record.getType(), record.getId()];
};
// Input 590
function docs$localstore$idb$DocumentEntityCapability(db, idbUtil, storageObjectReaderWriter) {
  goog$events$EventTarget.call(this);
  this.docs_localstore_idb_DocumentEntityCapability$storageObjectReaderWriter_ = storageObjectReaderWriter;
}
goog$inherits(docs$localstore$idb$DocumentEntityCapability, docs$localstore$DocumentEntityCapability);
docs$localstore$idb$DocumentEntityCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$DocumentEntityCapability$$getObjectStoreNamesForOperation$() {
  return ["DocumentEntities"];
};
docs$localstore$idb$DocumentEntityCapability.prototype.performOperation = function $docs$localstore$idb$DocumentEntityCapability$$performOperation$(operation, transaction) {
  var documentEntityStore = JSCompiler_StaticMethods_getObjectStore(transaction, "DocumentEntities");
  switch(operation.getType()) {
    case "update-record":
      if (operation.docs_localstore_UpdateRecordOperation$isNew_) {
        var record = {};
        record.deKey = JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation);
        record.data = operation.modifications_.data;
        JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(documentEntityStore, record);
      } else {
        var modifications = {};
        modifications.data = operation.modifications_.data;
        var documentEntitytKey = JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation);
        JSCompiler_StaticMethods_saveModifications(this.docs_localstore_idb_DocumentEntityCapability$storageObjectReaderWriter_, documentEntitytKey, modifications, documentEntityStore);
      }
      break;
    case "delete-record":
      JSCompiler_StaticMethods_deleteFromStore(documentEntityStore, JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation));
      break;
    default:
      throw Error("Operation type " + operation.getType() + " not supported.");
  }
};
// Input 591
// Input 592
function docs$localstore$ImpressionCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$ImpressionCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$ImpressionCapability.prototype.getSupportedRecordTypes = function $docs$localstore$ImpressionCapability$$getSupportedRecordTypes$() {
  return ["impressionBatch"];
};
docs$localstore$ImpressionCapability.prototype.getKeyForRecord = function $docs$localstore$ImpressionCapability$$getKeyForRecord$(record) {
  return [record.docs_localstore_ImpressionBatch_prototype$getDocumentId(), record.getImpressionBatchTime()];
};
docs$localstore$ImpressionCapability.prototype.isOperationSupported = function $docs$localstore$ImpressionCapability$$isOperationSupported$(operation) {
  return docs$localstore$ImpressionCapability.superClass_.isOperationSupported.call(this, operation) && ("update-record" == operation.getType() && operation.docs_localstore_UpdateRecordOperation$isNew_ || "delete-record" == operation.getType());
};
// Input 593
function docs$localstore$idb$ImpressionCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$idb$ImpressionCapability, docs$localstore$ImpressionCapability);
docs$localstore$idb$ImpressionCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$ImpressionCapability$$getObjectStoreNamesForOperation$() {
  return ["Impressions"];
};
docs$localstore$idb$ImpressionCapability.prototype.performOperation = function $docs$localstore$idb$ImpressionCapability$$performOperation$(operation, transaction) {
  switch(operation.getType()) {
    case "update-record":
      if (operation.docs_localstore_UpdateRecordOperation$isNew_) {
        var impressionStore = JSCompiler_StaticMethods_getObjectStore(transaction, "Impressions"), modifications = operation.modifications_, batchObj = {};
        batchObj.iKey = [modifications.di || "", modifications.ibt];
        batchObj.dt = modifications.dt;
        batchObj.iba = modifications.iba;
        JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(impressionStore, batchObj);
      } else {
        throw Error("Impressions may not be updated.");
      }
      break;
    case "delete-record":
      JSCompiler_StaticMethods_deleteFromStore(JSCompiler_StaticMethods_getObjectStore(transaction, "Impressions"), JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation));
      break;
    default:
      throw Error("Operation type " + operation.getType() + " not supported.");
  }
};
// Input 594
// Input 595
function docs$localstore$LatencyReportingCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$LatencyReportingCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$LatencyReportingCapability.prototype.getSupportedRecordTypes = function $docs$localstore$LatencyReportingCapability$$getSupportedRecordTypes$() {
  return [];
};
// Input 596
function docs$localstore$idb$LatencyReportingCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$idb$LatencyReportingCapability, docs$localstore$LatencyReportingCapability);
// Input 597
function docs$localstore$SchemaVersionChangeEvent(newVersion, opt_target) {
  goog$events$Event.call(this, "j", opt_target);
}
goog$inherits(docs$localstore$SchemaVersionChangeEvent, goog$events$Event);
// Input 598
function docs$localstore$StorageAdapter() {
  goog$events$EventTarget.call(this);
  this.recordTypeToCapabilityMap_ = {};
}
goog$inherits(docs$localstore$StorageAdapter, goog$events$EventTarget);
function JSCompiler_StaticMethods_registerCapability(JSCompiler_StaticMethods_registerCapability$self, capability) {
  for (var recordTypes = capability.getSupportedRecordTypes(), i = 0;i < recordTypes.length;i++) {
    var type = recordTypes[i];
    if (JSCompiler_StaticMethods_registerCapability$self.recordTypeToCapabilityMap_[type]) {
      throw Error("Record type " + type + "already handled by another capability.");
    }
    JSCompiler_StaticMethods_registerCapability$self.recordTypeToCapabilityMap_[type] = capability;
  }
}
docs$localstore$StorageAdapter.prototype.docs_localstore_StorageAdapter_prototype$getNonSnapshottedDocsCapability = JSCompiler_returnArg(null);
docs$localstore$StorageAdapter.prototype.docs_localstore_StorageAdapter_prototype$getDocosCapability = JSCompiler_returnArg(null);
docs$localstore$StorageAdapter.prototype.docs_localstore_StorageAdapter_prototype$getDocumentCreationCapability = JSCompiler_returnArg(null);
docs$localstore$StorageAdapter.prototype.docs_localstore_StorageAdapter_prototype$getTemplateCapability = JSCompiler_returnArg(null);
// Input 599
function docs$localstore$DatabaseDeletionCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$DatabaseDeletionCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$DatabaseDeletionCapability.prototype.getSupportedRecordTypes = function $docs$localstore$DatabaseDeletionCapability$$getSupportedRecordTypes$() {
  return [];
};
docs$localstore$DatabaseDeletionCapability.prototype.createOperationsForRecordInternal = function $docs$localstore$DatabaseDeletionCapability$$createOperationsForRecordInternal$() {
  throw Error("No operation is supported.");
};
docs$localstore$DatabaseDeletionCapability.prototype.getKeyForRecord = function $docs$localstore$DatabaseDeletionCapability$$getKeyForRecord$() {
  throw Error("No record is supported.");
};
docs$localstore$DatabaseDeletionCapability.prototype.isOperationSupported = JSCompiler_returnArg(!1);
// Input 600
function docs$localstore$idb$DatabaseDeletionCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$idb$DatabaseDeletionCapability, docs$localstore$DatabaseDeletionCapability);
docs$localstore$idb$DatabaseDeletionCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$DatabaseDeletionCapability$$getObjectStoreNamesForOperation$() {
  throw Error("No object store available.");
};
docs$localstore$idb$DatabaseDeletionCapability.prototype.performOperation = function $docs$localstore$idb$DatabaseDeletionCapability$$performOperation$(operation) {
  throw Error("Operation type " + operation.getType() + " not supported.");
};
// Input 601
function docs$localstore$DocumentLockCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$DocumentLockCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$DocumentLockCapability.prototype.getSupportedRecordTypes = function $docs$localstore$DocumentLockCapability$$getSupportedRecordTypes$() {
  return [];
};
// Input 602
// Input 603
function docs$localstore$idb$DocumentLock(expirationTime, docId, sessionId) {
  this.expirationTime_ = expirationTime;
  this.docs_localstore_idb_DocumentLock$docId_ = docId;
  this.docs_localstore_idb_DocumentLock$sessionId_ = sessionId;
}
docs$localstore$idb$DocumentLock.prototype.getDocId = function $docs$localstore$idb$DocumentLock$$getDocId$() {
  return this.docs_localstore_idb_DocumentLock$docId_;
};
function JSCompiler_StaticMethods_getAvailabilityForSessionId(JSCompiler_StaticMethods_getAvailabilityForSessionId$self, sessionId, addExpirationBufferTime) {
  var now = goog$now();
  if (JSCompiler_StaticMethods_getAvailabilityForSessionId$self.docs_localstore_idb_DocumentLock$sessionId_ == sessionId) {
    return "available";
  }
  if (JSCompiler_StaticMethods_getAvailabilityForSessionId$self.expirationTime_ + (addExpirationBufferTime ? 6E4 : 0) <= now || JSCompiler_StaticMethods_getAvailabilityForSessionId$self.expirationTime_ > now + 36E4) {
    return "expiredOtherSid";
  }
  var store = window.localStorage;
  return store && store.getItem("dcl_" + JSCompiler_StaticMethods_getAvailabilityForSessionId$self.docs_localstore_idb_DocumentLock$sessionId_) ? "available" : "unavailable";
}
docs$localstore$idb$DocumentLock.prototype.serialize = function $docs$localstore$idb$DocumentLock$$serialize$() {
  var obj = {};
  obj.e = this.expirationTime_;
  obj.dlKey = [this.docs_localstore_idb_DocumentLock$docId_];
  obj.sId = this.docs_localstore_idb_DocumentLock$sessionId_;
  return obj;
};
function docs$localstore$idb$DocumentLock$createFromStoreObject(obj) {
  return new docs$localstore$idb$DocumentLock(obj.e, obj.dlKey[0], obj.sId);
}
;
// Input 604
function docs$localstore$idb$LockManager(sessionId, lockDuration, db, errorReporter, opt_lockRefreshErrorCallback) {
  goog$asserts$assert(6E4 >= lockDuration, "Lock duration is too long");
  goog$events$EventTarget.call(this);
  this.docs_localstore_idb_LockManager$sessionId_ = sessionId;
  this.docs_localstore_idb_LockManager$lockDuration_ = lockDuration;
  this.docs_localstore_idb_LockManager$db_ = db;
  this.lockRefreshErrorCallback_ = opt_lockRefreshErrorCallback || this.docs_localstore_idb_LockManager$db_.docs_localstore_idb_DocsDatabase$errorCallback_;
  this.lastWrittenExpirationTime_ = 0;
  this.docs_localstore_idb_LockManager$errorReporter_ = errorReporter;
  this.docs_localstore_idb_LockManager$eventHandler_ = new goog$events$EventHandler(this);
  this.docs_localstore_idb_LockManager$eventHandler_.listen(db, "l", this.docs_localstore_idb_LockManager_prototype$handleVersionChange_);
}
goog$inherits(docs$localstore$idb$LockManager, goog$events$EventTarget);
docs$localstore$idb$LockManager.prototype.docs_localstore_idb_LockManager_prototype$logger_ = goog$debug$LogManager$getLogger("docs.localstore.idb.LockManager");
docs$localstore$idb$LockManager.prototype.refreshTimer_ = null;
docs$localstore$idb$LockManager.prototype.docs_localstore_idb_LockManager_prototype$handleVersionChange_ = function $docs$localstore$idb$LockManager$$docs_localstore_idb_LockManager_prototype$handleVersionChange_$() {
  this.releaseAllLocks();
};
docs$localstore$idb$LockManager.prototype.acquireDocumentLock = function $docs$localstore$idb$LockManager$$acquireDocumentLock$(docId, resultCallback, opt_errorCallback) {
  goog$log$info(this.docs_localstore_idb_LockManager_prototype$logger_, "acquireDocumentLock(" + docId + ")");
  goog$asserts$assert(0 == this.docs_localstore_idb_LockManager$lockDuration_ || !this.refreshTimer_, "A refreshing lock can only be acquired once");
  var transaction = JSCompiler_StaticMethods_openLockTransaction_(this, goog$partial(resultCallback, 4), opt_errorCallback, !0), lockStore = JSCompiler_StaticMethods_getObjectStore(transaction, "DocumentLocks"), lockAcquisitionResultCallback = goog$bind(this.handleLockAcquisitionResult_, this, docId, resultCallback, transaction), lockAvailableCallback = goog$bind(this.writeLockIfAvailable_, this, docId, lockStore, lockAcquisitionResultCallback, null);
  JSCompiler_StaticMethods_readLock_(this, docId, lockAvailableCallback, lockStore, !1, !0);
};
function JSCompiler_StaticMethods_openLockTransaction_(JSCompiler_StaticMethods_openLockTransaction_$self, opt_timeoutCallback, opt_errorCallback, opt_allowWrite) {
  return JSCompiler_StaticMethods_openTransaction(JSCompiler_StaticMethods_openLockTransaction_$self.docs_localstore_idb_LockManager$db_, ["DocumentLocks"], "Lock acquisition", opt_errorCallback, opt_allowWrite, JSCompiler_StaticMethods_getNumber(docs$flag$getInstance(), "docs-localstore-ilat"), opt_timeoutCallback, "idbla");
}
docs$localstore$idb$LockManager.prototype.handleLockAcquisitionResult_ = function $docs$localstore$idb$LockManager$$handleLockAcquisitionResult_$(docId, resultCallback, transaction, lockAcquisitionResult) {
  goog$log$info(this.docs_localstore_idb_LockManager_prototype$logger_, "handleLockAcquisitionResult_(docId: " + docId + ", lockAcquisitionResult: " + lockAcquisitionResult + ")");
  1 == lockAcquisitionResult ? JSCompiler_StaticMethods_setCompletionCallback(transaction, goog$bind(this.handleLockAcquisitionSuccess_, this, docId, resultCallback)) : (transaction.docs_localstore_idb_Transaction$timeoutCallback_ = null, resultCallback(lockAcquisitionResult));
};
docs$localstore$idb$LockManager.prototype.handleLockAcquisitionSuccess_ = function $docs$localstore$idb$LockManager$$handleLockAcquisitionSuccess_$(docId, resultCallback) {
  goog$log$info(this.docs_localstore_idb_LockManager_prototype$logger_, "handleLockAcquisitionSuccess_(docId: " + docId + ")");
  if (this.refreshTimer_) {
    throw Error("Lock refresh timer should not be running on lock acquisition");
  }
  this.disposed_ || 0 == this.docs_localstore_idb_LockManager$lockDuration_ || (goog$log$info(this.docs_localstore_idb_LockManager_prototype$logger_, "Starting lock refresh timer"), this.refreshTimer_ = new goog$Timer(Math.max(this.docs_localstore_idb_LockManager$lockDuration_ - 1E4, 0)), this.docs_localstore_idb_LockManager$eventHandler_.listen(this.refreshTimer_, "tick", goog$bind(this.handleRefreshTimer_, this, docId)), this.refreshTimer_.start());
  resultCallback(1);
};
docs$localstore$idb$LockManager.prototype.handleLockAvailableForEnsurance_ = function $docs$localstore$idb$LockManager$$handleLockAvailableForEnsurance_$(transaction, lockAvailable) {
  lockAvailable || transaction.abort(new docs$localstore$LocalStoreError(2, "Lock not available"));
};
function JSCompiler_StaticMethods_refreshDocumentLock(JSCompiler_StaticMethods_refreshDocumentLock$self, docId, transaction) {
  goog$log$info(JSCompiler_StaticMethods_refreshDocumentLock$self.docs_localstore_idb_LockManager_prototype$logger_, "refreshDocumentLock(" + docId + ")");
  JSCompiler_StaticMethods_refreshDocumentLock$self.refreshTimer_ && JSCompiler_StaticMethods_refreshDocumentLock$self.refreshTimer_.stop();
  var lockAcquisitionResultCallback = goog$bind(JSCompiler_StaticMethods_refreshDocumentLock$self.handleLockAcquisitionResultForRefresh_, JSCompiler_StaticMethods_refreshDocumentLock$self, docId, transaction), errorCallback = goog$bind(JSCompiler_StaticMethods_refreshDocumentLock$self.stopLockRefreshAndAbort_, JSCompiler_StaticMethods_refreshDocumentLock$self, docId, transaction), lockStore = JSCompiler_StaticMethods_getObjectStore(transaction, "DocumentLocks"), lockAvailableCallback = goog$bind(JSCompiler_StaticMethods_refreshDocumentLock$self.writeLockIfAvailable_, 
  JSCompiler_StaticMethods_refreshDocumentLock$self, docId, lockStore, lockAcquisitionResultCallback, errorCallback);
  JSCompiler_StaticMethods_readLock_(JSCompiler_StaticMethods_refreshDocumentLock$self, docId, lockAvailableCallback, lockStore, !0, !1, errorCallback);
}
docs$localstore$idb$LockManager.prototype.handleLockAcquisitionResultForRefresh_ = function $docs$localstore$idb$LockManager$$handleLockAcquisitionResultForRefresh_$(docId, transaction, lockAcquisitionResult) {
  1 != lockAcquisitionResult ? this.stopLockRefreshAndAbort_(docId, transaction) : this.refreshTimer_ && this.refreshTimer_.start();
};
docs$localstore$idb$LockManager.prototype.stopLockRefreshAndAbort_ = function $docs$localstore$idb$LockManager$$stopLockRefreshAndAbort_$(docId, transaction) {
  goog$log$info(this.docs_localstore_idb_LockManager_prototype$logger_, "stopLockRefreshAndAbort_(docId: " + docId + ")");
  goog$dispose(this.refreshTimer_);
  this.refreshTimer_ = null;
  transaction.abort(new docs$localstore$LocalStoreError(2, "Lock could not be refreshed"));
};
function JSCompiler_StaticMethods_readLock_(JSCompiler_StaticMethods_readLock_$self, docId, lockAvailableCallback, lockStore, ensureCurrentLockHolder, dispatchLockAcquisitionStartedEvent, opt_errorCallback) {
  var request = lockStore.get([docId]);
  JSCompiler_StaticMethods_setSuccessCallback(request, goog$bind(JSCompiler_StaticMethods_readLock_$self.checkLockAvailable_, JSCompiler_StaticMethods_readLock_$self, docId, lockAvailableCallback, ensureCurrentLockHolder, dispatchLockAcquisitionStartedEvent));
  opt_errorCallback && JSCompiler_StaticMethods_setErrorCallback(request, goog$functions$lock(opt_errorCallback));
}
docs$localstore$idb$LockManager.prototype.checkLockAvailable_ = function $docs$localstore$idb$LockManager$$checkLockAvailable_$(docId, callback, ensureCurrentLockHolder, dispatchLockAcquisitionStartedEvent, e) {
  goog$log$fine(this.docs_localstore_idb_LockManager_prototype$logger_, "checkLockAvailable_(docId: " + docId + ", ensureCurrentLockHolder: " + ensureCurrentLockHolder + ")");
  if (!this.disposed_) {
    var result = e.target.result, currentExpirationTime = null;
    if (result) {
      var documentLock = docs$localstore$idb$DocumentLock$createFromStoreObject(result), lockHoldingSessionId = documentLock.docs_localstore_idb_DocumentLock$sessionId_;
      lockHoldingSessionId == this.docs_localstore_idb_LockManager$sessionId_ && (currentExpirationTime = documentLock.expirationTime_);
      var JSCompiler_temp;
      if (!(JSCompiler_temp = ensureCurrentLockHolder && lockHoldingSessionId != this.docs_localstore_idb_LockManager$sessionId_)) {
        var state = JSCompiler_StaticMethods_getAvailabilityForSessionId(documentLock, this.docs_localstore_idb_LockManager$sessionId_, 0 == this.docs_localstore_idb_LockManager$lockDuration_);
        JSCompiler_temp = !("available" == state || "expiredOtherSid" == state);
      }
      if (JSCompiler_temp) {
        var now = goog$now(), context = {};
        context.sessionId = this.docs_localstore_idb_LockManager$sessionId_;
        context.lockHoldingSessionId = lockHoldingSessionId;
        context.validUntil = documentLock.expirationTime_ - now;
        context.lockDuration = this.docs_localstore_idb_LockManager$lockDuration_;
        this.lastWrittenExpirationTime_ && (context.lastWrittenValidUntil = this.lastWrittenExpirationTime_ - now);
        0 < this.docs_localstore_idb_LockManager$lockDuration_ && JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(this.docs_localstore_idb_LockManager$errorReporter_, Error("IndexedDB document lock not available"), context);
        callback(!1, null);
        return;
      }
    } else {
      if (ensureCurrentLockHolder) {
        context = {};
        context.sessionId = this.docs_localstore_idb_LockManager$sessionId_;
        JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(this.docs_localstore_idb_LockManager$errorReporter_, Error("IndexedDB document lock not available because the lock does not exist"), context);
        callback(!1, null);
        return;
      }
    }
    dispatchLockAcquisitionStartedEvent && this.dispatchEvent("m");
    callback(!0, currentExpirationTime);
  }
};
docs$localstore$idb$LockManager.prototype.writeLockIfAvailable_ = function $docs$localstore$idb$LockManager$$writeLockIfAvailable_$(docId, lockStore, resultCallback, errorCallback, lockAvailable, currentExpirationTime) {
  if (lockAvailable) {
    var successCallback = goog$partial(resultCallback, 1);
    goog$log$fine(this.docs_localstore_idb_LockManager_prototype$logger_, "writeLock_(docId: " + docId + ")");
    var now = goog$now(), expirationTime = Math.min(Math.max(now + this.docs_localstore_idb_LockManager$lockDuration_, currentExpirationTime || 0), now + 6E4);
    this.lastWrittenExpirationTime_ = expirationTime;
    var request = JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(lockStore, (new docs$localstore$idb$DocumentLock(expirationTime, docId, this.docs_localstore_idb_LockManager$sessionId_)).serialize());
    JSCompiler_StaticMethods_setSuccessCallback(request, goog$functions$lock(successCallback));
    errorCallback && JSCompiler_StaticMethods_setErrorCallback(request, goog$functions$lock(errorCallback));
  } else {
    resultCallback(2);
  }
};
docs$localstore$idb$LockManager.prototype.handleRefreshTimer_ = function $docs$localstore$idb$LockManager$$handleRefreshTimer_$(docId) {
  JSCompiler_StaticMethods_createTransactionAndRefreshLock_(this, docId, 0);
};
function JSCompiler_StaticMethods_createTransactionAndRefreshLock_(JSCompiler_StaticMethods_createTransactionAndRefreshLock_$self, docId, failCount) {
  goog$log$info(JSCompiler_StaticMethods_createTransactionAndRefreshLock_$self.docs_localstore_idb_LockManager_prototype$logger_, "handleRefreshTimer_()");
  var transaction = JSCompiler_StaticMethods_openTransaction(JSCompiler_StaticMethods_createTransactionAndRefreshLock_$self.docs_localstore_idb_LockManager$db_, ["DocumentLocks"], "Lock refresh timer", goog$bind(JSCompiler_StaticMethods_createTransactionAndRefreshLock_$self.handleRefreshTransactionError_, JSCompiler_StaticMethods_createTransactionAndRefreshLock_$self, docId, failCount), !0);
  JSCompiler_StaticMethods_refreshDocumentLock(JSCompiler_StaticMethods_createTransactionAndRefreshLock_$self, docId, transaction);
}
docs$localstore$idb$LockManager.prototype.handleRefreshTransactionError_ = function $docs$localstore$idb$LockManager$$handleRefreshTransactionError_$(docId, failCount, localStoreError) {
  this.disposed_ || (2 == localStoreError.type || 2 <= failCount ? (goog$dispose(this.refreshTimer_), this.refreshTimer_ = null, this.lockRefreshErrorCallback_(localStoreError)) : (goog$log$info(this.docs_localstore_idb_LockManager_prototype$logger_, "retrying refresh"), JSCompiler_StaticMethods_createTransactionAndRefreshLock_(this, docId, failCount + 1)));
};
docs$localstore$idb$LockManager.prototype.releaseAllLocks = function $docs$localstore$idb$LockManager$$releaseAllLocks$() {
  goog$log$info(this.docs_localstore_idb_LockManager_prototype$logger_, "releaseAllLocks()");
  goog$dispose(this.refreshTimer_);
  this.refreshTimer_ = null;
  var store = window.localStorage;
  store && store.setItem("dcl_" + this.docs_localstore_idb_LockManager$sessionId_, String(goog$now()));
};
docs$localstore$idb$LockManager.prototype.disposeInternal = function $docs$localstore$idb$LockManager$$disposeInternal$() {
  this.docs_localstore_idb_LockManager$eventHandler_.dispose();
  goog$dispose(this.refreshTimer_);
  this.refreshTimer_ = null;
  docs$localstore$idb$LockManager.superClass_.disposeInternal.call(this);
};
docs$localstore$idb$LockManager.prototype.handleReadCurrentLockState_ = function $docs$localstore$idb$LockManager$$handleReadCurrentLockState_$(resultCallback, e) {
  var result = e.target.result;
  result ? resultCallback(JSCompiler_StaticMethods_getAvailabilityForSessionId(docs$localstore$idb$DocumentLock$createFromStoreObject(result), this.docs_localstore_idb_LockManager$sessionId_, 0 == this.docs_localstore_idb_LockManager$lockDuration_)) : resultCallback("available");
};
// Input 605
function docs$localstore$idb$DocumentLockCapability(db, sessionId, lockDuration, errorReporter) {
  goog$events$EventTarget.call(this);
  this.docs_localstore_idb_DocumentLockCapability$db_ = db;
  this.lockManager_ = new docs$localstore$idb$LockManager(sessionId, lockDuration, db, errorReporter, this.docs_localstore_idb_DocumentLockCapability$db_.docs_localstore_idb_DocsDatabase$errorCallback_);
  this.lockManager_.goog_events_EventTarget$parentEventTarget_ = this;
}
goog$inherits(docs$localstore$idb$DocumentLockCapability, docs$localstore$DocumentLockCapability);
docs$localstore$idb$DocumentLockCapability.prototype.acquireDocumentLock = function $docs$localstore$idb$DocumentLockCapability$$acquireDocumentLock$(docId, resultCallback, opt_errorCallback) {
  this.lockManager_.acquireDocumentLock(docId, resultCallback, opt_errorCallback);
};
docs$localstore$idb$DocumentLockCapability.prototype.releaseAllLocks = function $docs$localstore$idb$DocumentLockCapability$$releaseAllLocks$() {
  this.lockManager_.releaseAllLocks();
};
docs$localstore$idb$DocumentLockCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$DocumentLockCapability$$getObjectStoreNamesForOperation$() {
  return ["DocumentLocks"];
};
docs$localstore$idb$DocumentLockCapability.prototype.performOperation = function $docs$localstore$idb$DocumentLockCapability$$performOperation$(operation, transaction) {
  switch(operation.getType()) {
    case "document-lock":
      switch(operation.docs_localstore_DocumentLockOperation$level_) {
        case 2:
          JSCompiler_StaticMethods_refreshDocumentLock(this.lockManager_, operation.getDocId(), transaction);
          break;
        case 1:
          var JSCompiler_StaticMethods_ensureDocumentLockAvailable$self = this.lockManager_, docId = operation.getDocId();
          goog$log$info(JSCompiler_StaticMethods_ensureDocumentLockAvailable$self.docs_localstore_idb_LockManager_prototype$logger_, "ensureDocumentLockAvailable(" + docId + ")");
          JSCompiler_StaticMethods_readLock_(JSCompiler_StaticMethods_ensureDocumentLockAvailable$self, docId, goog$bind(JSCompiler_StaticMethods_ensureDocumentLockAvailable$self.handleLockAvailableForEnsurance_, JSCompiler_StaticMethods_ensureDocumentLockAvailable$self, transaction), JSCompiler_StaticMethods_getObjectStore(transaction, "DocumentLocks"), !1, !1);
      }break;
    default:
      throw Error("Operation type " + operation.getType() + " not supported.");
  }
};
docs$localstore$idb$DocumentLockCapability.prototype.disposeInternal = function $docs$localstore$idb$DocumentLockCapability$$disposeInternal$() {
  this.lockManager_.dispose();
  docs$localstore$idb$DocumentLockCapability.superClass_.disposeInternal.call(this);
};
// Input 606
// Input 607
// Input 608
// Input 609
function docs$storage$CommandBundle(commands, requestId, sid) {
  this.docs_storage_CommandBundle$commands_ = commands;
  this.docs_storage_CommandBundle$requestId_ = requestId;
  this.sid_ = sid;
}
docs$storage$CommandBundle.prototype.copy = function $docs$storage$CommandBundle$$copy$() {
  return new docs$storage$CommandBundle(this.docs_storage_CommandBundle$commands_.concat(), this.docs_storage_CommandBundle$requestId_, this.sid_);
};
// Input 610
function docs$localstore$PendingQueue(docId, type, isNew, lastEntryIndex, sentCommandBundles, unsentCommandBundles) {
  docs$localstore$Record.call(this, "pendingQueue", isNew);
  this.lastEntryIndex_ = lastEntryIndex;
  this.sentCommandBundles_ = sentCommandBundles.concat();
  this.unsentCommandBundles_ = unsentCommandBundles.concat();
  this.docs_localstore_PendingQueue$revisionAccessInfoSerializer_ = new docs$security$RevisionAccessInfoSerializer;
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(this, "docId", docId);
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(this, "documentType", type);
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(this, "revision", -1);
  JSCompiler_StaticMethods_setBooleanProperty(this, "undeliverable", !1);
  JSCompiler_StaticMethods_setBooleanProperty(this, "unsavedChanges", !1);
  this.supportMultipleInMemoryOperations_ = this.forceEmptyInMemory_ = !1;
}
goog$inherits(docs$localstore$PendingQueue, docs$localstore$Record);
var docs$localstore$PendingQueue$NULLABLE_PROPERTIES = ["revisionAccessInfo", "unsentBundleMetadata", "selection", "sentBundlesSavedRevision", "snapshotBundleIndex"];
docs$localstore$PendingQueue.prototype.operation_ = 6;
docs$localstore$PendingQueue.prototype.operationCommands_ = null;
docs$localstore$PendingQueue.prototype.operationSentCommandBundles_ = null;
docs$localstore$PendingQueue.prototype.operationUnsentCommandBundles_ = null;
docs$localstore$PendingQueue.prototype.operationBundleKey_ = null;
docs$localstore$PendingQueue.prototype.getDocId = function $docs$localstore$PendingQueue$$getDocId$() {
  return JSCompiler_StaticMethods_getStringProperty(this, "docId");
};
docs$localstore$PendingQueue.prototype.getType = function $docs$localstore$PendingQueue$$getType$() {
  return JSCompiler_StaticMethods_getStringProperty(this, "documentType");
};
function JSCompiler_StaticMethods_setSerializedUnsentBundleMetadata(JSCompiler_StaticMethods_setSerializedUnsentBundleMetadata$self, serializedUnsentBundleMetadata) {
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_setSerializedUnsentBundleMetadata$self, "unsentBundleMetadata", serializedUnsentBundleMetadata);
}
function JSCompiler_StaticMethods_setSnapshotBundleIndex(JSCompiler_StaticMethods_setSnapshotBundleIndex$self, bundleIndex) {
  if (null != bundleIndex) {
    var maxBundleIndex = JSCompiler_StaticMethods_setSnapshotBundleIndex$self.sentCommandBundles_.length + JSCompiler_StaticMethods_setSnapshotBundleIndex$self.unsentCommandBundles_.length - 1;
    if (0 > bundleIndex || bundleIndex > maxBundleIndex) {
      throw Error(bundleIndex + " is not a valid snapshot bundle index. The last bundle index: " + maxBundleIndex);
    }
  }
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_setSnapshotBundleIndex$self, "snapshotBundleIndex", bundleIndex);
}
function JSCompiler_StaticMethods_docs_localstore_PendingQueue_prototype$isEmpty(JSCompiler_StaticMethods_docs_localstore_PendingQueue_prototype$isEmpty$self) {
  return JSCompiler_StaticMethods_docs_localstore_PendingQueue_prototype$isEmpty$self.forceEmptyInMemory_ ? !0 : 0 == JSCompiler_StaticMethods_docs_localstore_PendingQueue_prototype$isEmpty$self.unsentCommandBundles_.length && 0 == JSCompiler_StaticMethods_docs_localstore_PendingQueue_prototype$isEmpty$self.sentCommandBundles_.length;
}
docs$localstore$PendingQueue.prototype.clear = function $docs$localstore$PendingQueue$$clear$() {
  JSCompiler_StaticMethods_setBooleanProperty(this, "undeliverable", !1);
  JSCompiler_StaticMethods_setBooleanProperty(this, "unsavedChanges", !1);
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(this, "sentBundlesSavedRevision", null);
  JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(this, "selection", null);
  JSCompiler_StaticMethods_setSnapshotBundleIndex(this, null);
  this.sentCommandBundles_ = [];
  this.unsentCommandBundles_ = [];
  JSCompiler_StaticMethods_recordOperation_(this, 2);
};
docs$localstore$PendingQueue.prototype.replace = function $docs$localstore$PendingQueue$$replace$(sentCommandBundles, unsentCommandBundles) {
  this.operationUnsentCommandBundles_ = unsentCommandBundles.length ? unsentCommandBundles.concat() : null;
  this.operationSentCommandBundles_ = sentCommandBundles.concat();
  this.operationBundleKey_ = this.operationCommands_ = null;
  this.sentCommandBundles_ = sentCommandBundles.concat();
  this.unsentCommandBundles_ = unsentCommandBundles.concat();
  JSCompiler_StaticMethods_recordOperation_(this, 7);
};
function JSCompiler_StaticMethods_recordOperation_(JSCompiler_StaticMethods_recordOperation_$self, operation) {
  if (JSCompiler_StaticMethods_recordOperation_$self.supportMultipleInMemoryOperations_ && 7 != operation && 6 != JSCompiler_StaticMethods_recordOperation_$self.operation_) {
    JSCompiler_StaticMethods_recordOperation_$self.replace(JSCompiler_StaticMethods_recordOperation_$self.sentCommandBundles_, JSCompiler_StaticMethods_recordOperation_$self.unsentCommandBundles_);
  } else {
    JSCompiler_StaticMethods_assertWritable(JSCompiler_StaticMethods_recordOperation_$self);
    if (!JSCompiler_StaticMethods_recordOperation_$self.supportMultipleInMemoryOperations_ && 6 != JSCompiler_StaticMethods_recordOperation_$self.operation_) {
      throw Error("Multiple pending queue operations between writes. Current operation: " + JSCompiler_StaticMethods_recordOperation_$self.operation_ + ". Pending operation: " + operation);
    }
    JSCompiler_StaticMethods_recordOperation_$self.operation_ = operation;
  }
}
function JSCompiler_StaticMethods_assertWritable(JSCompiler_StaticMethods_assertWritable$self) {
  if (JSCompiler_StaticMethods_assertWritable$self.forceEmptyInMemory_) {
    throw Error("The queue is in a state that does not allow any operation until switchToStorageIfNeeded() is called.");
  }
}
docs$localstore$PendingQueue.prototype.isModified = function $docs$localstore$PendingQueue$$isModified$() {
  return 6 != this.operation_ || docs$localstore$PendingQueue.superClass_.isModified.call(this);
};
docs$localstore$PendingQueue.prototype.commitInternal = function $docs$localstore$PendingQueue$$commitInternal$() {
  JSCompiler_StaticMethods_assertWritable(this);
  docs$localstore$PendingQueue.superClass_.commitInternal.call(this);
  this.operationCommands_ && this.operationCommands_.length && this.lastEntryIndex_++;
  this.operationSentCommandBundles_ && (this.lastEntryIndex_ += this.operationSentCommandBundles_.length);
  this.operationUnsentCommandBundles_ && (this.lastEntryIndex_ += this.operationUnsentCommandBundles_.length);
  this.operation_ = 6;
  this.operationBundleKey_ = this.operationUnsentCommandBundles_ = this.operationSentCommandBundles_ = this.operationCommands_ = null;
};
function JSCompiler_StaticMethods_supportMultipleInMemoryOperations(JSCompiler_StaticMethods_supportMultipleInMemoryOperations$self, supportsMultipleInMemoryOperations) {
  if (supportsMultipleInMemoryOperations && 6 != JSCompiler_StaticMethods_supportMultipleInMemoryOperations$self.operation_) {
    throw Error("Cannot support multiple in memory operations with pending operation. Pending operation:" + JSCompiler_StaticMethods_supportMultipleInMemoryOperations$self.operation_);
  }
  JSCompiler_StaticMethods_supportMultipleInMemoryOperations$self.supportMultipleInMemoryOperations_ = supportsMultipleInMemoryOperations;
}
docs$localstore$PendingQueue.prototype.getDocumentLockRequirement = function $docs$localstore$PendingQueue$$getDocumentLockRequirement$() {
  return new docs$localstore$DocumentLockRequirement(this.getDocId(), 2);
};
// Input 611
function docs$localstore$PendingQueueClearOperation(pendingQueue) {
  docs$localstore$UpdateRecordOperation.call(this, pendingQueue.getDocId(), pendingQueue, docs$localstore$PendingQueue$NULLABLE_PROPERTIES, "pq-clear");
}
goog$inherits(docs$localstore$PendingQueueClearOperation, docs$localstore$UpdateRecordOperation);
docs$localstore$PendingQueueClearOperation.prototype.getDocId = function $docs$localstore$PendingQueueClearOperation$$getDocId$() {
  return JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(this);
};
// Input 612
function docs$localstore$PendingQueueClearSentBundleOperation(pendingQueue) {
  docs$localstore$UpdateRecordOperation.call(this, pendingQueue.getDocId(), pendingQueue, docs$localstore$PendingQueue$NULLABLE_PROPERTIES, "pq-clear-sent-bundle");
  if (pendingQueue.forceEmptyInMemory_) {
    throw Error("The queue is in a state that does not allow commands");
  }
}
goog$inherits(docs$localstore$PendingQueueClearSentBundleOperation, docs$localstore$UpdateRecordOperation);
docs$localstore$PendingQueueClearSentBundleOperation.prototype.getDocId = function $docs$localstore$PendingQueueClearSentBundleOperation$$getDocId$() {
  return JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(this);
};
// Input 613
function docs$localstore$PendingQueueClearSentOperation(pendingQueue) {
  docs$localstore$UpdateRecordOperation.call(this, pendingQueue.getDocId(), pendingQueue, docs$localstore$PendingQueue$NULLABLE_PROPERTIES, "pq-clear-sent");
}
goog$inherits(docs$localstore$PendingQueueClearSentOperation, docs$localstore$UpdateRecordOperation);
docs$localstore$PendingQueueClearSentOperation.prototype.getDocId = function $docs$localstore$PendingQueueClearSentOperation$$getDocId$() {
  return JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(this);
};
// Input 614
function docs$localstore$PendingQueueDeleteCommandsOperation(docId, lastCommandIndex) {
  this.docs_localstore_Operation$type_ = "pq-delete-commands";
  this.docs_localstore_PendingQueueDeleteCommandsOperation$docId_ = docId;
  this.lastCommandIndex_ = lastCommandIndex;
}
goog$inherits(docs$localstore$PendingQueueDeleteCommandsOperation, docs$localstore$Operation);
docs$localstore$PendingQueueDeleteCommandsOperation.prototype.getDocId = function $docs$localstore$PendingQueueDeleteCommandsOperation$$getDocId$() {
  return this.docs_localstore_PendingQueueDeleteCommandsOperation$docId_;
};
// Input 615
function docs$localstore$PendingQueueMarkSentBundleOperation(pendingQueue) {
  docs$localstore$UpdateRecordOperation.call(this, pendingQueue.getDocId(), pendingQueue, docs$localstore$PendingQueue$NULLABLE_PROPERTIES, "pq-mark-sent");
  this.bundleMetadata_ = [];
  this.shouldReplaceOldBundles_ = !1;
  var lastEntryIndex = pendingQueue.lastEntryIndex_;
  if (7 == pendingQueue.operation_) {
    this.shouldReplaceOldBundles_ = !0;
    for (var bundles = pendingQueue.operationSentCommandBundles_, i = 0;i < bundles.length;i++) {
      lastEntryIndex++, this.bundleMetadata_.push(new docs$localstore$PendingQueueMarkSentBundleOperation$BundleMetadata(goog$asserts$assertString(bundles[i].sid_), bundles[i].docs_storage_CommandBundle$requestId_, lastEntryIndex));
    }
  } else {
    this.bundleMetadata_.push(new docs$localstore$PendingQueueMarkSentBundleOperation$BundleMetadata(goog$asserts$assertString(pendingQueue.operationBundleKey_ ? pendingQueue.operationBundleKey_.sessionId : null), goog$asserts$assertNumber(pendingQueue.operationBundleKey_ ? pendingQueue.operationBundleKey_.requestId : null), lastEntryIndex));
  }
}
goog$inherits(docs$localstore$PendingQueueMarkSentBundleOperation, docs$localstore$UpdateRecordOperation);
function docs$localstore$PendingQueueMarkSentBundleOperation$BundleMetadata(sessionId, requestId, lastEntryIndex) {
  this.sessionId = sessionId;
  this.requestId = requestId;
  this.lastEntryIndex = lastEntryIndex;
}
;
// Input 616
function docs$localstore$PendingQueueWriteCommandsOperation(docId, commands, commandIndex) {
  this.docs_localstore_Operation$type_ = "pq-write-commands";
  this.docs_localstore_PendingQueueWriteCommandsOperation$docId_ = docId;
  this.docs_localstore_PendingQueueWriteCommandsOperation$commands_ = commands;
  this.commandIndex_ = commandIndex;
}
goog$inherits(docs$localstore$PendingQueueWriteCommandsOperation, docs$localstore$Operation);
docs$localstore$PendingQueueWriteCommandsOperation.prototype.getDocId = function $docs$localstore$PendingQueueWriteCommandsOperation$$getDocId$() {
  return this.docs_localstore_PendingQueueWriteCommandsOperation$docId_;
};
// Input 617
function docs$localstore$PendingQueueCapability(documentAdapters) {
  this.documentAdapters_ = documentAdapters;
}
docs$localstore$PendingQueueCapability.prototype.getSupportedRecordTypes = function $docs$localstore$PendingQueueCapability$$getSupportedRecordTypes$() {
  return ["pendingQueue"];
};
docs$localstore$PendingQueueCapability.prototype.getKeyForRecord = function $docs$localstore$PendingQueueCapability$$getKeyForRecord$(record) {
  return record.getDocId();
};
function JSCompiler_StaticMethods_getDocumentAdapter(JSCompiler_StaticMethods_getDocumentAdapter$self, documentType) {
  var adapter = JSCompiler_StaticMethods_getDocumentAdapter$self.documentAdapters_[documentType];
  if (adapter) {
    return adapter;
  }
  throw Error("No document adapter available for type " + documentType);
}
function JSCompiler_StaticMethods_getPendingQueue(JSCompiler_StaticMethods_getPendingQueue$self, documentId) {
  return new goog$Promise(function(resolve, reject) {
    JSCompiler_StaticMethods_readPendingQueue(this, documentId, resolve, reject);
  }.bind(JSCompiler_StaticMethods_getPendingQueue$self));
}
docs$localstore$PendingQueueCapability.prototype.createOperationsForRecord = function $docs$localstore$PendingQueueCapability$$createOperationsForRecord$(record) {
  var documentAdapter = JSCompiler_StaticMethods_getDocumentAdapter(this, record.getType()), pendingQueueOperation = record.operation_, createdOperations = [];
  switch(pendingQueueOperation) {
    case 7:
      for (var docId = record.getDocId(), lastEntryIndex = record.lastEntryIndex_, bundles = record.operationSentCommandBundles_, operations = [], writeCommandsOperation, i = 0;i < bundles.length;i++) {
        lastEntryIndex++;
        writeCommandsOperation = JSCompiler_StaticMethods_createWriteCommandsOperation_(bundles[i].docs_storage_CommandBundle$commands_, documentAdapter, record.getDocId(), lastEntryIndex, !0);
        if (!writeCommandsOperation) {
          throw Error("Unexpected null operation");
        }
        operations.push(writeCommandsOperation);
      }
      for (var lastIndex = record.lastEntryIndex_ + operations.length, unsentBundles = record.operationUnsentCommandBundles_ ? record.operationUnsentCommandBundles_ : [], bundleMetadata = [], appendOperations = [], i$jscomp$0 = 0;i$jscomp$0 < unsentBundles.length;i$jscomp$0++) {
        var appendOperation = JSCompiler_StaticMethods_createWriteCommandsOperation_(unsentBundles[i$jscomp$0].docs_storage_CommandBundle$commands_, documentAdapter, docId, lastIndex + 1);
        appendOperation && (appendOperations.push(appendOperation), bundleMetadata.push(new docs$localstore$PendingQueueCapability$UnsentBundleMetadata(unsentBundles[i$jscomp$0].docs_storage_CommandBundle$requestId_, unsentBundles[i$jscomp$0].sid_, lastIndex + 1)), lastIndex++);
      }
      JSCompiler_StaticMethods_setSerializedUnsentBundleMetadata(record, JSCompiler_StaticMethods_serializeUnsentBundleMetadata(bundleMetadata));
      operations.push(new docs$localstore$PendingQueueMarkSentBundleOperation(record));
      goog$array$extend(operations, appendOperations);
      0 <= record.lastEntryIndex_ && operations.push(new docs$localstore$PendingQueueDeleteCommandsOperation(docId, record.lastEntryIndex_));
      createdOperations = operations;
      break;
    case 1:
      var firstAppendedEntryIndex = record.lastEntryIndex_ + 1, docId$jscomp$0 = record.getDocId(), storageOperations = [], commands = record.operationCommands_, requestId = record.operationBundleKey_ ? record.operationBundleKey_.requestId : null, sessionId = record.operationBundleKey_ ? record.operationBundleKey_.sessionId : null, JSCompiler_inline_result;
      var value = JSCompiler_StaticMethods_getNullableProperty(record, "unsentBundleMetadata");
      null == value ? JSCompiler_inline_result = null : (goog$asserts$assertObject(value, "Property %s was expected to be an object, but had the value %s", "unsentBundleMetadata", value), JSCompiler_inline_result = goog$object$unsafeClone(value));
      var unsentBundleMetadata = JSCompiler_StaticMethods_deserializeUnsentBundleMetadata(JSCompiler_inline_result);
      if (null === requestId || null === sessionId) {
        if (!unsentBundleMetadata.length) {
          throw Error("Bundles and metadata do not match!");
        }
        var currentBundle = unsentBundleMetadata[unsentBundleMetadata.length - 1];
        unsentBundleMetadata[unsentBundleMetadata.length - 1] = new docs$localstore$PendingQueueCapability$UnsentBundleMetadata(currentBundle.requestId, currentBundle.sessionId, firstAppendedEntryIndex);
      } else {
        unsentBundleMetadata.push(new docs$localstore$PendingQueueCapability$UnsentBundleMetadata(requestId, sessionId, firstAppendedEntryIndex));
      }
      commands && JSCompiler_StaticMethods_setSerializedUnsentBundleMetadata(record, JSCompiler_StaticMethods_serializeUnsentBundleMetadata(unsentBundleMetadata));
      goog$object$isEmpty(record.propertyModifications_) || storageOperations.push(new docs$localstore$UpdateRecordOperation(docId$jscomp$0, record, docs$localstore$PendingQueue$NULLABLE_PROPERTIES));
      var writeCommandsOperation$jscomp$0 = JSCompiler_StaticMethods_createWriteCommandsOperation_(commands, documentAdapter, docId$jscomp$0, firstAppendedEntryIndex);
      writeCommandsOperation$jscomp$0 && storageOperations.push(writeCommandsOperation$jscomp$0);
      createdOperations = storageOperations;
      break;
    case 5:
      JSCompiler_StaticMethods_setSerializedUnsentBundleMetadata(record, null);
      createdOperations.push(new docs$localstore$PendingQueueMarkSentBundleOperation(record));
      break;
    case 2:
      JSCompiler_StaticMethods_setSerializedUnsentBundleMetadata(record, null);
      createdOperations.push(new docs$localstore$PendingQueueClearOperation(record));
      break;
    case 3:
      createdOperations.push(new docs$localstore$PendingQueueClearSentOperation(record));
      break;
    case 4:
      createdOperations.push(new docs$localstore$PendingQueueClearSentBundleOperation(record));
      break;
    case 6:
      createdOperations.push(new docs$localstore$UpdateRecordOperation(record.getDocId(), record, docs$localstore$PendingQueue$NULLABLE_PROPERTIES));
      break;
    default:
      throw Error("Unknown Pending Queue operation type: " + pendingQueueOperation);
  }
  return createdOperations;
};
function JSCompiler_StaticMethods_createWriteCommandsOperation_(commands, documentAdapter, docId, lastEntryIndex, opt_allowEmptyCommands) {
  if (!(opt_allowEmptyCommands || commands && 0 != commands.length)) {
    return null;
  }
  var commandObjects = [];
  if (commands) {
    for (var i = 0;i < commands.length;i++) {
      commandObjects.push(documentAdapter.serializer_.serialize(commands[i]));
    }
  }
  return new docs$localstore$PendingQueueWriteCommandsOperation(docId, commandObjects, lastEntryIndex);
}
function JSCompiler_StaticMethods_deserializeUnsentBundleMetadata(serialized) {
  if (!serialized) {
    return [];
  }
  for (var unsentBundleMetadata = [], i = 0;i < serialized.length;i++) {
    unsentBundleMetadata.push(new docs$localstore$PendingQueueCapability$UnsentBundleMetadata(serialized[i].rid, serialized[i].sid, serialized[i].lei));
  }
  return unsentBundleMetadata;
}
function JSCompiler_StaticMethods_serializeUnsentBundleMetadata(unsentBundleMetadata) {
  if (!unsentBundleMetadata.length) {
    return null;
  }
  for (var serialized = [], i = 0;i < unsentBundleMetadata.length;i++) {
    serialized.push(unsentBundleMetadata[i].serialize());
  }
  return serialized;
}
function docs$localstore$PendingQueueCapability$UnsentBundleMetadata(requestId, sessionId, lastEntryIndex) {
  this.requestId = requestId;
  this.sessionId = sessionId;
  this.lastEntryIndex = lastEntryIndex;
}
docs$localstore$PendingQueueCapability$UnsentBundleMetadata.prototype.serialize = function $docs$localstore$PendingQueueCapability$UnsentBundleMetadata$$serialize$() {
  var bundleObj = {};
  bundleObj.rid = this.requestId;
  bundleObj.sid = this.sessionId;
  bundleObj.lei = this.lastEntryIndex;
  return bundleObj;
};
// Input 618
function docs$localstore$idb$PendingQueueCapability(db, idbUtil, documentAdapters, errorReporter) {
  this.documentAdapters_ = documentAdapters;
  this.docs_localstore_idb_PendingQueueCapability$db_ = db;
  this.docs_localstore_idb_PendingQueueCapability$errorReporter_ = errorReporter;
}
goog$inherits(docs$localstore$idb$PendingQueueCapability, docs$localstore$PendingQueueCapability);
function JSCompiler_StaticMethods_readPendingQueue(JSCompiler_StaticMethods_readPendingQueue$self, docId, resultCallback, opt_errorCallback) {
  function abandonTransactionAndResultCallback(result) {
    JSCompiler_StaticMethods_abandon(transaction);
    resultCallback(result);
  }
  var transaction = JSCompiler_StaticMethods_openTransaction(JSCompiler_StaticMethods_readPendingQueue$self.docs_localstore_idb_PendingQueueCapability$db_, ["PendingQueues", "PendingQueueCommands"], "Error reading pending queue.", opt_errorCallback);
  JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueues").get(docId), function(e) {
    var metadata = e.target.result;
    metadata ? JSCompiler_StaticMethods_readPendingQueueCommands_(JSCompiler_StaticMethods_readPendingQueue$self, docId, transaction, metadata, abandonTransactionAndResultCallback) : abandonTransactionAndResultCallback(null);
  });
}
function JSCompiler_StaticMethods_readPendingQueueCommands_(JSCompiler_StaticMethods_readPendingQueueCommands_$self, docId, transaction, metadata, resultCallback) {
  var docType = metadata.t, documentAdapter = JSCompiler_StaticMethods_getDocumentAdapter(JSCompiler_StaticMethods_readPendingQueueCommands_$self, docType);
  if (!documentAdapter) {
    throw Error("No document adapter available for type " + docType);
  }
  var store = JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueueCommands"), commandObjects = [];
  JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getCursorRequest(store, [docId], [docId, []]), function(e) {
    var cursor = e.target.result;
    if (cursor) {
      commandObjects.push(cursor.value), cursor["continue"]();
    } else {
      var unsentBundleMetadata = [];
      JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-localstore-eubm") && (unsentBundleMetadata = metadata.ubm ? JSCompiler_StaticMethods_deserializeUnsentBundleMetadata(metadata.ubm) : []);
      for (var clearExistingUnsentMetadata = !0, bundleMetadata = metadata.b, bundleIndex = 0, commands = [], sentCommandBundles = [], unsentCommandBundles = [], commandIndex = -1, i = 0;i < commandObjects.length;i++) {
        var commandObject = commandObjects[i];
        goog$array$extend(commands, documentAdapter.parseCommands(commandObject.c, !0));
        commandIndex = commandObject.pqcKey[1];
        if (bundleIndex < bundleMetadata.length) {
          var bundle = bundleMetadata[bundleIndex];
          bundle.l == commandIndex && (sentCommandBundles.push(new docs$storage$CommandBundle(commands, bundle.r, bundle.s)), commands = [], bundleIndex++);
        } else {
          bundleIndex < bundleMetadata.length + unsentBundleMetadata.length && (bundle = unsentBundleMetadata[bundleIndex - bundleMetadata.length], bundle.lastEntryIndex == commandIndex && (clearExistingUnsentMetadata = !1, unsentCommandBundles.push(new docs$storage$CommandBundle(commands, bundle.requestId, bundle.sessionId)), commands = [], bundleIndex++));
        }
      }
      clearExistingUnsentMetadata && (unsentBundleMetadata = []);
      if (commands.length) {
        var sessionId, low = Math.floor(4294967296 * Math.random()).toString(16), low = goog$string$repeat("0", Math.max(0, 8 - low.length)) + low;
        sessionId = Math.floor(2147483648 * Math.random()).toString(16) + low;
        unsentCommandBundles.push(new docs$storage$CommandBundle(commands, 0, sessionId));
        unsentBundleMetadata.push(new docs$localstore$PendingQueueCapability$UnsentBundleMetadata(0, sessionId, commandIndex));
      }
      var pendingQueue = new docs$localstore$PendingQueue(goog$asserts$assertString(metadata.docId), goog$asserts$assertString(metadata.t), !1, commandIndex, sentCommandBundles, unsentCommandBundles), accessInfo = JSCompiler_StaticMethods_docs_security_RevisionAccessInfoSerializer_prototype$deserialize(metadata.ra);
      JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(pendingQueue, "revision", metadata.r);
      JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(pendingQueue, "revisionAccessInfo", pendingQueue.docs_localstore_PendingQueue$revisionAccessInfoSerializer_.serialize(accessInfo));
      metadata.s && JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(pendingQueue, "selection", metadata.s);
      JSCompiler_StaticMethods_setBooleanProperty(pendingQueue, "undeliverable", !!metadata.u);
      JSCompiler_StaticMethods_setBooleanProperty(pendingQueue, "unsavedChanges", !!metadata.uc);
      metadata.sbsr && JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(pendingQueue, "sentBundlesSavedRevision", metadata.sbsr);
      goog$isDef(metadata.sbi) && JSCompiler_StaticMethods_setSnapshotBundleIndex(pendingQueue, metadata.sbi);
      pendingQueue.initializing_ = !1;
      JSCompiler_StaticMethods_setSerializedUnsentBundleMetadata(pendingQueue, JSCompiler_StaticMethods_serializeUnsentBundleMetadata(unsentBundleMetadata));
      resultCallback(pendingQueue);
    }
  });
}
docs$localstore$idb$PendingQueueCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$PendingQueueCapability$$getObjectStoreNamesForOperation$() {
  return ["PendingQueueCommands", "PendingQueues"];
};
docs$localstore$idb$PendingQueueCapability.prototype.performOperation = function $docs$localstore$idb$PendingQueueCapability$$performOperation$(operation, transaction) {
  operation instanceof docs$localstore$UpdateRecordOperation && !operation.docs_localstore_UpdateRecordOperation$isNew_ ? JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueues").get(JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation)), goog$bind(this.handleReadMetadataSuccess_, this, operation, transaction)) : JSCompiler_StaticMethods_performOperation_(this, operation, transaction);
};
docs$localstore$idb$PendingQueueCapability.prototype.handleReadMetadataSuccess_ = function $docs$localstore$idb$PendingQueueCapability$$handleReadMetadataSuccess_$(operation, transaction, e) {
  var metadata = e.target.result;
  if (!metadata) {
    throw Error("Tried to update a non-existent pending queue.");
  }
  JSCompiler_StaticMethods_performOperation_(this, operation, transaction, metadata);
};
function JSCompiler_StaticMethods_performOperation_(JSCompiler_StaticMethods_performOperation_$self, operation, transaction, opt_metadata) {
  if (opt_metadata) {
    var modifications = operation.modifications_, revision = modifications.revision, accessInfo = modifications.revisionAccessInfo;
    null != revision && (opt_metadata.r = revision);
    goog$isDef(accessInfo) && (opt_metadata.ra = accessInfo);
    var selection = modifications.selection;
    null != selection && (opt_metadata.s = selection);
    var accessLevel = modifications.accessLevel;
    null != accessLevel && (opt_metadata.a = accessLevel);
    var isUndeliverableString = modifications.undeliverable;
    goog$isDef(isUndeliverableString) && (opt_metadata.u = !!isUndeliverableString);
    var hasUnsavedChanges = modifications.unsavedChanges;
    goog$isDef(hasUnsavedChanges) && (opt_metadata.uc = !!hasUnsavedChanges);
    var sentBundlesSavedRevision = modifications.sentBundlesSavedRevision;
    goog$isDef(sentBundlesSavedRevision) && (opt_metadata.sbsr = sentBundlesSavedRevision);
    var unsentBundleMetadata = modifications.unsentBundleMetadata;
    goog$isDef(unsentBundleMetadata) && (opt_metadata.ubm = unsentBundleMetadata);
    var snapshotBundleIndex = modifications.snapshotBundleIndex;
    goog$isDef(snapshotBundleIndex) && (opt_metadata.sbi = snapshotBundleIndex);
    if (hasUnsavedChanges) {
      var errorReporter = JSCompiler_StaticMethods_performOperation_$self.docs_localstore_idb_PendingQueueCapability$errorReporter_;
      try {
        goog$global.localStorage.setItem("docs-ucb", "1");
      } catch (e) {
        JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(errorReporter, Error("Error setting unsaved changes bit in Local Storage: " + e.message));
      }
    }
  }
  switch(operation.getType()) {
    case "pq-clear":
      goog$asserts$assert(opt_metadata || operation.docs_localstore_UpdateRecordOperation$isNew_);
      var metadata = opt_metadata || JSCompiler_StaticMethods_createMetadata_(operation), docId = operation.getDocId(), commandStore = JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueueCommands");
      JSCompiler_StaticMethods_deleteFromStore(commandStore, [docId], [docId, []]);
      metadata.b = [];
      JSCompiler_StaticMethods_writeMetadata_(metadata, transaction);
      break;
    case "pq-clear-sent":
      goog$asserts$assert(opt_metadata || operation.docs_localstore_UpdateRecordOperation$isNew_);
      var metadata$jscomp$0 = opt_metadata || JSCompiler_StaticMethods_createMetadata_(operation), bundles = metadata$jscomp$0.b;
      if (0 < bundles.length) {
        var lastIndex = bundles[bundles.length - 1].l, commandStore$jscomp$0 = JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueueCommands"), docId$jscomp$0 = operation.getDocId();
        JSCompiler_StaticMethods_deleteFromStore(commandStore$jscomp$0, [docId$jscomp$0], [docId$jscomp$0, lastIndex]);
        metadata$jscomp$0.b = [];
      }
      JSCompiler_StaticMethods_writeMetadata_(metadata$jscomp$0, transaction);
      break;
    case "pq-clear-sent-bundle":
      goog$asserts$assert(opt_metadata || operation.docs_localstore_UpdateRecordOperation$isNew_);
      var metadata$jscomp$1 = opt_metadata || JSCompiler_StaticMethods_createMetadata_(operation), firstBundle = metadata$jscomp$1.b.shift();
      goog$asserts$assert(firstBundle);
      var lastIndex$jscomp$0 = firstBundle.l, commandStore$jscomp$1 = JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueueCommands"), docId$jscomp$1 = operation.getDocId();
      JSCompiler_StaticMethods_deleteFromStore(commandStore$jscomp$1, [docId$jscomp$1], [docId$jscomp$1, lastIndex$jscomp$0]);
      JSCompiler_StaticMethods_writeMetadata_(metadata$jscomp$1, transaction);
      break;
    case "pq-mark-sent":
      goog$asserts$assert(opt_metadata || operation.docs_localstore_UpdateRecordOperation$isNew_);
      var metadata$jscomp$2 = opt_metadata || JSCompiler_StaticMethods_createMetadata_(operation), bundles$jscomp$0 = operation.bundleMetadata_;
      operation.shouldReplaceOldBundles_ && (metadata$jscomp$2.b = []);
      for (var i = 0;i < bundles$jscomp$0.length;i++) {
        var bundle = bundles$jscomp$0[i], CommandBundleKey = docs$localstore$idb$PendingQueueStorageObject$CommandBundleKey, bundleMetadataObj = {};
        bundleMetadataObj[CommandBundleKey.LAST_ENTRY_INDEX] = bundle.lastEntryIndex;
        bundleMetadataObj[CommandBundleKey.SESSION_ID] = bundle.sessionId;
        bundleMetadataObj[CommandBundleKey.REQUEST_ID] = bundle.requestId;
        metadata$jscomp$2.b.push(bundleMetadataObj);
      }
      JSCompiler_StaticMethods_writeMetadata_(metadata$jscomp$2, transaction);
      break;
    case "update-record":
      goog$asserts$assert(opt_metadata || operation.docs_localstore_UpdateRecordOperation$isNew_);
      var metadata$jscomp$3 = opt_metadata || JSCompiler_StaticMethods_createMetadata_(operation);
      JSCompiler_StaticMethods_writeMetadata_(metadata$jscomp$3, transaction);
      break;
    case "pq-write-commands":
      var commandObjects = operation.docs_localstore_PendingQueueWriteCommandsOperation$commands_, commandsObj = {};
      commandsObj.pqcKey = [operation.getDocId(), operation.commandIndex_];
      commandsObj.c = commandObjects;
      JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueueCommands"), commandsObj);
      break;
    case "pq-delete-commands":
      var commandStore$jscomp$2 = JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueueCommands"), docId$jscomp$2 = operation.getDocId();
      JSCompiler_StaticMethods_deleteFromStore(commandStore$jscomp$2, [docId$jscomp$2], [docId$jscomp$2, operation.lastCommandIndex_]);
      break;
    default:
      throw Error("Unsupported operation type: " + operation.getType());
  }
}
function JSCompiler_StaticMethods_writeMetadata_(metadata, transaction) {
  JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(JSCompiler_StaticMethods_getObjectStore(transaction, "PendingQueues"), metadata);
}
function JSCompiler_StaticMethods_createMetadata_(operation) {
  goog$asserts$assert(operation.docs_localstore_UpdateRecordOperation$isNew_);
  var modifications = operation.modifications_, metadataObj = {}, accessLevel = modifications.accessLevel;
  goog$isDef(accessLevel) && (metadataObj.a = goog$asserts$assertNumber(accessLevel));
  metadataObj.docId = goog$asserts$assertString(modifications.docId);
  metadataObj.r = goog$asserts$assertNumber(modifications.revision);
  metadataObj.ra = modifications.revisionAccessInfo;
  metadataObj.ubm = modifications.unsentBundleMetadata;
  metadataObj.s = modifications.selection;
  metadataObj.b = [];
  metadataObj.t = goog$asserts$assertString(modifications.documentType);
  metadataObj.u = !!modifications.undeliverable;
  metadataObj.uc = !!modifications.unsavedChanges;
  var sentBundlesSavedRevision = modifications.sentBundlesSavedRevision;
  null != sentBundlesSavedRevision && (metadataObj.sbsr = goog$asserts$assertNumber(sentBundlesSavedRevision));
  var snapshotBundleIndex = modifications.snapshotBundleIndex;
  goog$isDef(snapshotBundleIndex) && (metadataObj.sbi = snapshotBundleIndex);
  return metadataObj;
}
;
// Input 619
function docs$localstore$idb$StorageObjectReaderWriter() {
}
function JSCompiler_StaticMethods_saveModifications(JSCompiler_StaticMethods_saveModifications$self, key, modifications, store, opt_nullableProperties) {
  modifications && JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getCursorRequest(store, key), goog$bind(JSCompiler_StaticMethods_saveModifications$self.applyModificationsToObject_, JSCompiler_StaticMethods_saveModifications$self, modifications, opt_nullableProperties || []));
}
docs$localstore$idb$StorageObjectReaderWriter.prototype.applyModificationsToObject_ = function $docs$localstore$idb$StorageObjectReaderWriter$$applyModificationsToObject_$(modifications, nullableProperties, e) {
  var request = e.target;
  docs$localstore$idb$DatabaseUtil$verifyRequestDone(request);
  var cursor = request.result;
  if (cursor) {
    var currentObj = cursor.value;
    goog$asserts$assert(goog$isDef(currentObj), "Could not find object to update.");
    for (var propertyName in modifications) {
      var value = modifications[propertyName];
      goog$array$contains(nullableProperties, propertyName) ? currentObj[propertyName] = null != value ? value : null : (goog$asserts$assert(null != value, "Property %s was unexpectedly null or undefined", propertyName), currentObj[propertyName] = value);
    }
    cursor.update(currentObj);
  } else {
    throw Error("Could not find object to update.");
  }
};
function JSCompiler_StaticMethods_pushProfileDataDocumentId(db, documentId) {
  var transaction = JSCompiler_StaticMethods_openTransaction(db, ["ProfileData"], "Error pushing document id", void 0, !0);
  JSCompiler_StaticMethods_readProfileDataDocumentIds("missingdocosdocumentids", function(storedIds) {
    if (!goog$array$contains(storedIds, documentId)) {
      storedIds.push(documentId);
      var record = JSCompiler_StaticMethods_createProfileDataDocumentIdsRecord_("missingdocosdocumentids", storedIds);
      JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(JSCompiler_StaticMethods_getObjectStore(transaction, "ProfileData"), record);
      JSCompiler_StaticMethods_setCompletionCallback(transaction, goog$nullFunction);
    }
  }, transaction);
}
function JSCompiler_StaticMethods_removeProfileDataDocumentIds(db, dataType, documentIds, resultCallback, opt_errorCallback) {
  var transaction = JSCompiler_StaticMethods_openTransaction(db, ["ProfileData"], "Error removing document ids", opt_errorCallback, !0);
  JSCompiler_StaticMethods_readProfileDataDocumentIds(dataType, function(storedIds) {
    for (var i = 0;i < documentIds.length;i++) {
      goog$array$remove(storedIds, documentIds[i]);
    }
    var record = JSCompiler_StaticMethods_createProfileDataDocumentIdsRecord_(dataType, storedIds);
    JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(JSCompiler_StaticMethods_getObjectStore(transaction, "ProfileData"), record);
    JSCompiler_StaticMethods_setCompletionCallback(transaction, resultCallback);
  }, transaction);
}
function JSCompiler_StaticMethods_readProfileDataDocumentIds(dataType, readCallback, transaction) {
  JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getObjectStore(transaction, "ProfileData").get(dataType), function(e) {
    var docIds = e.target.result;
    readCallback(docIds && docIds.documentIds ? docIds.documentIds : []);
  });
}
function JSCompiler_StaticMethods_createProfileDataDocumentIdsRecord_(dataType, storedIds) {
  var record = {};
  record.dataType = dataType;
  record.documentIds = storedIds;
  return record;
}
;
// Input 620
function docs$localstore$UserCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$UserCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$UserCapability.prototype.getSupportedRecordTypes = function $docs$localstore$UserCapability$$getSupportedRecordTypes$() {
  return ["user"];
};
function JSCompiler_StaticMethods_getUniqueUser(JSCompiler_StaticMethods_getUniqueUser$self) {
  return (new goog$Promise(function(resolve, reject) {
    return JSCompiler_StaticMethods_readUsers(this, resolve, reject);
  }.bind(JSCompiler_StaticMethods_getUniqueUser$self))).then(function(users) {
    if (1 > users.length) {
      throw Error("Expected an offline user in localstore");
    }
    return users[0];
  });
}
docs$localstore$UserCapability.prototype.createOperationsForRecordInternal = function $docs$localstore$UserCapability$$createOperationsForRecordInternal$(record, opt_nullableProperties) {
  return docs$localstore$UserCapability.superClass_.createOperationsForRecordInternal.call(this, record, opt_nullableProperties);
};
docs$localstore$UserCapability.prototype.getKeyForRecord = function $docs$localstore$UserCapability$$getKeyForRecord$(record) {
  return record.getId();
};
docs$localstore$UserCapability.prototype.isOperationSupported = function $docs$localstore$UserCapability$$isOperationSupported$(operation) {
  return docs$localstore$UserCapability.superClass_.isOperationSupported.call(this, operation) && "delete-record" != operation.getType();
};
// Input 621
function docs$localstore$idb$UserCapability(db, idbUtil, storageObjectReaderWriter, errorReporter) {
  goog$events$EventTarget.call(this);
  this.docs_localstore_idb_UserCapability$db_ = db;
  this.docs_localstore_idb_UserCapability$storageObjectReaderWriter_ = storageObjectReaderWriter;
  this.docs_localstore_idb_UserCapability$errorReporter_ = errorReporter;
}
goog$inherits(docs$localstore$idb$UserCapability, docs$localstore$UserCapability);
docs$localstore$idb$UserCapability.prototype.docs_localstore_idb_UserCapability_prototype$logger_ = goog$debug$LogManager$getLogger("docs.localstore.idb.UserCapability");
function JSCompiler_StaticMethods_readUsers(JSCompiler_StaticMethods_readUsers$self, resultCallback, opt_errorCallback) {
  if (JSCompiler_StaticMethods_readUsers$self.docs_localstore_idb_UserCapability$db_.versionChanged_) {
    goog$Timer$callOnce(goog$partial(resultCallback, []));
  } else {
    if (goog$array$contains(JSCompiler_StaticMethods_readUsers$self.docs_localstore_idb_UserCapability$db_.docs_localstore_idb_DocsDatabase$db_.objectStoreNames, "Users")) {
      var transaction = JSCompiler_StaticMethods_openTransaction(JSCompiler_StaticMethods_readUsers$self.docs_localstore_idb_UserCapability$db_, ["Users"], "Error reading users.", opt_errorCallback), users = [];
      JSCompiler_StaticMethods_setSuccessCallback(JSCompiler_StaticMethods_getObjectStore(transaction, "Users").get(docs$localstore$idb$DatabaseUtil$KEY_RANGE_.lowerBound(-Infinity)), goog$bind(function(e) {
        var obj = e.target.result;
        if (obj) {
          var user = new docs$localstore$User(obj.id, !1);
          JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(user, "emailAddress", obj.emailAddress);
          JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(user, "locale", obj.locale);
          null != obj.fastTrack && JSCompiler_StaticMethods_setBooleanProperty(user, "fastTrack", !!obj.fastTrack);
          null != obj.internal && JSCompiler_StaticMethods_setBooleanProperty(user, "internal", !!obj.internal);
          null != obj.optInReasons && JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(user, "optInReasons", obj.optInReasons);
          user.initializing_ = !1;
          users = [user];
        }
      }, JSCompiler_StaticMethods_readUsers$self));
      JSCompiler_StaticMethods_setCompletionCallback(transaction, function() {
        resultCallback(users);
      });
    } else {
      JSCompiler_StaticMethods_readUsers$self.docs_localstore_idb_UserCapability$errorReporter_.log(Error("Reading from uninitialized IDB database.")), goog$Timer$callOnce(goog$partial(resultCallback, []));
    }
  }
}
docs$localstore$idb$UserCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$UserCapability$$getObjectStoreNamesForOperation$(operation) {
  if (!this.isOperationSupported(operation)) {
    throw Error("Cannot get object store names for operation type " + operation.getType());
  }
  return ["Users"];
};
docs$localstore$idb$UserCapability.prototype.performOperation = function $docs$localstore$idb$UserCapability$$performOperation$(operation, transaction) {
  switch(operation.getType()) {
    case "update-record":
      var userStore = JSCompiler_StaticMethods_getObjectStore(transaction, "Users");
      operation.docs_localstore_UpdateRecordOperation$isNew_ ? (goog$log$info(this.docs_localstore_idb_UserCapability_prototype$logger_, "Writing new user record"), JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add(userStore, operation.modifications_)) : (goog$log$info(this.docs_localstore_idb_UserCapability_prototype$logger_, "Updating user record"), JSCompiler_StaticMethods_saveModifications(this.docs_localstore_idb_UserCapability$storageObjectReaderWriter_, JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation), 
      operation.modifications_, userStore));
      break;
    default:
      throw Error("Operation type " + operation.getType() + " not supported.");
  }
};
// Input 622
function docs$localstore$idb$StorageAdapter(db, documentAdapters, lockSessionId, lockDuration, errorReporter) {
  docs$localstore$StorageAdapter.call(this);
  this.docs_localstore_idb_StorageAdapter$errorReporter_ = errorReporter;
  this.docs_localstore_idb_StorageAdapter$eventHandler_ = new goog$events$EventHandler(this);
  this.docs_localstore_idb_StorageAdapter$idbUtil_ = new docs$localstore$idb$DatabaseUtil;
  this.docs_localstore_idb_StorageAdapter$storageObjectReaderWriter_ = new docs$localstore$idb$StorageObjectReaderWriter;
  this.docs_localstore_idb_StorageAdapter$db_ = db;
  this.docs_localstore_idb_StorageAdapter$eventHandler_.listen(this.docs_localstore_idb_StorageAdapter$db_, "l", this.docs_localstore_idb_StorageAdapter_prototype$handleVersionChange_);
  this.docs_localstore_idb_StorageAdapter$eventHandler_.listen(this.docs_localstore_idb_StorageAdapter$db_, "i", this.handleDatabaseClosed_);
  this.documentAdapters_ = documentAdapters;
  this.pendingQueueCapability_ = new docs$localstore$idb$PendingQueueCapability(this.docs_localstore_idb_StorageAdapter$db_, 0, this.documentAdapters_, this.docs_localstore_idb_StorageAdapter$errorReporter_);
  JSCompiler_StaticMethods_registerCapability(this, this.pendingQueueCapability_);
  this.documentCapability_ = this.createDocumentCapability(this.documentAdapters_);
  JSCompiler_StaticMethods_registerCapability(this, this.documentCapability_);
  this.documentLockCapability_ = new docs$localstore$idb$DocumentLockCapability(this.docs_localstore_idb_StorageAdapter$db_, lockSessionId, lockDuration, this.docs_localstore_idb_StorageAdapter$errorReporter_);
  this.userCapability_ = new docs$localstore$idb$UserCapability(db, 0, this.docs_localstore_idb_StorageAdapter$storageObjectReaderWriter_, errorReporter);
  JSCompiler_StaticMethods_registerCapability(this, this.userCapability_);
  this.databaseDeletionCapability_ = new docs$localstore$idb$DatabaseDeletionCapability;
}
goog$inherits(docs$localstore$idb$StorageAdapter, docs$localstore$StorageAdapter);
docs$localstore$idb$StorageAdapter.prototype.docs_localstore_idb_StorageAdapter_prototype$logger = goog$debug$LogManager$getLogger("docs.localstore.idb.StorageAdapter");
docs$localstore$idb$StorageAdapter.prototype.getUserCapability = function $docs$localstore$idb$StorageAdapter$$getUserCapability$() {
  return this.userCapability_;
};
docs$localstore$idb$StorageAdapter.prototype.createDocumentCapability = function $docs$localstore$idb$StorageAdapter$$createDocumentCapability$(documentAdapters) {
  return new docs$localstore$idb$DocumentCapability(this.docs_localstore_idb_StorageAdapter$db_, 0, this.docs_localstore_idb_StorageAdapter$storageObjectReaderWriter_, documentAdapters);
};
docs$localstore$idb$StorageAdapter.prototype.docs_localstore_idb_StorageAdapter_prototype$handleVersionChange_ = function $docs$localstore$idb$StorageAdapter$$docs_localstore_idb_StorageAdapter_prototype$handleVersionChange_$() {
  this.dispatchEvent(new docs$localstore$SchemaVersionChangeEvent);
};
docs$localstore$idb$StorageAdapter.prototype.handleDatabaseClosed_ = function $docs$localstore$idb$StorageAdapter$$handleDatabaseClosed_$(e) {
  this.dispatchEvent(e);
};
function JSCompiler_StaticMethods_performOperations(JSCompiler_StaticMethods_performOperations$self, operations, completionCallback, opt_errorCallback) {
  goog$log$fine(JSCompiler_StaticMethods_performOperations$self.docs_localstore_idb_StorageAdapter_prototype$logger, "write()");
  if (JSCompiler_StaticMethods_performOperations$self.docs_localstore_idb_StorageAdapter$db_.versionChanged_) {
    goog$log$info(JSCompiler_StaticMethods_performOperations$self.docs_localstore_idb_StorageAdapter_prototype$logger, "Write abandoned due to a db version change."), goog$Timer$callOnce(completionCallback);
  } else {
    for (var storeNameSet = {}, i = 0;i < operations.length;i++) {
      for (var operation = operations[i], capability = JSCompiler_StaticMethods_getCapabilityForOperation_(JSCompiler_StaticMethods_performOperations$self, operation), recordStoreNames = capability.getObjectStoreNamesForOperation(operation), j = 0;j < recordStoreNames.length;j++) {
        storeNameSet[recordStoreNames[j]] = !0;
      }
    }
    var transaction = JSCompiler_StaticMethods_openTransaction(JSCompiler_StaticMethods_performOperations$self.docs_localstore_idb_StorageAdapter$db_, goog$object$getKeys(storeNameSet), "Error writing records.", opt_errorCallback, !0);
    JSCompiler_StaticMethods_setCompletionCallback(transaction, completionCallback);
    for (i = 0;i < operations.length;i++) {
      operation = operations[i], capability = JSCompiler_StaticMethods_getCapabilityForOperation_(JSCompiler_StaticMethods_performOperations$self, operation), capability.performOperation(operation, transaction);
    }
  }
}
function JSCompiler_StaticMethods_getCapabilityForOperation_(JSCompiler_StaticMethods_getCapabilityForOperation_$self, operation) {
  if (docs$localstore$Operation$isRecordOperation(operation)) {
    var recordType = operation.docs_localstore_RecordOperation$recordType_, capability = JSCompiler_StaticMethods_getCapabilityForOperation_$self.recordTypeToCapabilityMap_[recordType] || null;
    if (!capability) {
      throw Error("No capability registered for record type " + recordType);
    }
    return capability;
  }
  var operationType = operation.getType();
  if ("pq-clear" == operationType || "pq-clear-sent" == operationType || "pq-clear-sent-bundle" == operationType || "pq-delete-commands" == operationType || "pq-mark-sent" == operationType || "pq-write-commands" == operationType) {
    return JSCompiler_StaticMethods_getCapabilityForOperation_$self.pendingQueueCapability_;
  }
  if ("document-lock" == operationType) {
    return JSCompiler_StaticMethods_getCapabilityForOperation_$self.documentLockCapability_;
  }
  if ("append-commands" == operationType || "write-trix" == operationType) {
    return JSCompiler_StaticMethods_getCapabilityForOperation_$self.documentCapability_;
  }
  if ("update-application-metadata" == operationType) {
    if (capability = JSCompiler_StaticMethods_getCapabilityForOperation_$self.docs_localstore_StorageAdapter_prototype$getDocumentCreationCapability()) {
      return capability;
    }
  } else {
    if ("append-template-commands" == operationType && (capability = JSCompiler_StaticMethods_getCapabilityForOperation_$self.docs_localstore_StorageAdapter_prototype$getTemplateCapability())) {
      return capability;
    }
  }
  throw Error("No capability registered for operation type " + operationType);
}
docs$localstore$idb$StorageAdapter.prototype.handleSetVersionSuccess_ = function $docs$localstore$idb$StorageAdapter$$handleSetVersionSuccess_$(errorCallback, transaction) {
  goog$log$fine(this.docs_localstore_idb_StorageAdapter_prototype$logger, "Received setVersion success callback.");
  try {
    this.doInitialize(transaction);
  } catch (ex) {
    goog$Timer$callOnce(goog$partial(errorCallback, new docs$localstore$LocalStoreError(1, "Failed to initialize database.")));
  }
};
docs$localstore$idb$StorageAdapter.prototype.handleSetVersionForUpgradeSuccess_ = function $docs$localstore$idb$StorageAdapter$$handleSetVersionForUpgradeSuccess_$(errorCallback, transaction) {
  goog$log$fine(this.docs_localstore_idb_StorageAdapter_prototype$logger, "Received setVersion success callback on upgrade.");
  try {
    this.doUpgrade(transaction);
  } catch (ex) {
    goog$Timer$callOnce(goog$partial(errorCallback, new docs$localstore$LocalStoreError(1, "Failed to upgrade database.")));
  }
};
docs$localstore$idb$StorageAdapter.prototype.disposeInternal = function $docs$localstore$idb$StorageAdapter$$disposeInternal$() {
  goog$disposeAll(this.docs_localstore_idb_StorageAdapter$eventHandler_, this.documentLockCapability_, this.pendingQueueCapability_, this.documentCapability_, this.userCapability_, this.databaseDeletionCapability_);
  docs$localstore$idb$StorageAdapter.superClass_.disposeInternal.call(this);
};
// Input 623
function docs$localstore$SyncObjectsCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$SyncObjectsCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$SyncObjectsCapability.prototype.getSupportedRecordTypes = function $docs$localstore$SyncObjectsCapability$$getSupportedRecordTypes$() {
  return ["syncObject"];
};
docs$localstore$SyncObjectsCapability.prototype.getKeyForRecord = function $docs$localstore$SyncObjectsCapability$$getKeyForRecord$(record) {
  return record.docs_localstore_SyncObject_prototype$getKeyPath();
};
docs$localstore$SyncObjectsCapability.prototype.isOperationSupported = function $docs$localstore$SyncObjectsCapability$$isOperationSupported$(operation) {
  return docs$localstore$SyncObjectsCapability.superClass_.isOperationSupported.call(this, operation) && "update-record" == operation.getType() && operation.docs_localstore_UpdateRecordOperation$isNew_;
};
// Input 624
function docs$localstore$idb$SyncObjectsCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$idb$SyncObjectsCapability, docs$localstore$SyncObjectsCapability);
docs$localstore$idb$SyncObjectsCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$SyncObjectsCapability$$getObjectStoreNamesForOperation$() {
  return ["SyncObjects"];
};
docs$localstore$idb$SyncObjectsCapability.prototype.performOperation = function $docs$localstore$idb$SyncObjectsCapability$$performOperation$(operation, transaction) {
  switch(operation.getType()) {
    case "update-record":
      var syncObjectStore = JSCompiler_StaticMethods_getObjectStore(transaction, "SyncObjects");
      if (operation.docs_localstore_UpdateRecordOperation$isNew_) {
        JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(syncObjectStore, operation.modifications_);
      } else {
        throw Error("SyncObject update is not implemented.");
      }
      break;
    default:
      throw Error("Operation type " + operation.getType() + " not supported.");
  }
};
// Input 625
// Input 626
function docs$localstore$SyncStatsCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$SyncStatsCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$SyncStatsCapability.prototype.getSupportedRecordTypes = function $docs$localstore$SyncStatsCapability$$getSupportedRecordTypes$() {
  return ["syncStats"];
};
docs$localstore$SyncStatsCapability.prototype.getKeyForRecord = JSCompiler_returnArg(null);
docs$localstore$SyncStatsCapability.prototype.isOperationSupported = function $docs$localstore$SyncStatsCapability$$isOperationSupported$(operation) {
  return docs$localstore$SyncStatsCapability.superClass_.isOperationSupported.call(this, operation) && "delete-record" != operation.getType();
};
// Input 627
function docs$localstore$idb$SyncStatsCapability(db, storageObjectReaderWriter) {
  goog$events$EventTarget.call(this);
  this.docs_localstore_idb_SyncStatsCapability$storageObjectReaderWriter_ = storageObjectReaderWriter;
}
goog$inherits(docs$localstore$idb$SyncStatsCapability, docs$localstore$SyncStatsCapability);
docs$localstore$idb$SyncStatsCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$SyncStatsCapability$$getObjectStoreNamesForOperation$() {
  return ["ProfileData"];
};
docs$localstore$idb$SyncStatsCapability.prototype.performOperation = function $docs$localstore$idb$SyncStatsCapability$$performOperation$(operation, transaction) {
  switch(operation.getType()) {
    case "update-record":
      var profileDataStore = JSCompiler_StaticMethods_getObjectStore(transaction, "ProfileData");
      operation.docs_localstore_UpdateRecordOperation$isNew_ ? JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(profileDataStore, operation.modifications_) : JSCompiler_StaticMethods_saveModifications(this.docs_localstore_idb_SyncStatsCapability$storageObjectReaderWriter_, "syncstats", operation.modifications_, profileDataStore);
      break;
    default:
      throw Error("Operation type " + operation.getType() + " not supported.");
  }
};
// Input 628
// Input 629
function docs$localstore$WebFontsCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$WebFontsCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$WebFontsCapability.prototype.getSupportedRecordTypes = function $docs$localstore$WebFontsCapability$$getSupportedRecordTypes$() {
  return ["fontMetadata"];
};
docs$localstore$WebFontsCapability.prototype.getKeyForRecord = function $docs$localstore$WebFontsCapability$$getKeyForRecord$(record) {
  return record.getFontFamily();
};
docs$localstore$WebFontsCapability.prototype.isOperationSupported = function $docs$localstore$WebFontsCapability$$isOperationSupported$(operation) {
  return docs$localstore$WebFontsCapability.superClass_.isOperationSupported.call(this, operation) ? "update-record" == operation.getType() ? operation.docs_localstore_UpdateRecordOperation$isNew_ : !0 : !1;
};
// Input 630
function docs$localstore$idb$WebFontsCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$idb$WebFontsCapability, docs$localstore$WebFontsCapability);
docs$localstore$idb$WebFontsCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$WebFontsCapability$$getObjectStoreNamesForOperation$() {
  return ["FontMetadata"];
};
docs$localstore$idb$WebFontsCapability.prototype.performOperation = function $docs$localstore$idb$WebFontsCapability$$performOperation$(operation, transaction) {
  var fontMetadataStore = JSCompiler_StaticMethods_getObjectStore(transaction, "FontMetadata");
  switch(operation.getType()) {
    case "update-record":
      if (operation.docs_localstore_UpdateRecordOperation$isNew_) {
        JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(fontMetadataStore, operation.modifications_);
      } else {
        throw Error("FontMetadata update is not implemented.");
      }
      break;
    case "delete-record":
      JSCompiler_StaticMethods_deleteFromStore(fontMetadataStore, JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation));
      break;
    default:
      throw Error("Operation type " + operation.getType() + " not supported.");
  }
};
// Input 631
function docs$localstore$idb$V6StorageAdapter(indexedDB, documentAdapters, lockSessionId, lockDuration, errorReporter) {
  docs$localstore$idb$StorageAdapter.call(this, indexedDB, documentAdapters, lockSessionId, lockDuration, errorReporter);
  var db = this.docs_localstore_idb_StorageAdapter$db_;
  this.documentEntityCapability_ = new docs$localstore$idb$DocumentEntityCapability(0, 0, this.docs_localstore_idb_StorageAdapter$storageObjectReaderWriter_);
  JSCompiler_StaticMethods_registerCapability(this, this.documentEntityCapability_);
  this.webFontsCapability_ = new docs$localstore$idb$WebFontsCapability;
  JSCompiler_StaticMethods_registerCapability(this, this.webFontsCapability_);
  this.syncObjectsCapability_ = new docs$localstore$idb$SyncObjectsCapability;
  JSCompiler_StaticMethods_registerCapability(this, this.syncObjectsCapability_);
  this.latencyReportingCapability_ = new docs$localstore$idb$LatencyReportingCapability;
  this.nonSnapshottedDocsCapability_ = new docs$localstore$idb$NonSnapshottedDocsCapability(db);
  this.syncStatsCapability_ = new docs$localstore$idb$SyncStatsCapability(0, this.docs_localstore_idb_StorageAdapter$storageObjectReaderWriter_);
  JSCompiler_StaticMethods_registerCapability(this, this.syncStatsCapability_);
  this.docosCapability_ = new docs$localstore$idb$DocosCapability(this.docs_localstore_idb_StorageAdapter$db_, 0, this.docs_localstore_idb_StorageAdapter$storageObjectReaderWriter_);
  JSCompiler_StaticMethods_registerCapability(this, this.docosCapability_);
  this.documentCreationCapability_ = new docs$localstore$idb$DocumentCreationCapability(0, 0, documentAdapters, this.docs_localstore_idb_StorageAdapter$storageObjectReaderWriter_);
  JSCompiler_StaticMethods_registerCapability(this, this.documentCreationCapability_);
  this.impressionCapability_ = new docs$localstore$idb$ImpressionCapability;
  JSCompiler_StaticMethods_registerCapability(this, this.impressionCapability_);
}
goog$inherits(docs$localstore$idb$V6StorageAdapter, docs$localstore$idb$StorageAdapter);
goog$array$sort("ApplicationMetadata Comments DocumentCommandsMetadataStaging DocumentCommandsMetadata DocumentCommandsStaging DocumentCommands DocumentEntities DocumentLocks Documents FileEntities FontMetadata Impressions NewDocumentIds PendingQueueCommands PendingQueues ProfileData SyncObjects Users".split(" "));
docs$localstore$idb$V6StorageAdapter.prototype.getSchemaVersion = JSCompiler_returnArg(6);
docs$localstore$idb$V6StorageAdapter.prototype.docs_localstore_StorageAdapter_prototype$getDocosCapability = function $docs$localstore$idb$V6StorageAdapter$$docs_localstore_StorageAdapter_prototype$getDocosCapability$() {
  return this.docosCapability_;
};
docs$localstore$idb$V6StorageAdapter.prototype.docs_localstore_StorageAdapter_prototype$getNonSnapshottedDocsCapability = function $docs$localstore$idb$V6StorageAdapter$$docs_localstore_StorageAdapter_prototype$getNonSnapshottedDocsCapability$() {
  return this.nonSnapshottedDocsCapability_;
};
docs$localstore$idb$V6StorageAdapter.prototype.docs_localstore_StorageAdapter_prototype$getDocumentCreationCapability = function $docs$localstore$idb$V6StorageAdapter$$docs_localstore_StorageAdapter_prototype$getDocumentCreationCapability$() {
  return this.documentCreationCapability_;
};
docs$localstore$idb$V6StorageAdapter.prototype.createDocumentCapability = function $docs$localstore$idb$V6StorageAdapter$$createDocumentCapability$(documentAdapters) {
  return new docs$localstore$idb$DocumentCapability(this.docs_localstore_idb_StorageAdapter$db_, 0, this.docs_localstore_idb_StorageAdapter$storageObjectReaderWriter_, documentAdapters);
};
docs$localstore$idb$V6StorageAdapter.prototype.canUpgrade = JSCompiler_returnArg(!1);
docs$localstore$idb$V6StorageAdapter.prototype.doInitialize = function $docs$localstore$idb$V6StorageAdapter$$doInitialize$(transaction) {
  var db = transaction.db;
  db.createObjectStore("FontMetadata", {keyPath:"fontFamily"});
  db.createObjectStore("DocumentEntities", {keyPath:"deKey"});
  db.createObjectStore("SyncObjects", {keyPath:"keyPath"});
  db.createObjectStore("ProfileData", {keyPath:"dataType"});
  db.createObjectStore("ApplicationMetadata", {keyPath:"dt"});
  db.createObjectStore("NewDocumentIds", {keyPath:"dtKey"});
  db.createObjectStore("Comments", {keyPath:"cmtKey"}).createIndex("StateIndex", "stateIndex");
  db.createObjectStore("Users", {keyPath:"id"});
  db.createObjectStore("Documents", {keyPath:"id"});
  db.createObjectStore("DocumentCommands", {keyPath:"dcKey"});
  db.createObjectStore("DocumentCommandsStaging", {keyPath:"dcKey"});
  db.createObjectStore("DocumentCommandsMetadata", {keyPath:"dcmKey"});
  db.createObjectStore("DocumentCommandsMetadataStaging", {keyPath:"dcmKey"});
  db.createObjectStore("DocumentLocks", {keyPath:"dlKey"});
  db.createObjectStore("Impressions", {keyPath:"iKey"});
  db.createObjectStore("PendingQueues", {keyPath:"docId"});
  db.createObjectStore("PendingQueueCommands", {keyPath:"pqcKey"});
  db.createObjectStore("FileEntities", {keyPath:"id"}).createIndex("DocIdEntityTypeIndex", "docIdEntityTypeIndex");
};
docs$localstore$idb$V6StorageAdapter.prototype.disposeInternal = function $docs$localstore$idb$V6StorageAdapter$$disposeInternal$() {
  goog$disposeAll(this.documentEntityCapability_, this.webFontsCapability_, this.syncObjectsCapability_, this.latencyReportingCapability_, this.nonSnapshottedDocsCapability_, this.syncStatsCapability_, this.docosCapability_, this.documentCreationCapability_, this.impressionCapability_);
  docs$localstore$idb$V6StorageAdapter.superClass_.disposeInternal.call(this);
};
// Input 632
// Input 633
// Input 634
var docs$localstore$BlobMetadata$NULLABLE_PROPERTIES = ["c", "oc", "ou", "u"];
// Input 635
function docs$localstore$PendingBlobCapability() {
  goog$events$EventTarget.call(this);
}
goog$inherits(docs$localstore$PendingBlobCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$PendingBlobCapability.prototype.getSupportedRecordTypes = function $docs$localstore$PendingBlobCapability$$getSupportedRecordTypes$() {
  return ["blobMetadata"];
};
docs$localstore$PendingBlobCapability.prototype.createOperationsForRecordInternal = function $docs$localstore$PendingBlobCapability$$createOperationsForRecordInternal$(record) {
  return docs$localstore$PendingBlobCapability.superClass_.createOperationsForRecordInternal.call(this, record, docs$localstore$BlobMetadata$NULLABLE_PROPERTIES);
};
docs$localstore$PendingBlobCapability.prototype.getKeyForRecord = function $docs$localstore$PendingBlobCapability$$getKeyForRecord$(record) {
  return [record.getDocId(), record.getPlaceholderId()];
};
// Input 636
function docs$localstore$idb$PendingBlobCapability(db, idbUtil, storageObjectReaderWriter) {
  goog$events$EventTarget.call(this);
  this.docs_localstore_idb_PendingBlobCapability$storageObjectReaderWriter_ = storageObjectReaderWriter;
}
goog$inherits(docs$localstore$idb$PendingBlobCapability, docs$localstore$PendingBlobCapability);
docs$localstore$idb$PendingBlobCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$PendingBlobCapability$$getObjectStoreNamesForOperation$() {
  return ["BlobMetadata"];
};
docs$localstore$idb$PendingBlobCapability.prototype.performOperation = function $docs$localstore$idb$PendingBlobCapability$$performOperation$(operation, transaction) {
  var blobMetadataStore = JSCompiler_StaticMethods_getObjectStore(transaction, "BlobMetadata");
  switch(operation.getType()) {
    case "update-record":
      operation.docs_localstore_UpdateRecordOperation$isNew_ ? JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$add(blobMetadataStore, operation.modifications_) : JSCompiler_StaticMethods_saveModifications(this.docs_localstore_idb_PendingBlobCapability$storageObjectReaderWriter_, JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation), operation.modifications_, blobMetadataStore);
      break;
    case "delete-record":
      JSCompiler_StaticMethods_deleteFromStore(blobMetadataStore, JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation));
      break;
    default:
      throw Error("Operation type " + operation.getType() + " not supported.");
  }
};
// Input 637
function docs$localstore$idb$V7DocumentCapability(db, idbUtil, storageObjectReaderWriter, documentAdapters) {
  docs$localstore$idb$DocumentCapability.call(this, db, 0, storageObjectReaderWriter, documentAdapters);
}
goog$inherits(docs$localstore$idb$V7DocumentCapability, docs$localstore$idb$DocumentCapability);
docs$localstore$idb$V7DocumentCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$V7DocumentCapability$$getObjectStoreNamesForOperation$(operation) {
  var storeNames = docs$localstore$idb$V7DocumentCapability.superClass_.getObjectStoreNamesForOperation.call(this, operation);
  "delete-record" == operation.getType() && storeNames.push("BlobMetadata");
  return storeNames;
};
docs$localstore$idb$V7DocumentCapability.prototype.deleteDocumentInternal = function $docs$localstore$idb$V7DocumentCapability$$deleteDocumentInternal$(operation, transaction) {
  docs$localstore$idb$V7DocumentCapability.superClass_.deleteDocumentInternal.call(this, operation, transaction);
  var docId = JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation);
  JSCompiler_StaticMethods_deleteFromStore(JSCompiler_StaticMethods_getObjectStore(transaction, "BlobMetadata"), [docId], [docId, []]);
};
// Input 638
function docs$localstore$idb$V7StorageAdapter(indexedDB, documentAdapters, lockSessionId, lockDuration, errorReporter) {
  docs$localstore$idb$V6StorageAdapter.call(this, indexedDB, documentAdapters, lockSessionId, lockDuration, errorReporter);
  this.pendingBlobCapability_ = new docs$localstore$idb$PendingBlobCapability(0, 0, this.docs_localstore_idb_StorageAdapter$storageObjectReaderWriter_);
  JSCompiler_StaticMethods_registerCapability(this, this.pendingBlobCapability_);
}
goog$inherits(docs$localstore$idb$V7StorageAdapter, docs$localstore$idb$V6StorageAdapter);
docs$localstore$idb$V7StorageAdapter.prototype.getSchemaVersion = JSCompiler_returnArg(7);
docs$localstore$idb$V7StorageAdapter.prototype.createDocumentCapability = function $docs$localstore$idb$V7StorageAdapter$$createDocumentCapability$(documentAdapters) {
  return new docs$localstore$idb$V7DocumentCapability(this.docs_localstore_idb_StorageAdapter$db_, this.docs_localstore_idb_StorageAdapter$idbUtil_, this.docs_localstore_idb_StorageAdapter$storageObjectReaderWriter_, documentAdapters);
};
docs$localstore$idb$V7StorageAdapter.prototype.canUpgrade = JSCompiler_returnArg(!0);
docs$localstore$idb$V7StorageAdapter.prototype.doInitialize = function $docs$localstore$idb$V7StorageAdapter$$doInitialize$(transaction) {
  docs$localstore$idb$V7StorageAdapter.superClass_.doInitialize.call(this, transaction);
  JSCompiler_StaticMethods_createV7Stores_(transaction);
};
docs$localstore$idb$V7StorageAdapter.prototype.doUpgrade = function $docs$localstore$idb$V7StorageAdapter$$doUpgrade$(transaction) {
  JSCompiler_StaticMethods_createV7Stores_(transaction);
};
function JSCompiler_StaticMethods_createV7Stores_(transaction) {
  transaction.db.createObjectStore("BlobMetadata", {keyPath:["d", "p"]});
}
;
// Input 639
// Input 640
// Input 641
function docs$localstore$AppendTemplateCommandsOperation(templateId, documentType, commandBatches, shouldReplace) {
  this.docs_localstore_Operation$type_ = "append-template-commands";
  this.templateId_ = templateId;
  this.documentType_ = documentType;
  this.docs_localstore_AppendTemplateCommandsOperation$commandBatches_ = commandBatches;
  this.docs_localstore_AppendTemplateCommandsOperation$shouldReplace_ = shouldReplace;
}
goog$inherits(docs$localstore$AppendTemplateCommandsOperation, docs$localstore$Operation);
docs$localstore$AppendTemplateCommandsOperation.prototype.getDocumentType = function $docs$localstore$AppendTemplateCommandsOperation$$getDocumentType$() {
  return this.documentType_;
};
// Input 642
function docs$localstore$TemplateAdapter(documentType, serializer) {
  goog$Disposable.call(this);
  this.documentType_ = documentType;
  this.serializer_ = serializer;
}
goog$inherits(docs$localstore$TemplateAdapter, goog$Disposable);
docs$localstore$TemplateAdapter.prototype.createOperations = function $docs$localstore$TemplateAdapter$$createOperations$(templateCreationMetadata) {
  var commandBatches = JSCompiler_StaticMethods_getUnwrittenCommands(templateCreationMetadata.docs_localstore_TemplateCreationMetadata_prototype$getCommandQueue());
  return 0 == commandBatches.length ? [] : [new docs$localstore$AppendTemplateCommandsOperation(templateCreationMetadata.getId(), templateCreationMetadata.getDocumentType(), commandBatches, !0)];
};
docs$localstore$TemplateAdapter.prototype.getDocumentType = function $docs$localstore$TemplateAdapter$$getDocumentType$() {
  return this.documentType_;
};
// Input 643
function docs$localstore$idb$TemplateAdapter(documentType, serializer, database) {
  docs$localstore$TemplateAdapter.call(this, documentType, serializer);
  this.docs_localstore_idb_TemplateAdapter$database_ = database;
  this.docs_localstore_idb_TemplateAdapter$commandsReader_ = new docs$localstore$idb$CommandsReader(0, new docs$localstore$CommandsParser(serializer));
}
goog$inherits(docs$localstore$idb$TemplateAdapter, docs$localstore$TemplateAdapter);
docs$localstore$idb$TemplateAdapter.prototype.readCommands = function $docs$localstore$idb$TemplateAdapter$$readCommands$(templateCreationMetadata, partId, startCallback, batchCallback, opt_successCallback) {
  var transaction = JSCompiler_StaticMethods_openTransaction(this.docs_localstore_idb_TemplateAdapter$database_, ["TemplateCommands"], "TemplateAdapter.readCommands");
  opt_successCallback && JSCompiler_StaticMethods_setCompletionCallback(transaction, opt_successCallback);
  var commandStore = JSCompiler_StaticMethods_getObjectStore(transaction, "TemplateCommands");
  this.docs_localstore_idb_TemplateAdapter$commandsReader_.readAllCommands(templateCreationMetadata.getId(), partId, commandStore, !1, startCallback, batchCallback, 0);
};
docs$localstore$idb$TemplateAdapter.prototype.performOperation = function $docs$localstore$idb$TemplateAdapter$$performOperation$(operation, transaction) {
  switch(operation.getType()) {
    case "append-template-commands":
      var commandStore = JSCompiler_StaticMethods_getObjectStore(transaction, "TemplateCommands");
      operation.docs_localstore_AppendTemplateCommandsOperation$shouldReplace_ && JSCompiler_StaticMethods_deleteFromStore(commandStore, docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeLowerBound(operation.templateId_), docs$localstore$idb$DocumentCommandsStorageObject$getKeyRangeUpperBound(operation.templateId_));
      for (var commandBathes = operation.docs_localstore_AppendTemplateCommandsOperation$commandBatches_, i = 0;i < commandBathes.length;++i) {
        for (var commandStore$jscomp$0 = commandStore, templateId = operation.templateId_, batch = commandBathes[i], commands = batch.docs_localstore_LocalStorageCommandBatch$commands_, commandObjects = [], i$jscomp$0 = 0;i$jscomp$0 < commands.length;++i$jscomp$0) {
          commandObjects.push(this.serializer_.serialize(commands[i$jscomp$0]));
        }
        var storageObject = docs$localstore$idb$DocumentCommandsStorageObject$create(templateId, batch.docs_localstore_LocalStorageCommandBatch$revision_, batch.chunkIndex_, commandObjects);
        JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(commandStore$jscomp$0, storageObject.storageObject_);
      }
      break;
    default:
      throw Error("Unsupported operation type " + operation.getType());
  }
};
// Input 644
function docs$localstore$TemplateCapability(templateAdapters) {
  goog$events$EventTarget.call(this);
  this.templateAdapters_ = templateAdapters;
}
goog$inherits(docs$localstore$TemplateCapability, docs$localstore$AbstractStorageCapability);
docs$localstore$TemplateCapability.prototype.getSupportedRecordTypes = function $docs$localstore$TemplateCapability$$getSupportedRecordTypes$() {
  return ["templateCreationMetadata", "templateMetadata"];
};
docs$localstore$TemplateCapability.prototype.getKeyForRecord = function $docs$localstore$TemplateCapability$$getKeyForRecord$(record) {
  return "templateCreationMetadata" == record.docs_localstore_Record$recordType_ ? [record.getId()] : [record.getId()];
};
docs$localstore$TemplateCapability.prototype.createOperationsForRecordInternal = function $docs$localstore$TemplateCapability$$createOperationsForRecordInternal$(record) {
  var operations = docs$localstore$TemplateCapability.superClass_.createOperationsForRecordInternal.call(this, record);
  if ("templateCreationMetadata" == record.docs_localstore_Record$recordType_) {
    var adapterOperations = this.getAdapterForType(record.getDocumentType()).createOperations(record), operations = operations.concat(adapterOperations);
  }
  return operations;
};
docs$localstore$TemplateCapability.prototype.getAdapterForType = function $docs$localstore$TemplateCapability$$getAdapterForType$(type) {
  var templateAdapter = this.templateAdapters_[type];
  if (!templateAdapter) {
    throw Error("No adapter found for this type: " + type);
  }
  return templateAdapter;
};
docs$localstore$TemplateCapability.prototype.isOperationSupported = function $docs$localstore$TemplateCapability$$isOperationSupported$(operation) {
  return "append-template-commands" == operation.getType() ? !0 : docs$localstore$TemplateCapability.superClass_.isOperationSupported.call(this, operation);
};
// Input 645
function docs$localstore$idb$TemplateCapability(database, idbUtil, templateAdapters) {
  docs$localstore$TemplateCapability.call(this, templateAdapters);
  this.docs_localstore_idb_TemplateCapability$storageObjectReaderWriter_ = new docs$localstore$idb$StorageObjectReaderWriter;
}
goog$inherits(docs$localstore$idb$TemplateCapability, docs$localstore$TemplateCapability);
docs$localstore$idb$TemplateCapability.prototype.getObjectStoreNamesForOperation = function $docs$localstore$idb$TemplateCapability$$getObjectStoreNamesForOperation$() {
  return ["TemplateCommands", "TemplateCreationMetadata", "TemplateMetadata"];
};
docs$localstore$idb$TemplateCapability.prototype.performOperation = function $docs$localstore$idb$TemplateCapability$$performOperation$(operation, transaction) {
  var recordType = operation.docs_localstore_RecordOperation$recordType_, objectStoreName;
  switch(recordType) {
    case "templateMetadata":
      objectStoreName = "TemplateMetadata";
      break;
    case "templateCreationMetadata":
      objectStoreName = "TemplateCreationMetadata";
      break;
    default:
      throw Error("Record type " + recordType + " not supported.");
  }
  var objectStore = JSCompiler_StaticMethods_getObjectStore(transaction, objectStoreName);
  switch(operation.getType()) {
    case "update-record":
      operation.docs_localstore_UpdateRecordOperation$isNew_ ? JSCompiler_StaticMethods_docs_localstore_idb_ObjectStore_prototype$put(objectStore, operation.modifications_) : JSCompiler_StaticMethods_saveModifications(this.docs_localstore_idb_TemplateCapability$storageObjectReaderWriter_, JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation), operation.modifications_, objectStore);
      break;
    case "delete-record":
      JSCompiler_StaticMethods_deleteFromStore(objectStore, JSCompiler_StaticMethods_docs_localstore_RecordOperation_prototype$getKey(operation));
      break;
    case "append-template-commands":
      this.getAdapterForType(operation.getDocumentType()).performOperation(operation, transaction);
      break;
    default:
      throw Error("Operation type " + operation.getType() + " not supported.");
  }
};
// Input 646
function docs$localstore$idb$V8StorageAdapter(indexedDB, documentAdapters, templateAdapters, lockSessionId, lockDuration, errorReporter) {
  docs$localstore$idb$V7StorageAdapter.call(this, indexedDB, documentAdapters, lockSessionId, lockDuration, errorReporter);
  var documentTypes = ["kix", "punch", "ritz"], db = this.docs_localstore_idb_StorageAdapter$db_;
  if (!templateAdapters) {
    templateAdapters = {};
    for (var commandsSerializer = new docs$offline$OpaqueCommandSerializer, i = 0;i < documentTypes.length;i++) {
      templateAdapters[documentTypes[i]] = new docs$localstore$idb$TemplateAdapter(documentTypes[i], commandsSerializer, db);
    }
  }
  this.templateCapability_ = new docs$localstore$idb$TemplateCapability(0, 0, templateAdapters);
  JSCompiler_StaticMethods_registerCapability(this, this.templateCapability_);
}
goog$inherits(docs$localstore$idb$V8StorageAdapter, docs$localstore$idb$V7StorageAdapter);
docs$localstore$idb$V8StorageAdapter.prototype.getSchemaVersion = JSCompiler_returnArg(8);
docs$localstore$idb$V8StorageAdapter.prototype.docs_localstore_StorageAdapter_prototype$getTemplateCapability = function $docs$localstore$idb$V8StorageAdapter$$docs_localstore_StorageAdapter_prototype$getTemplateCapability$() {
  return this.templateCapability_;
};
docs$localstore$idb$V8StorageAdapter.prototype.canUpgrade = JSCompiler_returnArg(!0);
docs$localstore$idb$V8StorageAdapter.prototype.doInitialize = function $docs$localstore$idb$V8StorageAdapter$$doInitialize$(transaction) {
  docs$localstore$idb$V8StorageAdapter.superClass_.doInitialize.call(this, transaction);
  JSCompiler_StaticMethods_createV8Stores_(transaction);
};
docs$localstore$idb$V8StorageAdapter.prototype.doUpgrade = function $docs$localstore$idb$V8StorageAdapter$$doUpgrade$(transaction) {
  JSCompiler_StaticMethods_createV8Stores_(transaction);
};
function JSCompiler_StaticMethods_createV8Stores_(transaction) {
  var db = transaction.db;
  db.createObjectStore("TemplateMetadata", {keyPath:["id"]});
  db.createObjectStore("TemplateCreationMetadata", {keyPath:["id"]});
  db.createObjectStore("TemplateCommands", {keyPath:"dcKey"});
}
;
// Input 647
function docs$localstore$idb$IdbLocalStoreFactory(errorReporter, lockSessionId, lockDuration, documentAdapterFactoryFn, targetSchemaVersion, shouldTryToUpgradeSchema, opt_errorOnDbOpenTimeout, opt_indexedDb) {
  goog$Disposable.call(this);
  this.docs_localstore_idb_IdbLocalStoreFactory$errorReporter_ = errorReporter;
  this.lockSessionId_ = lockSessionId;
  this.docs_localstore_idb_IdbLocalStoreFactory$lockDuration_ = lockDuration;
  this.documentAdapterFactoryFn_ = documentAdapterFactoryFn;
  this.targetSchemaVersion_ = targetSchemaVersion;
  this.shouldTryToUpgradeSchema_ = shouldTryToUpgradeSchema;
  this.errorOnDbOpenTimeout_ = !!opt_errorOnDbOpenTimeout;
  this.indexedDb_ = opt_indexedDb || null;
  this.storageAdapters_ = {};
  this.documentAdapters_ = {};
  this.docs_localstore_idb_IdbLocalStoreFactory$maxSchemaVersion_ = -1;
  this.docs_localstore_idb_IdbLocalStoreFactory$logger_ = goog$debug$LogManager$getLogger("docs.localstore.idb.IdbLocalStoreFactory");
  this.deferredResult_ = new goog$async$Deferred;
  this.createCalled_ = !1;
}
goog$inherits(docs$localstore$idb$IdbLocalStoreFactory, goog$Disposable);
function JSCompiler_StaticMethods_registerStorageAdapter_(JSCompiler_StaticMethods_registerStorageAdapter_$self, storageAdapter) {
  var adapterVersion = storageAdapter.getSchemaVersion();
  JSCompiler_StaticMethods_registerStorageAdapter_$self.docs_localstore_idb_IdbLocalStoreFactory$maxSchemaVersion_ = Math.max(JSCompiler_StaticMethods_registerStorageAdapter_$self.docs_localstore_idb_IdbLocalStoreFactory$maxSchemaVersion_, adapterVersion);
  JSCompiler_StaticMethods_registerStorageAdapter_$self.storageAdapters_[adapterVersion] = storageAdapter;
  goog$log$info(JSCompiler_StaticMethods_registerStorageAdapter_$self.docs_localstore_idb_IdbLocalStoreFactory$logger_, "Storage adapter v" + adapterVersion + " registered.");
}
docs$localstore$idb$IdbLocalStoreFactory.prototype.create = function $docs$localstore$idb$IdbLocalStoreFactory$$create$(errorCallback, opt_reportOpenDatabaseTiming) {
  if (this.createCalled_) {
    throw Error("The create method can be called only once.");
  }
  this.createCalled_ = !0;
  if (isNaN(this.targetSchemaVersion_)) {
    throw Error("Cannot have the target schema version be NaN.");
  }
  if (this.indexedDb_) {
    this.registerStorageAndDocumentAdapters_(this.indexedDb_);
  } else {
    if (!goog$userAgent$product$CHROME) {
      throw Error("Cannot create storage adapters for unsupported browser");
    }
    docs$localstore$idb$DocsDatabaseFactory$openDatabase(goog$bind(this.registerStorageAndDocumentAdapters_, this), errorCallback, this.docs_localstore_idb_IdbLocalStoreFactory$errorReporter_, goog$bind(this.handleDatabaseOpenFailure_, this), this.errorOnDbOpenTimeout_, opt_reportOpenDatabaseTiming);
  }
  return this.deferredResult_;
};
docs$localstore$idb$IdbLocalStoreFactory.prototype.handleDatabaseOpenFailure_ = function $docs$localstore$idb$IdbLocalStoreFactory$$handleDatabaseOpenFailure_$(localStoreError) {
  goog$log$info(this.docs_localstore_idb_IdbLocalStoreFactory$logger_, "Unable to open Docs IDB instance.");
  this.deferredResult_.errback(localStoreError);
  JSCompiler_StaticMethods_disposeOnError_(this);
};
docs$localstore$idb$IdbLocalStoreFactory.prototype.registerStorageAndDocumentAdapters_ = function $docs$localstore$idb$IdbLocalStoreFactory$$registerStorageAndDocumentAdapters_$(docsDatabase) {
  this.indexedDb_ = docsDatabase;
  if (this.documentAdapterFactoryFn_) {
    for (var documentAdapters = this.documentAdapterFactoryFn_(docsDatabase), i = 0;i < documentAdapters.length;i++) {
      for (var documentAdapter = documentAdapters[i], minSchemaVersion = documentAdapter.minSchemaVersion_, maxSchemaVersion = documentAdapter.docs_localstore_idb_CommandBasedDocumentAdapter$maxSchemaVersion_, documentType = documentAdapter.getDocumentType(), version = minSchemaVersion;version <= maxSchemaVersion;++version) {
        var versionMap = this.documentAdapters_[version];
        versionMap || (versionMap = this.documentAdapters_[version] = {});
        goog$asserts$assert(null == versionMap[documentType], "Duplicate document adapter for document type %s at schema version %s.", documentType, version);
        versionMap[documentType] = documentAdapter;
      }
      goog$log$info(this.docs_localstore_idb_IdbLocalStoreFactory$logger_, documentType + " document adapter registered, v" + minSchemaVersion + " - v" + maxSchemaVersion);
    }
  }
  -1 == this.docs_localstore_idb_IdbLocalStoreFactory$maxSchemaVersion_ && (JSCompiler_StaticMethods_registerStorageAdapter_(this, new docs$localstore$idb$V6StorageAdapter(docsDatabase, this.documentAdapters_[6] || {}, this.lockSessionId_, this.docs_localstore_idb_IdbLocalStoreFactory$lockDuration_, this.docs_localstore_idb_IdbLocalStoreFactory$errorReporter_)), JSCompiler_StaticMethods_registerStorageAdapter_(this, new docs$localstore$idb$V7StorageAdapter(docsDatabase, this.documentAdapters_[7] || 
  {}, this.lockSessionId_, this.docs_localstore_idb_IdbLocalStoreFactory$lockDuration_, this.docs_localstore_idb_IdbLocalStoreFactory$errorReporter_)), JSCompiler_StaticMethods_registerStorageAdapter_(this, new docs$localstore$idb$V8StorageAdapter(docsDatabase, this.documentAdapters_[8] || {}, null, this.lockSessionId_, this.docs_localstore_idb_IdbLocalStoreFactory$lockDuration_, this.docs_localstore_idb_IdbLocalStoreFactory$errorReporter_)));
  var targetSchemaVersion = Math.min(this.targetSchemaVersion_, this.docs_localstore_idb_IdbLocalStoreFactory$maxSchemaVersion_), currentSchemaVersion = JSCompiler_StaticMethods_getDatabaseSchemaVersion(this);
  goog$log$info(this.docs_localstore_idb_IdbLocalStoreFactory$logger_, "Initialization started. Current version=" + currentSchemaVersion + ", target version =" + targetSchemaVersion + ", shouldTryToUpgradeSchema = " + !!this.shouldTryToUpgradeSchema_);
  if (!this.shouldTryToUpgradeSchema_ && 0 >= currentSchemaVersion) {
    this.handleAdapterInitializationError_(new docs$localstore$LocalStoreError(4, "Schema initialization cannot be performed when schema updates are prevented."));
  } else {
    if (!this.shouldTryToUpgradeSchema_ || currentSchemaVersion >= targetSchemaVersion) {
      this.finishInitialization_();
    } else {
      var JSCompiler_inline_result;
      a: {
        for (var version$jscomp$0 = currentSchemaVersion + 1;version$jscomp$0 <= targetSchemaVersion;++version$jscomp$0) {
          if (null == this.storageAdapters_[version$jscomp$0] || !this.storageAdapters_[version$jscomp$0].canUpgrade()) {
            JSCompiler_inline_result = !1;
            break a;
          }
        }
        JSCompiler_inline_result = !0;
      }
      if (JSCompiler_inline_result) {
        JSCompiler_StaticMethods_doUpgrade_(this, currentSchemaVersion + 1, targetSchemaVersion, goog$bind(this.finishInitialization_, this, null), goog$bind(this.handleUpgradeError_, this));
      } else {
        goog$log$info(this.docs_localstore_idb_IdbLocalStoreFactory$logger_, "Upgrade not possible, initializing to version " + targetSchemaVersion);
        var JSCompiler_StaticMethods_docs_localstore_idb_StorageAdapter_prototype$initialize$self = this.storageAdapters_[targetSchemaVersion], completionCallback = goog$bind(this.finishInitialization_, this), errorCallback = goog$bind(this.handleAdapterInitializationError_, this), newVersion = JSCompiler_StaticMethods_docs_localstore_idb_StorageAdapter_prototype$initialize$self.getSchemaVersion();
        if (JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$getVersion(JSCompiler_StaticMethods_docs_localstore_idb_StorageAdapter_prototype$initialize$self.docs_localstore_idb_StorageAdapter$db_) >= newVersion) {
          throw Error("Database already at expected version.");
        }
        JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion(JSCompiler_StaticMethods_docs_localstore_idb_StorageAdapter_prototype$initialize$self.docs_localstore_idb_StorageAdapter$db_, newVersion, goog$bind(JSCompiler_StaticMethods_docs_localstore_idb_StorageAdapter_prototype$initialize$self.handleSetVersionSuccess_, JSCompiler_StaticMethods_docs_localstore_idb_StorageAdapter_prototype$initialize$self, errorCallback), docs$localstore$idb$DatabaseUtil$createDatabaseErrorCallback("Error initializing the database.", 
        errorCallback), completionCallback);
      }
    }
  }
};
docs$localstore$idb$IdbLocalStoreFactory.prototype.handleUpgradeError_ = function $docs$localstore$idb$IdbLocalStoreFactory$$handleUpgradeError_$(localStoreError) {
  goog$log$info(this.docs_localstore_idb_IdbLocalStoreFactory$logger_, "Unable to upgrade the Docs IDB database.");
  this.deferredResult_.errback(localStoreError);
  JSCompiler_StaticMethods_disposeOnError_(this);
};
docs$localstore$idb$IdbLocalStoreFactory.prototype.handleAdapterInitializationError_ = function $docs$localstore$idb$IdbLocalStoreFactory$$handleAdapterInitializationError_$(localStoreError) {
  goog$log$info(this.docs_localstore_idb_IdbLocalStoreFactory$logger_, "Unable to initialize the storage adapter.");
  this.deferredResult_.errback(localStoreError);
  JSCompiler_StaticMethods_disposeOnError_(this);
};
function JSCompiler_StaticMethods_doUpgrade_(JSCompiler_StaticMethods_doUpgrade_$self, nextSchemaVersion, targetSchemaVersion, boundCompletionCallback, errorCallback) {
  goog$log$info(JSCompiler_StaticMethods_doUpgrade_$self.docs_localstore_idb_IdbLocalStoreFactory$logger_, "Upgrading to schema version " + nextSchemaVersion);
  var JSCompiler_StaticMethods_upgrade$self = JSCompiler_StaticMethods_doUpgrade_$self.storageAdapters_[nextSchemaVersion], completionCallback = goog$bind(JSCompiler_StaticMethods_doUpgrade_$self.continueUpgrade_, JSCompiler_StaticMethods_doUpgrade_$self, nextSchemaVersion, targetSchemaVersion, boundCompletionCallback, errorCallback);
  JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$setVersion(JSCompiler_StaticMethods_upgrade$self.docs_localstore_idb_StorageAdapter$db_, JSCompiler_StaticMethods_upgrade$self.getSchemaVersion(), goog$bind(JSCompiler_StaticMethods_upgrade$self.handleSetVersionForUpgradeSuccess_, JSCompiler_StaticMethods_upgrade$self, errorCallback), docs$localstore$idb$DatabaseUtil$createDatabaseErrorCallback("Error upgrading the database.", errorCallback), completionCallback);
}
docs$localstore$idb$IdbLocalStoreFactory.prototype.continueUpgrade_ = function $docs$localstore$idb$IdbLocalStoreFactory$$continueUpgrade_$(expectedSchemaVersion, targetSchemaVersion, boundCompletionCallback, errorCallback) {
  var currentSchemaVersion = JSCompiler_StaticMethods_getDatabaseSchemaVersion(this);
  goog$asserts$assert(expectedSchemaVersion == currentSchemaVersion, "Upgrader to schema version %s failed to achieve that version.", expectedSchemaVersion);
  currentSchemaVersion == targetSchemaVersion ? boundCompletionCallback() : JSCompiler_StaticMethods_doUpgrade_(this, currentSchemaVersion + 1, targetSchemaVersion, boundCompletionCallback, errorCallback);
};
docs$localstore$idb$IdbLocalStoreFactory.prototype.finishInitialization_ = function $docs$localstore$idb$IdbLocalStoreFactory$$finishInitialization_$() {
  var schemaVersion = JSCompiler_StaticMethods_getDatabaseSchemaVersion(this), storageAdapter = this.storageAdapters_[schemaVersion];
  if (storageAdapter) {
    var localStore = new docs$localstore$LocalStore(storageAdapter);
    JSCompiler_StaticMethods_registerDisposable(localStore, this.indexedDb_);
    for (var i in this.storageAdapters_) {
      JSCompiler_StaticMethods_registerDisposable(localStore, this.storageAdapters_[i]);
    }
    for (i in this.documentAdapters_) {
      var versionMap = this.documentAdapters_[i], j;
      for (j in versionMap) {
        JSCompiler_StaticMethods_registerDisposable(localStore, versionMap[j]);
      }
    }
    goog$log$info(this.docs_localstore_idb_IdbLocalStoreFactory$logger_, "Initialization complete, schema version=" + schemaVersion);
    this.deferredResult_.callback(localStore);
  } else {
    JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(this.docs_localstore_idb_IdbLocalStoreFactory$errorReporter_, Error("Local Storage: No schema adapter for current schema version " + (this.indexedDb_ ? JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$getVersion(this.indexedDb_) : -1))), this.deferredResult_.callback(null);
  }
};
function JSCompiler_StaticMethods_getDatabaseSchemaVersion(JSCompiler_StaticMethods_getDatabaseSchemaVersion$self) {
  var idbVersion = JSCompiler_StaticMethods_getDatabaseSchemaVersion$self.indexedDb_ ? JSCompiler_StaticMethods_docs_localstore_idb_DocsDatabase_prototype$getVersion(JSCompiler_StaticMethods_getDatabaseSchemaVersion$self.indexedDb_) : -1;
  1 < idbVersion && 6 > idbVersion && JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(JSCompiler_StaticMethods_getDatabaseSchemaVersion$self.docs_localstore_idb_IdbLocalStoreFactory$errorReporter_, Error("IDB version less than the minimum. version: " + idbVersion));
  return 6 > idbVersion ? -1 : idbVersion;
}
function JSCompiler_StaticMethods_disposeOnError_(JSCompiler_StaticMethods_disposeOnError_$self) {
  for (var i in JSCompiler_StaticMethods_disposeOnError_$self.storageAdapters_) {
    JSCompiler_StaticMethods_disposeOnError_$self.storageAdapters_[i].dispose();
  }
  for (i in JSCompiler_StaticMethods_disposeOnError_$self.documentAdapters_) {
    var versionMap = JSCompiler_StaticMethods_disposeOnError_$self.documentAdapters_[i], j;
    for (j in versionMap) {
      versionMap[j].dispose();
    }
  }
  goog$dispose(JSCompiler_StaticMethods_disposeOnError_$self.indexedDb_);
}
;
// Input 648
function docs$localstore$idb$LocalStoreSupplier(errorReporter, eventBusClient, opt_sessionId, opt_commandSerializer) {
  this.docs_localstore_idb_LocalStoreSupplier$errorReporter_ = errorReporter;
  this.docs_localstore_idb_LocalStoreSupplier$eventBusClient_ = eventBusClient;
  this.docs_localstore_idb_LocalStoreSupplier$sessionId_ = opt_sessionId ? opt_sessionId : "DefaultLocalStoreSessionId";
  this.commandSerializer_ = opt_commandSerializer || new docs$offline$OpaqueCommandSerializer;
  this.docs_localstore_idb_LocalStoreSupplier$logger_ = goog$debug$LogManager$getLogger("docs.localstore.idb.LocalStoreSupplier");
  this.localStorePromise_ = null;
  this.docs_localstore_idb_LocalStoreSupplier$eventHandler_ = new goog$events$EventHandler(this);
  JSCompiler_StaticMethods_registerDisposable(this, this.docs_localstore_idb_LocalStoreSupplier$eventHandler_);
  this.localStoreFactory_ = JSCompiler_StaticMethods_createLocalStoreFactory_(this);
}
goog$inherits(docs$localstore$idb$LocalStoreSupplier, goog$Disposable);
function JSCompiler_StaticMethods_createLocalStoreFactory_(JSCompiler_StaticMethods_createLocalStoreFactory_$self) {
  JSCompiler_StaticMethods_createLocalStoreFactory_$self.localStoreFactory_ && goog$dispose(JSCompiler_StaticMethods_createLocalStoreFactory_$self.localStoreFactory_);
  var targetSchemaVersion = JSCompiler_StaticMethods_getNumber(docs$flag$getInstance(), "lssv");
  return new docs$localstore$idb$IdbLocalStoreFactory(JSCompiler_StaticMethods_createLocalStoreFactory_$self.docs_localstore_idb_LocalStoreSupplier$errorReporter_, JSCompiler_StaticMethods_createLocalStoreFactory_$self.docs_localstore_idb_LocalStoreSupplier$sessionId_, 0, JSCompiler_StaticMethods_createLocalStoreFactory_$self.createDocumentAdapters_.bind(JSCompiler_StaticMethods_createLocalStoreFactory_$self), targetSchemaVersion, !0);
}
function JSCompiler_StaticMethods_getUnauthenticated(JSCompiler_StaticMethods_getUnauthenticated$self) {
  JSCompiler_StaticMethods_getUnauthenticated$self.localStorePromise_ || (JSCompiler_StaticMethods_getUnauthenticated$self.localStorePromise_ = JSCompiler_StaticMethods_openLocalStore_(JSCompiler_StaticMethods_getUnauthenticated$self), JSCompiler_StaticMethods_thenCatch(JSCompiler_StaticMethods_getUnauthenticated$self.localStorePromise_, function(e) {
    this.resetLocalStore_();
    throw e;
  }.bind(JSCompiler_StaticMethods_getUnauthenticated$self)));
  return JSCompiler_StaticMethods_getUnauthenticated$self.localStorePromise_;
}
function JSCompiler_StaticMethods_getNullableWithUser(JSCompiler_StaticMethods_getNullableWithUser$self) {
  return JSCompiler_StaticMethods_getUnauthenticated(JSCompiler_StaticMethods_getNullableWithUser$self).then(function(localStore) {
    return (new goog$Promise(function(resolve, reject) {
      JSCompiler_StaticMethods_readUsers(localStore.getUserCapability(), resolve, reject);
    })).then(function(users) {
      return 1 == users.length && users[0].getId() == JSCompiler_StaticMethods_docs_flag_FlagService_prototype$getString("docs-offline-lsuid") ? new docs$localstore$LocalStoreAndUser(localStore) : null;
    }.bind(this));
  }.bind(JSCompiler_StaticMethods_getNullableWithUser$self));
}
docs$localstore$idb$LocalStoreSupplier.prototype.get = function $docs$localstore$idb$LocalStoreSupplier$$get$() {
  return JSCompiler_StaticMethods_getNullableWithUser(this).then(function(localStoreAndUser) {
    if (!localStoreAndUser) {
      throw Error("Must be exactly one user and they must be the current user");
    }
    return localStoreAndUser.localStore;
  });
};
function JSCompiler_StaticMethods_openLocalStore_(JSCompiler_StaticMethods_openLocalStore_$self) {
  return (new goog$Promise(function(resolve, reject) {
    JSCompiler_StaticMethods_addCallbacks(this.localStoreFactory_.create(this.resetLocalStore_.bind(this)), resolve, reject);
  }.bind(JSCompiler_StaticMethods_openLocalStore_$self))).then(JSCompiler_StaticMethods_openLocalStore_$self.handleLocalStoreOpened_.bind(JSCompiler_StaticMethods_openLocalStore_$self));
}
docs$localstore$idb$LocalStoreSupplier.prototype.handleLocalStoreOpened_ = function $docs$localstore$idb$LocalStoreSupplier$$handleLocalStoreOpened_$(localStore) {
  if (!localStore) {
    throw Error("Got null localstore from the idb localstore factory.");
  }
  if (this.docs_localstore_idb_LocalStoreSupplier$eventBusClient_) {
    var eventBusLocalStoreListener = new docs$localstore$EventBusLocalStoreListener(localStore, this.docs_localstore_idb_LocalStoreSupplier$eventBusClient_);
    JSCompiler_StaticMethods_registerDisposable(this, eventBusLocalStoreListener);
  }
  if (localStore.isWritable_) {
    throw Error("Called setWritable on an already writable localstore.");
  }
  localStore.isWritable_ = !0;
  this.docs_localstore_idb_LocalStoreSupplier$eventHandler_.listen(localStore, "j", this.resetLocalStore_).listen(localStore, "i", this.resetLocalStore_);
  return localStore;
};
docs$localstore$idb$LocalStoreSupplier.prototype.resetLocalStore_ = function $docs$localstore$idb$LocalStoreSupplier$$resetLocalStore_$() {
  var logger = this.docs_localstore_idb_LocalStoreSupplier$logger_;
  logger && logger.log(goog$debug$Logger$Level$WARNING, "Resetting LocalStore instance in LocalStoreSupplier.", void 0);
  goog$dispose(this.localStoreFactory_);
  this.localStoreFactory_ = JSCompiler_StaticMethods_createLocalStoreFactory_(this);
  this.localStorePromise_ = null;
};
docs$localstore$idb$LocalStoreSupplier.prototype.createDocumentAdapters_ = function $docs$localstore$idb$LocalStoreSupplier$$createDocumentAdapters_$(indexedDb) {
  var serializer = this.commandSerializer_, kixIdbCommandBasedDocumentAdapter = new docs$localstore$idb$CommandBasedDocumentAdapter("kix", 6, 8, serializer, indexedDb), punchIdbCommandBasedDocumentAdapter = new docs$localstore$idb$CommandBasedDocumentAdapter("punch", 6, 8, serializer, indexedDb), ritzIdbCommandBasedDocumentAdapter = new docs$localstore$idb$CommandBasedDocumentAdapter("ritz", 6, 8, serializer, indexedDb), drawingsIdbCommandBasedDocumentAdapter = new docs$localstore$idb$CommandBasedDocumentAdapter("drawing", 
  6, 8, serializer, indexedDb);
  return [ritzIdbCommandBasedDocumentAdapter, kixIdbCommandBasedDocumentAdapter, punchIdbCommandBasedDocumentAdapter, drawingsIdbCommandBasedDocumentAdapter];
};
docs$localstore$idb$LocalStoreSupplier.prototype.disposeInternal = function $docs$localstore$idb$LocalStoreSupplier$$disposeInternal$() {
  goog$dispose(this.localStoreFactory_);
  docs$localstore$idb$LocalStoreSupplier.superClass_.disposeInternal.call(this);
};
// Input 649
function docs$localstore$DocumentWriterProxy(errorReporter, documentId, opt_saveStateTracker, opt_startupHintsProcessor, opt_localStorePrerequisites, opt_clientSnapshotScheduler) {
  goog$Disposable.call(this);
  this.anachronismResolved_ = new goog$async$Deferred;
  this.docs_localstore_DocumentWriterProxy$initialCommands_ = null;
  this.docs_localstore_DocumentWriterProxy$documentId_ = documentId;
  this.jobset_ = JSCompiler_StaticMethods_docs_flag_FlagService_prototype$getString("jobset");
  this.isFastTrack_ = JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "fatra");
  this.isPartiallySynced_ = null;
  this.lastModifiedClientTimestamp_ = void 0;
  this.localStoreUserId_ = this.modelVersion_ = this.lastSyncSucceeded_ = this.lastSyncFinishTimestamp_ = this.lastSyncStartTimestamp_ = null;
  this.saveStateTracker_ = opt_saveStateTracker || null;
  this.startupHintsProcessor_ = opt_startupHintsProcessor || null;
  this.title_ = this.documentEntities_ = this.startupHints_ = this.startupHintsResult_ = null;
  this.lastModifiedServerTimestamp_ = 0;
  this.docosKeyData_ = null;
  this.docosKeyDataMissing_ = !1;
  this.pendingQueueRecord_ = this.docs_localstore_DocumentWriterProxy$localStore_ = this.localStoreDocument_ = this.isPartialModelDataOnly_ = this.isPendingCreation_ = this.isCreated_ = null;
  this.hasSwitchedToLocalStorage_ = !1;
  this.isUsingLocalStorage_ = new goog$async$Deferred;
  var prereqs = (opt_localStorePrerequisites || []).concat();
  prereqs.push(this.anachronismResolved_);
  for (var i = 0;i < prereqs.length;i++) {
    JSCompiler_StaticMethods_awaitDeferred(this.isUsingLocalStorage_, prereqs[i]);
  }
  JSCompiler_StaticMethods_addCallback(this.isUsingLocalStorage_, goog$bind(this.switchToLocalStorage_, this));
  this.docs_localstore_DocumentWriterProxy$errorReporter_ = errorReporter;
  this.docs_localstore_DocumentWriterProxy$commandQueue_ = new docs$localstore$CommandQueue;
  this.clientSnapshotScheduler_ = opt_clientSnapshotScheduler || null;
  this.pendingQueueState_ = this.lastServerSnapshotTimestamp_ = this.snapshotState_ = this.modelNeedsResync_ = this.downloadable_ = this.revisionAccessInfo_ = this.docs_localstore_DocumentWriterProxy$revision_ = this.accessLevel_ = null;
  this.docs_localstore_DocumentWriterProxy$logger_ = goog$debug$LogManager$getLogger("docs.localstore.DocumentWriterProxy");
}
goog$inherits(docs$localstore$DocumentWriterProxy, goog$Disposable);
function JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self, opt_useDeferredErrback) {
  goog$log$fine(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docs_localstore_DocumentWriterProxy$logger_, "flush()");
  var deferred = new goog$async$Deferred;
  if (!JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_) {
    return goog$log$fine(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docs_localstore_DocumentWriterProxy$logger_, "No local store document registered, flush() abandoned."), deferred.callback(!0), deferred;
  }
  JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.title_ && (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "title", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.title_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.title_ = null);
  0 < JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastModifiedServerTimestamp_ && (JSCompiler_StaticMethods_docs_localstore_Document_prototype$setLastModifiedServerTimestamp(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastModifiedServerTimestamp_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastModifiedServerTimestamp_ = 
  0);
  JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.jobset_ && (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "jobset", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.jobset_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.jobset_ = null);
  null != JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isFastTrack_ && (JSCompiler_StaticMethods_setBooleanProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "isFastTrack", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isFastTrack_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isFastTrack_ = null);
  var JSCompiler_StaticMethods_setLastSyncedTimestampToNowIfModified$self = JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_;
  if (JSCompiler_StaticMethods_setLastSyncedTimestampToNowIfModified$self.isModified()) {
    var lastSyncedTimestamp = goog$now();
    JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_setLastSyncedTimestampToNowIfModified$self, "lastSyncedTimestamp", lastSyncedTimestamp);
  }
  JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docosKeyData_ && (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "docosKeyData", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docosKeyData_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docosKeyData_ = null);
  null != JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isCreated_ && (JSCompiler_StaticMethods_setBooleanProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "inc", !JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isCreated_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isCreated_ = null);
  null != JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isPendingCreation_ && (JSCompiler_StaticMethods_setBooleanProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "pendingCreation", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isPendingCreation_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isPendingCreation_ = null);
  null != JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isPartiallySynced_ && (JSCompiler_StaticMethods_setBooleanProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "ips", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isPartiallySynced_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isPartiallySynced_ = null);
  goog$isDef(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastModifiedClientTimestamp_) && (JSCompiler_StaticMethods_docs_localstore_Document_prototype$setLastModifiedClientTimestamp(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastModifiedClientTimestamp_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastModifiedClientTimestamp_ = 
  void 0);
  null !== JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.modelVersion_ && (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "modelVersion", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.modelVersion_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.modelVersion_ = null);
  var doc = JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_;
  doc && (null == JSCompiler_StaticMethods_getNullableProperty(doc, "inc") ? 0 : JSCompiler_StaticMethods_getBooleanProperty(doc, "inc")) && JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docs_localstore_DocumentWriterProxy$initialCommands_ ? (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(doc, "ic", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docs_localstore_DocumentWriterProxy$initialCommands_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docs_localstore_DocumentWriterProxy$initialCommands_ = 
  null) : doc && (JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docs_localstore_DocumentWriterProxy$initialCommands_ = null);
  null !== JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.downloadable_ && (JSCompiler_StaticMethods_setBooleanProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "ind", !JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.downloadable_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.downloadable_ = null);
  null !== JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastSyncStartTimestamp_ && (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "lsst", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastSyncStartTimestamp_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastSyncStartTimestamp_ = 
  null);
  null !== JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastSyncFinishTimestamp_ && (JSCompiler_StaticMethods_docs_localstore_Record_prototype$setProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "lsft", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastSyncFinishTimestamp_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastSyncFinishTimestamp_ = 
  null);
  null !== JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastSyncSucceeded_ && (JSCompiler_StaticMethods_setBooleanProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "lss", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastSyncSucceeded_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastSyncSucceeded_ = null);
  null != JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isPartialModelDataOnly_ && (JSCompiler_StaticMethods_setBooleanProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "hpmdo", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isPartialModelDataOnly_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.isPartialModelDataOnly_ = null);
  null != JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.pendingQueueState_ && JSCompiler_StaticMethods_isPersistingPendingQueue(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self) && (JSCompiler_StaticMethods_docs_localstore_Document_prototype$setPendingQueueState(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.pendingQueueState_), 
  JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.pendingQueueState_ = null);
  JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.hasSwitchedToLocalStorage_ && (null !== JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.modelNeedsResync_ && (JSCompiler_StaticMethods_setBooleanProperty(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, "modelNeedsResync", JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.modelNeedsResync_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.modelNeedsResync_ = 
  null), null != JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.snapshotState_ && (JSCompiler_StaticMethods_setSnapshotState(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.snapshotState_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.snapshotState_ = null), null != JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastServerSnapshotTimestamp_ && 
  (JSCompiler_StaticMethods_setLastServerSnapshotTimestamp(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastServerSnapshotTimestamp_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.lastServerSnapshotTimestamp_ = null));
  var startupHintsFiredBeforeWrite = JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHintsResult_ && JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHintsResult_.fired_;
  goog$log$fine(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docs_localstore_DocumentWriterProxy$logger_, "flush(): writing document.");
  JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.write_(deferred, !!opt_useDeferredErrback);
  JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHintsProcessor_ && JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHints_ && !JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHintsResult_ && (goog$log$fine(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docs_localstore_DocumentWriterProxy$logger_, "flush(): processing startup hints."), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHintsResult_ = 
  JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHintsProcessor_.processStartupHints(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.localStoreDocument_, JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHints_), JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHints_ = null);
  if (JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHintsResult_ && !startupHintsFiredBeforeWrite) {
    var startupHintsWriteDeferred = new goog$async$Deferred;
    JSCompiler_StaticMethods_awaitDeferred(deferred, startupHintsWriteDeferred);
    var f = goog$functions$lock(goog$bind(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.write_, JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self, startupHintsWriteDeferred, !!opt_useDeferredErrback));
    JSCompiler_StaticMethods_addCallbacks(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.startupHintsResult_, f, f, void 0);
  }
  if (JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docosKeyDataMissing_) {
    var docosCapability = JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docs_localstore_DocumentWriterProxy$localStore_.storageAdapter_.docs_localstore_StorageAdapter_prototype$getDocosCapability();
    docosCapability && JSCompiler_StaticMethods_pushProfileDataDocumentId(docosCapability.docs_localstore_idb_DocosCapability$db_, JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docs_localstore_DocumentWriterProxy$documentId_);
    JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush$self.docosKeyDataMissing_ = !1;
  }
  return deferred;
}
docs$localstore$DocumentWriterProxy.prototype.write_ = function $docs$localstore$DocumentWriterProxy$$write_$(deferred, useDeferredErrback, opt_writePendingQueueOnly) {
  var recordsToWrite = [];
  opt_writePendingQueueOnly || recordsToWrite.push(this.localStoreDocument_);
  this.pendingQueueRecord_ && JSCompiler_StaticMethods_isPersistingPendingQueue(this) && (JSCompiler_StaticMethods_assertWritable(this.pendingQueueRecord_), recordsToWrite.push(this.pendingQueueRecord_));
  goog$log$fine(this.docs_localstore_DocumentWriterProxy$logger_, "write_()");
  var pendingQueueIsEmpty = null, pendingQueueRevision = null, pendingQueueRevisionIsModified = !1;
  this.pendingQueueRecord_ && (pendingQueueIsEmpty = JSCompiler_StaticMethods_docs_localstore_PendingQueue_prototype$isEmpty(this.pendingQueueRecord_), pendingQueueRevision = JSCompiler_StaticMethods_getNumberProperty(this.pendingQueueRecord_), pendingQueueRevisionIsModified = !!this.pendingQueueRecord_.propertyModifications_.revision);
  if (!pendingQueueIsEmpty) {
    var documentRevision = null, documentRevisionIsModified = !1;
    this.localStoreDocument_ && (documentRevision = JSCompiler_StaticMethods_getNullableNumberProperty(this.localStoreDocument_, "rev"), documentRevisionIsModified = !!this.localStoreDocument_.propertyModifications_.rev);
    var context = {};
    context.writePendingQueueOnly = !!opt_writePendingQueueOnly;
    context.hasSwitchedToLocalStorage = this.hasSwitchedToLocalStorage_;
    this.pendingQueueRecord_ ? (context.pendingQueue_isAvailable = !0, context.pendingQueue_revisionModified = pendingQueueRevisionIsModified) : context.pendingQueue_isAvailable = !1;
    this.localStoreDocument_ ? (context.localDocument_isAvailable = !0, context.localDocument_revision = documentRevision, context.localDocument_revisionModified = documentRevisionIsModified, context.localDocument_commandQueueModified = 0 != this.localStoreDocument_.docs_localstore_Document$commandQueue_.unwrittenCommands_.length) : context.localDocument_isAvailable = !1;
    var documentRecordRevisionEnabled = JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-offline-edrr2");
    JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-localstore-epla") && documentRecordRevisionEnabled && pendingQueueRevisionIsModified && JSCompiler_StaticMethods_isPersistingPendingQueue(this) && pendingQueueRevision != documentRevision && JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(this.docs_localstore_DocumentWriterProxy$errorReporter_, Error("Pending queue revision write is out of sync with the local document revision."), context);
    !opt_writePendingQueueOnly && documentRecordRevisionEnabled && documentRevisionIsModified && documentRevision != pendingQueueRevision && JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(this.docs_localstore_DocumentWriterProxy$errorReporter_, Error("Local document revision write is out of sync with the pending queue revision."), context);
  }
  var errback = useDeferredErrback ? goog$bind(deferred.errback, deferred) : void 0, callback = opt_writePendingQueueOnly ? goog$bind(deferred.callback, deferred) : goog$bind(this.maybeWriteDocumentEntities_, this, deferred, errback);
  this.docs_localstore_DocumentWriterProxy$localStore_.write(recordsToWrite, callback, errback);
};
docs$localstore$DocumentWriterProxy.prototype.maybeWriteDocumentEntities_ = function $docs$localstore$DocumentWriterProxy$$maybeWriteDocumentEntities_$(deferred, opt_errorCallback) {
  if (this.documentEntities_) {
    var documentEntities = this.documentEntities_;
    this.documentEntities_ = null;
    this.docs_localstore_DocumentWriterProxy$localStore_.write(documentEntities, goog$bind(deferred.callback, deferred, !0), opt_errorCallback);
  } else {
    deferred.callback(!0);
  }
};
function JSCompiler_StaticMethods_registerLocalStorage(JSCompiler_StaticMethods_registerLocalStorage$self, localStore, localStoreDocument, localStoreUserId) {
  goog$log$fine(JSCompiler_StaticMethods_registerLocalStorage$self.docs_localstore_DocumentWriterProxy$logger_, "registerLocalStorage()");
  goog$asserts$assert(!0, "Local storage may not be registered after discardAndIgnoreAllUpdates has been called");
  goog$asserts$assert(!JSCompiler_StaticMethods_registerLocalStorage$self.docs_localstore_DocumentWriterProxy$localStore_, "Local storage may only be registered once.");
  JSCompiler_StaticMethods_registerLocalStorage$self.docs_localstore_DocumentWriterProxy$localStore_ = localStore;
  JSCompiler_StaticMethods_registerLocalStorage$self.localStoreDocument_ = localStoreDocument;
  JSCompiler_StaticMethods_registerLocalStorage$self.localStoreUserId_ = localStoreUserId;
}
docs$localstore$DocumentWriterProxy.prototype.switchToLocalStorage_ = function $docs$localstore$DocumentWriterProxy$$switchToLocalStorage_$() {
  goog$log$info(this.docs_localstore_DocumentWriterProxy$logger_, "Switching to local storage.");
  this.localStoreDocument_ ? JSCompiler_StaticMethods_setBooleanProperty(this.localStoreDocument_, "hpmdo", !1) : this.isPartialModelDataOnly_ = !1;
  var doc = this.localStoreDocument_;
  JSCompiler_StaticMethods_moveCommandsTo(this.docs_localstore_DocumentWriterProxy$commandQueue_, doc.docs_localstore_Document$commandQueue_);
  goog$dispose(this.docs_localstore_DocumentWriterProxy$commandQueue_);
  this.docs_localstore_DocumentWriterProxy$commandQueue_ = doc.docs_localstore_Document$commandQueue_;
  if (null !== this.accessLevel_) {
    var userId = goog$asserts$assert(this.localStoreUserId_);
    JSCompiler_StaticMethods_setMappedProperty(doc, "acl", userId, this.accessLevel_);
    this.accessLevel_ = null;
  }
  null === this.docs_localstore_DocumentWriterProxy$revision_ || JSCompiler_StaticMethods_setRevisionInternal_(this, this.docs_localstore_DocumentWriterProxy$revision_, this.revisionAccessInfo_);
  this.clientSnapshotScheduler_ && JSCompiler_StaticMethods_registerLocalStorage(this.clientSnapshotScheduler_, goog$asserts$assert(this.docs_localstore_DocumentWriterProxy$localStore_), doc);
  this.saveStateTracker_ && this.saveStateTracker_.setChangesStoredLocallyWhenAvailable(!0);
  this.pendingQueueRecord_ && JSCompiler_StaticMethods_supportMultipleInMemoryOperations(this.pendingQueueRecord_, !1);
  this.hasSwitchedToLocalStorage_ = !0;
  return JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush(this);
};
function JSCompiler_StaticMethods_isPersistingPendingQueue(JSCompiler_StaticMethods_isPersistingPendingQueue$self) {
  return JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-localstore-epla") ? JSCompiler_StaticMethods_isPersistingPendingQueue$self.hasSwitchedToLocalStorage_ : !0;
}
function JSCompiler_StaticMethods_setRevisionInternal_(JSCompiler_StaticMethods_setRevisionInternal_$self, revision, accessInfo) {
  var localStoreDocument = JSCompiler_StaticMethods_setRevisionInternal_$self.localStoreDocument_;
  JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-offline-edrr2") ? JSCompiler_StaticMethods_docs_localstore_Document_prototype$setRevision(localStoreDocument, revision, accessInfo) : JSCompiler_StaticMethods_docs_localstore_Document_prototype$setRevision(localStoreDocument, null, null);
}
docs$localstore$DocumentWriterProxy.prototype.disposeInternal = function $docs$localstore$DocumentWriterProxy$$disposeInternal$() {
  this.localStoreDocument_ || goog$dispose(this.docs_localstore_DocumentWriterProxy$commandQueue_);
  docs$localstore$DocumentWriterProxy.superClass_.disposeInternal.call(this);
};
// Input 650
function docs$offline$DocumentSnapshotter(localStore, errorReporter, commandApplier) {
  this.docs_offline_DocumentSnapshotter$localStore_ = localStore;
  this.docs_offline_DocumentSnapshotter$errorReporter_ = errorReporter;
  this.docs_offline_DocumentSnapshotter$commandApplier_ = commandApplier;
}
function JSCompiler_StaticMethods_snapshotDocument(JSCompiler_StaticMethods_snapshotDocument$self, document, model) {
  function startCallback(revision) {
    documentRevision$jscomp$0 = revision;
  }
  var documentRevision$jscomp$0;
  return (new goog$Promise(function(resolve) {
    document.readCommands(0, !1, startCallback, this.applyDocumentCommands_.bind(this, model), resolve);
  }.bind(JSCompiler_StaticMethods_snapshotDocument$self))).then(function() {
    return goog$asserts$assert(JSCompiler_StaticMethods_getPendingQueue(this.docs_offline_DocumentSnapshotter$localStore_.storageAdapter_.pendingQueueCapability_, document.getId()));
  }.bind(JSCompiler_StaticMethods_snapshotDocument$self)).then(function(pendingQueueRecord) {
    var documentRevision = documentRevision$jscomp$0, pendingQueueState = JSCompiler_StaticMethods_getNullableNumberProperty(document, "pendingQueueState"), isUndeliverable = !pendingQueueRecord.forceEmptyInMemory_ && (null == JSCompiler_StaticMethods_getNullableProperty(pendingQueueRecord, "undeliverable") ? !1 : JSCompiler_StaticMethods_getBooleanProperty(pendingQueueRecord, "undeliverable"));
    null !== pendingQueueState && JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-localstore-epqs") && (isUndeliverable = 0 == pendingQueueState);
    if (documentRevision == JSCompiler_StaticMethods_getNumberProperty(pendingQueueRecord) && !isUndeliverable) {
      var commandBundles = (pendingQueueRecord.forceEmptyInMemory_ ? [] : pendingQueueRecord.sentCommandBundles_).concat(pendingQueueRecord.forceEmptyInMemory_ ? [] : pendingQueueRecord.unsentCommandBundles_), nonSnapshottedBundles = [], snapshotBundleIndex = JSCompiler_StaticMethods_getNullableNumberProperty(pendingQueueRecord, "snapshotBundleIndex");
      null == snapshotBundleIndex && (snapshotBundleIndex = -1);
      for (var i = snapshotBundleIndex + 1;i < commandBundles.length;i++) {
        goog$array$extend(nonSnapshottedBundles, commandBundles[i].copy());
      }
      for (var i$jscomp$0 = 0;i$jscomp$0 < nonSnapshottedBundles.length;i$jscomp$0++) {
        for (var commands = nonSnapshottedBundles[i$jscomp$0].docs_storage_CommandBundle$commands_, j = 0;j < commands.length;j++) {
          this.docs_offline_DocumentSnapshotter$commandApplier_.apply(goog$asserts$assert(commands[j]), model);
        }
      }
      return JSCompiler_StaticMethods_writeNewSnapshot_(this, model, pendingQueueRecord, document);
    }
  }.bind(JSCompiler_StaticMethods_snapshotDocument$self));
}
function JSCompiler_StaticMethods_createDocumentWriter_(JSCompiler_StaticMethods_createDocumentWriter_$self, pendingQueue, document) {
  return JSCompiler_StaticMethods_getUniqueUser(JSCompiler_StaticMethods_createDocumentWriter_$self.docs_offline_DocumentSnapshotter$localStore_.getUserCapability()).then(function(user) {
    var documentWriterProxy = new docs$localstore$DocumentWriterProxy(this.docs_offline_DocumentSnapshotter$errorReporter_, document.getId());
    if (!documentWriterProxy.anachronismResolved_.fired_) {
      if (documentWriterProxy.pendingQueueRecord_) {
        var JSCompiler_StaticMethods_switchToStorageIfNeeded$self = documentWriterProxy.pendingQueueRecord_, errorReporter = documentWriterProxy.docs_localstore_DocumentWriterProxy$errorReporter_;
        JSCompiler_StaticMethods_switchToStorageIfNeeded$self.forceEmptyInMemory_ && (JSCompiler_StaticMethods_switchToStorageIfNeeded$self.forceEmptyInMemory_ = !1, JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$info(errorReporter, Error("Clearing already saved pending queue."), {sentBundlesSavedRevision:JSCompiler_StaticMethods_getNullableNumberProperty(JSCompiler_StaticMethods_switchToStorageIfNeeded$self, "sentBundlesSavedRevision"), queueRevision:JSCompiler_StaticMethods_getNumberProperty(JSCompiler_StaticMethods_switchToStorageIfNeeded$self)}), 
        JSCompiler_StaticMethods_switchToStorageIfNeeded$self.clear());
        JSCompiler_StaticMethods_docs_localstore_PendingQueue_prototype$isEmpty(documentWriterProxy.pendingQueueRecord_) && (documentWriterProxy.localStoreDocument_ && JSCompiler_StaticMethods_isPersistingPendingQueue(documentWriterProxy) ? (JSCompiler_StaticMethods_docs_localstore_Document_prototype$setPendingQueueState(documentWriterProxy.localStoreDocument_, 1), documentWriterProxy.pendingQueueState_ = null) : documentWriterProxy.pendingQueueState_ = 1);
      }
      documentWriterProxy.anachronismResolved_.callback(!0);
    }
    var revision = JSCompiler_StaticMethods_getNumberProperty(pendingQueue);
    documentWriterProxy.hasSwitchedToLocalStorage_ && JSCompiler_StaticMethods_setRevisionInternal_(documentWriterProxy, revision, null);
    documentWriterProxy.docs_localstore_DocumentWriterProxy$revision_ = revision;
    documentWriterProxy.revisionAccessInfo_ = null;
    JSCompiler_StaticMethods_registerLocalStorage(documentWriterProxy, this.docs_offline_DocumentSnapshotter$localStore_, document, user.getId());
    goog$asserts$assert(documentWriterProxy.docs_localstore_DocumentWriterProxy$localStore_, "Local storage must be registered before it can be used.");
    documentWriterProxy.isUsingLocalStorage_.callback(!0);
    documentWriterProxy.pendingQueueRecord_ = pendingQueue;
    JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "icso") || documentWriterProxy.hasSwitchedToLocalStorage_ || !JSCompiler_StaticMethods_getBoolean(docs$flag$getInstance(), "docs-localstore-epla") || (goog$asserts$assert(documentWriterProxy.saveStateTracker_).setChangesStoredLocallyWhenAvailable(!1), JSCompiler_StaticMethods_supportMultipleInMemoryOperations(documentWriterProxy.pendingQueueRecord_, !0));
    return documentWriterProxy;
  }.bind(JSCompiler_StaticMethods_createDocumentWriter_$self));
}
docs$offline$DocumentSnapshotter.prototype.applyDocumentCommands_ = function $docs$offline$DocumentSnapshotter$$applyDocumentCommands_$(model, modelPart) {
  for (var i = 0;i < modelPart.docs_app_CommandBasedModelPart$commands_.length;i++) {
    this.docs_offline_DocumentSnapshotter$commandApplier_.apply(modelPart.docs_app_CommandBasedModelPart$commands_[i], model);
  }
};
function JSCompiler_StaticMethods_writeNewSnapshot_(JSCompiler_StaticMethods_writeNewSnapshot_$self, model, pendingQueueRecord, document) {
  var chunkedSnapshotCommands = JSCompiler_StaticMethods_chunkedSnapshot(model);
  JSCompiler_StaticMethods_docs_localstore_PendingQueue_prototype$isEmpty(pendingQueueRecord) || JSCompiler_StaticMethods_setSnapshotBundleIndex(pendingQueueRecord, pendingQueueRecord.sentCommandBundles_.length + pendingQueueRecord.unsentCommandBundles_.length - 1);
  return JSCompiler_StaticMethods_createDocumentWriter_(JSCompiler_StaticMethods_writeNewSnapshot_$self, pendingQueueRecord, document).then(function(documentWriterProxy) {
    return JSCompiler_StaticMethods_writeCommandsToStorage_(this, chunkedSnapshotCommands, documentWriterProxy, JSCompiler_StaticMethods_getNumberProperty(pendingQueueRecord));
  }.bind(JSCompiler_StaticMethods_writeNewSnapshot_$self)).then(function() {
    return JSCompiler_StaticMethods_removeDocumentFromNonSnapshottedDocsList_(this, document.getId());
  }.bind(JSCompiler_StaticMethods_writeNewSnapshot_$self));
}
function JSCompiler_StaticMethods_writeCommandsToStorage_(JSCompiler_StaticMethods_writeCommandsToStorage_$self, chunkedSnapshotCommands, documentWriterProxy, documentRevision) {
  return new goog$Promise(function(resolve, reject) {
    for (var i = 0;i < chunkedSnapshotCommands.length;i++) {
      var JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$addBatch$self = documentWriterProxy, commandBatch = new docs$localstore$LocalStorageCommandBatch(documentRevision, chunkedSnapshotCommands[i], i), opt_replace = 0 == i;
      goog$log$info(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$addBatch$self.docs_localstore_DocumentWriterProxy$logger_, "addBatch()");
      if (commandBatch.docs_localstore_LocalStorageCommandBatch$revision_ != JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$addBatch$self.docs_localstore_DocumentWriterProxy$revision_) {
        throw Error("Expected batch revision of " + JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$addBatch$self.docs_localstore_DocumentWriterProxy$revision_ + ", but got " + commandBatch.docs_localstore_LocalStorageCommandBatch$revision_);
      }
      JSCompiler_StaticMethods_docs_localstore_CommandQueue_prototype$addBatch(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$addBatch$self.docs_localstore_DocumentWriterProxy$commandQueue_, commandBatch, opt_replace);
    }
    documentWriterProxy.localStoreDocument_ ? JSCompiler_StaticMethods_setSnapshotState(documentWriterProxy.localStoreDocument_, 2) : documentWriterProxy.snapshotState_ = 2;
    JSCompiler_StaticMethods_addCallbacks(JSCompiler_StaticMethods_docs_localstore_DocumentWriterProxy_prototype$flush(documentWriterProxy, !0), resolve, reject);
  }.bind(JSCompiler_StaticMethods_writeCommandsToStorage_$self));
}
function JSCompiler_StaticMethods_removeDocumentFromNonSnapshottedDocsList_(JSCompiler_StaticMethods_removeDocumentFromNonSnapshottedDocsList_$self, documentId) {
  return new goog$Promise(function(resolve, reject) {
    JSCompiler_StaticMethods_removeProfileDataDocumentIds(this.docs_offline_DocumentSnapshotter$localStore_.storageAdapter_.docs_localstore_StorageAdapter_prototype$getNonSnapshottedDocsCapability().docs_localstore_idb_NonSnapshottedDocsCapability$db_, "nonsnapshottedocumentids", [documentId], resolve, reject);
  }.bind(JSCompiler_StaticMethods_removeDocumentFromNonSnapshottedDocsList_$self));
}
;
// Input 651
function docs$offline$eventbus$DocsChannels$getDefaultUserChannel() {
  return "user_" + JSCompiler_StaticMethods_docs_flag_FlagService_prototype$getString("docs-offline-lsuid");
}
;
// Input 652
function docs$offline$eventbus$BroadcastMessageEvent(target, channel, extensionFieldInfo, data) {
  goog$events$Event.call(this, "broadcast-message", target);
  this.channel = channel;
  this.docs_offline_eventbus_BroadcastMessageEvent$extensionFieldInfo = extensionFieldInfo;
  this.data = data;
}
goog$inherits(docs$offline$eventbus$BroadcastMessageEvent, goog$events$Event);
// Input 653
function docs$offline$eventbus$EventBusListener(eventBusClient, filteredChannel, opt_scope) {
  goog$Disposable.call(this);
  this.docs_offline_eventbus_EventBusListener$eventBusClient_ = eventBusClient;
  this.filteredChannel_ = filteredChannel;
  this.scope_ = opt_scope || null;
  this.docs_offline_eventbus_EventBusListener$listeners_ = [];
  this.docs_offline_eventbus_EventBusListener$eventHandler_ = new goog$events$EventHandler(this);
  JSCompiler_StaticMethods_registerDisposable(this, this.docs_offline_eventbus_EventBusListener$eventHandler_);
  this.docs_offline_eventbus_EventBusListener$eventHandler_.listen(this.docs_offline_eventbus_EventBusListener$eventBusClient_, "broadcast-message", this.handleEvent_);
}
goog$inherits(docs$offline$eventbus$EventBusListener, goog$Disposable);
docs$offline$eventbus$EventBusListener.prototype.listen = function $docs$offline$eventbus$EventBusListener$$listen$(extensionFieldInfo, handler) {
  this.docs_offline_eventbus_EventBusListener$listeners_.push(new docs$offline$eventbus$EventBusListener$Rule_(extensionFieldInfo, handler));
  return this;
};
docs$offline$eventbus$EventBusListener.prototype.handleEvent_ = function $docs$offline$eventbus$EventBusListener$$handleEvent_$(broadcastMessageEvent) {
  for (var i = 0;i < this.docs_offline_eventbus_EventBusListener$listeners_.length;i++) {
    var listener = this.docs_offline_eventbus_EventBusListener$listeners_[i];
    this.filteredChannel_ && this.filteredChannel_ != broadcastMessageEvent.channel || listener.docs_offline_eventbus_EventBusListener_Rule_$extensionFieldInfo != broadcastMessageEvent.docs_offline_eventbus_BroadcastMessageEvent$extensionFieldInfo || listener.handler.call(this.scope_, broadcastMessageEvent.data, broadcastMessageEvent.channel);
  }
};
docs$offline$eventbus$EventBusListener.prototype.unlisten = function $docs$offline$eventbus$EventBusListener$$unlisten$(extensionFieldInfo, handler) {
  goog$array$removeIf(this.docs_offline_eventbus_EventBusListener$listeners_, function(rule) {
    return rule.docs_offline_eventbus_EventBusListener_Rule_$extensionFieldInfo == extensionFieldInfo && rule.handler == handler;
  });
  return this;
};
function docs$offline$eventbus$EventBusListener$Rule_(extensionFieldInfo, handler) {
  this.docs_offline_eventbus_EventBusListener_Rule_$extensionFieldInfo = extensionFieldInfo;
  this.handler = handler;
}
;
// Input 654
function docs$offline$tasks$LockSurveyDispatcher(documentId, eventBusClient) {
  goog$Disposable.call(this);
  this.docs_offline_tasks_LockSurveyDispatcher$documentId_ = documentId;
  this.docs_offline_tasks_LockSurveyDispatcher$eventBusClient_ = eventBusClient;
  this.eventBusListener_ = new docs$offline$eventbus$EventBusListener(this.docs_offline_tasks_LockSurveyDispatcher$eventBusClient_, docs$offline$eventbus$DocsChannels$getDefaultUserChannel(), this);
  JSCompiler_StaticMethods_registerDisposable(this, this.eventBusListener_);
  this.resolver_ = goog$Promise$withResolver();
}
goog$inherits(docs$offline$tasks$LockSurveyDispatcher, goog$Disposable);
docs$offline$tasks$LockSurveyDispatcher.prototype.handleLockSurveyResponse_ = function $docs$offline$tasks$LockSurveyDispatcher$$handleLockSurveyResponse_$(lockSurveyResponse) {
  goog$asserts$assert(jspb$Message$getField(lockSurveyResponse, 1)) == this.docs_offline_tasks_LockSurveyDispatcher$documentId_ && this.resolver_.goog_Promise_Resolver_$resolve(!0);
};
docs$offline$tasks$LockSurveyDispatcher.prototype.start = function $docs$offline$tasks$LockSurveyDispatcher$$start$() {
  this.docs_offline_tasks_LockSurveyDispatcher$eventBusClient_.connect();
  this.eventBusListener_.listen(proto$docs$offline$eventbus$LockSurveyResponse$lockSurveyResponse, this.handleLockSurveyResponse_);
  var timerId = goog$Timer$callOnce(goog$bind(this.resolver_.goog_Promise_Resolver_$resolve, this.resolver_, !1), 15E3), message = new proto$docs$offline$eventbus$BroadcastMessage, lockSurveyRequest = new proto$docs$offline$eventbus$LockSurveyRequest;
  jspb$Message$setField(lockSurveyRequest, 1, this.docs_offline_tasks_LockSurveyDispatcher$documentId_);
  message.setExtension(proto$docs$offline$eventbus$LockSurveyRequest$lockSurveyRequest, lockSurveyRequest);
  JSCompiler_StaticMethods_publish(this.docs_offline_tasks_LockSurveyDispatcher$eventBusClient_, message);
  return JSCompiler_StaticMethods_thenAlways(this.resolver_.promise, goog$bind(function() {
    this.eventBusListener_.unlisten(proto$docs$offline$eventbus$LockSurveyResponse$lockSurveyResponse, this.handleLockSurveyResponse_);
    goog$global.clearTimeout(timerId);
  }, this));
};
// Input 655
function docs$offline$tasks$LockStateChecker(localstore, eventBusClient) {
  goog$Disposable.call(this);
  this.docs_offline_tasks_LockStateChecker$localStore_ = localstore;
  this.docs_offline_tasks_LockStateChecker$eventBusClient_ = eventBusClient;
}
goog$inherits(docs$offline$tasks$LockStateChecker, goog$Disposable);
function JSCompiler_StaticMethods_checkLockState(JSCompiler_StaticMethods_checkLockState$self, documentId) {
  return (new goog$Promise(function(resolve, reject) {
    var JSCompiler_StaticMethods_readCurrentLockState$self = this.docs_offline_tasks_LockStateChecker$localStore_.storageAdapter_.documentLockCapability_.lockManager_, request = JSCompiler_StaticMethods_getObjectStore(JSCompiler_StaticMethods_openLockTransaction_(JSCompiler_StaticMethods_readCurrentLockState$self, void 0, reject), "DocumentLocks").get([documentId]);
    JSCompiler_StaticMethods_setSuccessCallback(request, goog$bind(JSCompiler_StaticMethods_readCurrentLockState$self.handleReadCurrentLockState_, JSCompiler_StaticMethods_readCurrentLockState$self, resolve));
    reject && JSCompiler_StaticMethods_setErrorCallback(request, goog$functions$lock(reject));
  }.bind(JSCompiler_StaticMethods_checkLockState$self))).then(function(lockState) {
    switch(lockState) {
      case "available":
        return !0;
      case "unavailable":
        return !1;
      case "expiredOtherSid":
        var lockSurveyDispatcher = new docs$offline$tasks$LockSurveyDispatcher(documentId, this.docs_offline_tasks_LockStateChecker$eventBusClient_);
        JSCompiler_StaticMethods_registerDisposable(this, lockSurveyDispatcher);
        return lockSurveyDispatcher.start().then(function(result) {
          return !result;
        });
      default:
        throw Error("Unexpected lock state result: " + lockState);
    }
  }.bind(JSCompiler_StaticMethods_checkLockState$self));
}
;
// Input 656
function docs$offline$tasks$Task() {
  this.hasExecuted_ = !1;
}
goog$inherits(docs$offline$tasks$Task, goog$Disposable);
// Input 657
function docs$offline$tasks$SnapshotTask(eventBusClient, errorReporter, localstore, snapshotter, commandApplier, documentModelFactory, documentType) {
  this.docs_offline_tasks_SnapshotTask$eventBusClient_ = eventBusClient;
  this.docs_offline_tasks_SnapshotTask$errorReporter_ = errorReporter;
  this.docs_offline_tasks_SnapshotTask$localStore_ = localstore;
  this.snapshotter_ = snapshotter;
  this.docs_offline_tasks_SnapshotTask$commandApplier_ = commandApplier;
  this.documentModelFactory_ = documentModelFactory;
  this.documentType_ = documentType;
  this.documentSnapshotter_ = new docs$offline$DocumentSnapshotter(this.docs_offline_tasks_SnapshotTask$localStore_, this.docs_offline_tasks_SnapshotTask$errorReporter_, this.docs_offline_tasks_SnapshotTask$commandApplier_, this.snapshotter_);
}
goog$inherits(docs$offline$tasks$SnapshotTask, docs$offline$tasks$Task);
docs$offline$tasks$SnapshotTask.prototype.snapshotDocuments_ = function $docs$offline$tasks$SnapshotTask$$snapshotDocuments_$(documents) {
  return documents.filter(function(doc) {
    return this.documentType_ == doc.getType();
  }.bind(this)).reduce(function(promise, document) {
    return promise.then(function() {
      return JSCompiler_StaticMethods_acquireDocumentLock_(this, document);
    }.bind(this)).then(function(lockAcquired) {
      if (lockAcquired) {
        var JSCompiler_temp_const = this.documentSnapshotter_, JSCompiler_StaticMethods_createModel$self = this.documentModelFactory_, defaultEntitiesProvider = new docs$text$protocol$DefaultEntitiesProvider(docs$text$protocol$Entities$ALL_ENTITY_PROVIDERS), JSCompiler_inline_result;
        new docs$text$transform$SelectionTransformer;
        var errorReporter = JSCompiler_StaticMethods_createModel$self.kix_model_TextDocumentModelFactory$errorReporter_, defaultStylesProvider = JSCompiler_StaticMethods_createModel$self.kix_model_TextDocumentModelFactory$defaultStylesProvider_, tableState = new docs$text$model$TableStateImpl, styleResolvers = [new docs$text$model$TextAndParagraphStyleResolver("text"), new docs$text$model$TextAndParagraphStyleResolver("paragraph"), new docs$text$model$ListStyleResolver, new docs$text$model$CellStyleResolver], 
        concreteStyleUpdaters = [new docs$text$model$HeadingsConcreteStyleUpdater, new docs$text$model$ParagraphConcreteStyleUpdater, new docs$text$model$CellConcreteStyleUpdater, new docs$text$model$TableConcreteStyleUpdater], entityConcreteStyleUpdaters = [new docs$text$model$ListEntityConcreteStyleUpdater], insertSpacersStyleUpdater = new docs$text$model$TableInsertSpacersStyleUpdater, deleteSpacersStyleUpdater = new docs$text$model$TableDeleteSpacersStyleUpdater, contentClassifier = new docs$text$i18n$ContentClassifier(void 0), 
        model = new docs$text$model$ModelImpl(errorReporter, styleResolvers, concreteStyleUpdaters, entityConcreteStyleUpdaters, [], defaultEntitiesProvider, defaultStylesProvider, contentClassifier, tableState, insertSpacersStyleUpdater, deleteSpacersStyleUpdater);
        JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$initialize(model.suggestionAwareStyleManager_);
        new docs$text$model$SelectionModelImpl;
        JSCompiler_inline_result = new docs$text$edits$ModelState(model, 0, 0, 0, 0, 0, void 0);
        return JSCompiler_StaticMethods_snapshotDocument(JSCompiler_temp_const, document, JSCompiler_inline_result.docs_edits_ModelStateImpl$model_);
      }
    }.bind(this));
  }.bind(this), goog$Promise$resolve());
};
function JSCompiler_StaticMethods_acquireDocumentLock_(JSCompiler_StaticMethods_acquireDocumentLock_$self, document) {
  return JSCompiler_StaticMethods_checkLockState(new docs$offline$tasks$LockStateChecker(JSCompiler_StaticMethods_acquireDocumentLock_$self.docs_offline_tasks_SnapshotTask$localStore_, JSCompiler_StaticMethods_acquireDocumentLock_$self.docs_offline_tasks_SnapshotTask$eventBusClient_), document.getId()).then(function(lockIsAvailable) {
    return lockIsAvailable ? new goog$Promise(function(resolve) {
      this.docs_offline_tasks_SnapshotTask$localStore_.storageAdapter_.documentLockCapability_.acquireDocumentLock(document.getId(), goog$bind(resolve, this, !0));
    }.bind(this)) : !1;
  }.bind(JSCompiler_StaticMethods_acquireDocumentLock_$self));
}
;
// Input 658
// Input 659
function docs$offline$tasks$EditorTaskHandler(errorReporter, eventBusClient, commandRegistry, emptyModelFactory, documentType, chunkedSnapshotter) {
  this.docs_offline_tasks_EditorTaskHandler$errorReporter_ = errorReporter;
  this.docs_offline_tasks_EditorTaskHandler$eventBusClient_ = eventBusClient;
  this.docs_offline_tasks_EditorTaskHandler$commandRegistry_ = commandRegistry;
  this.emptyModelFactory_ = emptyModelFactory;
  this.documentType_ = documentType;
  this.docs_offline_tasks_EditorTaskHandler$chunkedSnapshotter_ = chunkedSnapshotter;
}
goog$inherits(docs$offline$tasks$EditorTaskHandler, goog$Disposable);
function JSCompiler_StaticMethods_executeTask(JSCompiler_StaticMethods_executeTask$self) {
  return (new docs$localstore$idb$LocalStoreSupplier(JSCompiler_StaticMethods_executeTask$self.docs_offline_tasks_EditorTaskHandler$errorReporter_, JSCompiler_StaticMethods_executeTask$self.docs_offline_tasks_EditorTaskHandler$eventBusClient_, "snapshot_task", JSCompiler_StaticMethods_executeTask$self.docs_offline_tasks_EditorTaskHandler$commandRegistry_)).get().then(function(localstore) {
    var task = new docs$offline$tasks$SnapshotTask(this.docs_offline_tasks_EditorTaskHandler$eventBusClient_, this.docs_offline_tasks_EditorTaskHandler$errorReporter_, localstore, this.docs_offline_tasks_EditorTaskHandler$chunkedSnapshotter_, this.docs_offline_tasks_EditorTaskHandler$commandRegistry_, this.emptyModelFactory_, this.documentType_);
    JSCompiler_StaticMethods_registerDisposable(this, task);
    if (task.hasExecuted_) {
      throw Error("Tasks can only be executed once.");
    }
    task.hasExecuted_ = !0;
    return JSCompiler_StaticMethods_getDocumentsToLocalSnapshot(task.docs_offline_tasks_SnapshotTask$localStore_.storageAdapter_.documentCapability_).then(task.snapshotDocuments_.bind(task));
  }.bind(JSCompiler_StaticMethods_executeTask$self));
}
;
// Input 660
function docs$offline$eventbus$Client(brokerPortProvider, defaultPublishChannel) {
  goog$events$EventTarget.call(this);
  this.isConnected_ = !1;
  this.docs_offline_eventbus_Client$port_ = null;
  this.docs_offline_eventbus_Client$eventHandler_ = new goog$events$EventHandler(this);
  JSCompiler_StaticMethods_registerDisposable(this, this.docs_offline_eventbus_Client$eventHandler_);
  this.brokerPortProvider_ = brokerPortProvider;
  this.defaultPublishChannel_ = defaultPublishChannel;
  this.docs_offline_eventbus_Client$callOnceTracker_ = new docs$util$CallOnceTracker;
  JSCompiler_StaticMethods_registerDisposable(this, this.docs_offline_eventbus_Client$callOnceTracker_);
}
goog$inherits(docs$offline$eventbus$Client, goog$events$EventTarget);
docs$offline$eventbus$Client.prototype.connect = function $docs$offline$eventbus$Client$$connect$() {
  this.isConnected_ || (this.isConnected_ = !0, this.docs_offline_eventbus_Client$port_ = this.brokerPortProvider_.docs_offline_eventbus_ConstantBrokerPortProvider$port_, goog$asserts$assert(this.docs_offline_eventbus_Client$port_), this.docs_offline_eventbus_Client$eventHandler_.listen(this.docs_offline_eventbus_Client$port_, "message", this.handleMessageFromBroker_.bind(this)), this.docs_offline_eventbus_Client$port_.start());
};
function JSCompiler_StaticMethods_publish(JSCompiler_StaticMethods_publish$self, message) {
  if (!JSCompiler_StaticMethods_publish$self.isConnected_) {
    throw Error("Trying to publish without connecting first.");
  }
  var eventBusMessage = new proto$docs$offline$eventbus$EventBusMessage;
  jspb$Message$setField(eventBusMessage, 1, 1);
  jspb$Message$setWrapperField(eventBusMessage, 2, message);
  jspb$Message$setField(eventBusMessage, 3, JSCompiler_StaticMethods_publish$self.defaultPublishChannel_);
  JSCompiler_StaticMethods_publish$self.docs_offline_eventbus_Client$port_.postMessage(JSCompiler_StaticMethods_toArray(eventBusMessage));
}
docs$offline$eventbus$Client.prototype.handleMessageFromBroker_ = function $docs$offline$eventbus$Client$$handleMessageFromBroker_$(browserEvent) {
  this.docs_offline_eventbus_Client$callOnceTracker_.callOnce(goog$bind(function() {
    var e = browserEvent.event_;
    goog$asserts$assert(e.data);
    var message, channel;
    if (null != e.data[1]) {
      var eventBusMessage = new proto$docs$offline$eventbus$EventBusMessage(e.data);
      goog$asserts$assert(1 == eventBusMessage.getType());
      channel = goog$asserts$assert(jspb$Message$getField(eventBusMessage, 3));
      message = goog$asserts$assert(jspb$Message$getWrapperField(eventBusMessage, proto$docs$offline$eventbus$BroadcastMessage));
    } else {
      channel = docs$offline$eventbus$DocsChannels$getDefaultUserChannel(), message = new proto$docs$offline$eventbus$BroadcastMessage(e.data);
    }
    var fieldInfo;
    a: {
      var message$jscomp$0 = message, fieldIndex;
      for (fieldIndex in proto$docs$offline$eventbus$BroadcastMessage$extensions) {
        var fieldInfo$jscomp$0 = proto$docs$offline$eventbus$BroadcastMessage$extensions[Number(fieldIndex)];
        if (message$jscomp$0.jspb_Message_prototype$getExtension(fieldInfo$jscomp$0)) {
          fieldInfo = fieldInfo$jscomp$0;
          break a;
        }
      }
      fieldInfo = null;
    }
    if (fieldInfo) {
      var eventData = message.jspb_Message_prototype$getExtension(fieldInfo);
      this.dispatchEvent(new docs$offline$eventbus$BroadcastMessageEvent(this, channel, fieldInfo, eventData));
    }
  }, this), 0);
};
docs$offline$eventbus$Client.prototype.disposeInternal = function $docs$offline$eventbus$Client$$disposeInternal$() {
  if (this.docs_offline_eventbus_Client$port_) {
    goog$asserts$assert(this.docs_offline_eventbus_Client$port_);
    var message = new proto$docs$offline$eventbus$EventBusMessage;
    jspb$Message$setField(message, 1, 0);
    this.docs_offline_eventbus_Client$port_.postMessage(JSCompiler_StaticMethods_toArray(message));
    this.docs_offline_eventbus_Client$port_.close();
  }
  docs$offline$eventbus$Client.superClass_.disposeInternal.call(this);
};
// Input 661
// Input 662
function docs$offline$eventbus$ConstantBrokerPortProvider(port) {
  this.docs_offline_eventbus_ConstantBrokerPortProvider$port_ = port;
}
;
// Input 663
// Input 664
function proto$docs$offline$scheduler$ExecutorRequest(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$scheduler$ExecutorRequest, jspb$Message);
proto$docs$offline$scheduler$ExecutorRequest.prototype.getType = function $proto$docs$offline$scheduler$ExecutorRequest$$getType$() {
  return jspb$Message$getField(this, 1);
};
function proto$docs$offline$scheduler$PropagateErrorRequest(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$scheduler$PropagateErrorRequest, jspb$Message);
function proto$docs$offline$scheduler$ExecutorResponse(opt_data) {
  jspb$Message$initialize(this, opt_data, -1, null);
}
goog$inherits(proto$docs$offline$scheduler$ExecutorResponse, jspb$Message);
proto$docs$offline$scheduler$ExecutorResponse.prototype.getType = function $proto$docs$offline$scheduler$ExecutorResponse$$getType$() {
  return jspb$Message$getField(this, 2);
};
// Input 665
function docs$offline$tasks$EventBusClientProvider(taskExecutorSender) {
  this.docs_offline_tasks_EventBusClientProvider$taskExecutorSender_ = taskExecutorSender;
}
function JSCompiler_StaticMethods_getEventBusClient(JSCompiler_StaticMethods_getEventBusClient$self) {
  new MessageChannel;
  var request = new proto$docs$offline$scheduler$ExecutorRequest;
  jspb$Message$setField(request, 1, 1);
  return JSCompiler_StaticMethods_getEventBusClient$self.docs_offline_tasks_EventBusClientProvider$taskExecutorSender_.docs_offline_messaging_ProtoSender_prototype$send(request).then(function(response) {
    goog$asserts$assert(response.ports && 1 == response.ports.length);
    var portProvider = new docs$offline$eventbus$ConstantBrokerPortProvider(goog$asserts$assert(response.ports[0])), client = new docs$offline$eventbus$Client(portProvider, docs$offline$eventbus$DocsChannels$getDefaultUserChannel());
    client.connect();
    return client;
  });
}
;
// Input 666
// Input 667
function docs$offline$messaging$ProtoSender(transport, responseCtor) {
  this.transport_ = transport;
  this.responseCtor_ = responseCtor;
}
docs$offline$messaging$ProtoSender.prototype.docs_offline_messaging_ProtoSender_prototype$send = function $docs$offline$messaging$ProtoSender$$docs_offline_messaging_ProtoSender_prototype$send$(request, opt_extraPorts) {
  return JSCompiler_StaticMethods_docs_offline_messaging_AbstractTransport_prototype$send(this.transport_, JSCompiler_StaticMethods_toArray(request), opt_extraPorts).then(function(rawMessageWithPorts) {
    return new docs$offline$messaging$MessageWithPorts(new this.responseCtor_(rawMessageWithPorts.message), rawMessageWithPorts.ports);
  }.bind(this));
};
// Input 668
function docs$offline$tasks$TaskExecutorSender(transport) {
  this.sender_ = new docs$offline$messaging$ProtoSender(transport, proto$docs$offline$scheduler$ExecutorResponse);
}
docs$offline$tasks$TaskExecutorSender.prototype.docs_offline_messaging_ProtoSender_prototype$send = function $docs$offline$tasks$TaskExecutorSender$$docs_offline_messaging_ProtoSender_prototype$send$(request, opt_extraPorts) {
  return this.sender_.docs_offline_messaging_ProtoSender_prototype$send(request, opt_extraPorts).then(function(response) {
    return jspb$Message$getField(response.message, 1) ? goog$Promise$reject(jspb$Message$getField(response.message, 1)) : response;
  });
};
// Input 669
function docs$offline$tasks$AbstractTaskApplication(errorReporter, impressionRecorder, taskExecutorSender) {
  this.errorReporter = errorReporter;
  this.docs_offline_tasks_AbstractTaskApplication$logger_ = goog$debug$LogManager$getLogger("docs.offline.tasks.AbstractTaskApplication");
  this.taskHandler_ = null;
  this.eventHandler = new goog$events$EventHandler(this);
  JSCompiler_StaticMethods_registerDisposable(this, this.eventHandler);
  this.docs_offline_tasks_AbstractTaskApplication$taskExecutorSender_ = taskExecutorSender;
  this.eventHandler.listen(this.errorReporter, "g", this.onFatalError_);
}
goog$inherits(docs$offline$tasks$AbstractTaskApplication, goog$Disposable);
docs$offline$tasks$AbstractTaskApplication.prototype.start = function $docs$offline$tasks$AbstractTaskApplication$$start$(taskHandler) {
  goog$asserts$assert(!this.taskHandler_, "Handler already set.");
  this.taskHandler_ = taskHandler;
  goog$global._docs_worker_handler_resolve(JSCompiler_StaticMethods_protectFunction(this.errorReporter, this.docs_offline_tasks_AbstractTaskApplication_prototype$onMessage, this));
};
docs$offline$tasks$AbstractTaskApplication.prototype.docs_offline_tasks_AbstractTaskApplication_prototype$onMessage = function $docs$offline$tasks$AbstractTaskApplication$$docs_offline_tasks_AbstractTaskApplication_prototype$onMessage$(e) {
  var $jscomp$this = this;
  if (e && e.data && e.ports && e.ports.length) {
    var replyPort = goog$asserts$assert(e.ports[0]), request = new proto$docs$offline$tasks$TaskRequest(e.data);
    JSCompiler_StaticMethods_processRequest_(this, request).then(function(taskResponse) {
      return goog$Promise$allSettled([goog$Promise$allSettled(goog$structs$getValues($jscomp$this.errorReporter.errorSender_.pendingReportsDeferreds_)).then(), goog$Promise$resolve()]).then(function() {
        replyPort.postMessage(JSCompiler_StaticMethods_toArray(taskResponse));
      });
    });
  } else {
    goog$log$info(this.docs_offline_tasks_AbstractTaskApplication$logger_, "Dropped invalid event " + e);
  }
};
function JSCompiler_StaticMethods_processRequest_(JSCompiler_StaticMethods_processRequest_$self, taskRequest) {
  var requestType = taskRequest.getType(), taskResponse = new proto$docs$offline$tasks$TaskResponse;
  jspb$Message$setField(taskResponse, 1, requestType);
  switch(requestType) {
    case 0:
      var executeTask = goog$asserts$assert(jspb$Message$getWrapperField(taskRequest, proto$docs$offline$tasks$ExecuteTaskRequest));
      return JSCompiler_StaticMethods_executeTask_(JSCompiler_StaticMethods_processRequest_$self, executeTask).then(function(executeTaskResponse) {
        jspb$Message$setWrapperField(taskResponse, 2, executeTaskResponse);
        return taskResponse;
      });
    default:
      throw Error("Could not handle task request of type " + taskRequest.getType());
  }
}
function JSCompiler_StaticMethods_executeTask_(JSCompiler_StaticMethods_executeTask_$self, executeTaskRequest) {
  var executeTaskResponse = new proto$docs$offline$tasks$ExecuteTaskResponse, taskType = jspb$Message$getField(executeTaskRequest, 1);
  JSCompiler_StaticMethods_executeTask_$self.errorReporter.staticContext_.executingTaskType = taskType || "";
  goog$log$info(JSCompiler_StaticMethods_executeTask_$self.docs_offline_tasks_AbstractTaskApplication$logger_, "Started running task (" + taskType + ")");
  return JSCompiler_StaticMethods_executeTask(goog$asserts$assert(JSCompiler_StaticMethods_executeTask_$self.taskHandler_)).then(function() {
    goog$log$info(this.docs_offline_tasks_AbstractTaskApplication$logger_, "Task execution successful (" + taskType + ")");
    jspb$Message$setField(executeTaskResponse, 1, 0);
    return executeTaskResponse;
  }.bind(JSCompiler_StaticMethods_executeTask_$self), function(reason) {
    var JSCompiler_temp_const = this.errorReporter, JSCompiler_temp;
    if (reason instanceof Error) {
      JSCompiler_temp = reason;
    } else {
      var JSCompiler_temp_const$jscomp$0 = Error, JSCompiler_temp$jscomp$0;
      JSCompiler_temp$jscomp$0 = goog$isString(reason) ? reason : "with reason of type " + (reason instanceof Function ? reason.displayName || reason.name || "unknown type name" : reason instanceof Object ? reason.constructor.displayName || reason.constructor.name || Object.prototype.toString.call(reason) : null === reason ? "null" : typeof reason);
      JSCompiler_temp = JSCompiler_temp_const$jscomp$0("Task execution failure " + JSCompiler_temp$jscomp$0);
    }
    JSCompiler_StaticMethods_docs_debug_ErrorReporter_prototype$warning(JSCompiler_temp_const, JSCompiler_temp);
    goog$log$error(this.docs_offline_tasks_AbstractTaskApplication$logger_, "Task execution failure (" + taskType + ")");
    jspb$Message$setField(executeTaskResponse, 1, 1);
    return executeTaskResponse;
  }.bind(JSCompiler_StaticMethods_executeTask_$self));
}
docs$offline$tasks$AbstractTaskApplication.prototype.onFatalError_ = function $docs$offline$tasks$AbstractTaskApplication$$onFatalError_$(exceptionEvent) {
  var request = new proto$docs$offline$scheduler$ExecutorRequest;
  jspb$Message$setField(request, 1, 6);
  var propagateErrorRequest = new proto$docs$offline$scheduler$PropagateErrorRequest;
  jspb$Message$setField(propagateErrorRequest, 1, exceptionEvent.error ? exceptionEvent.error.message : "Unknown uncaught error in task.");
  jspb$Message$setWrapperField(request, 3, propagateErrorRequest);
  JSCompiler_StaticMethods_thenAlways(goog$Promise$allSettled(goog$structs$getValues(this.errorReporter.errorSender_.pendingReportsDeferreds_)).then(), function() {
    return this.docs_offline_tasks_AbstractTaskApplication$taskExecutorSender_.docs_offline_messaging_ProtoSender_prototype$send(request);
  }.bind(this));
};
// Input 670
function docs$offline$tasks$WorkerTaskApplication(errorReporter, impressionRecorder, taskExecutorSender) {
  docs$offline$tasks$AbstractTaskApplication.call(this, errorReporter, 0, taskExecutorSender);
}
goog$inherits(docs$offline$tasks$WorkerTaskApplication, docs$offline$tasks$AbstractTaskApplication);
// Input 671
// Input 672
// Input 673
function goog$string$StringBuffer(opt_a1, var_args) {
  null != opt_a1 && this.goog_string_StringBuffer_prototype$append.apply(this, arguments);
}
goog$string$StringBuffer.prototype.goog_string_StringBuffer_prototype$buffer_ = "";
goog$string$StringBuffer.prototype.set = function $goog$string$StringBuffer$$set$(s) {
  this.goog_string_StringBuffer_prototype$buffer_ = "" + s;
};
goog$string$StringBuffer.prototype.goog_string_StringBuffer_prototype$append = function $goog$string$StringBuffer$$goog_string_StringBuffer_prototype$append$(a1, opt_a2, var_args) {
  this.goog_string_StringBuffer_prototype$buffer_ += String(a1);
  if (null != opt_a2) {
    for (var i = 1;i < arguments.length;i++) {
      this.goog_string_StringBuffer_prototype$buffer_ += arguments[i];
    }
  }
  return this;
};
goog$string$StringBuffer.prototype.clear = function $goog$string$StringBuffer$$clear$() {
  this.goog_string_StringBuffer_prototype$buffer_ = "";
};
goog$string$StringBuffer.prototype.toString = function $goog$string$StringBuffer$$toString$() {
  return this.goog_string_StringBuffer_prototype$buffer_;
};
// Input 674
function docs$text$model$Snapshotter() {
}
function docs$text$model$Snapshotter$0SuggestedInsertion_(range, suggestionIds) {
  this.range_ = range;
  this.suggestionIds_ = suggestionIds;
}
function JSCompiler_StaticMethods_chunkedSnapshot(model) {
  var flags = docs$flag$FlagService.getInstance(), chunkSize = JSCompiler_StaticMethods_getNumber(flags, "docs-text-tsmcs");
  if (!goog$isNumber(chunkSize) || 0 >= chunkSize) {
    throw Error("Invalid chunk size " + chunkSize);
  }
  for (var modelChunks = [], modelChunkStartIndices = [], suggestedInsertions = [], i = 0;i < model.suggestedInsertionRanges_.runArray_.getKeys().length;i++) {
    var startIndex = model.suggestedInsertionRanges_.runArray_.getKeys()[i], suggestionIds = model.getSuggestedInsertions(startIndex), endIndex = i < model.suggestedInsertionRanges_.runArray_.getKeys().length - 1 ? model.suggestedInsertionRanges_.runArray_.getKeys()[i + 1] - 1 : JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model.docs_text_model_ModelImpl$spacers_) - 1;
    suggestedInsertions.push(new docs$text$model$Snapshotter$0SuggestedInsertion_(new goog$math$Range(startIndex, endIndex), suggestionIds));
  }
  var spacers = model.docs_text_model_ModelImpl$spacers_;
  goog$asserts$assert(!modelChunks.length, "The modelChunks should be empty.");
  goog$asserts$assert(!modelChunkStartIndices.length, "The modelChunkSizes should be empty.");
  goog$asserts$assert(!modelChunks.length, "The modelChunks should be empty.");
  goog$asserts$assert(!modelChunkStartIndices.length, "The modelChunkSizes should be empty.");
  var tableStartIndices = spacers.docs_text_protocol_Spacers_prototype$getIndicesOf("\u0010"), tableEndIndices = spacers.docs_text_protocol_Spacers_prototype$getIndicesOf("\u0011"), autogenStartIndices = spacers.docs_text_protocol_Spacers_prototype$getIndicesOf("\uefff"), autogenEndIndices = spacers.docs_text_protocol_Spacers_prototype$getIndicesOf("\ueffe"), firstSectionMarker = spacers.indexOf("\u0003", 1), totalNumSpacersToInsert = 0 <= firstSectionMarker ? firstSectionMarker - 2 : JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(spacers) - 
  2, currentChunk = [], lastChunkNumSpacers = 0;
  if (0 < totalNumSpacersToInsert) {
    for (var startIndex$jscomp$0 = 1;startIndex$jscomp$0 <= totalNumSpacersToInsert;) {
      modelChunks.push(currentChunk);
      var endIndex$jscomp$0;
      var spacers$jscomp$0 = spacers, startIndex$jscomp$1 = startIndex$jscomp$0, lastSpacerIndex = totalNumSpacersToInsert, minNumSpacersPerChunk = chunkSize, tableStartIndices$jscomp$0 = tableStartIndices, tableEndIndices$jscomp$0 = tableEndIndices, autogenStartIndices$jscomp$0 = autogenStartIndices, autogenEndIndices$jscomp$0 = autogenEndIndices;
      goog$asserts$assert(tableStartIndices$jscomp$0.length == tableEndIndices$jscomp$0.length, "A valid document should always have the same number of start and end table markers.");
      goog$asserts$assert(autogenStartIndices$jscomp$0.length == autogenEndIndices$jscomp$0.length, "A valid document should always have the same number of start and end autogen markers.");
      var minChunkEndIndex = startIndex$jscomp$1 + minNumSpacersPerChunk - 1;
      if (minChunkEndIndex >= lastSpacerIndex) {
        endIndex$jscomp$0 = lastSpacerIndex;
      } else {
        var nextParagraphMarkerIndex = spacers$jscomp$0.indexOf("\n", minChunkEndIndex);
        goog$asserts$assert(0 < nextParagraphMarkerIndex, "Should never be asked to snapshot an invalid document. There are no \\n's after index: %s", minChunkEndIndex);
        if (nextParagraphMarkerIndex >= lastSpacerIndex) {
          endIndex$jscomp$0 = lastSpacerIndex;
        } else {
          var endIndex$jscomp$1 = nextParagraphMarkerIndex;
          do {
            var numTableStartMarkers = JSCompiler_StaticMethods_getNumItemsBeforeIndex_(tableStartIndices$jscomp$0, endIndex$jscomp$1), numTableEndMarkers = JSCompiler_StaticMethods_getNumItemsBeforeIndex_(tableEndIndices$jscomp$0, endIndex$jscomp$1);
            goog$asserts$assert(numTableStartMarkers >= numTableEndMarkers, "Should never be asked to snapshot an invalid document. There are more table end markers than table start markers before index %s", endIndex$jscomp$1);
            if (numTableStartMarkers == numTableEndMarkers) {
              break;
            }
            endIndex$jscomp$1 = tableEndIndices$jscomp$0[numTableEndMarkers];
          } while (endIndex$jscomp$1 < lastSpacerIndex);
          var numAutogenStartMarkers = JSCompiler_StaticMethods_getNumItemsBeforeIndex_(autogenStartIndices$jscomp$0, endIndex$jscomp$1), numAutogenEndMarkers = JSCompiler_StaticMethods_getNumItemsBeforeIndex_(autogenEndIndices$jscomp$0, endIndex$jscomp$1);
          goog$asserts$assert(numAutogenStartMarkers >= numAutogenEndMarkers, "Should never be asked to snapshot an invalid document. There are more autogen end markers than autogen start markers before index %s", endIndex$jscomp$1);
          goog$asserts$assert(numAutogenStartMarkers <= numAutogenEndMarkers + 1, "Should never be asked to snapshot an invalid document. There is a nested autogen region before index %s", endIndex$jscomp$1);
          numAutogenStartMarkers == numAutogenEndMarkers ? endIndex$jscomp$0 = endIndex$jscomp$1 : (endIndex$jscomp$1 = autogenEndIndices$jscomp$0[numAutogenEndMarkers], endIndex$jscomp$0 = Math.min(endIndex$jscomp$1, lastSpacerIndex));
        }
      }
      JSCompiler_StaticMethods_appendInsertSpacersCommandsForRange_(currentChunk, startIndex$jscomp$0, endIndex$jscomp$0, spacers, suggestedInsertions);
      lastChunkNumSpacers = endIndex$jscomp$0 - startIndex$jscomp$0 + 1;
      modelChunkStartIndices.push(1 == startIndex$jscomp$0 ? 0 : startIndex$jscomp$0);
      startIndex$jscomp$0 = endIndex$jscomp$0 + 1;
      currentChunk = [];
    }
  } else {
    modelChunkStartIndices.push(0), modelChunks.push(currentChunk);
  }
  var lastChunkNumSpacers$jscomp$0 = lastChunkNumSpacers;
  goog$asserts$assert(modelChunks.length == modelChunkStartIndices.length, "Should have same number of chunks and chunk start indices.");
  goog$asserts$assert(0 < modelChunks.length, "There should already be chunks.");
  var currentChunk$jscomp$0 = null, currentChunkNumSpacers = 0, currentChunkSectionIndices = [];
  lastChunkNumSpacers$jscomp$0 < chunkSize && (currentChunk$jscomp$0 = modelChunks[modelChunks.length - 1], currentChunkNumSpacers = lastChunkNumSpacers$jscomp$0);
  for (var sectionIndices = spacers.docs_text_protocol_Spacers_prototype$getIndicesOf("\u0003"), i$jscomp$0 = 1;i$jscomp$0 < sectionIndices.length;i$jscomp$0++) {
    var isLast = i$jscomp$0 == sectionIndices.length - 1, sectionStartIndex = sectionIndices[i$jscomp$0], sectionEndIndex = isLast ? JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(spacers) - 1 : sectionIndices[i$jscomp$0 + 1] - 1, sectionNumSpacers = sectionEndIndex - sectionStartIndex + 1;
    null == currentChunk$jscomp$0 && (currentChunk$jscomp$0 = [], currentChunkNumSpacers = 0, modelChunks.push(currentChunk$jscomp$0), modelChunkStartIndices.push(sectionStartIndex), currentChunkSectionIndices = []);
    currentChunkNumSpacers += sectionNumSpacers;
    currentChunkSectionIndices.push(sectionStartIndex);
    if (currentChunkNumSpacers >= chunkSize || isLast) {
      for (var chunk = currentChunk$jscomp$0, chunkSectionIndices = currentChunkSectionIndices, chunkEnd = sectionEndIndex, suggestedInsertions$jscomp$0 = suggestedInsertions, spacers$jscomp$1 = spacers, i$jscomp$1 = 0;i$jscomp$1 < chunkSectionIndices.length;i$jscomp$1++) {
        var sectionStart = chunkSectionIndices[i$jscomp$1], sectionEnd = i$jscomp$1 + 1 < chunkSectionIndices.length ? chunkSectionIndices[i$jscomp$1 + 1] - 1 : chunkEnd;
        if (JSCompiler_StaticMethods_rangeContainsSuggestedInsertions_(sectionStart, sectionEnd, suggestedInsertions$jscomp$0)) {
          var chunk$jscomp$0 = chunk, sectionStart$jscomp$0 = sectionStart, sectionEnd$jscomp$0 = sectionEnd, suggestedInsertions$jscomp$1 = suggestedInsertions$jscomp$0, spacers$jscomp$2 = spacers$jscomp$1, suggestionIds$jscomp$0;
          a: {
            for (var i$jscomp$2 = 0;i$jscomp$2 < suggestedInsertions$jscomp$1.length;i$jscomp$2++) {
              var suggestedInsertion = suggestedInsertions$jscomp$1[i$jscomp$2], range = suggestedInsertion.range_;
              if (range.start <= sectionStart$jscomp$0 && range.end >= sectionStart$jscomp$0) {
                suggestionIds$jscomp$0 = suggestedInsertion.suggestionIds_;
                break a;
              }
            }
            throw Error("Suggested insertions should span all indices.");
          }
          JSCompiler_StaticMethods_appendInsertSpacersCommands_(chunk$jscomp$0, sectionStart$jscomp$0, "\u0003\n", suggestionIds$jscomp$0);
          1 < sectionEnd$jscomp$0 - sectionStart$jscomp$0 && JSCompiler_StaticMethods_appendInsertSpacersCommandsForRange_(chunk$jscomp$0, sectionStart$jscomp$0 + 1, sectionEnd$jscomp$0 - 1, spacers$jscomp$2, suggestedInsertions$jscomp$1);
        } else {
          for (var chunk$jscomp$1 = chunk, chunkSectionIndices$jscomp$0 = chunkSectionIndices, chunkSectionKey = i$jscomp$1, chunkEnd$jscomp$0 = chunkEnd, suggestedInsertions$jscomp$2 = suggestedInsertions$jscomp$0, spacers$jscomp$3 = spacers$jscomp$1, insertSpacersBuilder = new goog$string$StringBuffer, chunkIndex = chunkSectionKey;chunkIndex < chunkSectionIndices$jscomp$0.length;chunkIndex++) {
            var sectionStart$jscomp$1 = chunkSectionIndices$jscomp$0[chunkIndex], sectionEnd$jscomp$1 = chunkIndex + 1 < chunkSectionIndices$jscomp$0.length ? chunkSectionIndices$jscomp$0[chunkIndex + 1] - 1 : chunkEnd$jscomp$0;
            if (JSCompiler_StaticMethods_rangeContainsSuggestedInsertions_(sectionStart$jscomp$1, sectionEnd$jscomp$1, suggestedInsertions$jscomp$2)) {
              break;
            }
            insertSpacersBuilder.goog_string_StringBuffer_prototype$append(spacers$jscomp$3.slice(sectionStart$jscomp$1, sectionEnd$jscomp$1));
          }
          var insertSpacers = insertSpacersBuilder.toString();
          goog$asserts$assert(0 < insertSpacers.length);
          chunk$jscomp$1.push(new docs$text$mutations$InsertSpacersMutation(chunkSectionIndices$jscomp$0[chunkSectionKey], insertSpacers));
          i$jscomp$1 = chunkIndex - 1;
        }
      }
      currentChunk$jscomp$0 = null;
    }
  }
  goog$asserts$assert(0 < modelChunks.length, "At least one model chunk should be created.");
  goog$asserts$assert(modelChunks.length == modelChunkStartIndices.length, "Each model chunk in modelChunks should have a corresponding model chunk start index in modelChunkStartIndices.");
  var chunk$jscomp$2 = modelChunks[0];
  if ("document" in model.suggestionAwareStyleManager_.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_.enabledStyleSpecsMap_) {
    var JSCompiler_temp;
    if (model.docs_text_model_ModelImpl$styleResolverManager_.styleResolverMap_.document) {
      var JSCompiler_StaticMethods_docs_text_model_LazyConcreteStyleManager_prototype$getConcreteStyle$self = model.lazyConcreteStyleManager_;
      JSCompiler_StaticMethods_docs_text_model_LazyConcreteStyleManager_prototype$getConcreteStyle$self.concreteStyleManager_ || JSCompiler_StaticMethods_initializeConcreteStyleManager_(JSCompiler_StaticMethods_docs_text_model_LazyConcreteStyleManager_prototype$getConcreteStyle$self, model.entityManager_, model.tableState_, model.suggestionAwareStyleManager_);
      JSCompiler_temp = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$getConcreteStyle(JSCompiler_StaticMethods_docs_text_model_LazyConcreteStyleManager_prototype$getConcreteStyle$self.concreteStyleManager_, "document", 0);
    } else {
      JSCompiler_temp = model.docs_text_model_DocumentSliceBasedRawStyleProvider_prototype$getRawStyle("document", 0);
    }
    chunk$jscomp$2.push(new docs$text$mutations$ApplyStyleMutation("document", 0, 0, JSCompiler_temp.serialize()));
  }
  for (var entityStates = [], entityIds = goog$object$getKeys(model.entityManager_.innerEntityManager_.entityMap_), i$jscomp$3 = 0;i$jscomp$3 < entityIds.length;i$jscomp$3++) {
    entityStates.push(model.getEntityState(entityIds[i$jscomp$3]));
  }
  for (var i$jscomp$4 = 0;i$jscomp$4 < entityStates.length;i$jscomp$4++) {
    var entityState = entityStates[i$jscomp$4], entity = entityState.annotation_, id = entity.getId(), insertionId = entityState.insertionId_;
    insertionId ? chunk$jscomp$2.push(new docs$text$mutations$AddSuggestedEntityMutation(insertionId, entity.getType(), id, entity.serialize())) : chunk$jscomp$2.push(new docs$text$mutations$AddEntityMutation(entity.getType(), id, entity.serialize()));
    for (var deletionIds = entityState.deletionIds_, j = 0;j < deletionIds.length;j++) {
      chunk$jscomp$2.push(new docs$text$mutations$MarkEntityForDeletionMutation(deletionIds[j], id));
    }
    for (var suggestedEntityIds = JSCompiler_StaticMethods_getSuggestedAnnotationIds(entityState), j = 0;j < suggestedEntityIds.length;j++) {
      var suggestedAnnotation = JSCompiler_StaticMethods_getSuggestedAnnotation(entityState, suggestedEntityIds[j]);
      suggestedAnnotation && chunk$jscomp$2.push(new docs$text$mutations$SuggestUpdateEntityMutation(suggestedEntityIds[j], id, suggestedAnnotation.serialize(docs$text$protocol$SerializationStrategy$ONLY_DEFINED)));
    }
  }
  for (i$jscomp$4 = 0;i$jscomp$4 < docs$text$protocol$Entity$0Type$ALL_TYPES.length;i$jscomp$4++) {
    for (var suggestedUntethers = model.getSuggestedUntethers(docs$text$protocol$Entity$0Type$ALL_TYPES[i$jscomp$4]), j = 0;j < suggestedUntethers.length;j++) {
      var suggestedUntether = suggestedUntethers[j];
      chunk$jscomp$2.push(new docs$text$mutations$SuggestTetherEntityMutation(suggestedUntether.docs_text_protocol_TetherMetadata$suggestionId_, suggestedUntether.docs_text_protocol_TetherMetadata$entityId_, -1));
    }
  }
  for (var index = 1;index < modelChunkStartIndices.length;index++) {
    var rejectionStartSpacerIndex = modelChunkStartIndices[index], rejectionEndSpacerIndex = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model.docs_text_model_ModelImpl$spacers_) - 1;
    index + 1 < modelChunkStartIndices.length && (rejectionEndSpacerIndex = modelChunkStartIndices[index + 1] - 1);
    for (var suggestionAwareModel = model, styleTypes = model.getRegisteredStyleTypes(), key = 0;key < styleTypes.length;key++) {
      for (var suggestedStyleIds = suggestionAwareModel.getSuggestedStyleIds(styleTypes[key], rejectionStartSpacerIndex - 1), i$jscomp$5 = 0;i$jscomp$5 < suggestedStyleIds.length;i$jscomp$5++) {
        modelChunks[index].push(new docs$text$mutations$RejectApplyStyleMutation(suggestedStyleIds[i$jscomp$5], rejectionStartSpacerIndex, rejectionEndSpacerIndex));
      }
    }
  }
  for (var spacerIndexToChunkIndex = {}, i$jscomp$6 = 0;i$jscomp$6 < docs$text$protocol$Entity$0Type$ALL_TYPES.length;i$jscomp$6++) {
    for (var entityType = docs$text$protocol$Entity$0Type$ALL_TYPES[i$jscomp$6], indices = model.getSortedEntityUnflattenedPositions(entityType), j$jscomp$0 = 0;j$jscomp$0 < indices.length;j$jscomp$0++) {
      for (var tetherIndex = indices[j$jscomp$0], ids = model.getUnflattenedEntityIdsForType(entityType, tetherIndex), chunkIndex$jscomp$0 = JSCompiler_StaticMethods_getChunkIndexForSpacerIndex_(spacerIndexToChunkIndex, tetherIndex, modelChunkStartIndices), modelChunk = modelChunks[chunkIndex$jscomp$0], idIndex = 0;idIndex < ids.length;idIndex++) {
        modelChunk.push(new docs$text$mutations$TetherEntityMutation(ids[idIndex], tetherIndex));
      }
    }
    for (var suggestedIndices = model.getSortedEntitySuggestPositions(entityType), j$jscomp$0 = 0;j$jscomp$0 < suggestedIndices.length;j$jscomp$0++) {
      for (var suggestedIndex = suggestedIndices[j$jscomp$0], tetherMetadata = model.getSuggestedTetherMetadataForType(entityType, suggestedIndex), chunkIndex$jscomp$0 = JSCompiler_StaticMethods_getChunkIndexForSpacerIndex_(spacerIndexToChunkIndex, suggestedIndex, modelChunkStartIndices), modelChunk = modelChunks[chunkIndex$jscomp$0], k = 0;k < tetherMetadata.length;k++) {
        modelChunk.push(new docs$text$mutations$SuggestTetherEntityMutation(tetherMetadata[k].docs_text_protocol_TetherMetadata$suggestionId_, tetherMetadata[k].docs_text_protocol_TetherMetadata$entityId_, suggestedIndex));
      }
    }
  }
  for (i$jscomp$6 = 0;i$jscomp$6 < docs$text$protocol$StyleType$ALL_STYLES.length;i$jscomp$6++) {
    var styleType = docs$text$protocol$StyleType$ALL_STYLES[i$jscomp$6];
    if (styleType in model.suggestionAwareStyleManager_.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_.enabledStyleSpecsMap_ && docs$text$protocol$StyleTypes$isTethered(styleType) && !docs$text$protocol$StyleTypes$getStyleTypeInfo_(styleType).docs_text_protocol_StyleTypeInfo$isMetadata_) {
      for (var styleKeys = model.getStyleStateKeys(styleType), j$jscomp$0 = 0;j$jscomp$0 < styleKeys.length;j$jscomp$0++) {
        var index$jscomp$0 = styleKeys[j$jscomp$0], styleState = model.getTetheredStyleState(styleType, index$jscomp$0), chunkIndex$jscomp$0 = JSCompiler_StaticMethods_getChunkIndexForSpacerIndex_(spacerIndexToChunkIndex, index$jscomp$0, modelChunkStartIndices), modelChunk = modelChunks[chunkIndex$jscomp$0];
        styleState.annotation_ && modelChunk.push(new docs$text$mutations$ApplyStyleMutation(styleType, index$jscomp$0, index$jscomp$0, styleState.annotation_.serialize()));
        for (var suggestionIds$jscomp$1 = JSCompiler_StaticMethods_getSuggestedAnnotationIds(styleState), k = 0;k < suggestionIds$jscomp$1.length;k++) {
          modelChunk.push(new docs$text$mutations$SuggestApplyStyleMutation(suggestionIds$jscomp$1[k], styleType, index$jscomp$0, index$jscomp$0, JSCompiler_StaticMethods_getSuggestedAnnotation(styleState, suggestionIds$jscomp$1[k]).serialize(docs$text$protocol$SerializationStrategy$ONLY_DEFINED)));
        }
      }
    }
  }
  JSCompiler_StaticMethods_appendApplyStyleMutationsForNonTetheredStyles_(modelChunks, modelChunkStartIndices, model, spacerIndexToChunkIndex);
  JSCompiler_StaticMethods_appendMarkSpacersForDeletionCommands_(modelChunks, modelChunkStartIndices, model, spacerIndexToChunkIndex);
  return modelChunks;
}
function JSCompiler_StaticMethods_getChunkIndexForSpacerIndex_(spacerIndexToChunkIndex, spacerIndex, modelChunkStartIndices) {
  if (!goog$isDef(spacerIndexToChunkIndex[spacerIndex])) {
    var binarySearchResult = goog$array$binarySearch(modelChunkStartIndices, spacerIndex);
    spacerIndexToChunkIndex[spacerIndex] = 0 <= binarySearchResult ? binarySearchResult : -binarySearchResult - 2;
  }
  return spacerIndexToChunkIndex[spacerIndex];
}
function JSCompiler_StaticMethods_rangeContainsSuggestedInsertions_(start, end, suggestedInsertions) {
  for (var range = new goog$math$Range(start, end), i = 0;i < suggestedInsertions.length;i++) {
    var suggestedInsertion = suggestedInsertions[i], insertionRange = suggestedInsertion.range_;
    if (0 < suggestedInsertion.suggestionIds_.length && Math.max(insertionRange.start, range.start) <= Math.min(insertionRange.end, range.end)) {
      return !0;
    }
  }
  return !1;
}
function JSCompiler_StaticMethods_appendInsertSpacersCommandsForRange_(chunk, startIndex, endIndex, spacers, suggestedInsertions) {
  for (var i = 0;i < suggestedInsertions.length;i++) {
    var suggestedInsertion = suggestedInsertions[i], runStartIndex = suggestedInsertion.range_.start, runEndIndex = suggestedInsertion.range_.end;
    if (!(runEndIndex < startIndex)) {
      if (runStartIndex > endIndex) {
        break;
      }
      var commandStart = Math.max(startIndex, runStartIndex), commandSpacers = spacers.slice(commandStart, Math.min(endIndex, runEndIndex));
      JSCompiler_StaticMethods_appendInsertSpacersCommands_(chunk, commandStart, commandSpacers, suggestedInsertion.suggestionIds_);
    }
  }
}
function JSCompiler_StaticMethods_appendInsertSpacersCommands_(chunk, startIndex, commandSpacers, suggestionIds) {
  if (0 == suggestionIds.length) {
    chunk.push(new docs$text$mutations$InsertSpacersMutation(startIndex, commandSpacers));
  } else {
    for (var firstSuggestionId = !0, endIndex = startIndex + commandSpacers.length - 1, i = 0;i < suggestionIds.length;i++) {
      var suggestionId = suggestionIds[i];
      firstSuggestionId ? (chunk.push(new docs$text$mutations$InsertSuggestedSpacersMutation(suggestionId, startIndex, commandSpacers)), firstSuggestionId = !1) : chunk.push(new docs$text$mutations$MarkSpacersForInsertionMutation(suggestionId, startIndex, endIndex));
    }
  }
}
function JSCompiler_StaticMethods_appendApplyStyleMutationsForNonTetheredStyles_(modelChunks, modelChunkStartIndices, model, spacerIndexToChunkIndex) {
  for (var lastSpacerIndex = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model.docs_text_model_ModelImpl$spacers_) - 1, i = 0;i < docs$text$protocol$StyleType$ALL_STYLES.length;i++) {
    var styleType = docs$text$protocol$StyleType$ALL_STYLES[i];
    if (JSCompiler_StaticMethods_shouldProcessAsRuns_(styleType, model)) {
      for (var styleKeys = model.getStyleStateKeys(styleType), j = 0;j < styleKeys.length;j++) {
        var styleStartIndex = styleKeys[j], styleEndIndex = j < styleKeys.length - 1 ? styleKeys[j + 1] - 1 : lastSpacerIndex, styleState = model.getStyleState(styleType, styleStartIndex), serializedStyle = styleState.annotation_.serialize();
        JSCompiler_StaticMethods_appendRangeCommandsAcrossChunks_(modelChunks, modelChunkStartIndices, new goog$math$Range(styleStartIndex, styleEndIndex), lastSpacerIndex, function(startIndex, endIndex) {
          return new docs$text$mutations$ApplyStyleMutation(styleType, startIndex, endIndex, serializedStyle);
        }, spacerIndexToChunkIndex);
        for (var suggestionIds = JSCompiler_StaticMethods_getSuggestedAnnotationIds(styleState), k = 0;k < suggestionIds.length;k++) {
          var suggestionId = suggestionIds[k], serializedStyle = JSCompiler_StaticMethods_getSuggestedAnnotation(styleState, suggestionId).serialize(docs$text$protocol$SerializationStrategy$ONLY_DEFINED);
          JSCompiler_StaticMethods_appendRangeCommandsAcrossChunks_(modelChunks, modelChunkStartIndices, new goog$math$Range(styleStartIndex, styleEndIndex), lastSpacerIndex, function(startIndex, endIndex) {
            return new docs$text$mutations$SuggestApplyStyleMutation(suggestionId, styleType, startIndex, endIndex, serializedStyle);
          }, spacerIndexToChunkIndex);
        }
      }
    }
  }
}
function JSCompiler_StaticMethods_appendRangeCommandsAcrossChunks_(modelChunks, modelChunkStartIndices, commandRange, lastSpacerIndex, commandFunction, spacerIndexToChunkIndex) {
  var startChunkIndex = JSCompiler_StaticMethods_getChunkIndexForSpacerIndex_(spacerIndexToChunkIndex, commandRange.start, modelChunkStartIndices), endChunkIndex = JSCompiler_StaticMethods_getChunkIndexForSpacerIndex_(spacerIndexToChunkIndex, commandRange.end, modelChunkStartIndices);
  goog$asserts$assert(startChunkIndex <= endChunkIndex, "The start chunk index: %s should be less than or equal to the end chunk index: %s", startChunkIndex, endChunkIndex);
  if (startChunkIndex == endChunkIndex) {
    modelChunks[startChunkIndex].push(commandFunction(commandRange.start, commandRange.end));
  } else {
    var mutationEndIndex = startChunkIndex < modelChunkStartIndices.length - 1 ? modelChunkStartIndices[startChunkIndex + 1] - 1 : lastSpacerIndex;
    modelChunks[startChunkIndex].push(commandFunction(commandRange.start, mutationEndIndex));
    for (var chunkIndex = startChunkIndex + 1;chunkIndex <= endChunkIndex;chunkIndex++) {
      var previousMutationEndIndex = mutationEndIndex, mutationEndIndex = chunkIndex < modelChunkStartIndices.length - 1 ? modelChunkStartIndices[chunkIndex + 1] - 1 : lastSpacerIndex;
      if (chunkIndex == modelChunkStartIndices.length - 1 || commandRange.end < mutationEndIndex) {
        mutationEndIndex = commandRange.end;
      }
      modelChunks[chunkIndex].push(commandFunction(previousMutationEndIndex + 1, mutationEndIndex));
    }
  }
}
function JSCompiler_StaticMethods_appendMarkSpacersForDeletionCommands_(modelChunks, modelChunkStartIndices, model, spacerIndexToChunkIndex) {
  for (var lastSpacerIndex = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model.docs_text_model_ModelImpl$spacers_) - 1, keys = model.suggestedDeletionRanges_.runArray_.getKeys(), i = 0;i < keys.length;i++) {
    for (var startIndex$jscomp$0 = keys[i], endIndex$jscomp$0 = i == keys.length - 1 ? lastSpacerIndex : keys[i + 1] - 1, suggestionIds = model.getSuggestedDeletions(startIndex$jscomp$0), j = 0;j < suggestionIds.length;j++) {
      JSCompiler_StaticMethods_appendRangeCommandsAcrossChunks_(modelChunks, modelChunkStartIndices, new goog$math$Range(startIndex$jscomp$0, endIndex$jscomp$0), lastSpacerIndex, function(startIndex, endIndex) {
        return new docs$text$mutations$MarkSpacersForDeletionMutation(suggestionIds[j], startIndex, endIndex);
      }, spacerIndexToChunkIndex);
    }
  }
}
function JSCompiler_StaticMethods_getNumItemsBeforeIndex_(sortedIndices, index) {
  var insertIndex = goog$array$binarySearch(sortedIndices, index);
  return 0 > insertIndex ? -insertIndex - 1 : insertIndex + 1;
}
function JSCompiler_StaticMethods_shouldProcessAsRuns_(styleType, model) {
  return styleType in model.suggestionAwareStyleManager_.docs_text_model_SuggestionAwareStyleManager$defaultStylesProvider_.enabledStyleSpecsMap_ && !docs$text$protocol$StyleTypes$isTethered(styleType) && !docs$text$protocol$StyleTypes$getStyleTypeInfo_(styleType).docs_text_protocol_StyleTypeInfo$isMetadata_;
}
;
// Input 675
function docs$commands$ErrorCommandApplier() {
}
docs$commands$ErrorCommandApplier.prototype.apply = function $docs$commands$ErrorCommandApplier$$apply$(command) {
  throw Error("Non-applyable command type " + command.getType());
};
// Input 676
function docs$commands$MultiCommandApplier(applier) {
  this.docs_commands_MultiCommandApplier$applier_ = applier;
}
docs$commands$MultiCommandApplier.prototype.apply = function $docs$commands$MultiCommandApplier$$apply$(command, model) {
  for (var commands = command.docs_commands_MultiCommand$commands_, isNoOp = !0, i = 0;i < commands.length;i++) {
    isNoOp = this.docs_commands_MultiCommandApplier$applier_.apply(commands[i], model) && isNoOp;
  }
  return isNoOp;
};
// Input 677
function docs$commands$NullCommandApplier() {
}
docs$commands$NullCommandApplier.prototype.apply = goog$functions$TRUE;
// Input 678
function docs$commands$ReverseCommandApplier(applier) {
  this.docs_commands_ReverseCommandApplier$applier_ = applier;
}
docs$commands$ReverseCommandApplier.prototype.apply = function $docs$commands$ReverseCommandApplier$$apply$(command, model) {
  return this.docs_commands_ReverseCommandApplier$applier_.apply(command.getDelegate(), model);
};
// Input 679
function docs$commands$SnapshotCommandApplier(applier) {
  this.docs_commands_SnapshotCommandApplier$applier_ = applier;
}
docs$commands$SnapshotCommandApplier.prototype.apply = function $docs$commands$SnapshotCommandApplier$$apply$(command, model) {
  model.clear();
  for (var commands = command.snapshot_, i = 0;i < commands.length;i++) {
    this.docs_commands_SnapshotCommandApplier$applier_.apply(commands[i], model);
  }
  return !1;
};
// Input 680
function docs$commands$UpdateFeatureVersionCommandApplier() {
}
docs$commands$UpdateFeatureVersionCommandApplier.prototype.apply = JSCompiler_returnArg(!0);
// Input 681
// Input 682
// Input 683
// Input 684
// Input 685
function docs$text$mutations$appliers$MutationApplier() {
}
docs$text$mutations$appliers$MutationApplier.prototype.apply = function $docs$text$mutations$appliers$MutationApplier$$apply$(mutation, model$jscomp$0) {
  var mutationWasNoOp = !1;
  switch(mutation.getType()) {
    case "kix-is":
      var insertSpacersMutation = mutation;
      JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_(model$jscomp$0, insertSpacersMutation.insertBeforeIndex_, insertSpacersMutation.docs_text_mutations_AbstractInsertSpacersMutation$spacers_);
      break;
    case "kix-iss":
      var insertSpacersMutation = mutation, insertBeforeIndex = insertSpacersMutation.insertBeforeIndex_, spacers = insertSpacersMutation.docs_text_mutations_AbstractInsertSpacersMutation$spacers_;
      JSCompiler_StaticMethods_docs_text_model_ModelImpl_prototype$insertSpacers_(model$jscomp$0, insertBeforeIndex, spacers);
      JSCompiler_StaticMethods_updateRun(model$jscomp$0.suggestedInsertionRanges_.runArray_, insertBeforeIndex, insertBeforeIndex + spacers.length - 1, new docs$text$util$StringArrayRunStrategy$0Update([insertSpacersMutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId()]), JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model$jscomp$0.docs_text_model_ModelImpl$spacers_) - 1);
      break;
    case "kix-ds":
    case "kix-dss":
      var startIndex = mutation.docs_text_mutations_AbstractDeleteSpacersMutation$startIndex_, endIndex = mutation.docs_text_mutations_AbstractDeleteSpacersMutation$endIndex_, documentSlice;
      null != model$jscomp$0.lazyConcreteStyleManager_.concreteStyleManager_ && (documentSlice = JSCompiler_StaticMethods_getDocumentSlice(model$jscomp$0, startIndex, endIndex, !0));
      var performanceManager = docs$diagnostics$PerformanceManager.getInstance(), eventId = JSCompiler_StaticMethods_startEvent(performanceManager, new docs$text$diagnostics$EventCode("spacers", "delete"));
      model$jscomp$0.styleIntersectionCache_.clear();
      var numSpacers = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model$jscomp$0.docs_text_model_ModelImpl$spacers_);
      model$jscomp$0.suggestionAwareStyleManager_.splice(startIndex, endIndex, numSpacers);
      model$jscomp$0.tetherManager_.splice(startIndex, endIndex);
      model$jscomp$0.suggestedInsertionRanges_.splice(startIndex, endIndex, numSpacers);
      model$jscomp$0.suggestedDeletionRanges_.splice(startIndex, endIndex, numSpacers);
      model$jscomp$0.docs_text_model_ModelImpl$spacers_.docs_text_protocol_MutableSpacers_prototype$remove(startIndex, endIndex);
      var JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForDelete$self = model$jscomp$0.tableState_, JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self = JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForDelete$self.updateState_;
      if (!(0 > JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_)) {
        var numSpacersDeleted = endIndex - startIndex + 1;
        if (endIndex < JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_) {
          0 <= JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ && (JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ -= numSpacersDeleted);
        } else {
          if (!(startIndex > JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ + JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.pendingSpacers_.length)) {
            var relativeStartIndex = startIndex - JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_;
            if (0 < relativeStartIndex) {
              JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.pendingSpacers_ = goog$string$removeAt(JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.pendingSpacers_, relativeStartIndex, numSpacersDeleted);
            } else {
              if (0 == relativeStartIndex) {
                JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.pendingSpacers_ = goog$string$removeAt(JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.pendingSpacers_, relativeStartIndex, numSpacersDeleted), JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ -= numSpacersDeleted, JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.pendingSpacers_ || 
                (JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ = -1);
              } else {
                if (endIndex >= JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ + JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.pendingSpacers_.length) {
                  JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.reset();
                } else {
                  var numSpacersOverlap = endIndex - JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ + 1;
                  JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.pendingSpacers_ = goog$string$removeAt(JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.pendingSpacers_, 0, numSpacersOverlap);
                  JSCompiler_StaticMethods_docs_text_model_TableStateImpl$UpdateState__prototype$updateForDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ -= numSpacersOverlap;
                }
              }
            }
          }
        }
      }
      for (var i = JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForDelete$self.tables_.length - 1;0 <= i;i--) {
        var table = JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForDelete$self.tables_[i];
        if (startIndex <= table.docs_text_model_MutableSpacersTable$startIndex_ && endIndex >= table.docs_text_model_MutableSpacersTable$endIndex_) {
          goog$array$removeAt(JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForDelete$self.tables_, i);
        } else {
          if (startIndex <= table.docs_text_model_MutableSpacersTable$endIndex_ && table.docs_text_model_MutableSpacersTable$endIndex_ <= endIndex) {
            if (goog$array$removeAt(JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForDelete$self.tables_, i), !(0 <= JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForDelete$self.updateState_.docs_text_model_TableStateImpl$UpdateState_$startIndex_)) {
              var JSCompiler_StaticMethods_beginDelete$self = JSCompiler_StaticMethods_docs_text_model_MutableTableState_prototype$updateForDelete$self.updateState_, table$jscomp$0 = table, model = model$jscomp$0, numSpacersDeleted$jscomp$0 = table.docs_text_model_MutableSpacersTable$endIndex_ - startIndex + 1;
              goog$asserts$assert(!(0 <= JSCompiler_StaticMethods_beginDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_), "Cannot begin a delete when there are already pending spacers.");
              var spacers$jscomp$0 = model.docs_text_model_ModelImpl$spacers_, startIndex$jscomp$0 = table$jscomp$0.docs_text_model_MutableSpacersTable$startIndex_, endIndex$jscomp$0 = table$jscomp$0.docs_text_model_MutableSpacersTable$endIndex_ - numSpacersDeleted$jscomp$0;
              JSCompiler_StaticMethods_beginDelete$self.docs_text_model_TableStateImpl$UpdateState_$startIndex_ = startIndex$jscomp$0;
              JSCompiler_StaticMethods_beginDelete$self.pendingSpacers_ = spacers$jscomp$0.slice(startIndex$jscomp$0, endIndex$jscomp$0);
            }
          } else {
            var JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self = table, startIndex$jscomp$1 = startIndex, endIndex$jscomp$1 = endIndex, rawStyleProvider = model$jscomp$0;
            goog$asserts$assert(endIndex$jscomp$1 >= startIndex$jscomp$1);
            goog$asserts$assert(startIndex$jscomp$1 > JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self.docs_text_model_MutableSpacersTable$startIndex_ || endIndex$jscomp$1 < JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self.docs_text_model_MutableSpacersTable$startIndex_, "Deletion cannot contain the table start index.");
            goog$asserts$assert(startIndex$jscomp$1 > JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self.docs_text_model_MutableSpacersTable$endIndex_ || endIndex$jscomp$1 < JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self.docs_text_model_MutableSpacersTable$endIndex_, "Deletion cannot contain the table end index.");
            if (!(startIndex$jscomp$1 > JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self.docs_text_model_MutableSpacersTable$endIndex_)) {
              if (endIndex$jscomp$1 < JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self.docs_text_model_MutableSpacersTable$startIndex_) {
                var numRemoved = endIndex$jscomp$1 - startIndex$jscomp$1 + 1;
                JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self.docs_text_model_MutableSpacersTable$startIndex_ -= numRemoved;
                JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self.docs_text_model_MutableSpacersTable$endIndex_ -= numRemoved;
                for (var cells = JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self.cells_, i$jscomp$0 = 0;i$jscomp$0 < cells.length;i$jscomp$0++) {
                  for (var row = cells[i$jscomp$0], j = 0;j < row.length;j++) {
                    var cell = row[j];
                    cell && JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete(cell, startIndex$jscomp$1, endIndex$jscomp$1);
                  }
                }
              } else {
                var JSCompiler_StaticMethods_updateForDeleteWithinTable_$self = JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self, startIndex$jscomp$2 = startIndex$jscomp$1, endIndex$jscomp$2 = endIndex$jscomp$1, cells$jscomp$0 = JSCompiler_StaticMethods_updateForDeleteWithinTable_$self.cells_;
                JSCompiler_StaticMethods_updateForDeleteWithinTable_$self.docs_text_model_MutableSpacersTable$endIndex_ -= endIndex$jscomp$2 - startIndex$jscomp$2 + 1;
                for (var rowIndex = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(JSCompiler_StaticMethods_updateForDeleteWithinTable_$self) - 1;0 <= rowIndex;rowIndex--) {
                  var rowStart = JSCompiler_StaticMethods_getRowStartIndex(JSCompiler_StaticMethods_updateForDeleteWithinTable_$self, rowIndex), rowEnd = JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowEndIndex(JSCompiler_StaticMethods_updateForDeleteWithinTable_$self, rowIndex);
                  if (startIndex$jscomp$2 > rowEnd) {
                    break;
                  }
                  if (startIndex$jscomp$2 <= rowStart && endIndex$jscomp$2 >= rowStart) {
                    if (endIndex$jscomp$2 < rowEnd) {
                      throw Error("Deleted a row start marker without deleting the whole row.");
                    }
                    var JSCompiler_StaticMethods_docs_table_model_MutableArrayTable_prototype$deleteRow$self = JSCompiler_StaticMethods_updateForDeleteWithinTable_$self, rowIndex$jscomp$0 = rowIndex;
                    JSCompiler_StaticMethods_checkRowIndex(JSCompiler_StaticMethods_docs_table_model_MutableArrayTable_prototype$deleteRow$self, rowIndex$jscomp$0);
                    goog$array$removeAt(JSCompiler_StaticMethods_docs_table_model_MutableArrayTable_prototype$deleteRow$self.cells_, rowIndex$jscomp$0);
                  } else {
                    if (endIndex$jscomp$2 < rowStart) {
                      for (var cellsInRow = cells$jscomp$0[rowIndex], i$jscomp$1 = 0;i$jscomp$1 < cellsInRow.length;i$jscomp$1++) {
                        var cell$jscomp$0 = cellsInRow[i$jscomp$1];
                        cell$jscomp$0 && JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete(cell$jscomp$0, startIndex$jscomp$2, endIndex$jscomp$2);
                      }
                    } else {
                      for (var startIndex$jscomp$3 = startIndex$jscomp$2, endIndex$jscomp$3 = endIndex$jscomp$2, cellsInRow$jscomp$0 = JSCompiler_StaticMethods_updateForDeleteWithinTable_$self.cells_[rowIndex], cellIndex = cellsInRow$jscomp$0.length - 1;0 <= cellIndex;cellIndex--) {
                        var cell$jscomp$1 = cellsInRow$jscomp$0[cellIndex];
                        if (cell$jscomp$1) {
                          if (startIndex$jscomp$3 > cell$jscomp$1.cellEnd_) {
                            break;
                          }
                          if (startIndex$jscomp$3 <= cell$jscomp$1.cellStart_ && endIndex$jscomp$3 >= cell$jscomp$1.cellStart_) {
                            if (endIndex$jscomp$3 < cell$jscomp$1.cellEnd_) {
                              throw Error("Deleted a cell start marker without deleting the whole cell.");
                            }
                            goog$array$removeAt(cellsInRow$jscomp$0, cellIndex);
                            cellsInRow$jscomp$0.push(null);
                          } else {
                            JSCompiler_StaticMethods_docs_text_model_MutableSpacersCell_prototype$updateForDelete(cell$jscomp$1, startIndex$jscomp$3, endIndex$jscomp$3);
                          }
                        }
                      }
                    }
                  }
                }
                JSCompiler_StaticMethods_trimNullColumns_(JSCompiler_StaticMethods_updateForDeleteWithinTable_$self);
                docs$text$model$CellSpanUtil$updateTableForRawStyleChange(JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$updateForDelete$self, rawStyleProvider);
              }
            }
          }
        }
      }
      if (null != model$jscomp$0.lazyConcreteStyleManager_.concreteStyleManager_) {
        for (var documentSlice$jscomp$0 = goog$asserts$assert(documentSlice), numSpacers$jscomp$0 = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model$jscomp$0.docs_text_model_ModelImpl$spacers_), concreteEntityProvider = model$jscomp$0.entityManager_, tableState = model$jscomp$0.tableState_, rawStyleProvider$jscomp$0 = model$jscomp$0.suggestionAwareStyleManager_, JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self = 
        goog$asserts$assert(model$jscomp$0.lazyConcreteStyleManager_.concreteStyleManager_), paragraphKeys = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_.paragraph.getKeys(), deletionStartParagraphIndex = paragraphKeys[docs$structs$SparseArray$getClosestItemKeyIndex(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_.paragraph.docs_structs_SparseArray$keys_, 
        startIndex, !0)], numSpacersToDelete = endIndex - startIndex + 1, indexAfterDeletedSpacers = endIndex + 1, i$jscomp$2 = 0;i$jscomp$2 < JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.types_.length;i$jscomp$2++) {
          var concreteType = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.types_[i$jscomp$2];
          if (!docs$text$protocol$StyleTypes$isTethered(concreteType)) {
            var concreteStyles = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_[concreteType].array_, styleAfterDeletedSpacers = JSCompiler_StaticMethods_getStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self, concreteType, indexAfterDeletedSpacers), styleBeforeDeleteSpacers = JSCompiler_StaticMethods_getStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self, 
            concreteType, startIndex - 1);
            styleAfterDeletedSpacers.equals(styleBeforeDeleteSpacers) || concreteStyles[indexAfterDeletedSpacers] ? styleAfterDeletedSpacers.equals(styleBeforeDeleteSpacers) && JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_[concreteType], indexAfterDeletedSpacers) : JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_[concreteType].set(indexAfterDeletedSpacers, 
            styleAfterDeletedSpacers);
          }
          JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_[JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.types_[i$jscomp$2]].splice(startIndex, numSpacersToDelete);
        }
        paragraphKeys = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_.paragraph.getKeys();
        if (!(deletionStartParagraphIndex >= indexAfterDeletedSpacers)) {
          for (var paragraphKey = docs$structs$SparseArray$getClosestItemKeyIndex(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.docs_text_model_ConcreteStyleManager$styleMap_.paragraph.docs_structs_SparseArray$keys_, startIndex - 1, !0), paragraphIndex = paragraphKeys[paragraphKey], lastSpacerIndex = numSpacers$jscomp$0 - numSpacersToDelete - 1, startIndexOfParagraph = JSCompiler_StaticMethods_getStartOfParagraph_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self, 
          paragraphIndex, paragraphKey), i$jscomp$3 = 0;i$jscomp$3 < JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.types_.length;i$jscomp$3++) {
            var styleType = JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self.types_[i$jscomp$3];
            docs$text$protocol$StyleTypes$isTethered(styleType) || JSCompiler_StaticMethods_computeUntetheredConcreteStyle_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self, styleType, startIndexOfParagraph, paragraphIndex, lastSpacerIndex, concreteEntityProvider, tableState, rawStyleProvider$jscomp$0);
          }
          var indicesToRecompute;
          if (JSCompiler_StaticMethods_getTable(tableState, startIndex)) {
            var table$jscomp$1 = JSCompiler_StaticMethods_getTable(tableState, startIndex), spacers$jscomp$1 = documentSlice$jscomp$0.docs_text_protocol_DocumentSlice$spacers_, adjacentCellIndices;
            b: {
              var cellMarkers;
              switch(spacers$jscomp$1.charAt(0)) {
                case "\u001c":
                  var deleteLocation = docs$text$model$StyleUtil$calculateDeletedCellLocation_(startIndex, rawStyleProvider$jscomp$0, table$jscomp$1);
                  if (!deleteLocation) {
                    adjacentCellIndices = [];
                    break b;
                  }
                  cellMarkers = docs$text$model$StyleUtil$calculateAdjacentCellIndices_(table$jscomp$1, deleteLocation);
                  if (deleteLocation.docs_table_model_TableCellReference$column_ < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table$jscomp$1) && deleteLocation.docs_table_model_TableCellReference$row_ < JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table$jscomp$1)) {
                    var deletedCell = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getCell(table$jscomp$1, deleteLocation.docs_table_model_TableCellReference$row_, deleteLocation.docs_table_model_TableCellReference$column_);
                    deletedCell && cellMarkers.push(deletedCell.cellStart_);
                  }
                  break;
                case "\u0012":
                  var deleteRowIndex = startIndex == table$jscomp$1.docs_text_model_MutableSpacersTable$endIndex_ ? JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table$jscomp$1) : JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowIndex(table$jscomp$1, startIndex);
                  cellMarkers = docs$text$model$StyleUtil$calculateRowIndices_(table$jscomp$1, deleteRowIndex);
                  cellMarkers = cellMarkers.concat(docs$text$model$StyleUtil$calculateRowIndices_(table$jscomp$1, deleteRowIndex - 1));
                  break;
                default:
                  adjacentCellIndices = [];
                  break b;
              }
              goog$array$removeDuplicates(cellMarkers);
              goog$array$sort(cellMarkers);
              adjacentCellIndices = cellMarkers;
            }
            var affectedCellIndices;
            b: {
              var firstChar = spacers$jscomp$1.charAt(0), tableStyle = rawStyleProvider$jscomp$0.getRawTetheredStyle("tbl", table$jscomp$1.docs_text_model_MutableSpacersTable$startIndex_);
              if (!tableStyle) {
                throw Error("Expected table style for spacer index " + table$jscomp$1.docs_text_model_MutableSpacersTable$startIndex_);
              }
              var cellMarkers$jscomp$0 = [];
              switch(firstChar) {
                case "\u0012":
                  var deleteRowIndex$jscomp$0 = startIndex == table$jscomp$1.docs_text_model_MutableSpacersTable$endIndex_ ? JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table$jscomp$1) : JSCompiler_StaticMethods_docs_text_model_MutableSpacersTable_prototype$getRowIndex(table$jscomp$1, startIndex);
                  tableStyle.horizontalBandingApplied_ && (cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$getCellIndicesInRowsAfter_(table$jscomp$1, deleteRowIndex$jscomp$0 - 1)));
                  0 != deleteRowIndex$jscomp$0 && 1 != deleteRowIndex$jscomp$0 || !tableStyle.enableStylingFirstRow_ || (cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$calculateRowIndices_(table$jscomp$1, 0)), cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$calculateRowIndices_(table$jscomp$1, 1)));
                  var numRows = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumRows(table$jscomp$1);
                  deleteRowIndex$jscomp$0 != numRows && deleteRowIndex$jscomp$0 != numRows - 1 || !tableStyle.enableStylingLastRow_ || (cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$calculateRowIndices_(table$jscomp$1, numRows - 1)), cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$calculateRowIndices_(table$jscomp$1, numRows - 2)));
                  break;
                case "\u001c":
                  var deleteLocation$jscomp$0 = docs$text$model$StyleUtil$calculateDeletedCellLocation_(startIndex, rawStyleProvider$jscomp$0, table$jscomp$1);
                  if (!deleteLocation$jscomp$0) {
                    affectedCellIndices = [];
                    break b;
                  }
                  var deleteColumnIndex = deleteLocation$jscomp$0.docs_table_model_TableCellReference$column_;
                  tableStyle.verticalBandingApplied_ && (cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$getCellIndicesInColumnsAfter_(table$jscomp$1, deleteColumnIndex - 1)));
                  0 != deleteColumnIndex && 1 != deleteColumnIndex || !tableStyle.enableStylingFirstColumn_ || (cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$calculateColumnIndices_(table$jscomp$1, 0)), cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$calculateColumnIndices_(table$jscomp$1, 1)));
                  var numColumns = JSCompiler_StaticMethods_docs_table_model_ArrayTable_prototype$getNumColumns(table$jscomp$1);
                  deleteColumnIndex != numColumns && deleteColumnIndex != numColumns - 1 || !tableStyle.enableStylingLastColumn_ || (cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$calculateColumnIndices_(table$jscomp$1, numColumns - 1)), cellMarkers$jscomp$0 = cellMarkers$jscomp$0.concat(docs$text$model$StyleUtil$calculateColumnIndices_(table$jscomp$1, numColumns - 2)));
                  break;
                default:
                  affectedCellIndices = [];
                  break b;
              }
              goog$array$removeDuplicates(cellMarkers$jscomp$0);
              goog$array$sort(cellMarkers$jscomp$0);
              affectedCellIndices = cellMarkers$jscomp$0;
            }
            var paragraphMarkers = docs$text$model$StyleUtil$getParagraphIndicesInCells(rawStyleProvider$jscomp$0, table$jscomp$1, affectedCellIndices);
            affectedCellIndices = affectedCellIndices.concat(adjacentCellIndices);
            goog$array$removeDuplicates(affectedCellIndices);
            goog$array$sort(affectedCellIndices);
            var map = {};
            map.cell = affectedCellIndices;
            map.text = paragraphMarkers;
            map.paragraph = paragraphMarkers;
            indicesToRecompute = map;
          } else {
            indicesToRecompute = null;
          }
          JSCompiler_StaticMethods_recomputeAffectedStyles_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForDeleteSpacers$self, indicesToRecompute, numSpacers$jscomp$0 - 1, concreteEntityProvider, tableState, rawStyleProvider$jscomp$0);
        }
      }
      JSCompiler_StaticMethods_completeEvent(performanceManager, eventId);
      break;
    case "kix-msfi":
      var markMutation = mutation;
      JSCompiler_StaticMethods_updateRun(model$jscomp$0.suggestedInsertionRanges_.runArray_, markMutation.docs_text_mutations_AbstractMarkSpacersMutation$startIndex_, markMutation.docs_text_mutations_AbstractMarkSpacersMutation$endIndex_, new docs$text$util$StringArrayRunStrategy$0Update([markMutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId()]), JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model$jscomp$0.docs_text_model_ModelImpl$spacers_) - 
      1);
      break;
    case "kix-msfd":
      markMutation = mutation;
      JSCompiler_StaticMethods_updateRun(model$jscomp$0.suggestedDeletionRanges_.runArray_, markMutation.docs_text_mutations_AbstractMarkSpacersMutation$startIndex_, markMutation.docs_text_mutations_AbstractMarkSpacersMutation$endIndex_, new docs$text$util$StringArrayRunStrategy$0Update([markMutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId()]), JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model$jscomp$0.docs_text_model_ModelImpl$spacers_) - 
      1);
      JSCompiler_StaticMethods_updateMarkedForDeletion(model$jscomp$0.suggestionAwareStyleManager_, markMutation.docs_text_mutations_AbstractMarkSpacersMutation$startIndex_, markMutation.docs_text_mutations_AbstractMarkSpacersMutation$endIndex_);
      break;
    case "kix-usfd":
      JSCompiler_StaticMethods_updateRun(model$jscomp$0.suggestedDeletionRanges_.runArray_, mutation.docs_text_mutations_AbstractMarkSpacersMutation$startIndex_, mutation.docs_text_mutations_AbstractMarkSpacersMutation$endIndex_, new docs$text$util$StringArrayRunStrategy$0Update(void 0, [mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId()]), JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model$jscomp$0.docs_text_model_ModelImpl$spacers_) - 
      1);
      JSCompiler_StaticMethods_updateMarkedForDeletion(model$jscomp$0.suggestionAwareStyleManager_, mutation.docs_text_mutations_AbstractMarkSpacersMutation$startIndex_, mutation.docs_text_mutations_AbstractMarkSpacersMutation$endIndex_);
      break;
    case "kix-ae":
      var addEntityMutation = mutation, entity, JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$addEntity$self = model$jscomp$0.entityManager_, type = addEntityMutation.entityType_, entityId = addEntityMutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), entityState, JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$addEntity$self = JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$addEntity$self.innerEntityManager_;
      JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$addEntity$self.entityMap_[entityId] = new docs$text$model$FlattenedAnnotationState(new docs$text$protocol$MutableEntityState(JSCompiler_StaticMethods_getDefaultEntity(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$addEntity$self.docs_text_model_SuggestionAwareEntityManager$defaultEntitiesProvider_, type, entityId, addEntityMutation.docs_text_mutations_AbstractAddEntityMutation$propertyMap_)));
      entityState = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$addEntity$self.entityMap_[entityId].annotationState_;
      JSCompiler_StaticMethods_markEntityDirty_(JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$addEntity$self, type, entityId);
      entity = entityState.annotation_;
      JSCompiler_StaticMethods_docs_text_model_SuggestionAwareTetherManager_prototype$addEntity(model$jscomp$0.tetherManager_, entity);
      break;
    case "kix-ase":
      var addEntityMutation = mutation, JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$addSuggestedEntity$self = model$jscomp$0.entityManager_, type$jscomp$0 = addEntityMutation.entityType_, entityId$jscomp$0 = addEntityMutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), entityState$jscomp$0, JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$addSuggestedEntity$self = JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$addSuggestedEntity$self.innerEntityManager_, 
      suggestionId = addEntityMutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
      JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$addSuggestedEntity$self.entityMap_[entityId$jscomp$0] = new docs$text$model$FlattenedAnnotationState(new docs$text$protocol$MutableEntityState(JSCompiler_StaticMethods_getDefaultEntity(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$addSuggestedEntity$self.docs_text_model_SuggestionAwareEntityManager$defaultEntitiesProvider_, type$jscomp$0, entityId$jscomp$0, addEntityMutation.docs_text_mutations_AbstractAddEntityMutation$propertyMap_)));
      JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$addSuggestedEntity$self.entityMap_[entityId$jscomp$0].annotationState_.insertionId_ = suggestionId;
      JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$addSuggestedEntity$self.entitiesWithSuggestions_[entityId$jscomp$0] = !0;
      entityState$jscomp$0 = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$addSuggestedEntity$self.entityMap_[entityId$jscomp$0].annotationState_;
      JSCompiler_StaticMethods_markEntityDirty_(JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$addSuggestedEntity$self, type$jscomp$0, entityId$jscomp$0);
      entity = entityState$jscomp$0.annotation_;
      JSCompiler_StaticMethods_docs_text_model_SuggestionAwareTetherManager_prototype$addEntity(model$jscomp$0.tetherManager_, entity);
      break;
    case "kix-ue":
    case "kix-use":
      var updateEntityMutation = mutation, JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$updateEntity$self = model$jscomp$0.entityManager_, entityId$jscomp$1 = updateEntityMutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$updateEntity$self = JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$updateEntity$self.innerEntityManager_, state = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$updateEntity$self.entityMap_[entityId$jscomp$1];
      state && JSCompiler_StaticMethods_applyAnnotation(state, updateEntityMutation.docs_text_mutations_AbstractEntityPropertiesMutation$propertyMap_, new docs$text$model$EntityFactory(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$updateEntity$self.docs_text_model_SuggestionAwareEntityManager$defaultEntitiesProvider_, state.annotationState_.annotation_));
      var concreteEntity = JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$updateEntity$self.concreteEntityMap_[entityId$jscomp$1];
      concreteEntity && JSCompiler_StaticMethods_markEntityDirty_(JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$updateEntity$self, concreteEntity.getType(), entityId$jscomp$1);
      JSCompiler_StaticMethods_updateStylesForEntity_(model$jscomp$0, updateEntityMutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), updateEntityMutation.docs_text_mutations_AbstractEntityPropertiesMutation$propertyMap_);
      break;
    case "kix-sue":
      var updateEntityMutation = mutation, JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$suggestUpdateEntity$self = model$jscomp$0.entityManager_, entityId$jscomp$2 = updateEntityMutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$suggestUpdateEntity$self = JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$suggestUpdateEntity$self.innerEntityManager_, 
      state$jscomp$0 = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$suggestUpdateEntity$self.entityMap_[entityId$jscomp$2];
      state$jscomp$0 && JSCompiler_StaticMethods_suggestApplyAnnotation(state$jscomp$0, updateEntityMutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId(), updateEntityMutation.docs_text_mutations_AbstractEntityPropertiesMutation$propertyMap_, new docs$text$model$EntityFactory(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$suggestUpdateEntity$self.docs_text_model_SuggestionAwareEntityManager$defaultEntitiesProvider_, state$jscomp$0.annotationState_.annotation_));
      JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$suggestUpdateEntity$self.entitiesWithSuggestions_[entityId$jscomp$2] = !0;
      var concreteEntity$jscomp$0 = JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$suggestUpdateEntity$self.concreteEntityMap_[entityId$jscomp$2];
      concreteEntity$jscomp$0 && JSCompiler_StaticMethods_markEntityDirty_(JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$suggestUpdateEntity$self, concreteEntity$jscomp$0.getType(), entityId$jscomp$2);
      JSCompiler_StaticMethods_updateStylesForEntity_(model$jscomp$0, updateEntityMutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), updateEntityMutation.docs_text_mutations_AbstractEntityPropertiesMutation$propertyMap_);
      break;
    case "kix-rue":
      var updateEntityMutation = mutation, JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$rejectUpdateEntity$self = model$jscomp$0.entityManager_, entityId$jscomp$3 = updateEntityMutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$rejectUpdateEntity$self = JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$rejectUpdateEntity$self.innerEntityManager_, 
      state$jscomp$1 = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$rejectUpdateEntity$self.entityMap_[entityId$jscomp$3];
      state$jscomp$1 && (JSCompiler_StaticMethods_rejectAnnotation(state$jscomp$1, updateEntityMutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId()), JSCompiler_StaticMethods_hasSuggestions_(state$jscomp$1.annotationState_) || delete JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$rejectUpdateEntity$self.entitiesWithSuggestions_[entityId$jscomp$3]);
      var concreteEntity$jscomp$1 = JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$rejectUpdateEntity$self.concreteEntityMap_[entityId$jscomp$3];
      concreteEntity$jscomp$1 && JSCompiler_StaticMethods_markEntityDirty_(JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$rejectUpdateEntity$self, concreteEntity$jscomp$1.getType(), entityId$jscomp$3);
      JSCompiler_StaticMethods_updateStylesForEntity_(model$jscomp$0, updateEntityMutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId());
      break;
    case "kix-de":
    case "kix-dse":
      var id = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), entity$jscomp$0 = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$getEntity(model$jscomp$0.entityManager_.innerEntityManager_, id) || null;
      if (!entity$jscomp$0) {
        throw Error("Attempted to delete missing entity.");
      }
      var entityType = entity$jscomp$0.getType(), JSCompiler_StaticMethods_docs_text_model_SuggestionAwareTetherManager_prototype$deleteEntity$self = model$jscomp$0.tetherManager_, tetherArray = JSCompiler_StaticMethods_getTetherArrayForEntity_(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareTetherManager_prototype$deleteEntity$self, id);
      if (tetherArray) {
        var tetherIndex = JSCompiler_StaticMethods_findKeyWithId_(tetherArray, id);
        0 <= tetherIndex && (JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray.tethers_, tetherIndex, id), JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray.flattenedTethers_, tetherIndex, id));
        for (var i$jscomp$4 = tetherArray.suggestedUntethers_.length - 1;0 <= i$jscomp$4;i$jscomp$4--) {
          tetherArray.suggestedUntethers_[i$jscomp$4].docs_text_protocol_TetherMetadata$entityId_ == id && tetherArray.suggestedUntethers_.splice(i$jscomp$4, 1);
        }
        for (var suggestedKeys = tetherArray.suggestedTethers_.getKeys(), expectedTetherMetadata = new docs$text$protocol$TetherMetadata("", id), i$jscomp$4 = 0;i$jscomp$4 < suggestedKeys.length;i$jscomp$4++) {
          for (JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray.flattenedTethers_, suggestedKeys[i$jscomp$4], id);JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray.suggestedTethers_, suggestedKeys[i$jscomp$4], expectedTetherMetadata, docs$text$model$TetherStateArray$metadataHaveSameEntityId_);) {
          }
        }
        delete JSCompiler_StaticMethods_docs_text_model_SuggestionAwareTetherManager_prototype$deleteEntity$self.entityTypeMap_[id];
      }
      var JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$deleteEntity$self = model$jscomp$0.entityManager_, JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$deleteEntity$self = JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$deleteEntity$self.innerEntityManager_;
      delete JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$deleteEntity$self.entityMap_[id];
      delete JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$deleteEntity$self.entitiesWithSuggestions_[id];
      delete JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$deleteEntity$self.concreteEntityMap_[id];
      delete JSCompiler_StaticMethods_docs_text_model_ConcreteEntityManager_prototype$deleteEntity$self.dirtyEntityIds_[id];
      if (null != model$jscomp$0.lazyConcreteStyleManager_.concreteStyleManager_) {
        var concreteEntityProvider$jscomp$0 = model$jscomp$0.entityManager_, tableState$jscomp$0 = model$jscomp$0.tableState_, rawStyleProvider$jscomp$1 = model$jscomp$0.suggestionAwareStyleManager_;
        JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$updateStylesForEntity(goog$asserts$assert(model$jscomp$0.lazyConcreteStyleManager_.concreteStyleManager_), id, entityType, concreteEntityProvider$jscomp$0, tableState$jscomp$0, rawStyleProvider$jscomp$1, void 0);
      }
      break;
    case "kix-mefd":
      var JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$markEntityForDeletion$self = model$jscomp$0.entityManager_.innerEntityManager_, entityId$jscomp$4 = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), state$jscomp$2 = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$markEntityForDeletion$self.entityMap_[entityId$jscomp$4];
      if (state$jscomp$2) {
        var arr = state$jscomp$2.annotationState_.deletionIds_, obj = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId();
        goog$array$contains(arr, obj) || arr.push(obj);
      }
      JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$markEntityForDeletion$self.entitiesWithSuggestions_[entityId$jscomp$4] = !0;
      break;
    case "kix-uefd":
      var JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$unmarkEntityForDeletion$self = model$jscomp$0.entityManager_.innerEntityManager_, entityId$jscomp$5 = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), state$jscomp$3 = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$unmarkEntityForDeletion$self.entityMap_[entityId$jscomp$5];
      state$jscomp$3 && goog$array$remove(state$jscomp$3.annotationState_.deletionIds_, mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId());
      JSCompiler_StaticMethods_hasSuggestions_(state$jscomp$3.annotationState_) || delete JSCompiler_StaticMethods_docs_text_model_SuggestionAwareEntityManager_prototype$unmarkEntityForDeletion$self.entitiesWithSuggestions_[entityId$jscomp$5];
      break;
    case "kix-te":
    case "kix-tse":
      var entityId$jscomp$6 = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), spacerIndex = mutation.docs_text_mutations_AbstractEntityLocationMutation$spacerIndex_, tetherArray$jscomp$0 = JSCompiler_StaticMethods_getTetherArrayForEntity_(model$jscomp$0.tetherManager_, entityId$jscomp$6);
      if (tetherArray$jscomp$0) {
        if (0 > spacerIndex) {
          var tetherIndex$jscomp$0 = JSCompiler_StaticMethods_findKeyWithId_(tetherArray$jscomp$0, entityId$jscomp$6);
          0 <= tetherIndex$jscomp$0 && (JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray$jscomp$0.tethers_, tetherIndex$jscomp$0, entityId$jscomp$6), JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray$jscomp$0.flattenedTethers_, tetherIndex$jscomp$0, entityId$jscomp$6));
          for (var suggestionsToUntether = [], expectedTetherMetadata$jscomp$0 = new docs$text$protocol$TetherMetadata("", entityId$jscomp$6), suggestedKeys$jscomp$0 = tetherArray$jscomp$0.suggestedTethers_.getKeys(), i$jscomp$5 = 0;i$jscomp$5 < suggestedKeys$jscomp$0.length;i$jscomp$5++) {
            var suggestedTethers = tetherArray$jscomp$0.suggestedTethers_.get(suggestedKeys$jscomp$0[i$jscomp$5]);
            JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray$jscomp$0.flattenedTethers_, suggestedKeys$jscomp$0[i$jscomp$5], entityId$jscomp$6);
            for (var j$jscomp$0 = suggestedTethers.length - 1;0 <= j$jscomp$0;j$jscomp$0--) {
              var suggestion = suggestedTethers[j$jscomp$0];
              suggestion.docs_text_protocol_TetherMetadata$entityId_ == entityId$jscomp$6 && (suggestionsToUntether.push(suggestion), JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray$jscomp$0.suggestedTethers_, suggestedKeys$jscomp$0[i$jscomp$5], expectedTetherMetadata$jscomp$0, docs$text$model$TetherStateArray$metadataHaveSameEntityId_));
            }
          }
          tetherArray$jscomp$0.suggestedUntethers_ = tetherArray$jscomp$0.suggestedUntethers_.concat(suggestionsToUntether);
        } else {
          var tetherIndex$jscomp$1 = JSCompiler_StaticMethods_findKeyWithId_(tetherArray$jscomp$0, entityId$jscomp$6);
          0 <= tetherIndex$jscomp$1 && (JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray$jscomp$0.tethers_, tetherIndex$jscomp$1, entityId$jscomp$6), JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray$jscomp$0.flattenedTethers_, tetherIndex$jscomp$1, entityId$jscomp$6));
          if (tetherArray$jscomp$0.entityIdsWithSuggestions_[entityId$jscomp$6]) {
            for (var smallestSeenSoFar = null, smallestIndex = -1, suggestionKeys = tetherArray$jscomp$0.suggestedTethers_.getKeys(), suggestionsToRetether = [], i$jscomp$6 = suggestionKeys.length - 1;0 <= i$jscomp$6;i$jscomp$6--) {
              for (var suggestions = tetherArray$jscomp$0.suggestedTethers_.get(suggestionKeys[i$jscomp$6]), j$jscomp$1 = suggestions.length - 1;0 <= j$jscomp$1;j$jscomp$1--) {
                if (suggestions[j$jscomp$1].docs_text_protocol_TetherMetadata$entityId_ == entityId$jscomp$6) {
                  if (null === smallestSeenSoFar || suggestions[j$jscomp$1].docs_text_protocol_TetherMetadata$suggestionId_ < smallestSeenSoFar) {
                    smallestSeenSoFar = suggestions[j$jscomp$1].docs_text_protocol_TetherMetadata$suggestionId_, smallestIndex = suggestionKeys[i$jscomp$6];
                  }
                  suggestionsToRetether.push(suggestions[j$jscomp$1]);
                  JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray$jscomp$0.suggestedTethers_, suggestionKeys[i$jscomp$6], suggestions[j$jscomp$1], docs$text$model$TetherStateArray$metadataEquals_);
                }
              }
            }
            for (i$jscomp$6 = 0;i$jscomp$6 < suggestionsToRetether.length;i$jscomp$6++) {
              JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$add(tetherArray$jscomp$0.suggestedTethers_, spacerIndex, suggestionsToRetether[i$jscomp$6]);
            }
            null === smallestSeenSoFar || JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray$jscomp$0.flattenedTethers_, smallestIndex, entityId$jscomp$6);
            for (i$jscomp$6 = tetherArray$jscomp$0.suggestedUntethers_.length - 1;0 <= i$jscomp$6;i$jscomp$6--) {
              tetherArray$jscomp$0.suggestedUntethers_[i$jscomp$6].docs_text_protocol_TetherMetadata$entityId_ == entityId$jscomp$6 && (JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$add(tetherArray$jscomp$0.suggestedTethers_, spacerIndex, tetherArray$jscomp$0.suggestedUntethers_[i$jscomp$6]), tetherArray$jscomp$0.suggestedUntethers_.splice(i$jscomp$6, 1));
            }
          }
          JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$add(tetherArray$jscomp$0.tethers_, spacerIndex, entityId$jscomp$6);
          JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$add(tetherArray$jscomp$0.flattenedTethers_, spacerIndex, entityId$jscomp$6);
        }
      }
      break;
    case "kix-ste":
      var suggestionId$jscomp$0 = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId(), entityId$jscomp$7 = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), spacerIndex$jscomp$0 = mutation.docs_text_mutations_AbstractEntityLocationMutation$spacerIndex_, tetherArray$jscomp$1 = JSCompiler_StaticMethods_getTetherArrayForEntity_(model$jscomp$0.tetherManager_, entityId$jscomp$7);
      if (tetherArray$jscomp$1) {
        tetherArray$jscomp$1.entityIdsWithSuggestions_[entityId$jscomp$7] = !0;
        for (var suggestedKeys$jscomp$1 = tetherArray$jscomp$1.suggestedTethers_.getKeys(), metadata = new docs$text$protocol$TetherMetadata(suggestionId$jscomp$0, entityId$jscomp$7), i$jscomp$7 = 0;i$jscomp$7 < suggestedKeys$jscomp$1.length && !JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray$jscomp$1.suggestedTethers_, suggestedKeys$jscomp$1[i$jscomp$7], metadata, docs$text$model$TetherStateArray$metadataEquals_);i$jscomp$7++) {
        }
        for (i$jscomp$7 = 0;i$jscomp$7 < tetherArray$jscomp$1.suggestedUntethers_.length;i$jscomp$7++) {
          var untether = tetherArray$jscomp$1.suggestedUntethers_[i$jscomp$7];
          if (untether.docs_text_protocol_TetherMetadata$suggestionId_ == suggestionId$jscomp$0 && untether.docs_text_protocol_TetherMetadata$entityId_ == entityId$jscomp$7) {
            goog$array$removeAt(tetherArray$jscomp$1.suggestedUntethers_, i$jscomp$7);
            break;
          }
        }
        0 > spacerIndex$jscomp$0 ? tetherArray$jscomp$1.suggestedUntethers_.push(metadata) : JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$add(tetherArray$jscomp$1.suggestedTethers_, spacerIndex$jscomp$0, metadata);
        JSCompiler_StaticMethods_flattenTether_(tetherArray$jscomp$1, entityId$jscomp$7);
      }
      break;
    case "kix-rte":
      var suggestionId$jscomp$1 = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId(), entityId$jscomp$8 = mutation.docs_text_mutations_AbstractAddEntityMutation_prototype$getEntityId(), tetherArray$jscomp$2 = JSCompiler_StaticMethods_getTetherArrayForEntity_(model$jscomp$0.tetherManager_, entityId$jscomp$8);
      if (tetherArray$jscomp$2) {
        a: {
          for (var i$jscomp$8 = 0;i$jscomp$8 < tetherArray$jscomp$2.suggestedUntethers_.length;i$jscomp$8++) {
            var metadata$jscomp$0 = tetherArray$jscomp$2.suggestedUntethers_[i$jscomp$8];
            if (metadata$jscomp$0.docs_text_protocol_TetherMetadata$suggestionId_ == suggestionId$jscomp$1 && metadata$jscomp$0.docs_text_protocol_TetherMetadata$entityId_ == entityId$jscomp$8) {
              goog$array$removeAt(tetherArray$jscomp$2.suggestedUntethers_, i$jscomp$8);
              JSCompiler_StaticMethods_flattenTether_(tetherArray$jscomp$2, entityId$jscomp$8);
              break a;
            }
          }
          for (var suggestedKeys$jscomp$2 = tetherArray$jscomp$2.suggestedTethers_.getKeys(), metadataToRemove = new docs$text$protocol$TetherMetadata(suggestionId$jscomp$1, entityId$jscomp$8), i$jscomp$8 = 0;i$jscomp$8 < suggestedKeys$jscomp$2.length && !JSCompiler_StaticMethods_docs_structs_IndexedArrayCollection_prototype$remove(tetherArray$jscomp$2.suggestedTethers_, suggestedKeys$jscomp$2[i$jscomp$8], metadataToRemove, docs$text$model$TetherStateArray$metadataEquals_);i$jscomp$8++) {
          }
          JSCompiler_StaticMethods_flattenTether_(tetherArray$jscomp$2, entityId$jscomp$8);
        }
      }
      break;
    case "kix-as":
    case "kix-astss":
      mutationWasNoOp = JSCompiler_StaticMethods_applyStyle_(model$jscomp$0, mutation);
      break;
    case "kix-sas":
      mutationWasNoOp = JSCompiler_StaticMethods_applyStyle_(model$jscomp$0, mutation);
      break;
    case "kix-ras":
      model$jscomp$0.styleIntersectionCache_.clear();
      var JSCompiler_StaticMethods_computeAffectedDataForReject$self = model$jscomp$0.docs_text_model_ModelImpl$concreteStyleUpdaterManager_, suggestionId$jscomp$2 = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId(), startIndex$jscomp$4 = mutation.docs_text_mutations_RejectApplyStyleMutation$startIndex_, endIndex$jscomp$4 = mutation.docs_text_mutations_RejectApplyStyleMutation$endIndex_, tableState$jscomp$1 = model$jscomp$0.tableState_, rawStyleProvider$jscomp$2 = 
      model$jscomp$0.suggestionAwareStyleManager_, suggestionAwareStyleProvider = model$jscomp$0.suggestionAwareStyleManager_, result = [], type$jscomp$1;
      for (type$jscomp$1 in JSCompiler_StaticMethods_computeAffectedDataForReject$self.concreteStyleUpdaterMap_) {
        if (!docs$text$protocol$StyleTypes$isTethered(type$jscomp$1)) {
          throw Error("No support for non-tethered updaters.");
        }
        var keys = suggestionAwareStyleProvider.getSuggestedStyleIdKeys(type$jscomp$1), startKey = goog$array$binarySearch(keys, startIndex$jscomp$4);
        0 > startKey && (startKey = -startKey - 1);
        for (var affectedIndicesMap = null, i$jscomp$9 = startKey;i$jscomp$9 < keys.length;i$jscomp$9++) {
          var index = keys[i$jscomp$9];
          if (index > endIndex$jscomp$4) {
            break;
          }
          if (!(0 > suggestionAwareStyleProvider.getSuggestedStyleIds(type$jscomp$1, index).indexOf(suggestionId$jscomp$2))) {
            var currentAffectedIndicesMap = JSCompiler_StaticMethods_computeAffectedDataForReject$self.concreteStyleUpdaterMap_[type$jscomp$1].getAllIndicesToRecompute(index, rawStyleProvider$jscomp$2, tableState$jscomp$1);
            if (affectedIndicesMap) {
              for (var dependentType in currentAffectedIndicesMap) {
                var affectedSpacerIndices = affectedIndicesMap[dependentType];
                affectedIndicesMap[dependentType] = affectedSpacerIndices ? goog$array$concat(affectedSpacerIndices, currentAffectedIndicesMap[dependentType]) : currentAffectedIndicesMap[dependentType];
              }
            } else {
              affectedIndicesMap = currentAffectedIndicesMap;
            }
          }
        }
        if (affectedIndicesMap) {
          for (dependentType in affectedIndicesMap) {
            goog$array$removeDuplicates(affectedIndicesMap[dependentType]);
          }
          result.push(affectedIndicesMap);
        }
      }
      var JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$rejectSuggestedStyle$self = model$jscomp$0.suggestionAwareStyleManager_, suggestionId$jscomp$3 = mutation.docs_text_mutations_AbstractMarkEntityMutation_prototype$getSuggestionId(), startIndex$jscomp$5 = mutation.docs_text_mutations_RejectApplyStyleMutation$startIndex_, endIndex$jscomp$5 = mutation.docs_text_mutations_RejectApplyStyleMutation$endIndex_, lastSpacerIndex$jscomp$0 = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model$jscomp$0.docs_text_model_ModelImpl$spacers_) - 
      1, hadEffect = !1, type$jscomp$2;
      for (type$jscomp$2 in JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$rejectSuggestedStyle$self.untetheredMap_) {
        JSCompiler_StaticMethods_updateRun(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$rejectSuggestedStyle$self.untetheredSuggestedRangesMap_[type$jscomp$2].runArray_, startIndex$jscomp$5, endIndex$jscomp$5, new docs$text$util$StringArrayRunStrategy$0Update(void 0, [suggestionId$jscomp$3]), lastSpacerIndex$jscomp$0), JSCompiler_StaticMethods_updateRun(JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$rejectSuggestedStyle$self.untetheredMap_[type$jscomp$2], 
        startIndex$jscomp$5, endIndex$jscomp$5, new docs$text$model$StyleStateRunStrategy$0RejectSuggestedStyleUpdate(suggestionId$jscomp$3), lastSpacerIndex$jscomp$0) && (hadEffect = !0);
      }
      for (type$jscomp$2 in JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$rejectSuggestedStyle$self.tetheredMap_) {
        for (var sparseArray = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$rejectSuggestedStyle$self.tetheredSuggestionIdsMap_[type$jscomp$2], startIndex$jscomp$6 = startIndex$jscomp$5, endIndex$jscomp$6 = endIndex$jscomp$5, suggestionId$jscomp$4 = suggestionId$jscomp$3, keys$jscomp$0 = docs$util$ArrayUtil$clampSortedArray(sparseArray.getKeys(), startIndex$jscomp$6, endIndex$jscomp$6), i$jscomp$10 = 0;i$jscomp$10 < keys$jscomp$0.length;i$jscomp$10++) {
          var index$jscomp$0 = keys$jscomp$0[i$jscomp$10], suggestionIds = sparseArray.get(index$jscomp$0), suggestionIdIndex = suggestionIds.indexOf(suggestionId$jscomp$4);
          -1 != suggestionIdIndex && suggestionIds.splice(suggestionIdIndex, 1);
          suggestionIds.length || JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(sparseArray, index$jscomp$0);
        }
        for (var sparseArray$jscomp$0 = JSCompiler_StaticMethods_docs_text_model_SuggestionAwareStyleManager_prototype$rejectSuggestedStyle$self.tetheredMap_[type$jscomp$2], keyIndex = docs$structs$SparseArray$getClosestItemKeyIndex(sparseArray$jscomp$0.docs_structs_SparseArray$keys_, startIndex$jscomp$5, !0), keys$jscomp$1 = sparseArray$jscomp$0.getKeys(), i$jscomp$11 = keyIndex;i$jscomp$11 < keys$jscomp$1.length;i$jscomp$11++) {
          var tetherIndex$jscomp$2 = keys$jscomp$1[i$jscomp$11];
          if (tetherIndex$jscomp$2 > endIndex$jscomp$5) {
            break;
          }
          var state$jscomp$4 = sparseArray$jscomp$0.get(tetherIndex$jscomp$2);
          if (JSCompiler_StaticMethods_getSuggestedAnnotation(state$jscomp$4.annotationState_, suggestionId$jscomp$3)) {
            JSCompiler_StaticMethods_rejectAnnotation(state$jscomp$4, suggestionId$jscomp$3);
            var annotationState = state$jscomp$4.annotationState_;
            annotationState.annotation_ || 0 != JSCompiler_StaticMethods_getSuggestedAnnotationIds(annotationState).length || JSCompiler_StaticMethods_docs_structs_SparseArray_prototype$remove(sparseArray$jscomp$0, tetherIndex$jscomp$2);
            hadEffect = !0;
          }
        }
      }
      if (hadEffect) {
        for (var affectedStyleTypes = {}, i$jscomp$12 = 0;i$jscomp$12 < result.length;i$jscomp$12++) {
          for (var type$jscomp$3 in result[i$jscomp$12]) {
            affectedStyleTypes[type$jscomp$3] = !0;
          }
        }
        var JSCompiler_StaticMethods_updateForRejectStyle$self = model$jscomp$0.tableState_, startIndex$jscomp$7 = mutation.docs_text_mutations_RejectApplyStyleMutation$startIndex_, endIndex$jscomp$7 = mutation.docs_text_mutations_RejectApplyStyleMutation$endIndex_, rawStyleProvider$jscomp$3 = model$jscomp$0.suggestionAwareStyleManager_;
        if (affectedStyleTypes.cell) {
          for (var i$jscomp$13 = 0;i$jscomp$13 < JSCompiler_StaticMethods_updateForRejectStyle$self.tables_.length;i$jscomp$13++) {
            var JSCompiler_StaticMethods_updateForStyleMutation$self = JSCompiler_StaticMethods_updateForRejectStyle$self.tables_[i$jscomp$13], startIndex$jscomp$8 = startIndex$jscomp$7, endIndex$jscomp$8 = endIndex$jscomp$7, rawStyleProvider$jscomp$4 = rawStyleProvider$jscomp$3;
            goog$asserts$assert(endIndex$jscomp$8 >= startIndex$jscomp$8);
            JSCompiler_StaticMethods_updateForStyleMutation$self.docs_text_model_MutableSpacersTable$startIndex_ > endIndex$jscomp$8 || JSCompiler_StaticMethods_updateForStyleMutation$self.docs_text_model_MutableSpacersTable$endIndex_ < startIndex$jscomp$8 || docs$text$model$CellSpanUtil$updateTableForRawStyleChange(JSCompiler_StaticMethods_updateForStyleMutation$self, rawStyleProvider$jscomp$4);
          }
        }
        if (null != model$jscomp$0.lazyConcreteStyleManager_.concreteStyleManager_) {
          for (var startIndex$jscomp$9 = mutation.docs_text_mutations_RejectApplyStyleMutation$startIndex_, endIndex$jscomp$9 = mutation.docs_text_mutations_RejectApplyStyleMutation$endIndex_, lastSpacerIndex$jscomp$1 = JSCompiler_StaticMethods_docs_text_protocol_Spacers_prototype$getLength(model$jscomp$0.docs_text_model_ModelImpl$spacers_) - 1, concreteEntityProvider$jscomp$1 = model$jscomp$0.entityManager_, tableState$jscomp$2 = model$jscomp$0.tableState_, rawStyleProvider$jscomp$5 = model$jscomp$0.suggestionAwareStyleManager_, 
          JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$rejectSuggestedStyle$self = goog$asserts$assert(model$jscomp$0.lazyConcreteStyleManager_.concreteStyleManager_), types = rawStyleProvider$jscomp$5.getRegisteredStyleTypes(), i$jscomp$14 = 0;i$jscomp$14 < types.length;i$jscomp$14++) {
            JSCompiler_StaticMethods_recomputeConcreteStyles_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$rejectSuggestedStyle$self, types[i$jscomp$14], startIndex$jscomp$9, endIndex$jscomp$9, lastSpacerIndex$jscomp$1, concreteEntityProvider$jscomp$1, tableState$jscomp$2, rawStyleProvider$jscomp$5);
          }
          for (i$jscomp$14 = 0;i$jscomp$14 < result.length;i$jscomp$14++) {
            JSCompiler_StaticMethods_recomputeAffectedStyles_(JSCompiler_StaticMethods_docs_text_model_ConcreteStyleManager_prototype$rejectSuggestedStyle$self, result[i$jscomp$14], lastSpacerIndex$jscomp$1, concreteEntityProvider$jscomp$1, tableState$jscomp$2, rawStyleProvider$jscomp$5);
          }
        }
        mutationWasNoOp = !1;
      } else {
        mutationWasNoOp = !0;
      }
      break;
    case "docs-mlti":
    case "docs-null":
    case "docs-replace":
    case "docs-revert":
      throw Error("Mutations of type " + mutation.getType() + " should not be applied directly to the model.");
    default:
      throw Error("Unknown mutation type: " + mutation.getType());
  }
  return mutationWasNoOp;
};
// Input 686
function docs$text$mutations$appliers$AbstractMarkSpacersMutationApplier() {
}
goog$inherits(docs$text$mutations$appliers$AbstractMarkSpacersMutationApplier, docs$text$mutations$appliers$MutationApplier);
// Input 687
// Input 688
function docs$text$mutations$appliers$AbstractStylePropertiesMutationApplier() {
}
goog$inherits(docs$text$mutations$appliers$AbstractStylePropertiesMutationApplier, docs$text$mutations$appliers$MutationApplier);
// Input 689
// Input 690
function docs$text$mutations$appliers$DeleteEntityMutationApplier() {
}
goog$inherits(docs$text$mutations$appliers$DeleteEntityMutationApplier, docs$text$mutations$appliers$MutationApplier);
// Input 691
// Input 692
function docs$text$mutations$appliers$DeleteSpacersMutationApplier() {
}
goog$inherits(docs$text$mutations$appliers$DeleteSpacersMutationApplier, docs$text$mutations$appliers$MutationApplier);
// Input 693
// Input 694
function docs$text$mutations$appliers$InsertSpacersMutationApplier() {
}
goog$inherits(docs$text$mutations$appliers$InsertSpacersMutationApplier, docs$text$mutations$appliers$MutationApplier);
// Input 695
// Input 696
function docs$text$mutations$appliers$RejectApplyStyleMutationApplier() {
}
goog$inherits(docs$text$mutations$appliers$RejectApplyStyleMutationApplier, docs$text$mutations$appliers$MutationApplier);
// Input 697
// Input 698
function docs$text$mutations$appliers$TetherEntityMutationApplier() {
}
goog$inherits(docs$text$mutations$appliers$TetherEntityMutationApplier, docs$text$mutations$appliers$MutationApplier);
// Input 699
function docs$text$mutations$appliers$ApplierRegistryUtil$registerAppliers(registry) {
  JSCompiler_StaticMethods_registerApplier(registry, "kix-is", new docs$text$mutations$appliers$InsertSpacersMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-iss", new docs$text$mutations$appliers$InsertSpacersMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-msfi", new docs$text$mutations$appliers$AbstractMarkSpacersMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-ds", new docs$text$mutations$appliers$DeleteSpacersMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-dss", new docs$text$mutations$appliers$DeleteSpacersMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-msfd", new docs$text$mutations$appliers$AbstractMarkSpacersMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-usfd", new docs$text$mutations$appliers$AbstractMarkSpacersMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-ae", new docs$text$mutations$appliers$MutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-ase", new docs$text$mutations$appliers$MutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-ue", new docs$text$mutations$appliers$MutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-use", new docs$text$mutations$appliers$MutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-sue", new docs$text$mutations$appliers$MutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-rue", new docs$text$mutations$appliers$MutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-de", new docs$text$mutations$appliers$DeleteEntityMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-dse", new docs$text$mutations$appliers$DeleteEntityMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-mefd", new docs$text$mutations$appliers$MutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-uefd", new docs$text$mutations$appliers$MutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-te", new docs$text$mutations$appliers$TetherEntityMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-tse", new docs$text$mutations$appliers$TetherEntityMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-ste", new docs$text$mutations$appliers$TetherEntityMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-rte", new docs$text$mutations$appliers$TetherEntityMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-as", new docs$text$mutations$appliers$AbstractStylePropertiesMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-sas", new docs$text$mutations$appliers$AbstractStylePropertiesMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-astss", new docs$text$mutations$appliers$AbstractStylePropertiesMutationApplier);
  JSCompiler_StaticMethods_registerApplier(registry, "kix-ras", new docs$text$mutations$appliers$RejectApplyStyleMutationApplier);
  var applierSet = {"docs-mlti":new docs$commands$MultiCommandApplier(registry), "docs-null":new docs$commands$NullCommandApplier, "docs-replace":new docs$commands$SnapshotCommandApplier(registry), "docs-reverse":new docs$commands$ReverseCommandApplier(registry), "docs-revert":new docs$commands$SnapshotCommandApplier(registry), "docs-undo":new docs$commands$ErrorCommandApplier, "docs-updatemodelversion":new docs$commands$UpdateFeatureVersionCommandApplier}, type;
  for (type in applierSet) {
    JSCompiler_StaticMethods_registerApplier(registry, type, applierSet[type]);
  }
}
;
// Input 700
function docs$commands$MultiCommandCompactor() {
}
;
// Input 701
function docs$commands$NoOpCommandCompactor() {
}
;
// Input 702
function docs$commands$NullCommandCompactor() {
}
;
// Input 703
// Input 704
function docs$text$mutations$compactors$InsertSpacersMutationCompactor() {
}
;
// Input 705
function docs$text$mutations$compactors$CompactorRegistryUtil$registerCompactors(registry) {
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-is", new docs$text$mutations$compactors$InsertSpacersMutationCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-iss", new docs$text$mutations$compactors$InsertSpacersMutationCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-msfi", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-ds", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-dss", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-msfd", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-usfd", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-ae", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-ase", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-de", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-dse", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-mefd", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-uefd", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-ue", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-use", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-sue", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-rue", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-te", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-tse", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-ste", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-rte", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-as", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-astss", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-ras", new docs$commands$NoOpCommandCompactor);
  JSCompiler_StaticMethods_registerCompactor(registry, "kix-sas", new docs$commands$NoOpCommandCompactor);
  var compactorSet = {"docs-mlti":new docs$commands$MultiCommandCompactor, "docs-null":new docs$commands$NullCommandCompactor, "docs-replace":new docs$commands$NoOpCommandCompactor, "docs-reverse":new docs$commands$NoOpCommandCompactor, "docs-revert":new docs$commands$NoOpCommandCompactor, "docs-undo":new docs$commands$NoOpCommandCompactor, "docs-updatemodelversion":new docs$commands$NoOpCommandCompactor}, type;
  for (type in compactorSet) {
    JSCompiler_StaticMethods_registerCompactor(registry, type, compactorSet[type]);
  }
}
;
// Input 706
function docs$commands$ErrorCommandInverter() {
}
;
// Input 707
function docs$commands$NoOpCommandInverter() {
}
;
// Input 708
// Input 709
function docs$text$mutations$inverters$TetherEntityMutationInverter() {
}
;
// Input 710
function docs$text$mutations$inverters$AbstractDeleteEntityMutationInverter() {
}
;
// Input 711
function docs$text$mutations$inverters$AddEntityMutationInverter() {
}
;
// Input 712
function docs$text$mutations$inverters$AddSuggestedEntityMutationInverter() {
}
;
// Input 713
// Input 714
function docs$text$mutations$inverters$AbstractApplyStyleMutationInverter() {
}
;
// Input 715
function docs$text$mutations$inverters$ApplyStyleMutationInverter() {
}
goog$inherits(docs$text$mutations$inverters$ApplyStyleMutationInverter, docs$text$mutations$inverters$AbstractApplyStyleMutationInverter);
// Input 716
function docs$text$mutations$inverters$ApplyStyleToSuggestedSpacersMutationInverter() {
}
goog$inherits(docs$text$mutations$inverters$ApplyStyleToSuggestedSpacersMutationInverter, docs$text$mutations$inverters$AbstractApplyStyleMutationInverter);
// Input 717
// Input 718
// Input 719
function docs$text$mutations$inverters$DeleteSpacersMutationInverter() {
}
;
// Input 720
function docs$text$mutations$inverters$DeleteSuggestedSpacersMutationInverter() {
}
;
// Input 721
function docs$text$mutations$inverters$InsertSpacersMutationInverter() {
}
;
// Input 722
function docs$text$mutations$inverters$InsertSuggestedSpacersMutationInverter() {
}
;
// Input 723
function docs$text$mutations$inverters$MarkEntityForDeletionMutationInverter() {
}
;
// Input 724
function docs$text$mutations$inverters$MarkSpacersForDeletionMutationInverter() {
}
;
// Input 725
function docs$text$mutations$inverters$MarkSpacersForInsertionMutationInverter() {
}
;
// Input 726
function docs$text$mutations$inverters$RejectApplyStyleMutationInverter() {
}
;
// Input 727
function docs$text$mutations$inverters$RejectTetherEntityMutationInverter() {
}
;
// Input 728
function docs$text$mutations$inverters$RejectUpdateEntityMutationInverter() {
}
;
// Input 729
function docs$text$mutations$inverters$SuggestApplyStyleMutationInverter() {
}
;
// Input 730
function docs$text$mutations$inverters$SuggestTetherEntityMutationInverter() {
}
;
// Input 731
function docs$text$mutations$inverters$SuggestUpdateEntityMutationInverter() {
}
;
// Input 732
function docs$text$mutations$inverters$UnmarkEntityForDeletionMutationInverter() {
}
;
// Input 733
function docs$text$mutations$inverters$UnmarkSpacersForDeletionMutationInverter() {
}
;
// Input 734
function docs$text$mutations$inverters$AbstractUpdateEntityMutationInverter() {
}
;
// Input 735
function docs$text$mutations$inverters$UpdateEntityMutationInverter() {
}
goog$inherits(docs$text$mutations$inverters$UpdateEntityMutationInverter, docs$text$mutations$inverters$AbstractUpdateEntityMutationInverter);
// Input 736
function docs$text$mutations$inverters$UpdateSuggestedEntityMutationInverter() {
}
goog$inherits(docs$text$mutations$inverters$UpdateSuggestedEntityMutationInverter, docs$text$mutations$inverters$AbstractUpdateEntityMutationInverter);
// Input 737
function docs$text$mutations$inverters$InverterRegistryUtil$registerInverters(registry) {
  JSCompiler_StaticMethods_registerInverter(registry, "kix-is", new docs$text$mutations$inverters$InsertSpacersMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-iss", new docs$text$mutations$inverters$InsertSuggestedSpacersMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-msfi", new docs$text$mutations$inverters$MarkSpacersForInsertionMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-ds", new docs$text$mutations$inverters$DeleteSpacersMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-dss", new docs$text$mutations$inverters$DeleteSuggestedSpacersMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-msfd", new docs$text$mutations$inverters$MarkSpacersForDeletionMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-usfd", new docs$text$mutations$inverters$UnmarkSpacersForDeletionMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-ae", new docs$text$mutations$inverters$AddEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-ase", new docs$text$mutations$inverters$AddSuggestedEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-ue", new docs$text$mutations$inverters$UpdateEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-use", new docs$text$mutations$inverters$UpdateSuggestedEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-sue", new docs$text$mutations$inverters$SuggestUpdateEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-rue", new docs$text$mutations$inverters$RejectUpdateEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-de", new docs$text$mutations$inverters$AbstractDeleteEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-dse", new docs$text$mutations$inverters$AbstractDeleteEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-mefd", new docs$text$mutations$inverters$MarkEntityForDeletionMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-uefd", new docs$text$mutations$inverters$UnmarkEntityForDeletionMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-te", new docs$text$mutations$inverters$TetherEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-tse", new docs$text$mutations$inverters$TetherEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-ste", new docs$text$mutations$inverters$SuggestTetherEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-rte", new docs$text$mutations$inverters$RejectTetherEntityMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-as", new docs$text$mutations$inverters$ApplyStyleMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-sas", new docs$text$mutations$inverters$SuggestApplyStyleMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-astss", new docs$text$mutations$inverters$ApplyStyleToSuggestedSpacersMutationInverter);
  JSCompiler_StaticMethods_registerInverter(registry, "kix-ras", new docs$text$mutations$inverters$RejectApplyStyleMutationInverter);
  var inverterSet = {"docs-mlti":new docs$commands$ErrorCommandInverter, "docs-null":new docs$commands$NoOpCommandInverter, "docs-replace":new docs$commands$ErrorCommandInverter, "docs-reverse":new docs$commands$ErrorCommandInverter, "docs-revert":new docs$commands$ErrorCommandInverter, "docs-undo":new docs$commands$ErrorCommandInverter, "docs-updatemodelversion":new docs$commands$ErrorCommandInverter}, type;
  for (type in inverterSet) {
    JSCompiler_StaticMethods_registerInverter(registry, type, inverterSet[type]);
  }
}
;
// Input 738
// Input 739
// Input 740
// Input 741
// Input 742
// Input 743
// Input 744
// Input 745
// Input 746
// Input 747
// Input 748
// Input 749
// Input 750
// Input 751
// Input 752
// Input 753
// Input 754
// Input 755
// Input 756
// Input 757
// Input 758
// Input 759
// Input 760
// Input 761
// Input 762
// Input 763
// Input 764
// Input 765
// Input 766
// Input 767
// Input 768
// Input 769
// Input 770
// Input 771
// Input 772
// Input 773
// Input 774
// Input 775
// Input 776
// Input 777
// Input 778
// Input 779
// Input 780
// Input 781
// Input 782
// Input 783
// Input 784
// Input 785
// Input 786
// Input 787
// Input 788
// Input 789
// Input 790
// Input 791
// Input 792
// Input 793
// Input 794
// Input 795
// Input 796
// Input 797
// Input 798
// Input 799
// Input 800
// Input 801
// Input 802
// Input 803
// Input 804
// Input 805
// Input 806
// Input 807
// Input 808
// Input 809
// Input 810
// Input 811
// Input 812
// Input 813
// Input 814
// Input 815
// Input 816
// Input 817
// Input 818
// Input 819
// Input 820
// Input 821
// Input 822
// Input 823
// Input 824
// Input 825
// Input 826
// Input 827
// Input 828
// Input 829
// Input 830
// Input 831
// Input 832
// Input 833
// Input 834
// Input 835
// Input 836
// Input 837
// Input 838
// Input 839
// Input 840
// Input 841
// Input 842
// Input 843
// Input 844
// Input 845
// Input 846
// Input 847
// Input 848
// Input 849
// Input 850
// Input 851
// Input 852
// Input 853
// Input 854
// Input 855
// Input 856
// Input 857
// Input 858
// Input 859
// Input 860
function goog$debug$Console() {
  this.publishHandler_ = goog$bind(this.addLogRecord, this);
  this.formatter_ = new goog$debug$TextFormatter;
  this.formatter_.showAbsoluteTime = !1;
  this.formatter_.showExceptionText = !1;
  this.isCapturing_ = this.formatter_.appendNewline = !1;
  this.filteredLoggers_ = {};
}
function JSCompiler_StaticMethods_setCapturing() {
  var JSCompiler_StaticMethods_setCapturing$self = new goog$debug$Console;
  if (1 != JSCompiler_StaticMethods_setCapturing$self.isCapturing_) {
    var rootLogger;
    goog$debug$LogManager$initialize();
    rootLogger = goog$debug$LogManager$rootLogger_;
    var handler = JSCompiler_StaticMethods_setCapturing$self.publishHandler_;
    rootLogger.handlers_ || (rootLogger.handlers_ = []);
    rootLogger.handlers_.push(handler);
    JSCompiler_StaticMethods_setCapturing$self.isCapturing_ = !0;
  }
}
goog$debug$Console.prototype.addLogRecord = function $goog$debug$Console$$addLogRecord$(logRecord) {
  if (!this.filteredLoggers_[logRecord.loggerName_]) {
    var record, JSCompiler_StaticMethods_formatRecord$self = this.formatter_, sb = [];
    sb.push(JSCompiler_StaticMethods_formatRecord$self.prefix_, " ");
    if (JSCompiler_StaticMethods_formatRecord$self.showAbsoluteTime) {
      var time = new Date(logRecord.time_);
      sb.push("[", goog$debug$Formatter$getTwoDigitString_(time.getFullYear() - 2000) + goog$debug$Formatter$getTwoDigitString_(time.getMonth() + 1) + goog$debug$Formatter$getTwoDigitString_(time.getDate()) + " " + goog$debug$Formatter$getTwoDigitString_(time.getHours()) + ":" + goog$debug$Formatter$getTwoDigitString_(time.getMinutes()) + ":" + goog$debug$Formatter$getTwoDigitString_(time.getSeconds()) + "." + goog$debug$Formatter$getTwoDigitString_(Math.floor(time.getMilliseconds() / 10)), "] ");
    }
    sb.push("[", goog$debug$Formatter$getRelativeTime_(logRecord, JSCompiler_StaticMethods_formatRecord$self.startTimeProvider_.get()), "s] ");
    sb.push("[", logRecord.loggerName_, "] ");
    sb.push(logRecord.msg_);
    if (JSCompiler_StaticMethods_formatRecord$self.showExceptionText) {
      var exception = logRecord.exception_;
      exception && sb.push("\n", exception instanceof Error ? exception.message : exception.toString());
    }
    JSCompiler_StaticMethods_formatRecord$self.appendNewline && sb.push("\n");
    record = sb.join("");
    var console = goog$debug$Console$console_;
    if (console) {
      switch(logRecord.goog_debug_LogRecord_prototype$level_) {
        case goog$debug$Logger$Level$SHOUT:
          goog$debug$Console$logToConsole_(console, "info", record);
          break;
        case goog$debug$Logger$Level$SEVERE:
          goog$debug$Console$logToConsole_(console, "error", record);
          break;
        case goog$debug$Logger$Level$WARNING:
          goog$debug$Console$logToConsole_(console, "warn", record);
          break;
        default:
          goog$debug$Console$logToConsole_(console, "debug", record);
      }
    }
  }
};
var goog$debug$Console$console_ = goog$global.console;
function goog$debug$Console$logToConsole_(console, fnName, record) {
  if (console[fnName]) {
    console[fnName](record);
  } else {
    console.log(record);
  }
}
;
// Input 861
(function() {
  JSCompiler_StaticMethods_setCapturing();
  var workerScope = self, errorReporter = new docs$debug$ErrorReporter(0, "kixSnapshot", void 0, !1, !0, 0, !0);
  JSCompiler_StaticMethods_addStaticContextEntry(errorReporter);
  JSCompiler_StaticMethods_protectFunction(errorReporter, function() {
    var transport = new docs$offline$messaging$WorkerScopeTransport(workerScope, 30000), taskExecutorSender = new docs$offline$tasks$TaskExecutorSender(transport), taskApplication = new docs$offline$tasks$WorkerTaskApplication(errorReporter, 0, taskExecutorSender), eventBusClientProvider = new docs$offline$tasks$EventBusClientProvider(taskExecutorSender), defaultStylesProvider = kix$model$DefaultStylesProviderFactory$create(), commandRegistry = new docs$commands$CommandRegistry(new kix$mutations$SerializedTypeExtractor);
    docs$text$mutations$appliers$ApplierRegistryUtil$registerAppliers(commandRegistry);
    docs$text$mutations$inverters$InverterRegistryUtil$registerInverters(commandRegistry);
    kix$mutations$RegistryUtil$registerSerializers(commandRegistry, errorReporter);
    docs$text$mutations$compactors$CompactorRegistryUtil$registerCompactors(commandRegistry);
    JSCompiler_StaticMethods_getEventBusClient(eventBusClientProvider).then(function(eventBusClient) {
      taskApplication.start(new docs$offline$tasks$EditorTaskHandler(errorReporter, eventBusClient, commandRegistry, new kix$model$TextDocumentModelFactory(errorReporter, defaultStylesProvider), "kix", new docs$text$model$Snapshotter));
    });
  }, {}, !0)();
})();
// Input 862
}).call(this);
